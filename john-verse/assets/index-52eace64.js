var jZ=Object.defineProperty;var qZ=(n,e,t)=>e in n?jZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var te=(n,e,t)=>(qZ(n,typeof e!="symbol"?e+"":e,t),t);function YZ(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function OR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function XZ(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var xy={},KZ={get exports(){return xy},set exports(n){xy=n}},O2={},T={},ZZ={get exports(){return T},set exports(n){T=n}},vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=Symbol.for("react.element"),JZ=Symbol.for("react.portal"),QZ=Symbol.for("react.fragment"),eJ=Symbol.for("react.strict_mode"),tJ=Symbol.for("react.profiler"),nJ=Symbol.for("react.provider"),rJ=Symbol.for("react.context"),iJ=Symbol.for("react.forward_ref"),sJ=Symbol.for("react.suspense"),oJ=Symbol.for("react.memo"),aJ=Symbol.for("react.lazy"),WO=Symbol.iterator;function lJ(n){return n===null||typeof n!="object"?null:(n=WO&&n[WO]||n["@@iterator"],typeof n=="function"?n:null)}var vU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yU=Object.assign,xU={};function V0(n,e,t){this.props=n,this.context=e,this.refs=xU,this.updater=t||vU}V0.prototype.isReactComponent={};V0.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};V0.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function _U(){}_U.prototype=V0.prototype;function NR(n,e,t){this.props=n,this.context=e,this.refs=xU,this.updater=t||vU}var DR=NR.prototype=new _U;DR.constructor=NR;yU(DR,V0.prototype);DR.isPureReactComponent=!0;var jO=Array.isArray,bU=Object.prototype.hasOwnProperty,BR={current:null},wU={key:!0,ref:!0,__self:!0,__source:!0};function SU(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)bU.call(e,r)&&!wU.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:I1,type:n,key:s,ref:o,props:i,_owner:BR.current}}function cJ(n,e){return{$$typeof:I1,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function FR(n){return typeof n=="object"&&n!==null&&n.$$typeof===I1}function uJ(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var qO=/\/+/g;function vM(n,e){return typeof n=="object"&&n!==null&&n.key!=null?uJ(""+n.key):e.toString(36)}function sw(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case I1:case JZ:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+vM(o,0):r,jO(i)?(t="",n!=null&&(t=n.replace(qO,"$&/")+"/"),sw(i,e,t,"",function(c){return c})):i!=null&&(FR(i)&&(i=cJ(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(qO,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",jO(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+vM(s,a);o+=sw(s,e,t,l,i)}else if(l=lJ(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+vM(s,a++),o+=sw(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function g_(n,e,t){if(n==null)return n;var r=[],i=0;return sw(n,r,"","",function(s){return e.call(t,s,i++)}),r}function dJ(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var eo={current:null},ow={transition:null},fJ={ReactCurrentDispatcher:eo,ReactCurrentBatchConfig:ow,ReactCurrentOwner:BR};vn.Children={map:g_,forEach:function(n,e,t){g_(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return g_(n,function(){e++}),e},toArray:function(n){return g_(n,function(e){return e})||[]},only:function(n){if(!FR(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};vn.Component=V0;vn.Fragment=QZ;vn.Profiler=tJ;vn.PureComponent=NR;vn.StrictMode=eJ;vn.Suspense=sJ;vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fJ;vn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=yU({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=BR.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)bU.call(e,l)&&!wU.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:I1,type:n.type,key:i,ref:s,props:r,_owner:o}};vn.createContext=function(n){return n={$$typeof:rJ,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:nJ,_context:n},n.Consumer=n};vn.createElement=SU;vn.createFactory=function(n){var e=SU.bind(null,n);return e.type=n,e};vn.createRef=function(){return{current:null}};vn.forwardRef=function(n){return{$$typeof:iJ,render:n}};vn.isValidElement=FR;vn.lazy=function(n){return{$$typeof:aJ,_payload:{_status:-1,_result:n},_init:dJ}};vn.memo=function(n,e){return{$$typeof:oJ,type:n,compare:e===void 0?null:e}};vn.startTransition=function(n){var e=ow.transition;ow.transition={};try{n()}finally{ow.transition=e}};vn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};vn.useCallback=function(n,e){return eo.current.useCallback(n,e)};vn.useContext=function(n){return eo.current.useContext(n)};vn.useDebugValue=function(){};vn.useDeferredValue=function(n){return eo.current.useDeferredValue(n)};vn.useEffect=function(n,e){return eo.current.useEffect(n,e)};vn.useId=function(){return eo.current.useId()};vn.useImperativeHandle=function(n,e,t){return eo.current.useImperativeHandle(n,e,t)};vn.useInsertionEffect=function(n,e){return eo.current.useInsertionEffect(n,e)};vn.useLayoutEffect=function(n,e){return eo.current.useLayoutEffect(n,e)};vn.useMemo=function(n,e){return eo.current.useMemo(n,e)};vn.useReducer=function(n,e,t){return eo.current.useReducer(n,e,t)};vn.useRef=function(n){return eo.current.useRef(n)};vn.useState=function(n){return eo.current.useState(n)};vn.useSyncExternalStore=function(n,e,t){return eo.current.useSyncExternalStore(n,e,t)};vn.useTransition=function(){return eo.current.useTransition()};vn.version="18.2.0";(function(n){n.exports=vn})(ZZ);const H=OR(T),JT=YZ({__proto__:null,default:H},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hJ=T,pJ=Symbol.for("react.element"),mJ=Symbol.for("react.fragment"),gJ=Object.prototype.hasOwnProperty,vJ=hJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yJ={key:!0,ref:!0,__self:!0,__source:!0};function AU(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)gJ.call(e,r)&&!yJ.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:pJ,type:n,key:s,ref:o,props:i,_owner:vJ.current}}O2.Fragment=mJ;O2.jsx=AU;O2.jsxs=AU;(function(n){n.exports=O2})(KZ);const sh=xy.Fragment,B=xy.jsx,ue=xy.jsxs;var QT={},a0={},xJ={get exports(){return a0},set exports(n){a0=n}},sa={},e3={},_J={get exports(){return e3},set exports(n){e3=n}},EU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,G){var j=N.length;N.push(G);e:for(;0<j;){var W=j-1>>>1,R=N[W];if(0<i(R,G))N[W]=G,N[j]=R,j=W;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var G=N[0],j=N.pop();if(j!==G){N[0]=j;e:for(var W=0,R=N.length,Y=R>>>1;W<Y;){var Ae=2*(W+1)-1,z=N[Ae],Q=Ae+1,ve=N[Q];if(0>i(z,j))Q<R&&0>i(ve,z)?(N[W]=ve,N[Q]=j,W=Q):(N[W]=z,N[Ae]=j,W=Ae);else if(Q<R&&0>i(ve,j))N[W]=ve,N[Q]=j,W=Q;else break e}}return G}function i(N,G){var j=N.sortIndex-G.sortIndex;return j!==0?j:N.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,f=3,h=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var G=t(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=N)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(c)}}function A(N){if(v=!1,b(N),!g)if(t(l)!==null)g=!0,D(E);else{var G=t(c);G!==null&&$(A,G.startTime-N)}}function E(N,G){g=!1,v&&(v=!1,y(C),C=-1),h=!0;var j=f;try{for(b(G),u=t(l);u!==null&&(!(u.expirationTime>G)||N&&!K());){var W=u.callback;if(typeof W=="function"){u.callback=null,f=u.priorityLevel;var R=W(u.expirationTime<=G);G=n.unstable_now(),typeof R=="function"?u.callback=R:u===t(l)&&r(l),b(G)}else r(l);u=t(l)}if(u!==null)var Y=!0;else{var Ae=t(c);Ae!==null&&$(A,Ae.startTime-G),Y=!1}return Y}finally{u=null,f=j,h=!1}}var k=!1,P=null,C=-1,O=5,U=-1;function K(){return!(n.unstable_now()-U<O)}function J(){if(P!==null){var N=n.unstable_now();U=N;var G=!0;try{G=P(!0,N)}finally{G?F():(k=!1,P=null)}}else k=!1}var F;if(typeof _=="function")F=function(){_(J)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,I=S.port2;S.port1.onmessage=J,F=function(){I.postMessage(null)}}else F=function(){x(J,0)};function D(N){P=N,k||(k=!0,F())}function $(N,G){C=x(function(){N(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){g||h||(g=!0,D(E))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var j=f;f=G;try{return N()}finally{f=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,G){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=f;f=N;try{return G()}finally{f=j}},n.unstable_scheduleCallback=function(N,G,j){var W=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?W+j:W):j=W,N){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=j+R,N={id:d++,callback:G,priorityLevel:N,startTime:j,expirationTime:R,sortIndex:-1},j>W?(N.sortIndex=j,e(c,N),t(l)===null&&N===t(c)&&(v?(y(C),C=-1):v=!0,$(A,j-W))):(N.sortIndex=R,e(l,N),g||h||(g=!0,D(E))),N},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(N){var G=f;return function(){var j=f;f=G;try{return N.apply(this,arguments)}finally{f=j}}}})(EU);(function(n){n.exports=EU})(_J);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MU=T,ta=e3;function Ke(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CU=new Set,_y={};function Kh(n,e){l0(n,e),l0(n+"Capture",e)}function l0(n,e){for(_y[n]=e,n=0;n<e.length;n++)CU.add(e[n])}var vu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t3=Object.prototype.hasOwnProperty,bJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,YO={},XO={};function wJ(n){return t3.call(XO,n)?!0:t3.call(YO,n)?!1:bJ.test(n)?XO[n]=!0:(YO[n]=!0,!1)}function SJ(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function AJ(n,e,t,r){if(e===null||typeof e>"u"||SJ(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function to(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var os={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){os[n]=new to(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];os[e]=new to(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){os[n]=new to(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){os[n]=new to(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){os[n]=new to(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){os[n]=new to(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){os[n]=new to(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){os[n]=new to(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){os[n]=new to(n,5,!1,n.toLowerCase(),null,!1,!1)});var zR=/[\-:]([a-z])/g;function VR(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(zR,VR);os[e]=new to(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(zR,VR);os[e]=new to(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(zR,VR);os[e]=new to(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){os[n]=new to(n,1,!1,n.toLowerCase(),null,!1,!1)});os.xlinkHref=new to("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){os[n]=new to(n,1,!1,n.toLowerCase(),null,!0,!0)});function UR(n,e,t,r){var i=os.hasOwnProperty(e)?os[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AJ(e,t,i,r)&&(t=null),r||i===null?wJ(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Pu=MU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,v_=Symbol.for("react.element"),cm=Symbol.for("react.portal"),um=Symbol.for("react.fragment"),HR=Symbol.for("react.strict_mode"),n3=Symbol.for("react.profiler"),TU=Symbol.for("react.provider"),kU=Symbol.for("react.context"),GR=Symbol.for("react.forward_ref"),r3=Symbol.for("react.suspense"),i3=Symbol.for("react.suspense_list"),$R=Symbol.for("react.memo"),md=Symbol.for("react.lazy"),RU=Symbol.for("react.offscreen"),KO=Symbol.iterator;function zg(n){return n===null||typeof n!="object"?null:(n=KO&&n[KO]||n["@@iterator"],typeof n=="function"?n:null)}var Hr=Object.assign,yM;function Ev(n){if(yM===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);yM=e&&e[1]||""}return`
`+yM+n}var xM=!1;function _M(n,e){if(!n||xM)return"";xM=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{xM=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ev(n):""}function EJ(n){switch(n.tag){case 5:return Ev(n.type);case 16:return Ev("Lazy");case 13:return Ev("Suspense");case 19:return Ev("SuspenseList");case 0:case 2:case 15:return n=_M(n.type,!1),n;case 11:return n=_M(n.type.render,!1),n;case 1:return n=_M(n.type,!0),n;default:return""}}function s3(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case um:return"Fragment";case cm:return"Portal";case n3:return"Profiler";case HR:return"StrictMode";case r3:return"Suspense";case i3:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case kU:return(n.displayName||"Context")+".Consumer";case TU:return(n._context.displayName||"Context")+".Provider";case GR:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $R:return e=n.displayName||null,e!==null?e:s3(n.type)||"Memo";case md:e=n._payload,n=n._init;try{return s3(n(e))}catch{}}return null}function MJ(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s3(e);case 8:return e===HR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qd(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function PU(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CJ(n){var e=PU(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function y_(n){n._valueTracker||(n._valueTracker=CJ(n))}function IU(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=PU(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function tS(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function o3(n,e){var t=e.checked;return Hr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ZO(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=qd(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LU(n,e){e=e.checked,e!=null&&UR(n,"checked",e,!1)}function a3(n,e){LU(n,e);var t=qd(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?l3(n,e.type,t):e.hasOwnProperty("defaultValue")&&l3(n,e.type,qd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function JO(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function l3(n,e,t){(e!=="number"||tS(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Mv=Array.isArray;function Nm(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+qd(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function c3(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return Hr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function QO(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ke(92));if(Mv(t)){if(1<t.length)throw Error(Ke(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:qd(t)}}function OU(n,e){var t=qd(e.value),r=qd(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function eN(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function NU(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function u3(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?NU(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var x_,DU=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(x_=x_||document.createElement("div"),x_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=x_.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function by(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Bv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TJ=["Webkit","ms","Moz","O"];Object.keys(Bv).forEach(function(n){TJ.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Bv[e]=Bv[n]})});function BU(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Bv.hasOwnProperty(n)&&Bv[n]?(""+e).trim():e+"px"}function FU(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=BU(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var kJ=Hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d3(n,e){if(e){if(kJ[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ke(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ke(62))}}function f3(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h3=null;function WR(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var p3=null,Dm=null,Bm=null;function tN(n){if(n=N1(n)){if(typeof p3!="function")throw Error(Ke(280));var e=n.stateNode;e&&(e=z2(e),p3(n.stateNode,n.type,e))}}function zU(n){Dm?Bm?Bm.push(n):Bm=[n]:Dm=n}function VU(){if(Dm){var n=Dm,e=Bm;if(Bm=Dm=null,tN(n),e)for(n=0;n<e.length;n++)tN(e[n])}}function UU(n,e){return n(e)}function HU(){}var bM=!1;function GU(n,e,t){if(bM)return n(e,t);bM=!0;try{return UU(n,e,t)}finally{bM=!1,(Dm!==null||Bm!==null)&&(HU(),VU())}}function wy(n,e){var t=n.stateNode;if(t===null)return null;var r=z2(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ke(231,e,typeof t));return t}var m3=!1;if(vu)try{var Vg={};Object.defineProperty(Vg,"passive",{get:function(){m3=!0}}),window.addEventListener("test",Vg,Vg),window.removeEventListener("test",Vg,Vg)}catch{m3=!1}function RJ(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var Fv=!1,nS=null,rS=!1,g3=null,PJ={onError:function(n){Fv=!0,nS=n}};function IJ(n,e,t,r,i,s,o,a,l){Fv=!1,nS=null,RJ.apply(PJ,arguments)}function LJ(n,e,t,r,i,s,o,a,l){if(IJ.apply(this,arguments),Fv){if(Fv){var c=nS;Fv=!1,nS=null}else throw Error(Ke(198));rS||(rS=!0,g3=c)}}function Zh(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function $U(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function nN(n){if(Zh(n)!==n)throw Error(Ke(188))}function OJ(n){var e=n.alternate;if(!e){if(e=Zh(n),e===null)throw Error(Ke(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return nN(i),n;if(s===r)return nN(i),e;s=s.sibling}throw Error(Ke(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ke(189))}}if(t.alternate!==r)throw Error(Ke(190))}if(t.tag!==3)throw Error(Ke(188));return t.stateNode.current===t?n:e}function WU(n){return n=OJ(n),n!==null?jU(n):null}function jU(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=jU(n);if(e!==null)return e;n=n.sibling}return null}var qU=ta.unstable_scheduleCallback,rN=ta.unstable_cancelCallback,NJ=ta.unstable_shouldYield,DJ=ta.unstable_requestPaint,ii=ta.unstable_now,BJ=ta.unstable_getCurrentPriorityLevel,jR=ta.unstable_ImmediatePriority,YU=ta.unstable_UserBlockingPriority,iS=ta.unstable_NormalPriority,FJ=ta.unstable_LowPriority,XU=ta.unstable_IdlePriority,N2=null,fc=null;function zJ(n){if(fc&&typeof fc.onCommitFiberRoot=="function")try{fc.onCommitFiberRoot(N2,n,void 0,(n.current.flags&128)===128)}catch{}}var Sl=Math.clz32?Math.clz32:HJ,VJ=Math.log,UJ=Math.LN2;function HJ(n){return n>>>=0,n===0?32:31-(VJ(n)/UJ|0)|0}var __=64,b_=4194304;function Cv(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function sS(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Cv(a):(s&=o,s!==0&&(r=Cv(s)))}else o=t&~i,o!==0?r=Cv(o):s!==0&&(r=Cv(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Sl(e),i=1<<t,r|=n[t],e&=~i;return r}function GJ(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $J(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Sl(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=GJ(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function v3(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function KU(){var n=__;return __<<=1,!(__&4194240)&&(__=64),n}function wM(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function L1(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Sl(e),n[e]=t}function WJ(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Sl(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function qR(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Sl(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Yn=0;function ZU(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var JU,YR,QU,e9,t9,y3=!1,w_=[],Od=null,Nd=null,Dd=null,Sy=new Map,Ay=new Map,xd=[],jJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iN(n,e){switch(n){case"focusin":case"focusout":Od=null;break;case"dragenter":case"dragleave":Nd=null;break;case"mouseover":case"mouseout":Dd=null;break;case"pointerover":case"pointerout":Sy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ay.delete(e.pointerId)}}function Ug(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=N1(e),e!==null&&YR(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function qJ(n,e,t,r,i){switch(e){case"focusin":return Od=Ug(Od,n,e,t,r,i),!0;case"dragenter":return Nd=Ug(Nd,n,e,t,r,i),!0;case"mouseover":return Dd=Ug(Dd,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Sy.set(s,Ug(Sy.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ay.set(s,Ug(Ay.get(s)||null,n,e,t,r,i)),!0}return!1}function n9(n){var e=uh(n.target);if(e!==null){var t=Zh(e);if(t!==null){if(e=t.tag,e===13){if(e=$U(t),e!==null){n.blockedOn=e,t9(n.priority,function(){QU(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function aw(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=x3(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);h3=r,t.target.dispatchEvent(r),h3=null}else return e=N1(t),e!==null&&YR(e),n.blockedOn=t,!1;e.shift()}return!0}function sN(n,e,t){aw(n)&&t.delete(e)}function YJ(){y3=!1,Od!==null&&aw(Od)&&(Od=null),Nd!==null&&aw(Nd)&&(Nd=null),Dd!==null&&aw(Dd)&&(Dd=null),Sy.forEach(sN),Ay.forEach(sN)}function Hg(n,e){n.blockedOn===e&&(n.blockedOn=null,y3||(y3=!0,ta.unstable_scheduleCallback(ta.unstable_NormalPriority,YJ)))}function Ey(n){function e(i){return Hg(i,n)}if(0<w_.length){Hg(w_[0],n);for(var t=1;t<w_.length;t++){var r=w_[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Od!==null&&Hg(Od,n),Nd!==null&&Hg(Nd,n),Dd!==null&&Hg(Dd,n),Sy.forEach(e),Ay.forEach(e),t=0;t<xd.length;t++)r=xd[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<xd.length&&(t=xd[0],t.blockedOn===null);)n9(t),t.blockedOn===null&&xd.shift()}var Fm=Pu.ReactCurrentBatchConfig,oS=!0;function XJ(n,e,t,r){var i=Yn,s=Fm.transition;Fm.transition=null;try{Yn=1,XR(n,e,t,r)}finally{Yn=i,Fm.transition=s}}function KJ(n,e,t,r){var i=Yn,s=Fm.transition;Fm.transition=null;try{Yn=4,XR(n,e,t,r)}finally{Yn=i,Fm.transition=s}}function XR(n,e,t,r){if(oS){var i=x3(n,e,t,r);if(i===null)IM(n,e,r,aS,t),iN(n,r);else if(qJ(i,n,e,t,r))r.stopPropagation();else if(iN(n,r),e&4&&-1<jJ.indexOf(n)){for(;i!==null;){var s=N1(i);if(s!==null&&JU(s),s=x3(n,e,t,r),s===null&&IM(n,e,r,aS,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else IM(n,e,r,null,t)}}var aS=null;function x3(n,e,t,r){if(aS=null,n=WR(r),n=uh(n),n!==null)if(e=Zh(n),e===null)n=null;else if(t=e.tag,t===13){if(n=$U(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return aS=n,null}function r9(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BJ()){case jR:return 1;case YU:return 4;case iS:case FJ:return 16;case XU:return 536870912;default:return 16}default:return 16}}var Sd=null,KR=null,lw=null;function i9(){if(lw)return lw;var n,e=KR,t=e.length,r,i="value"in Sd?Sd.value:Sd.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return lw=i.slice(n,1<r?1-r:void 0)}function cw(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function S_(){return!0}function oN(){return!1}function oa(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?S_:oN,this.isPropagationStopped=oN,this}return Hr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=S_)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=S_)},persist:function(){},isPersistent:S_}),e}var U0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZR=oa(U0),O1=Hr({},U0,{view:0,detail:0}),ZJ=oa(O1),SM,AM,Gg,D2=Hr({},O1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JR,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gg&&(Gg&&n.type==="mousemove"?(SM=n.screenX-Gg.screenX,AM=n.screenY-Gg.screenY):AM=SM=0,Gg=n),SM)},movementY:function(n){return"movementY"in n?n.movementY:AM}}),aN=oa(D2),JJ=Hr({},D2,{dataTransfer:0}),QJ=oa(JJ),eQ=Hr({},O1,{relatedTarget:0}),EM=oa(eQ),tQ=Hr({},U0,{animationName:0,elapsedTime:0,pseudoElement:0}),nQ=oa(tQ),rQ=Hr({},U0,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),iQ=oa(rQ),sQ=Hr({},U0,{data:0}),lN=oa(sQ),oQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cQ(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=lQ[n])?!!e[n]:!1}function JR(){return cQ}var uQ=Hr({},O1,{key:function(n){if(n.key){var e=oQ[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=cw(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?aQ[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JR,charCode:function(n){return n.type==="keypress"?cw(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?cw(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),dQ=oa(uQ),fQ=Hr({},D2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cN=oa(fQ),hQ=Hr({},O1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JR}),pQ=oa(hQ),mQ=Hr({},U0,{propertyName:0,elapsedTime:0,pseudoElement:0}),gQ=oa(mQ),vQ=Hr({},D2,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),yQ=oa(vQ),xQ=[9,13,27,32],QR=vu&&"CompositionEvent"in window,zv=null;vu&&"documentMode"in document&&(zv=document.documentMode);var _Q=vu&&"TextEvent"in window&&!zv,s9=vu&&(!QR||zv&&8<zv&&11>=zv),uN=String.fromCharCode(32),dN=!1;function o9(n,e){switch(n){case"keyup":return xQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a9(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var dm=!1;function bQ(n,e){switch(n){case"compositionend":return a9(e);case"keypress":return e.which!==32?null:(dN=!0,uN);case"textInput":return n=e.data,n===uN&&dN?null:n;default:return null}}function wQ(n,e){if(dm)return n==="compositionend"||!QR&&o9(n,e)?(n=i9(),lw=KR=Sd=null,dm=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s9&&e.locale!=="ko"?null:e.data;default:return null}}var SQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fN(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!SQ[n.type]:e==="textarea"}function l9(n,e,t,r){zU(r),e=lS(e,"onChange"),0<e.length&&(t=new ZR("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Vv=null,My=null;function AQ(n){x9(n,0)}function B2(n){var e=pm(n);if(IU(e))return n}function EQ(n,e){if(n==="change")return e}var c9=!1;if(vu){var MM;if(vu){var CM="oninput"in document;if(!CM){var hN=document.createElement("div");hN.setAttribute("oninput","return;"),CM=typeof hN.oninput=="function"}MM=CM}else MM=!1;c9=MM&&(!document.documentMode||9<document.documentMode)}function pN(){Vv&&(Vv.detachEvent("onpropertychange",u9),My=Vv=null)}function u9(n){if(n.propertyName==="value"&&B2(My)){var e=[];l9(e,My,n,WR(n)),GU(AQ,e)}}function MQ(n,e,t){n==="focusin"?(pN(),Vv=e,My=t,Vv.attachEvent("onpropertychange",u9)):n==="focusout"&&pN()}function CQ(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return B2(My)}function TQ(n,e){if(n==="click")return B2(e)}function kQ(n,e){if(n==="input"||n==="change")return B2(e)}function RQ(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Il=typeof Object.is=="function"?Object.is:RQ;function Cy(n,e){if(Il(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!t3.call(e,i)||!Il(n[i],e[i]))return!1}return!0}function mN(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gN(n,e){var t=mN(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=mN(t)}}function d9(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?d9(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function f9(){for(var n=window,e=tS();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=tS(n.document)}return e}function eP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function PQ(n){var e=f9(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&d9(t.ownerDocument.documentElement,t)){if(r!==null&&eP(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=gN(t,s);var o=gN(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var IQ=vu&&"documentMode"in document&&11>=document.documentMode,fm=null,_3=null,Uv=null,b3=!1;function vN(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;b3||fm==null||fm!==tS(r)||(r=fm,"selectionStart"in r&&eP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uv&&Cy(Uv,r)||(Uv=r,r=lS(_3,"onSelect"),0<r.length&&(e=new ZR("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=fm)))}function A_(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var hm={animationend:A_("Animation","AnimationEnd"),animationiteration:A_("Animation","AnimationIteration"),animationstart:A_("Animation","AnimationStart"),transitionend:A_("Transition","TransitionEnd")},TM={},h9={};vu&&(h9=document.createElement("div").style,"AnimationEvent"in window||(delete hm.animationend.animation,delete hm.animationiteration.animation,delete hm.animationstart.animation),"TransitionEvent"in window||delete hm.transitionend.transition);function F2(n){if(TM[n])return TM[n];if(!hm[n])return n;var e=hm[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in h9)return TM[n]=e[t];return n}var p9=F2("animationend"),m9=F2("animationiteration"),g9=F2("animationstart"),v9=F2("transitionend"),y9=new Map,yN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function df(n,e){y9.set(n,e),Kh(e,[n])}for(var kM=0;kM<yN.length;kM++){var RM=yN[kM],LQ=RM.toLowerCase(),OQ=RM[0].toUpperCase()+RM.slice(1);df(LQ,"on"+OQ)}df(p9,"onAnimationEnd");df(m9,"onAnimationIteration");df(g9,"onAnimationStart");df("dblclick","onDoubleClick");df("focusin","onFocus");df("focusout","onBlur");df(v9,"onTransitionEnd");l0("onMouseEnter",["mouseout","mouseover"]);l0("onMouseLeave",["mouseout","mouseover"]);l0("onPointerEnter",["pointerout","pointerover"]);l0("onPointerLeave",["pointerout","pointerover"]);Kh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tv));function xN(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,LJ(r,e,void 0,n),n.currentTarget=null}function x9(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;xN(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;xN(i,a,c),s=l}}}if(rS)throw n=g3,rS=!1,g3=null,n}function pr(n,e){var t=e[M3];t===void 0&&(t=e[M3]=new Set);var r=n+"__bubble";t.has(r)||(_9(e,n,2,!1),t.add(r))}function PM(n,e,t){var r=0;e&&(r|=4),_9(t,n,r,e)}var E_="_reactListening"+Math.random().toString(36).slice(2);function Ty(n){if(!n[E_]){n[E_]=!0,CU.forEach(function(t){t!=="selectionchange"&&(NQ.has(t)||PM(t,!1,n),PM(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[E_]||(e[E_]=!0,PM("selectionchange",!1,e))}}function _9(n,e,t,r){switch(r9(e)){case 1:var i=XJ;break;case 4:i=KJ;break;default:i=XR}t=i.bind(null,e,t,n),i=void 0,!m3||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function IM(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=uh(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}GU(function(){var c=s,d=WR(t),u=[];e:{var f=y9.get(n);if(f!==void 0){var h=ZR,g=n;switch(n){case"keypress":if(cw(t)===0)break e;case"keydown":case"keyup":h=dQ;break;case"focusin":g="focus",h=EM;break;case"focusout":g="blur",h=EM;break;case"beforeblur":case"afterblur":h=EM;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=aN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=QJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=pQ;break;case p9:case m9:case g9:h=nQ;break;case v9:h=gQ;break;case"scroll":h=ZJ;break;case"wheel":h=yQ;break;case"copy":case"cut":case"paste":h=iQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=cN}var v=(e&4)!==0,x=!v&&n==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var _=c,b;_!==null;){b=_;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,y!==null&&(A=wy(_,y),A!=null&&v.push(ky(_,A,b)))),x)break;_=_.return}0<v.length&&(f=new h(f,g,null,t,d),u.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",h=n==="mouseout"||n==="pointerout",f&&t!==h3&&(g=t.relatedTarget||t.fromElement)&&(uh(g)||g[yu]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=t.relatedTarget||t.toElement,h=c,g=g?uh(g):null,g!==null&&(x=Zh(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(v=aN,A="onMouseLeave",y="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(v=cN,A="onPointerLeave",y="onPointerEnter",_="pointer"),x=h==null?f:pm(h),b=g==null?f:pm(g),f=new v(A,_+"leave",h,t,d),f.target=x,f.relatedTarget=b,A=null,uh(d)===c&&(v=new v(y,_+"enter",g,t,d),v.target=b,v.relatedTarget=x,A=v),x=A,h&&g)t:{for(v=h,y=g,_=0,b=v;b;b=Cp(b))_++;for(b=0,A=y;A;A=Cp(A))b++;for(;0<_-b;)v=Cp(v),_--;for(;0<b-_;)y=Cp(y),b--;for(;_--;){if(v===y||y!==null&&v===y.alternate)break t;v=Cp(v),y=Cp(y)}v=null}else v=null;h!==null&&_N(u,f,h,v,!1),g!==null&&x!==null&&_N(u,x,g,v,!0)}}e:{if(f=c?pm(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=EQ;else if(fN(f))if(c9)E=kQ;else{E=CQ;var k=MQ}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=TQ);if(E&&(E=E(n,c))){l9(u,E,t,d);break e}k&&k(n,f,c),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&l3(f,"number",f.value)}switch(k=c?pm(c):window,n){case"focusin":(fN(k)||k.contentEditable==="true")&&(fm=k,_3=c,Uv=null);break;case"focusout":Uv=_3=fm=null;break;case"mousedown":b3=!0;break;case"contextmenu":case"mouseup":case"dragend":b3=!1,vN(u,t,d);break;case"selectionchange":if(IQ)break;case"keydown":case"keyup":vN(u,t,d)}var P;if(QR)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else dm?o9(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(s9&&t.locale!=="ko"&&(dm||C!=="onCompositionStart"?C==="onCompositionEnd"&&dm&&(P=i9()):(Sd=d,KR="value"in Sd?Sd.value:Sd.textContent,dm=!0)),k=lS(c,C),0<k.length&&(C=new lN(C,n,null,t,d),u.push({event:C,listeners:k}),P?C.data=P:(P=a9(t),P!==null&&(C.data=P)))),(P=_Q?bQ(n,t):wQ(n,t))&&(c=lS(c,"onBeforeInput"),0<c.length&&(d=new lN("onBeforeInput","beforeinput",null,t,d),u.push({event:d,listeners:c}),d.data=P))}x9(u,e)})}function ky(n,e,t){return{instance:n,listener:e,currentTarget:t}}function lS(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wy(n,t),s!=null&&r.unshift(ky(n,s,i)),s=wy(n,e),s!=null&&r.push(ky(n,s,i))),n=n.return}return r}function Cp(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function _N(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=wy(t,s),l!=null&&o.unshift(ky(t,l,a))):i||(l=wy(t,s),l!=null&&o.push(ky(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var DQ=/\r\n?/g,BQ=/\u0000|\uFFFD/g;function bN(n){return(typeof n=="string"?n:""+n).replace(DQ,`
`).replace(BQ,"")}function M_(n,e,t){if(e=bN(e),bN(n)!==e&&t)throw Error(Ke(425))}function cS(){}var w3=null,S3=null;function A3(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var E3=typeof setTimeout=="function"?setTimeout:void 0,FQ=typeof clearTimeout=="function"?clearTimeout:void 0,wN=typeof Promise=="function"?Promise:void 0,zQ=typeof queueMicrotask=="function"?queueMicrotask:typeof wN<"u"?function(n){return wN.resolve(null).then(n).catch(VQ)}:E3;function VQ(n){setTimeout(function(){throw n})}function LM(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Ey(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Ey(e)}function Bd(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function SN(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var H0=Math.random().toString(36).slice(2),rc="__reactFiber$"+H0,Ry="__reactProps$"+H0,yu="__reactContainer$"+H0,M3="__reactEvents$"+H0,UQ="__reactListeners$"+H0,HQ="__reactHandles$"+H0;function uh(n){var e=n[rc];if(e)return e;for(var t=n.parentNode;t;){if(e=t[yu]||t[rc]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=SN(n);n!==null;){if(t=n[rc])return t;n=SN(n)}return e}n=t,t=n.parentNode}return null}function N1(n){return n=n[rc]||n[yu],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function pm(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ke(33))}function z2(n){return n[Ry]||null}var C3=[],mm=-1;function ff(n){return{current:n}}function gr(n){0>mm||(n.current=C3[mm],C3[mm]=null,mm--)}function ur(n,e){mm++,C3[mm]=n.current,n.current=e}var Yd={},Ps=ff(Yd),vo=ff(!1),Dh=Yd;function c0(n,e){var t=n.type.contextTypes;if(!t)return Yd;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function yo(n){return n=n.childContextTypes,n!=null}function uS(){gr(vo),gr(Ps)}function AN(n,e,t){if(Ps.current!==Yd)throw Error(Ke(168));ur(Ps,e),ur(vo,t)}function b9(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ke(108,MJ(n)||"Unknown",i));return Hr({},t,r)}function dS(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yd,Dh=Ps.current,ur(Ps,n),ur(vo,vo.current),!0}function EN(n,e,t){var r=n.stateNode;if(!r)throw Error(Ke(169));t?(n=b9(n,e,Dh),r.__reactInternalMemoizedMergedChildContext=n,gr(vo),gr(Ps),ur(Ps,n)):gr(vo),ur(vo,t)}var tu=null,V2=!1,OM=!1;function w9(n){tu===null?tu=[n]:tu.push(n)}function GQ(n){V2=!0,w9(n)}function hf(){if(!OM&&tu!==null){OM=!0;var n=0,e=Yn;try{var t=tu;for(Yn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}tu=null,V2=!1}catch(i){throw tu!==null&&(tu=tu.slice(n+1)),qU(jR,hf),i}finally{Yn=e,OM=!1}}return null}var gm=[],vm=0,fS=null,hS=0,Ra=[],Pa=0,Bh=null,lu=1,cu="";function Xf(n,e){gm[vm++]=hS,gm[vm++]=fS,fS=n,hS=e}function S9(n,e,t){Ra[Pa++]=lu,Ra[Pa++]=cu,Ra[Pa++]=Bh,Bh=n;var r=lu;n=cu;var i=32-Sl(r)-1;r&=~(1<<i),t+=1;var s=32-Sl(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,lu=1<<32-Sl(e)+i|t<<i|r,cu=s+n}else lu=1<<s|t<<i|r,cu=n}function tP(n){n.return!==null&&(Xf(n,1),S9(n,1,0))}function nP(n){for(;n===fS;)fS=gm[--vm],gm[vm]=null,hS=gm[--vm],gm[vm]=null;for(;n===Bh;)Bh=Ra[--Pa],Ra[Pa]=null,cu=Ra[--Pa],Ra[Pa]=null,lu=Ra[--Pa],Ra[Pa]=null}var Xo=null,jo=null,Ar=!1,vl=null;function A9(n,e){var t=Oa(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function MN(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Xo=n,jo=Bd(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Xo=n,jo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Bh!==null?{id:lu,overflow:cu}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Oa(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Xo=n,jo=null,!0):!1;default:return!1}}function T3(n){return(n.mode&1)!==0&&(n.flags&128)===0}function k3(n){if(Ar){var e=jo;if(e){var t=e;if(!MN(n,e)){if(T3(n))throw Error(Ke(418));e=Bd(t.nextSibling);var r=Xo;e&&MN(n,e)?A9(r,t):(n.flags=n.flags&-4097|2,Ar=!1,Xo=n)}}else{if(T3(n))throw Error(Ke(418));n.flags=n.flags&-4097|2,Ar=!1,Xo=n}}}function CN(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Xo=n}function C_(n){if(n!==Xo)return!1;if(!Ar)return CN(n),Ar=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!A3(n.type,n.memoizedProps)),e&&(e=jo)){if(T3(n))throw E9(),Error(Ke(418));for(;e;)A9(n,e),e=Bd(e.nextSibling)}if(CN(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ke(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){jo=Bd(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}jo=null}}else jo=Xo?Bd(n.stateNode.nextSibling):null;return!0}function E9(){for(var n=jo;n;)n=Bd(n.nextSibling)}function u0(){jo=Xo=null,Ar=!1}function rP(n){vl===null?vl=[n]:vl.push(n)}var $Q=Pu.ReactCurrentBatchConfig;function fl(n,e){if(n&&n.defaultProps){e=Hr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var pS=ff(null),mS=null,ym=null,iP=null;function sP(){iP=ym=mS=null}function oP(n){var e=pS.current;gr(pS),n._currentValue=e}function R3(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function zm(n,e){mS=n,iP=ym=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(po=!0),n.firstContext=null)}function Ua(n){var e=n._currentValue;if(iP!==n)if(n={context:n,memoizedValue:e,next:null},ym===null){if(mS===null)throw Error(Ke(308));ym=n,mS.dependencies={lanes:0,firstContext:n}}else ym=ym.next=n;return e}var dh=null;function aP(n){dh===null?dh=[n]:dh.push(n)}function M9(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,aP(e)):(t.next=i.next,i.next=t),e.interleaved=t,xu(n,r)}function xu(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var gd=!1;function lP(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C9(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function mu(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Fd(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Pn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xu(n,t)}return i=r.interleaved,i===null?(e.next=e,aP(r)):(e.next=i.next,i.next=e),r.interleaved=e,xu(n,t)}function uw(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,qR(n,t)}}function TN(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function gS(n,e,t,r){var i=n.updateQueue;gd=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(f=e,h=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){u=g.call(h,u,f);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(h,u,f):g,f==null)break e;u=Hr({},u,f);break e;case 2:gd=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=h,l=u):d=d.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);zh|=o,n.lanes=o,n.memoizedState=u}}function kN(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ke(191,i));i.call(r)}}}var T9=new MU.Component().refs;function P3(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Hr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var U2={isMounted:function(n){return(n=n._reactInternals)?Zh(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Ks(),i=Vd(n),s=mu(r,i);s.payload=e,t!=null&&(s.callback=t),e=Fd(n,s,i),e!==null&&(Al(e,n,i,r),uw(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Ks(),i=Vd(n),s=mu(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Fd(n,s,i),e!==null&&(Al(e,n,i,r),uw(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ks(),r=Vd(n),i=mu(t,r);i.tag=2,e!=null&&(i.callback=e),e=Fd(n,i,r),e!==null&&(Al(e,n,r,t),uw(e,n,r))}};function RN(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Cy(t,r)||!Cy(i,s):!0}function k9(n,e,t){var r=!1,i=Yd,s=e.contextType;return typeof s=="object"&&s!==null?s=Ua(s):(i=yo(e)?Dh:Ps.current,r=e.contextTypes,s=(r=r!=null)?c0(n,i):Yd),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=U2,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function PN(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&U2.enqueueReplaceState(e,e.state,null)}function I3(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=T9,lP(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ua(s):(s=yo(e)?Dh:Ps.current,i.context=c0(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(P3(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&U2.enqueueReplaceState(i,i.state,null),gS(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function $g(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ke(309));var r=t.stateNode}if(!r)throw Error(Ke(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===T9&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ke(284));if(!t._owner)throw Error(Ke(290,n))}return n}function T_(n,e){throw n=Object.prototype.toString.call(e),Error(Ke(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function IN(n){var e=n._init;return e(n._payload)}function R9(n){function e(y,_){if(n){var b=y.deletions;b===null?(y.deletions=[_],y.flags|=16):b.push(_)}}function t(y,_){if(!n)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=Ud(y,_),y.index=0,y.sibling=null,y}function s(y,_,b){return y.index=b,n?(b=y.alternate,b!==null?(b=b.index,b<_?(y.flags|=2,_):b):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,_,b,A){return _===null||_.tag!==6?(_=UM(b,y.mode,A),_.return=y,_):(_=i(_,b),_.return=y,_)}function l(y,_,b,A){var E=b.type;return E===um?d(y,_,b.props.children,A,b.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===md&&IN(E)===_.type)?(A=i(_,b.props),A.ref=$g(y,_,b),A.return=y,A):(A=gw(b.type,b.key,b.props,null,y.mode,A),A.ref=$g(y,_,b),A.return=y,A)}function c(y,_,b,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=HM(b,y.mode,A),_.return=y,_):(_=i(_,b.children||[]),_.return=y,_)}function d(y,_,b,A,E){return _===null||_.tag!==7?(_=Sh(b,y.mode,A,E),_.return=y,_):(_=i(_,b),_.return=y,_)}function u(y,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=UM(""+_,y.mode,b),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case v_:return b=gw(_.type,_.key,_.props,null,y.mode,b),b.ref=$g(y,null,_),b.return=y,b;case cm:return _=HM(_,y.mode,b),_.return=y,_;case md:var A=_._init;return u(y,A(_._payload),b)}if(Mv(_)||zg(_))return _=Sh(_,y.mode,b,null),_.return=y,_;T_(y,_)}return null}function f(y,_,b,A){var E=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(y,_,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case v_:return b.key===E?l(y,_,b,A):null;case cm:return b.key===E?c(y,_,b,A):null;case md:return E=b._init,f(y,_,E(b._payload),A)}if(Mv(b)||zg(b))return E!==null?null:d(y,_,b,A,null);T_(y,b)}return null}function h(y,_,b,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(b)||null,a(_,y,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case v_:return y=y.get(A.key===null?b:A.key)||null,l(_,y,A,E);case cm:return y=y.get(A.key===null?b:A.key)||null,c(_,y,A,E);case md:var k=A._init;return h(y,_,b,k(A._payload),E)}if(Mv(A)||zg(A))return y=y.get(b)||null,d(_,y,A,E,null);T_(_,A)}return null}function g(y,_,b,A){for(var E=null,k=null,P=_,C=_=0,O=null;P!==null&&C<b.length;C++){P.index>C?(O=P,P=null):O=P.sibling;var U=f(y,P,b[C],A);if(U===null){P===null&&(P=O);break}n&&P&&U.alternate===null&&e(y,P),_=s(U,_,C),k===null?E=U:k.sibling=U,k=U,P=O}if(C===b.length)return t(y,P),Ar&&Xf(y,C),E;if(P===null){for(;C<b.length;C++)P=u(y,b[C],A),P!==null&&(_=s(P,_,C),k===null?E=P:k.sibling=P,k=P);return Ar&&Xf(y,C),E}for(P=r(y,P);C<b.length;C++)O=h(P,y,C,b[C],A),O!==null&&(n&&O.alternate!==null&&P.delete(O.key===null?C:O.key),_=s(O,_,C),k===null?E=O:k.sibling=O,k=O);return n&&P.forEach(function(K){return e(y,K)}),Ar&&Xf(y,C),E}function v(y,_,b,A){var E=zg(b);if(typeof E!="function")throw Error(Ke(150));if(b=E.call(b),b==null)throw Error(Ke(151));for(var k=E=null,P=_,C=_=0,O=null,U=b.next();P!==null&&!U.done;C++,U=b.next()){P.index>C?(O=P,P=null):O=P.sibling;var K=f(y,P,U.value,A);if(K===null){P===null&&(P=O);break}n&&P&&K.alternate===null&&e(y,P),_=s(K,_,C),k===null?E=K:k.sibling=K,k=K,P=O}if(U.done)return t(y,P),Ar&&Xf(y,C),E;if(P===null){for(;!U.done;C++,U=b.next())U=u(y,U.value,A),U!==null&&(_=s(U,_,C),k===null?E=U:k.sibling=U,k=U);return Ar&&Xf(y,C),E}for(P=r(y,P);!U.done;C++,U=b.next())U=h(P,y,C,U.value,A),U!==null&&(n&&U.alternate!==null&&P.delete(U.key===null?C:U.key),_=s(U,_,C),k===null?E=U:k.sibling=U,k=U);return n&&P.forEach(function(J){return e(y,J)}),Ar&&Xf(y,C),E}function x(y,_,b,A){if(typeof b=="object"&&b!==null&&b.type===um&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case v_:e:{for(var E=b.key,k=_;k!==null;){if(k.key===E){if(E=b.type,E===um){if(k.tag===7){t(y,k.sibling),_=i(k,b.props.children),_.return=y,y=_;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===md&&IN(E)===k.type){t(y,k.sibling),_=i(k,b.props),_.ref=$g(y,k,b),_.return=y,y=_;break e}t(y,k);break}else e(y,k);k=k.sibling}b.type===um?(_=Sh(b.props.children,y.mode,A,b.key),_.return=y,y=_):(A=gw(b.type,b.key,b.props,null,y.mode,A),A.ref=$g(y,_,b),A.return=y,y=A)}return o(y);case cm:e:{for(k=b.key;_!==null;){if(_.key===k)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){t(y,_.sibling),_=i(_,b.children||[]),_.return=y,y=_;break e}else{t(y,_);break}else e(y,_);_=_.sibling}_=HM(b,y.mode,A),_.return=y,y=_}return o(y);case md:return k=b._init,x(y,_,k(b._payload),A)}if(Mv(b))return g(y,_,b,A);if(zg(b))return v(y,_,b,A);T_(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(t(y,_.sibling),_=i(_,b),_.return=y,y=_):(t(y,_),_=UM(b,y.mode,A),_.return=y,y=_),o(y)):t(y,_)}return x}var d0=R9(!0),P9=R9(!1),D1={},hc=ff(D1),Py=ff(D1),Iy=ff(D1);function fh(n){if(n===D1)throw Error(Ke(174));return n}function cP(n,e){switch(ur(Iy,e),ur(Py,n),ur(hc,D1),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:u3(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=u3(e,n)}gr(hc),ur(hc,e)}function f0(){gr(hc),gr(Py),gr(Iy)}function I9(n){fh(Iy.current);var e=fh(hc.current),t=u3(e,n.type);e!==t&&(ur(Py,n),ur(hc,t))}function uP(n){Py.current===n&&(gr(hc),gr(Py))}var Nr=ff(0);function vS(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var NM=[];function dP(){for(var n=0;n<NM.length;n++)NM[n]._workInProgressVersionPrimary=null;NM.length=0}var dw=Pu.ReactCurrentDispatcher,DM=Pu.ReactCurrentBatchConfig,Fh=0,Ur=null,Ei=null,Fi=null,yS=!1,Hv=!1,Ly=0,WQ=0;function vs(){throw Error(Ke(321))}function fP(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Il(n[t],e[t]))return!1;return!0}function hP(n,e,t,r,i,s){if(Fh=s,Ur=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dw.current=n===null||n.memoizedState===null?XQ:KQ,n=t(r,i),Hv){s=0;do{if(Hv=!1,Ly=0,25<=s)throw Error(Ke(301));s+=1,Fi=Ei=null,e.updateQueue=null,dw.current=ZQ,n=t(r,i)}while(Hv)}if(dw.current=xS,e=Ei!==null&&Ei.next!==null,Fh=0,Fi=Ei=Ur=null,yS=!1,e)throw Error(Ke(300));return n}function pP(){var n=Ly!==0;return Ly=0,n}function Kl(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fi===null?Ur.memoizedState=Fi=n:Fi=Fi.next=n,Fi}function Ha(){if(Ei===null){var n=Ur.alternate;n=n!==null?n.memoizedState:null}else n=Ei.next;var e=Fi===null?Ur.memoizedState:Fi.next;if(e!==null)Fi=e,Ei=n;else{if(n===null)throw Error(Ke(310));Ei=n,n={memoizedState:Ei.memoizedState,baseState:Ei.baseState,baseQueue:Ei.baseQueue,queue:Ei.queue,next:null},Fi===null?Ur.memoizedState=Fi=n:Fi=Fi.next=n}return Fi}function Oy(n,e){return typeof e=="function"?e(n):e}function BM(n){var e=Ha(),t=e.queue;if(t===null)throw Error(Ke(311));t.lastRenderedReducer=n;var r=Ei,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Fh&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=r):l=l.next=u,Ur.lanes|=d,zh|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Il(r,e.memoizedState)||(po=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Ur.lanes|=s,zh|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function FM(n){var e=Ha(),t=e.queue;if(t===null)throw Error(Ke(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Il(s,e.memoizedState)||(po=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function L9(){}function O9(n,e){var t=Ur,r=Ha(),i=e(),s=!Il(r.memoizedState,i);if(s&&(r.memoizedState=i,po=!0),r=r.queue,mP(B9.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Fi!==null&&Fi.memoizedState.tag&1){if(t.flags|=2048,Ny(9,D9.bind(null,t,r,i,e),void 0,null),Hi===null)throw Error(Ke(349));Fh&30||N9(t,e,i)}return i}function N9(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ur.updateQueue,e===null?(e={lastEffect:null,stores:null},Ur.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function D9(n,e,t,r){e.value=t,e.getSnapshot=r,F9(e)&&z9(n)}function B9(n,e,t){return t(function(){F9(e)&&z9(n)})}function F9(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Il(n,t)}catch{return!0}}function z9(n){var e=xu(n,1);e!==null&&Al(e,n,1,-1)}function LN(n){var e=Kl();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:n},e.queue=n,n=n.dispatch=YQ.bind(null,Ur,n),[e.memoizedState,n]}function Ny(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ur.updateQueue,e===null?(e={lastEffect:null,stores:null},Ur.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function V9(){return Ha().memoizedState}function fw(n,e,t,r){var i=Kl();Ur.flags|=n,i.memoizedState=Ny(1|e,t,void 0,r===void 0?null:r)}function H2(n,e,t,r){var i=Ha();r=r===void 0?null:r;var s=void 0;if(Ei!==null){var o=Ei.memoizedState;if(s=o.destroy,r!==null&&fP(r,o.deps)){i.memoizedState=Ny(e,t,s,r);return}}Ur.flags|=n,i.memoizedState=Ny(1|e,t,s,r)}function ON(n,e){return fw(8390656,8,n,e)}function mP(n,e){return H2(2048,8,n,e)}function U9(n,e){return H2(4,2,n,e)}function H9(n,e){return H2(4,4,n,e)}function G9(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function $9(n,e,t){return t=t!=null?t.concat([n]):null,H2(4,4,G9.bind(null,e,n),t)}function gP(){}function W9(n,e){var t=Ha();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&fP(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function j9(n,e){var t=Ha();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&fP(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function q9(n,e,t){return Fh&21?(Il(t,e)||(t=KU(),Ur.lanes|=t,zh|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,po=!0),n.memoizedState=t)}function jQ(n,e){var t=Yn;Yn=t!==0&&4>t?t:4,n(!0);var r=DM.transition;DM.transition={};try{n(!1),e()}finally{Yn=t,DM.transition=r}}function Y9(){return Ha().memoizedState}function qQ(n,e,t){var r=Vd(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},X9(n))K9(e,t);else if(t=M9(n,e,t,r),t!==null){var i=Ks();Al(t,n,r,i),Z9(t,e,r)}}function YQ(n,e,t){var r=Vd(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(X9(n))K9(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Il(a,o)){var l=e.interleaved;l===null?(i.next=i,aP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=M9(n,e,i,r),t!==null&&(i=Ks(),Al(t,n,r,i),Z9(t,e,r))}}function X9(n){var e=n.alternate;return n===Ur||e!==null&&e===Ur}function K9(n,e){Hv=yS=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Z9(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,qR(n,t)}}var xS={readContext:Ua,useCallback:vs,useContext:vs,useEffect:vs,useImperativeHandle:vs,useInsertionEffect:vs,useLayoutEffect:vs,useMemo:vs,useReducer:vs,useRef:vs,useState:vs,useDebugValue:vs,useDeferredValue:vs,useTransition:vs,useMutableSource:vs,useSyncExternalStore:vs,useId:vs,unstable_isNewReconciler:!1},XQ={readContext:Ua,useCallback:function(n,e){return Kl().memoizedState=[n,e===void 0?null:e],n},useContext:Ua,useEffect:ON,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,fw(4194308,4,G9.bind(null,e,n),t)},useLayoutEffect:function(n,e){return fw(4194308,4,n,e)},useInsertionEffect:function(n,e){return fw(4,2,n,e)},useMemo:function(n,e){var t=Kl();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Kl();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=qQ.bind(null,Ur,n),[r.memoizedState,n]},useRef:function(n){var e=Kl();return n={current:n},e.memoizedState=n},useState:LN,useDebugValue:gP,useDeferredValue:function(n){return Kl().memoizedState=n},useTransition:function(){var n=LN(!1),e=n[0];return n=jQ.bind(null,n[1]),Kl().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Ur,i=Kl();if(Ar){if(t===void 0)throw Error(Ke(407));t=t()}else{if(t=e(),Hi===null)throw Error(Ke(349));Fh&30||N9(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,ON(B9.bind(null,r,s,n),[n]),r.flags|=2048,Ny(9,D9.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Kl(),e=Hi.identifierPrefix;if(Ar){var t=cu,r=lu;t=(r&~(1<<32-Sl(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ly++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=WQ++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},KQ={readContext:Ua,useCallback:W9,useContext:Ua,useEffect:mP,useImperativeHandle:$9,useInsertionEffect:U9,useLayoutEffect:H9,useMemo:j9,useReducer:BM,useRef:V9,useState:function(){return BM(Oy)},useDebugValue:gP,useDeferredValue:function(n){var e=Ha();return q9(e,Ei.memoizedState,n)},useTransition:function(){var n=BM(Oy)[0],e=Ha().memoizedState;return[n,e]},useMutableSource:L9,useSyncExternalStore:O9,useId:Y9,unstable_isNewReconciler:!1},ZQ={readContext:Ua,useCallback:W9,useContext:Ua,useEffect:mP,useImperativeHandle:$9,useInsertionEffect:U9,useLayoutEffect:H9,useMemo:j9,useReducer:FM,useRef:V9,useState:function(){return FM(Oy)},useDebugValue:gP,useDeferredValue:function(n){var e=Ha();return Ei===null?e.memoizedState=n:q9(e,Ei.memoizedState,n)},useTransition:function(){var n=FM(Oy)[0],e=Ha().memoizedState;return[n,e]},useMutableSource:L9,useSyncExternalStore:O9,useId:Y9,unstable_isNewReconciler:!1};function h0(n,e){try{var t="",r=e;do t+=EJ(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function zM(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function L3(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var JQ=typeof WeakMap=="function"?WeakMap:Map;function J9(n,e,t){t=mu(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){bS||(bS=!0,G3=r),L3(n,e)},t}function Q9(n,e,t){t=mu(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){L3(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){L3(n,e),typeof r!="function"&&(zd===null?zd=new Set([this]):zd.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function NN(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new JQ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=fee.bind(null,n,e,t),e.then(n,n))}function DN(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function BN(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=mu(-1,1),e.tag=2,Fd(t,e,1))),t.lanes|=1),n)}var QQ=Pu.ReactCurrentOwner,po=!1;function $s(n,e,t,r){e.child=n===null?P9(e,null,t,r):d0(e,n.child,t,r)}function FN(n,e,t,r,i){t=t.render;var s=e.ref;return zm(e,i),r=hP(n,e,t,r,s,i),t=pP(),n!==null&&!po?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,_u(n,e,i)):(Ar&&t&&tP(e),e.flags|=1,$s(n,e,r,i),e.child)}function zN(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!AP(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,e7(n,e,s,r,i)):(n=gw(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Cy,t(o,r)&&n.ref===e.ref)return _u(n,e,i)}return e.flags|=1,n=Ud(s,r),n.ref=e.ref,n.return=e,e.child=n}function e7(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Cy(s,r)&&n.ref===e.ref)if(po=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(po=!0);else return e.lanes=n.lanes,_u(n,e,i)}return O3(n,e,t,r,i)}function t7(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ur(_m,Vo),Vo|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ur(_m,Vo),Vo|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,ur(_m,Vo),Vo|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,ur(_m,Vo),Vo|=r;return $s(n,e,i,t),e.child}function n7(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function O3(n,e,t,r,i){var s=yo(t)?Dh:Ps.current;return s=c0(e,s),zm(e,i),t=hP(n,e,t,r,s,i),r=pP(),n!==null&&!po?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,_u(n,e,i)):(Ar&&r&&tP(e),e.flags|=1,$s(n,e,t,i),e.child)}function VN(n,e,t,r,i){if(yo(t)){var s=!0;dS(e)}else s=!1;if(zm(e,i),e.stateNode===null)hw(n,e),k9(e,t,r),I3(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ua(c):(c=yo(t)?Dh:Ps.current,c=c0(e,c));var d=t.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&PN(e,o,r,c),gd=!1;var f=e.memoizedState;o.state=f,gS(e,r,o,i),l=e.memoizedState,a!==r||f!==l||vo.current||gd?(typeof d=="function"&&(P3(e,t,d,r),l=e.memoizedState),(a=gd||RN(e,t,a,r,f,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,C9(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:fl(e.type,a),o.props=c,u=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ua(l):(l=yo(t)?Dh:Ps.current,l=c0(e,l));var h=t.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||f!==l)&&PN(e,o,r,l),gd=!1,f=e.memoizedState,o.state=f,gS(e,r,o,i);var g=e.memoizedState;a!==u||f!==g||vo.current||gd?(typeof h=="function"&&(P3(e,t,h,r),g=e.memoizedState),(c=gd||RN(e,t,c,r,f,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return N3(n,e,t,r,s,i)}function N3(n,e,t,r,i,s){n7(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&EN(e,t,!1),_u(n,e,s);r=e.stateNode,QQ.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=d0(e,n.child,null,s),e.child=d0(e,null,a,s)):$s(n,e,a,s),e.memoizedState=r.state,i&&EN(e,t,!0),e.child}function r7(n){var e=n.stateNode;e.pendingContext?AN(n,e.pendingContext,e.pendingContext!==e.context):e.context&&AN(n,e.context,!1),cP(n,e.containerInfo)}function UN(n,e,t,r,i){return u0(),rP(i),e.flags|=256,$s(n,e,t,r),e.child}var D3={dehydrated:null,treeContext:null,retryLane:0};function B3(n){return{baseLanes:n,cachePool:null,transitions:null}}function i7(n,e,t){var r=e.pendingProps,i=Nr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),ur(Nr,i&1),n===null)return k3(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=W2(o,r,0,null),n=Sh(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=B3(t),e.memoizedState=D3,n):vP(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return eee(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ud(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ud(a,s):(s=Sh(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?B3(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=D3,r}return s=n.child,n=s.sibling,r=Ud(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function vP(n,e){return e=W2({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function k_(n,e,t,r){return r!==null&&rP(r),d0(e,n.child,null,t),n=vP(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function eee(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=zM(Error(Ke(422))),k_(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=W2({mode:"visible",children:r.children},i,0,null),s=Sh(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&d0(e,n.child,null,o),e.child.memoizedState=B3(o),e.memoizedState=D3,s);if(!(e.mode&1))return k_(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ke(419)),r=zM(s,r,void 0),k_(n,e,o,r)}if(a=(o&n.childLanes)!==0,po||a){if(r=Hi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xu(n,i),Al(r,n,i,-1))}return SP(),r=zM(Error(Ke(421))),k_(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=hee.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,jo=Bd(i.nextSibling),Xo=e,Ar=!0,vl=null,n!==null&&(Ra[Pa++]=lu,Ra[Pa++]=cu,Ra[Pa++]=Bh,lu=n.id,cu=n.overflow,Bh=e),e=vP(e,r.children),e.flags|=4096,e)}function HN(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),R3(n.return,e,t)}function VM(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function s7(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if($s(n,e,r.children,t),r=Nr.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&HN(n,t,e);else if(n.tag===19)HN(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(ur(Nr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&vS(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),VM(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&vS(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}VM(e,!0,t,null,s);break;case"together":VM(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hw(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function _u(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),zh|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ke(153));if(e.child!==null){for(n=e.child,t=Ud(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ud(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function tee(n,e,t){switch(e.tag){case 3:r7(e),u0();break;case 5:I9(e);break;case 1:yo(e.type)&&dS(e);break;case 4:cP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ur(pS,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ur(Nr,Nr.current&1),e.flags|=128,null):t&e.child.childLanes?i7(n,e,t):(ur(Nr,Nr.current&1),n=_u(n,e,t),n!==null?n.sibling:null);ur(Nr,Nr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return s7(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ur(Nr,Nr.current),r)break;return null;case 22:case 23:return e.lanes=0,t7(n,e,t)}return _u(n,e,t)}var o7,F3,a7,l7;o7=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};F3=function(){};a7=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,fh(hc.current);var s=null;switch(t){case"input":i=o3(n,i),r=o3(n,r),s=[];break;case"select":i=Hr({},i,{value:void 0}),r=Hr({},r,{value:void 0}),s=[];break;case"textarea":i=c3(n,i),r=c3(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=cS)}d3(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_y.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_y.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pr("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};l7=function(n,e,t,r){t!==r&&(e.flags|=4)};function Wg(n,e){if(!Ar)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function ys(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function nee(n,e,t){var r=e.pendingProps;switch(nP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(e),null;case 1:return yo(e.type)&&uS(),ys(e),null;case 3:return r=e.stateNode,f0(),gr(vo),gr(Ps),dP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(C_(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vl!==null&&(j3(vl),vl=null))),F3(n,e),ys(e),null;case 5:uP(e);var i=fh(Iy.current);if(t=e.type,n!==null&&e.stateNode!=null)a7(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ke(166));return ys(e),null}if(n=fh(hc.current),C_(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[rc]=e,r[Ry]=s,n=(e.mode&1)!==0,t){case"dialog":pr("cancel",r),pr("close",r);break;case"iframe":case"object":case"embed":pr("load",r);break;case"video":case"audio":for(i=0;i<Tv.length;i++)pr(Tv[i],r);break;case"source":pr("error",r);break;case"img":case"image":case"link":pr("error",r),pr("load",r);break;case"details":pr("toggle",r);break;case"input":ZO(r,s),pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pr("invalid",r);break;case"textarea":QO(r,s),pr("invalid",r)}d3(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&M_(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&M_(r.textContent,a,n),i=["children",""+a]):_y.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pr("scroll",r)}switch(t){case"input":y_(r),JO(r,s,!0);break;case"textarea":y_(r),eN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cS)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=NU(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[rc]=e,n[Ry]=r,o7(n,e,!1,!1),e.stateNode=n;e:{switch(o=f3(t,r),t){case"dialog":pr("cancel",n),pr("close",n),i=r;break;case"iframe":case"object":case"embed":pr("load",n),i=r;break;case"video":case"audio":for(i=0;i<Tv.length;i++)pr(Tv[i],n);i=r;break;case"source":pr("error",n),i=r;break;case"img":case"image":case"link":pr("error",n),pr("load",n),i=r;break;case"details":pr("toggle",n),i=r;break;case"input":ZO(n,r),i=o3(n,r),pr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Hr({},r,{value:void 0}),pr("invalid",n);break;case"textarea":QO(n,r),i=c3(n,r),pr("invalid",n);break;default:i=r}d3(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?FU(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&DU(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&by(n,l):typeof l=="number"&&by(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_y.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pr("scroll",n):l!=null&&UR(n,s,l,o))}switch(t){case"input":y_(n),JO(n,r,!1);break;case"textarea":y_(n),eN(n);break;case"option":r.value!=null&&n.setAttribute("value",""+qd(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Nm(n,!!r.multiple,s,!1):r.defaultValue!=null&&Nm(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=cS)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ys(e),null;case 6:if(n&&e.stateNode!=null)l7(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ke(166));if(t=fh(Iy.current),fh(hc.current),C_(e)){if(r=e.stateNode,t=e.memoizedProps,r[rc]=e,(s=r.nodeValue!==t)&&(n=Xo,n!==null))switch(n.tag){case 3:M_(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&M_(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[rc]=e,e.stateNode=r}return ys(e),null;case 13:if(gr(Nr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ar&&jo!==null&&e.mode&1&&!(e.flags&128))E9(),u0(),e.flags|=98560,s=!1;else if(s=C_(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ke(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ke(317));s[rc]=e}else u0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ys(e),s=!1}else vl!==null&&(j3(vl),vl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Nr.current&1?Ci===0&&(Ci=3):SP())),e.updateQueue!==null&&(e.flags|=4),ys(e),null);case 4:return f0(),F3(n,e),n===null&&Ty(e.stateNode.containerInfo),ys(e),null;case 10:return oP(e.type._context),ys(e),null;case 17:return yo(e.type)&&uS(),ys(e),null;case 19:if(gr(Nr),s=e.memoizedState,s===null)return ys(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Wg(s,!1);else{if(Ci!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=vS(n),o!==null){for(e.flags|=128,Wg(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return ur(Nr,Nr.current&1|2),e.child}n=n.sibling}s.tail!==null&&ii()>p0&&(e.flags|=128,r=!0,Wg(s,!1),e.lanes=4194304)}else{if(!r)if(n=vS(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Wg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ar)return ys(e),null}else 2*ii()-s.renderingStartTime>p0&&t!==1073741824&&(e.flags|=128,r=!0,Wg(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ii(),e.sibling=null,t=Nr.current,ur(Nr,r?t&1|2:t&1),e):(ys(e),null);case 22:case 23:return wP(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vo&1073741824&&(ys(e),e.subtreeFlags&6&&(e.flags|=8192)):ys(e),null;case 24:return null;case 25:return null}throw Error(Ke(156,e.tag))}function ree(n,e){switch(nP(e),e.tag){case 1:return yo(e.type)&&uS(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return f0(),gr(vo),gr(Ps),dP(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return uP(e),null;case 13:if(gr(Nr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ke(340));u0()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return gr(Nr),null;case 4:return f0(),null;case 10:return oP(e.type._context),null;case 22:case 23:return wP(),null;case 24:return null;default:return null}}var R_=!1,Ss=!1,iee=typeof WeakSet=="function"?WeakSet:Set,vt=null;function xm(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){qr(n,e,r)}else t.current=null}function z3(n,e,t){try{t()}catch(r){qr(n,e,r)}}var GN=!1;function see(n,e){if(w3=oS,n=f9(),eP(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,u=n,f=null;t:for(;;){for(var h;u!==t||i!==0&&u.nodeType!==3||(a=o+i),u!==s||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(h=u.firstChild)!==null;)f=u,u=h;for(;;){if(u===n)break t;if(f===t&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(h=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=h}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(S3={focusedElem:n,selectionRange:t},oS=!1,vt=e;vt!==null;)if(e=vt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,vt=n;else for(;vt!==null;){e=vt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:fl(e.type,v),x);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(A){qr(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,vt=n;break}vt=e.return}return g=GN,GN=!1,g}function Gv(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&z3(e,t,s)}i=i.next}while(i!==r)}}function G2(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function V3(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function c7(n){var e=n.alternate;e!==null&&(n.alternate=null,c7(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[rc],delete e[Ry],delete e[M3],delete e[UQ],delete e[HQ])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function u7(n){return n.tag===5||n.tag===3||n.tag===4}function $N(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||u7(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function U3(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=cS));else if(r!==4&&(n=n.child,n!==null))for(U3(n,e,t),n=n.sibling;n!==null;)U3(n,e,t),n=n.sibling}function H3(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(H3(n,e,t),n=n.sibling;n!==null;)H3(n,e,t),n=n.sibling}var Ji=null,ml=!1;function Ku(n,e,t){for(t=t.child;t!==null;)d7(n,e,t),t=t.sibling}function d7(n,e,t){if(fc&&typeof fc.onCommitFiberUnmount=="function")try{fc.onCommitFiberUnmount(N2,t)}catch{}switch(t.tag){case 5:Ss||xm(t,e);case 6:var r=Ji,i=ml;Ji=null,Ku(n,e,t),Ji=r,ml=i,Ji!==null&&(ml?(n=Ji,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ji.removeChild(t.stateNode));break;case 18:Ji!==null&&(ml?(n=Ji,t=t.stateNode,n.nodeType===8?LM(n.parentNode,t):n.nodeType===1&&LM(n,t),Ey(n)):LM(Ji,t.stateNode));break;case 4:r=Ji,i=ml,Ji=t.stateNode.containerInfo,ml=!0,Ku(n,e,t),Ji=r,ml=i;break;case 0:case 11:case 14:case 15:if(!Ss&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&z3(t,e,o),i=i.next}while(i!==r)}Ku(n,e,t);break;case 1:if(!Ss&&(xm(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){qr(t,e,a)}Ku(n,e,t);break;case 21:Ku(n,e,t);break;case 22:t.mode&1?(Ss=(r=Ss)||t.memoizedState!==null,Ku(n,e,t),Ss=r):Ku(n,e,t);break;default:Ku(n,e,t)}}function WN(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new iee),e.forEach(function(r){var i=pee.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function el(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ji=a.stateNode,ml=!1;break e;case 3:Ji=a.stateNode.containerInfo,ml=!0;break e;case 4:Ji=a.stateNode.containerInfo,ml=!0;break e}a=a.return}if(Ji===null)throw Error(Ke(160));d7(s,o,i),Ji=null,ml=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){qr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)f7(e,n),e=e.sibling}function f7(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(el(e,n),Wl(n),r&4){try{Gv(3,n,n.return),G2(3,n)}catch(v){qr(n,n.return,v)}try{Gv(5,n,n.return)}catch(v){qr(n,n.return,v)}}break;case 1:el(e,n),Wl(n),r&512&&t!==null&&xm(t,t.return);break;case 5:if(el(e,n),Wl(n),r&512&&t!==null&&xm(t,t.return),n.flags&32){var i=n.stateNode;try{by(i,"")}catch(v){qr(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&LU(i,s),f3(a,o);var c=f3(a,s);for(o=0;o<l.length;o+=2){var d=l[o],u=l[o+1];d==="style"?FU(i,u):d==="dangerouslySetInnerHTML"?DU(i,u):d==="children"?by(i,u):UR(i,d,u,c)}switch(a){case"input":a3(i,s);break;case"textarea":OU(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Nm(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Nm(i,!!s.multiple,s.defaultValue,!0):Nm(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ry]=s}catch(v){qr(n,n.return,v)}}break;case 6:if(el(e,n),Wl(n),r&4){if(n.stateNode===null)throw Error(Ke(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){qr(n,n.return,v)}}break;case 3:if(el(e,n),Wl(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Ey(e.containerInfo)}catch(v){qr(n,n.return,v)}break;case 4:el(e,n),Wl(n);break;case 13:el(e,n),Wl(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_P=ii())),r&4&&WN(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Ss=(c=Ss)||d,el(e,n),Ss=c):el(e,n),Wl(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(vt=n,d=n.child;d!==null;){for(u=vt=d;vt!==null;){switch(f=vt,h=f.child,f.tag){case 0:case 11:case 14:case 15:Gv(4,f,f.return);break;case 1:xm(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){qr(r,t,v)}}break;case 5:xm(f,f.return);break;case 22:if(f.memoizedState!==null){qN(u);continue}}h!==null?(h.return=f,vt=h):qN(u)}d=d.sibling}e:for(d=null,u=n;;){if(u.tag===5){if(d===null){d=u;try{i=u.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BU("display",o))}catch(v){qr(n,n.return,v)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(v){qr(n,n.return,v)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===n)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:el(e,n),Wl(n),r&4&&WN(n);break;case 21:break;default:el(e,n),Wl(n)}}function Wl(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(u7(t)){var r=t;break e}t=t.return}throw Error(Ke(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(by(i,""),r.flags&=-33);var s=$N(n);H3(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$N(n);U3(n,a,o);break;default:throw Error(Ke(161))}}catch(l){qr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function oee(n,e,t){vt=n,h7(n)}function h7(n,e,t){for(var r=(n.mode&1)!==0;vt!==null;){var i=vt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||R_;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ss;a=R_;var c=Ss;if(R_=o,(Ss=l)&&!c)for(vt=i;vt!==null;)o=vt,l=o.child,o.tag===22&&o.memoizedState!==null?YN(i):l!==null?(l.return=o,vt=l):YN(i);for(;s!==null;)vt=s,h7(s),s=s.sibling;vt=i,R_=a,Ss=c}jN(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,vt=s):jN(n)}}function jN(n){for(;vt!==null;){var e=vt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ss||G2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ss)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:fl(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kN(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}kN(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&Ey(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}Ss||e.flags&512&&V3(e)}catch(f){qr(e,e.return,f)}}if(e===n){vt=null;break}if(t=e.sibling,t!==null){t.return=e.return,vt=t;break}vt=e.return}}function qN(n){for(;vt!==null;){var e=vt;if(e===n){vt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,vt=t;break}vt=e.return}}function YN(n){for(;vt!==null;){var e=vt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{G2(4,e)}catch(l){qr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qr(e,i,l)}}var s=e.return;try{V3(e)}catch(l){qr(e,s,l)}break;case 5:var o=e.return;try{V3(e)}catch(l){qr(e,o,l)}}}catch(l){qr(e,e.return,l)}if(e===n){vt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,vt=a;break}vt=e.return}}var aee=Math.ceil,_S=Pu.ReactCurrentDispatcher,yP=Pu.ReactCurrentOwner,Va=Pu.ReactCurrentBatchConfig,Pn=0,Hi=null,vi=null,rs=0,Vo=0,_m=ff(0),Ci=0,Dy=null,zh=0,$2=0,xP=0,$v=null,uo=null,_P=0,p0=1/0,Zc=null,bS=!1,G3=null,zd=null,P_=!1,Ad=null,wS=0,Wv=0,$3=null,pw=-1,mw=0;function Ks(){return Pn&6?ii():pw!==-1?pw:pw=ii()}function Vd(n){return n.mode&1?Pn&2&&rs!==0?rs&-rs:$Q.transition!==null?(mw===0&&(mw=KU()),mw):(n=Yn,n!==0||(n=window.event,n=n===void 0?16:r9(n.type)),n):1}function Al(n,e,t,r){if(50<Wv)throw Wv=0,$3=null,Error(Ke(185));L1(n,t,r),(!(Pn&2)||n!==Hi)&&(n===Hi&&(!(Pn&2)&&($2|=t),Ci===4&&_d(n,rs)),xo(n,r),t===1&&Pn===0&&!(e.mode&1)&&(p0=ii()+500,V2&&hf()))}function xo(n,e){var t=n.callbackNode;$J(n,e);var r=sS(n,n===Hi?rs:0);if(r===0)t!==null&&rN(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&rN(t),e===1)n.tag===0?GQ(XN.bind(null,n)):w9(XN.bind(null,n)),zQ(function(){!(Pn&6)&&hf()}),t=null;else{switch(ZU(r)){case 1:t=jR;break;case 4:t=YU;break;case 16:t=iS;break;case 536870912:t=XU;break;default:t=iS}t=b7(t,p7.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function p7(n,e){if(pw=-1,mw=0,Pn&6)throw Error(Ke(327));var t=n.callbackNode;if(Vm()&&n.callbackNode!==t)return null;var r=sS(n,n===Hi?rs:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=SS(n,r);else{e=r;var i=Pn;Pn|=2;var s=g7();(Hi!==n||rs!==e)&&(Zc=null,p0=ii()+500,wh(n,e));do try{uee();break}catch(a){m7(n,a)}while(1);sP(),_S.current=s,Pn=i,vi!==null?e=0:(Hi=null,rs=0,e=Ci)}if(e!==0){if(e===2&&(i=v3(n),i!==0&&(r=i,e=W3(n,i))),e===1)throw t=Dy,wh(n,0),_d(n,r),xo(n,ii()),t;if(e===6)_d(n,r);else{if(i=n.current.alternate,!(r&30)&&!lee(i)&&(e=SS(n,r),e===2&&(s=v3(n),s!==0&&(r=s,e=W3(n,s))),e===1))throw t=Dy,wh(n,0),_d(n,r),xo(n,ii()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ke(345));case 2:Kf(n,uo,Zc);break;case 3:if(_d(n,r),(r&130023424)===r&&(e=_P+500-ii(),10<e)){if(sS(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Ks(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=E3(Kf.bind(null,n,uo,Zc),e);break}Kf(n,uo,Zc);break;case 4:if(_d(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Sl(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ii()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aee(r/1960))-r,10<r){n.timeoutHandle=E3(Kf.bind(null,n,uo,Zc),r);break}Kf(n,uo,Zc);break;case 5:Kf(n,uo,Zc);break;default:throw Error(Ke(329))}}}return xo(n,ii()),n.callbackNode===t?p7.bind(null,n):null}function W3(n,e){var t=$v;return n.current.memoizedState.isDehydrated&&(wh(n,e).flags|=256),n=SS(n,e),n!==2&&(e=uo,uo=t,e!==null&&j3(e)),n}function j3(n){uo===null?uo=n:uo.push.apply(uo,n)}function lee(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Il(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _d(n,e){for(e&=~xP,e&=~$2,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Sl(e),r=1<<t;n[t]=-1,e&=~r}}function XN(n){if(Pn&6)throw Error(Ke(327));Vm();var e=sS(n,0);if(!(e&1))return xo(n,ii()),null;var t=SS(n,e);if(n.tag!==0&&t===2){var r=v3(n);r!==0&&(e=r,t=W3(n,r))}if(t===1)throw t=Dy,wh(n,0),_d(n,e),xo(n,ii()),t;if(t===6)throw Error(Ke(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Kf(n,uo,Zc),xo(n,ii()),null}function bP(n,e){var t=Pn;Pn|=1;try{return n(e)}finally{Pn=t,Pn===0&&(p0=ii()+500,V2&&hf())}}function Vh(n){Ad!==null&&Ad.tag===0&&!(Pn&6)&&Vm();var e=Pn;Pn|=1;var t=Va.transition,r=Yn;try{if(Va.transition=null,Yn=1,n)return n()}finally{Yn=r,Va.transition=t,Pn=e,!(Pn&6)&&hf()}}function wP(){Vo=_m.current,gr(_m)}function wh(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,FQ(t)),vi!==null)for(t=vi.return;t!==null;){var r=t;switch(nP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uS();break;case 3:f0(),gr(vo),gr(Ps),dP();break;case 5:uP(r);break;case 4:f0();break;case 13:gr(Nr);break;case 19:gr(Nr);break;case 10:oP(r.type._context);break;case 22:case 23:wP()}t=t.return}if(Hi=n,vi=n=Ud(n.current,null),rs=Vo=e,Ci=0,Dy=null,xP=$2=zh=0,uo=$v=null,dh!==null){for(e=0;e<dh.length;e++)if(t=dh[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}dh=null}return n}function m7(n,e){do{var t=vi;try{if(sP(),dw.current=xS,yS){for(var r=Ur.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yS=!1}if(Fh=0,Fi=Ei=Ur=null,Hv=!1,Ly=0,yP.current=null,t===null||t.return===null){Ci=1,Dy=e,vi=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=rs,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=DN(o);if(h!==null){h.flags&=-257,BN(h,o,a,s,e),h.mode&1&&NN(s,c,e),e=h,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){NN(s,c,e),SP();break e}l=Error(Ke(426))}}else if(Ar&&a.mode&1){var x=DN(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),BN(x,o,a,s,e),rP(h0(l,a));break e}}s=l=h0(l,a),Ci!==4&&(Ci=2),$v===null?$v=[s]:$v.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=J9(s,l,e);TN(s,y);break e;case 1:a=l;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zd===null||!zd.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=Q9(s,a,e);TN(s,A);break e}}s=s.return}while(s!==null)}y7(t)}catch(E){e=E,vi===t&&t!==null&&(vi=t=t.return);continue}break}while(1)}function g7(){var n=_S.current;return _S.current=xS,n===null?xS:n}function SP(){(Ci===0||Ci===3||Ci===2)&&(Ci=4),Hi===null||!(zh&268435455)&&!($2&268435455)||_d(Hi,rs)}function SS(n,e){var t=Pn;Pn|=2;var r=g7();(Hi!==n||rs!==e)&&(Zc=null,wh(n,e));do try{cee();break}catch(i){m7(n,i)}while(1);if(sP(),Pn=t,_S.current=r,vi!==null)throw Error(Ke(261));return Hi=null,rs=0,Ci}function cee(){for(;vi!==null;)v7(vi)}function uee(){for(;vi!==null&&!NJ();)v7(vi)}function v7(n){var e=_7(n.alternate,n,Vo);n.memoizedProps=n.pendingProps,e===null?y7(n):vi=e,yP.current=null}function y7(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=ree(t,e),t!==null){t.flags&=32767,vi=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ci=6,vi=null;return}}else if(t=nee(t,e,Vo),t!==null){vi=t;return}if(e=e.sibling,e!==null){vi=e;return}vi=e=n}while(e!==null);Ci===0&&(Ci=5)}function Kf(n,e,t){var r=Yn,i=Va.transition;try{Va.transition=null,Yn=1,dee(n,e,t,r)}finally{Va.transition=i,Yn=r}return null}function dee(n,e,t,r){do Vm();while(Ad!==null);if(Pn&6)throw Error(Ke(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ke(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(WJ(n,s),n===Hi&&(vi=Hi=null,rs=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||P_||(P_=!0,b7(iS,function(){return Vm(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Va.transition,Va.transition=null;var o=Yn;Yn=1;var a=Pn;Pn|=4,yP.current=null,see(n,t),f7(t,n),PQ(S3),oS=!!w3,S3=w3=null,n.current=t,oee(t),DJ(),Pn=a,Yn=o,Va.transition=s}else n.current=t;if(P_&&(P_=!1,Ad=n,wS=i),s=n.pendingLanes,s===0&&(zd=null),zJ(t.stateNode),xo(n,ii()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(bS)throw bS=!1,n=G3,G3=null,n;return wS&1&&n.tag!==0&&Vm(),s=n.pendingLanes,s&1?n===$3?Wv++:(Wv=0,$3=n):Wv=0,hf(),null}function Vm(){if(Ad!==null){var n=ZU(wS),e=Va.transition,t=Yn;try{if(Va.transition=null,Yn=16>n?16:n,Ad===null)var r=!1;else{if(n=Ad,Ad=null,wS=0,Pn&6)throw Error(Ke(331));var i=Pn;for(Pn|=4,vt=n.current;vt!==null;){var s=vt,o=s.child;if(vt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(vt=c;vt!==null;){var d=vt;switch(d.tag){case 0:case 11:case 15:Gv(8,d,s)}var u=d.child;if(u!==null)u.return=d,vt=u;else for(;vt!==null;){d=vt;var f=d.sibling,h=d.return;if(c7(d),d===c){vt=null;break}if(f!==null){f.return=h,vt=f;break}vt=h}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}vt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,vt=o;else e:for(;vt!==null;){if(s=vt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gv(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,vt=y;break e}vt=s.return}}var _=n.current;for(vt=_;vt!==null;){o=vt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,vt=b;else e:for(o=_;vt!==null;){if(a=vt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:G2(9,a)}}catch(E){qr(a,a.return,E)}if(a===o){vt=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,vt=A;break e}vt=a.return}}if(Pn=i,hf(),fc&&typeof fc.onPostCommitFiberRoot=="function")try{fc.onPostCommitFiberRoot(N2,n)}catch{}r=!0}return r}finally{Yn=t,Va.transition=e}}return!1}function KN(n,e,t){e=h0(t,e),e=J9(n,e,1),n=Fd(n,e,1),e=Ks(),n!==null&&(L1(n,1,e),xo(n,e))}function qr(n,e,t){if(n.tag===3)KN(n,n,t);else for(;e!==null;){if(e.tag===3){KN(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zd===null||!zd.has(r))){n=h0(t,n),n=Q9(e,n,1),e=Fd(e,n,1),n=Ks(),e!==null&&(L1(e,1,n),xo(e,n));break}}e=e.return}}function fee(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Ks(),n.pingedLanes|=n.suspendedLanes&t,Hi===n&&(rs&t)===t&&(Ci===4||Ci===3&&(rs&130023424)===rs&&500>ii()-_P?wh(n,0):xP|=t),xo(n,e)}function x7(n,e){e===0&&(n.mode&1?(e=b_,b_<<=1,!(b_&130023424)&&(b_=4194304)):e=1);var t=Ks();n=xu(n,e),n!==null&&(L1(n,e,t),xo(n,t))}function hee(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),x7(n,t)}function pee(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ke(314))}r!==null&&r.delete(e),x7(n,t)}var _7;_7=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||vo.current)po=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return po=!1,tee(n,e,t);po=!!(n.flags&131072)}else po=!1,Ar&&e.flags&1048576&&S9(e,hS,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hw(n,e),n=e.pendingProps;var i=c0(e,Ps.current);zm(e,t),i=hP(null,e,r,n,i,t);var s=pP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yo(r)?(s=!0,dS(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lP(e),i.updater=U2,e.stateNode=i,i._reactInternals=e,I3(e,r,n,t),e=N3(null,e,r,!0,s,t)):(e.tag=0,Ar&&s&&tP(e),$s(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(hw(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=gee(r),n=fl(r,n),i){case 0:e=O3(null,e,r,n,t);break e;case 1:e=VN(null,e,r,n,t);break e;case 11:e=FN(null,e,r,n,t);break e;case 14:e=zN(null,e,r,fl(r.type,n),t);break e}throw Error(Ke(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fl(r,i),O3(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fl(r,i),VN(n,e,r,i,t);case 3:e:{if(r7(e),n===null)throw Error(Ke(387));r=e.pendingProps,s=e.memoizedState,i=s.element,C9(n,e),gS(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=h0(Error(Ke(423)),e),e=UN(n,e,r,t,i);break e}else if(r!==i){i=h0(Error(Ke(424)),e),e=UN(n,e,r,t,i);break e}else for(jo=Bd(e.stateNode.containerInfo.firstChild),Xo=e,Ar=!0,vl=null,t=P9(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(u0(),r===i){e=_u(n,e,t);break e}$s(n,e,r,t)}e=e.child}return e;case 5:return I9(e),n===null&&k3(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,A3(r,i)?o=null:s!==null&&A3(r,s)&&(e.flags|=32),n7(n,e),$s(n,e,o,t),e.child;case 6:return n===null&&k3(e),null;case 13:return i7(n,e,t);case 4:return cP(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=d0(e,null,r,t):$s(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fl(r,i),FN(n,e,r,i,t);case 7:return $s(n,e,e.pendingProps,t),e.child;case 8:return $s(n,e,e.pendingProps.children,t),e.child;case 12:return $s(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ur(pS,r._currentValue),r._currentValue=o,s!==null)if(Il(s.value,o)){if(s.children===i.children&&!vo.current){e=_u(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=mu(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),R3(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ke(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),R3(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$s(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zm(e,t),i=Ua(i),r=r(i),e.flags|=1,$s(n,e,r,t),e.child;case 14:return r=e.type,i=fl(r,e.pendingProps),i=fl(r.type,i),zN(n,e,r,i,t);case 15:return e7(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fl(r,i),hw(n,e),e.tag=1,yo(r)?(n=!0,dS(e)):n=!1,zm(e,t),k9(e,r,i),I3(e,r,i,t),N3(null,e,r,!0,n,t);case 19:return s7(n,e,t);case 22:return t7(n,e,t)}throw Error(Ke(156,e.tag))};function b7(n,e){return qU(n,e)}function mee(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oa(n,e,t,r){return new mee(n,e,t,r)}function AP(n){return n=n.prototype,!(!n||!n.isReactComponent)}function gee(n){if(typeof n=="function")return AP(n)?1:0;if(n!=null){if(n=n.$$typeof,n===GR)return 11;if(n===$R)return 14}return 2}function Ud(n,e){var t=n.alternate;return t===null?(t=Oa(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function gw(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")AP(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case um:return Sh(t.children,i,s,e);case HR:o=8,i|=8;break;case n3:return n=Oa(12,t,e,i|2),n.elementType=n3,n.lanes=s,n;case r3:return n=Oa(13,t,e,i),n.elementType=r3,n.lanes=s,n;case i3:return n=Oa(19,t,e,i),n.elementType=i3,n.lanes=s,n;case RU:return W2(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case TU:o=10;break e;case kU:o=9;break e;case GR:o=11;break e;case $R:o=14;break e;case md:o=16,r=null;break e}throw Error(Ke(130,n==null?n:typeof n,""))}return e=Oa(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Sh(n,e,t,r){return n=Oa(7,n,r,e),n.lanes=t,n}function W2(n,e,t,r){return n=Oa(22,n,r,e),n.elementType=RU,n.lanes=t,n.stateNode={isHidden:!1},n}function UM(n,e,t){return n=Oa(6,n,null,e),n.lanes=t,n}function HM(n,e,t){return e=Oa(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function vee(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wM(0),this.expirationTimes=wM(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wM(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function EP(n,e,t,r,i,s,o,a,l){return n=new vee(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Oa(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},lP(s),n}function yee(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cm,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function w7(n){if(!n)return Yd;n=n._reactInternals;e:{if(Zh(n)!==n||n.tag!==1)throw Error(Ke(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ke(171))}if(n.tag===1){var t=n.type;if(yo(t))return b9(n,t,e)}return e}function S7(n,e,t,r,i,s,o,a,l){return n=EP(t,r,!0,n,i,s,o,a,l),n.context=w7(null),t=n.current,r=Ks(),i=Vd(t),s=mu(r,i),s.callback=e??null,Fd(t,s,i),n.current.lanes=i,L1(n,i,r),xo(n,r),n}function j2(n,e,t,r){var i=e.current,s=Ks(),o=Vd(i);return t=w7(t),e.context===null?e.context=t:e.pendingContext=t,e=mu(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Fd(i,e,o),n!==null&&(Al(n,i,o,s),uw(n,i,o)),o}function AS(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ZN(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function MP(n,e){ZN(n,e),(n=n.alternate)&&ZN(n,e)}function xee(){return null}var A7=typeof reportError=="function"?reportError:function(n){console.error(n)};function CP(n){this._internalRoot=n}q2.prototype.render=CP.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ke(409));j2(n,e,null,null)};q2.prototype.unmount=CP.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Vh(function(){j2(null,n,null,null)}),e[yu]=null}};function q2(n){this._internalRoot=n}q2.prototype.unstable_scheduleHydration=function(n){if(n){var e=e9();n={blockedOn:null,target:n,priority:e};for(var t=0;t<xd.length&&e!==0&&e<xd[t].priority;t++);xd.splice(t,0,n),t===0&&n9(n)}};function TP(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Y2(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function JN(){}function _ee(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=AS(o);s.call(c)}}var o=S7(e,r,n,0,null,!1,!1,"",JN);return n._reactRootContainer=o,n[yu]=o.current,Ty(n.nodeType===8?n.parentNode:n),Vh(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=AS(l);a.call(c)}}var l=EP(n,0,!1,null,null,!1,!1,"",JN);return n._reactRootContainer=l,n[yu]=l.current,Ty(n.nodeType===8?n.parentNode:n),Vh(function(){j2(e,l,t,r)}),l}function X2(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=AS(o);a.call(l)}}j2(e,o,n,i)}else o=_ee(t,e,n,i,r);return AS(o)}JU=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Cv(e.pendingLanes);t!==0&&(qR(e,t|1),xo(e,ii()),!(Pn&6)&&(p0=ii()+500,hf()))}break;case 13:Vh(function(){var r=xu(n,1);if(r!==null){var i=Ks();Al(r,n,1,i)}}),MP(n,1)}};YR=function(n){if(n.tag===13){var e=xu(n,134217728);if(e!==null){var t=Ks();Al(e,n,134217728,t)}MP(n,134217728)}};QU=function(n){if(n.tag===13){var e=Vd(n),t=xu(n,e);if(t!==null){var r=Ks();Al(t,n,e,r)}MP(n,e)}};e9=function(){return Yn};t9=function(n,e){var t=Yn;try{return Yn=n,e()}finally{Yn=t}};p3=function(n,e,t){switch(e){case"input":if(a3(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=z2(r);if(!i)throw Error(Ke(90));IU(r),a3(r,i)}}}break;case"textarea":OU(n,t);break;case"select":e=t.value,e!=null&&Nm(n,!!t.multiple,e,!1)}};UU=bP;HU=Vh;var bee={usingClientEntryPoint:!1,Events:[N1,pm,z2,zU,VU,bP]},jg={findFiberByHostInstance:uh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wee={bundleType:jg.bundleType,version:jg.version,rendererPackageName:jg.rendererPackageName,rendererConfig:jg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pu.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=WU(n),n===null?null:n.stateNode},findFiberByHostInstance:jg.findFiberByHostInstance||xee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var I_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!I_.isDisabled&&I_.supportsFiber)try{N2=I_.inject(wee),fc=I_}catch{}}sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bee;sa.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TP(e))throw Error(Ke(200));return yee(n,e,null,t)};sa.createRoot=function(n,e){if(!TP(n))throw Error(Ke(299));var t=!1,r="",i=A7;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=EP(n,1,!1,null,null,t,!1,r,i),n[yu]=e.current,Ty(n.nodeType===8?n.parentNode:n),new CP(e)};sa.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ke(188)):(n=Object.keys(n).join(","),Error(Ke(268,n)));return n=WU(e),n=n===null?null:n.stateNode,n};sa.flushSync=function(n){return Vh(n)};sa.hydrate=function(n,e,t){if(!Y2(e))throw Error(Ke(200));return X2(null,n,e,!0,t)};sa.hydrateRoot=function(n,e,t){if(!TP(n))throw Error(Ke(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=A7;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=S7(e,null,n,1,t??null,i,!1,s,o),n[yu]=e.current,Ty(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new q2(e)};sa.render=function(n,e,t){if(!Y2(e))throw Error(Ke(200));return X2(null,n,e,!1,t)};sa.unmountComponentAtNode=function(n){if(!Y2(n))throw Error(Ke(40));return n._reactRootContainer?(Vh(function(){X2(null,null,n,!1,function(){n._reactRootContainer=null,n[yu]=null})}),!0):!1};sa.unstable_batchedUpdates=bP;sa.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Y2(t))throw Error(Ke(200));if(n==null||n._reactInternals===void 0)throw Error(Ke(38));return X2(n,e,t,!1,r)};sa.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=sa})(xJ);const kP=OR(a0);var E7,QN=a0;E7=QT.createRoot=QN.createRoot,QT.hydrateRoot=QN.hydrateRoot;var By=Boolean(globalThis==null?void 0:globalThis.document)?T.useLayoutEffect:T.useEffect,RP=T.createContext({});RP.displayName="ColorModeContext";function PP(){const n=T.useContext(RP);if(n===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return n}var L_={light:"chakra-ui-light",dark:"chakra-ui-dark"};function See(n={}){const{preventTransition:e=!0}=n,t={setDataset:r=>{const i=e?t.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?L_.dark:L_.light),document.body.classList.remove(r?L_.light:L_.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){return t.query().matches??r==="dark"?"dark":"light"},addListener(r){const i=t.query(),s=o=>{r(o.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(s):i.addEventListener("change",s),()=>{typeof i.removeListener=="function"?i.removeListener(s):i.removeEventListener("change",s)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return t}var Aee="chakra-ui-color-mode";function Eee(n){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let t;try{t=localStorage.getItem(n)||e}catch{}return t||e},set(e){try{localStorage.setItem(n,e)}catch{}}}}var Mee=Eee(Aee),eD=()=>{};function tD(n,e){return n.type==="cookie"&&n.ssr?n.get(e):e}function M7(n){const{value:e,children:t,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:s}={},colorModeManager:o=Mee}=n,a=i==="dark"?"dark":"light",[l,c]=T.useState(()=>tD(o,a)),[d,u]=T.useState(()=>tD(o)),{getSystemTheme:f,setClassName:h,setDataset:g,addListener:v}=T.useMemo(()=>See({preventTransition:s}),[s]),x=i==="system"&&!l?d:l,y=T.useCallback(A=>{const E=A==="system"?f():A;c(E),h(E==="dark"),g(E),o.set(E)},[o,f,h,g]);By(()=>{i==="system"&&u(f())},[]),T.useEffect(()=>{const A=o.get();if(A){y(A);return}if(i==="system"){y("system");return}y(a)},[o,a,i,y]);const _=T.useCallback(()=>{y(x==="dark"?"light":"dark")},[x,y]);T.useEffect(()=>{if(r)return v(y)},[r,v,y]);const b=T.useMemo(()=>({colorMode:e??x,toggleColorMode:e?eD:_,setColorMode:e?eD:y,forced:e!==void 0}),[x,_,y,e]);return H.createElement(RP.Provider,{value:b},t)}M7.displayName="ColorModeProvider";var ES={},Cee={get exports(){return ES},set exports(n){ES=n}};(function(n,e){var t=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Function]",g="[object GeneratorFunction]",v="[object Map]",x="[object Number]",y="[object Null]",_="[object Object]",b="[object Proxy]",A="[object RegExp]",E="[object Set]",k="[object String]",P="[object Undefined]",C="[object WeakMap]",O="[object ArrayBuffer]",U="[object DataView]",K="[object Float32Array]",J="[object Float64Array]",F="[object Int8Array]",S="[object Int16Array]",I="[object Int32Array]",D="[object Uint8Array]",$="[object Uint8ClampedArray]",N="[object Uint16Array]",G="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,Y={};Y[K]=Y[J]=Y[F]=Y[S]=Y[I]=Y[D]=Y[$]=Y[N]=Y[G]=!0,Y[a]=Y[l]=Y[O]=Y[d]=Y[U]=Y[u]=Y[f]=Y[h]=Y[v]=Y[x]=Y[_]=Y[A]=Y[E]=Y[k]=Y[C]=!1;var Ae=typeof xl=="object"&&xl&&xl.Object===Object&&xl,z=typeof self=="object"&&self&&self.Object===Object&&self,Q=Ae||z||Function("return this")(),ve=e&&!e.nodeType&&e,ge=ve&&!0&&n&&!n.nodeType&&n,Re=ge&&ge.exports===ve,Oe=Re&&Ae.process,Me=function(){try{var re=ge&&ge.require&&ge.require("util").types;return re||Oe&&Oe.binding&&Oe.binding("util")}catch{}}(),X=Me&&Me.isTypedArray;function ee(re,de,Pe){switch(Pe.length){case 0:return re.call(de);case 1:return re.call(de,Pe[0]);case 2:return re.call(de,Pe[0],Pe[1]);case 3:return re.call(de,Pe[0],Pe[1],Pe[2])}return re.apply(de,Pe)}function ie(re,de){for(var Pe=-1,pt=Array(re);++Pe<re;)pt[Pe]=de(Pe);return pt}function fe(re){return function(de){return re(de)}}function Ce(re,de){return re==null?void 0:re[de]}function we(re,de){return function(Pe){return re(de(Pe))}}var Ne=Array.prototype,Ze=Function.prototype,nt=Object.prototype,ht=Q["__core-js_shared__"],se=Ze.toString,q=nt.hasOwnProperty,le=function(){var re=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||"");return re?"Symbol(src)_1."+re:""}(),ze=nt.toString,Be=se.call(Object),Ue=RegExp("^"+se.call(q).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=Re?Q.Buffer:void 0,be=Q.Symbol,Xe=Q.Uint8Array,tt=mt?mt.allocUnsafe:void 0,ae=we(Object.getPrototypeOf,Object),xe=Object.create,je=nt.propertyIsEnumerable,qe=Ne.splice,st=be?be.toStringTag:void 0,ce=function(){try{var re=up(Object,"defineProperty");return re({},"",{}),re}catch{}}(),$e=mt?mt.isBuffer:void 0,Ee=Math.max,Je=Date.now,He=up(Q,"Map"),gt=up(Object,"create"),Hn=function(){function re(){}return function(de){if(!Za(de))return{};if(xe)return xe(de);re.prototype=de;var Pe=new re;return re.prototype=void 0,Pe}}();function Ct(re){var de=-1,Pe=re==null?0:re.length;for(this.clear();++de<Pe;){var pt=re[de];this.set(pt[0],pt[1])}}function sn(){this.__data__=gt?gt(null):{},this.size=0}function Sn(re){var de=this.has(re)&&delete this.__data__[re];return this.size-=de?1:0,de}function tn(re){var de=this.__data__;if(gt){var Pe=de[re];return Pe===r?void 0:Pe}return q.call(de,re)?de[re]:void 0}function jt(re){var de=this.__data__;return gt?de[re]!==void 0:q.call(de,re)}function no(re,de){var Pe=this.__data__;return this.size+=this.has(re)?0:1,Pe[re]=gt&&de===void 0?r:de,this}Ct.prototype.clear=sn,Ct.prototype.delete=Sn,Ct.prototype.get=tn,Ct.prototype.has=jt,Ct.prototype.set=no;function Qt(re){var de=-1,Pe=re==null?0:re.length;for(this.clear();++de<Pe;){var pt=re[de];this.set(pt[0],pt[1])}}function Ln(){this.__data__=[],this.size=0}function To(re){var de=this.__data__,Pe=Tr(de,re);if(Pe<0)return!1;var pt=de.length-1;return Pe==pt?de.pop():qe.call(de,Pe,1),--this.size,!0}function On(re){var de=this.__data__,Pe=Tr(de,re);return Pe<0?void 0:de[Pe][1]}function Cn(re){return Tr(this.__data__,re)>-1}function ne(re,de){var Pe=this.__data__,pt=Tr(Pe,re);return pt<0?(++this.size,Pe.push([re,de])):Pe[pt][1]=de,this}Qt.prototype.clear=Ln,Qt.prototype.delete=To,Qt.prototype.get=On,Qt.prototype.has=Cn,Qt.prototype.set=ne;function he(re){var de=-1,Pe=re==null?0:re.length;for(this.clear();++de<Pe;){var pt=re[de];this.set(pt[0],pt[1])}}function ke(){this.size=0,this.__data__={hash:new Ct,map:new(He||Qt),string:new Ct}}function _e(re){var de=Ic(this,re).delete(re);return this.size-=de?1:0,de}function Ie(re){return Ic(this,re).get(re)}function it(re){return Ic(this,re).has(re)}function Pt(re,de){var Pe=Ic(this,re),pt=Pe.size;return Pe.set(re,de),this.size+=Pe.size==pt?0:1,this}he.prototype.clear=ke,he.prototype.delete=_e,he.prototype.get=Ie,he.prototype.has=it,he.prototype.set=Pt;function ct(re){var de=this.__data__=new Qt(re);this.size=de.size}function ut(){this.__data__=new Qt,this.size=0}function qt(re){var de=this.__data__,Pe=de.delete(re);return this.size=de.size,Pe}function Vt(re){return this.__data__.get(re)}function Ut(re){return this.__data__.has(re)}function xn(re,de){var Pe=this.__data__;if(Pe instanceof Qt){var pt=Pe.__data__;if(!He||pt.length<t-1)return pt.push([re,de]),this.size=++Pe.size,this;Pe=this.__data__=new he(pt)}return Pe.set(re,de),this.size=Pe.size,this}ct.prototype.clear=ut,ct.prototype.delete=qt,ct.prototype.get=Vt,ct.prototype.has=Ut,ct.prototype.set=xn;function li(re,de){var Pe=pp(re),pt=!Pe&&hn(re),Ht=!Pe&&!pt&&Rx(re),Wn=!Pe&&!pt&&!Ht&&Px(re),jn=Pe||pt||Ht||Wn,un=jn?ie(re.length,String):[],pn=un.length;for(var Yi in re)(de||q.call(re,Yi))&&!(jn&&(Yi=="length"||Ht&&(Yi=="offset"||Yi=="parent")||Wn&&(Yi=="buffer"||Yi=="byteLength"||Yi=="byteOffset")||Tx(Yi,pn)))&&un.push(Yi);return un}function us(re,de,Pe){(Pe!==void 0&&!Uu(re[de],Pe)||Pe===void 0&&!(de in re))&&Gt(re,de,Pe)}function ro(re,de,Pe){var pt=re[de];(!(q.call(re,de)&&Uu(pt,Pe))||Pe===void 0&&!(de in re))&&Gt(re,de,Pe)}function Tr(re,de){for(var Pe=re.length;Pe--;)if(Uu(re[Pe][0],de))return Pe;return-1}function Gt(re,de,Pe){de=="__proto__"&&ce?ce(re,de,{configurable:!0,enumerable:!0,value:Pe,writable:!0}):re[de]=Pe}var ds=Cx();function Tn(re){return re==null?re===void 0?P:y:st&&st in Object(re)?ko(re):vE(re)}function Jr(re){return Ef(re)&&Tn(re)==a}function Ri(re){if(!Za(re)||fp(re))return!1;var de=xg(re)?Ue:W;return de.test(xE(re))}function Pi(re){return Ef(re)&&Qr(re.length)&&!!Y[Tn(re)]}function Ii(re){if(!Za(re))return hp(re);var de=Vu(re),Pe=[];for(var pt in re)pt=="constructor"&&(de||!q.call(re,pt))||Pe.push(pt);return Pe}function zt(re,de,Pe,pt,Ht){re!==de&&ds(de,function(Wn,jn){if(Ht||(Ht=new ct),Za(Wn))nn(re,de,jn,Pe,zt,pt,Ht);else{var un=pt?pt(wf(re,jn),Wn,jn+"",re,de,Ht):void 0;un===void 0&&(un=Wn),us(re,jn,un)}},Ro)}function nn(re,de,Pe,pt,Ht,Wn,jn){var un=wf(re,Pe),pn=wf(de,Pe),Yi=jn.get(pn);if(Yi){us(re,Pe,Yi);return}var Oi=Wn?Wn(un,pn,Pe+"",re,de,jn):void 0,fa=Oi===void 0;if(fa){var Mf=pp(pn),Cf=!Mf&&Rx(pn),bg=!Mf&&!Cf&&Px(pn);Oi=pn,Mf||Cf||bg?pp(un)?Oi=un:kx(un)?Oi=fs(un):Cf?(fa=!1,Oi=ci(pn,!0)):bg?(fa=!1,Oi=Ka(pn,!0)):Oi=[]:_g(pn)||hn(pn)?(Oi=un,hn(un)?Oi=mp(un):(!Za(un)||xg(un))&&(Oi=mE(pn))):fa=!1}fa&&(jn.set(pn,Oi),Ht(Oi,pn,pt,Wn,jn),jn.delete(pn)),us(re,Pe,Oi)}function Li(re,de){return yg(yE(re,de,Po),re+"")}var fn=ce?function(re,de){return ce(re,"toString",{configurable:!0,enumerable:!1,value:bE(de),writable:!0})}:Po;function ci(re,de){if(de)return re.slice();var Pe=re.length,pt=tt?tt(Pe):new re.constructor(Pe);return re.copy(pt),pt}function Xa(re){var de=new re.constructor(re.byteLength);return new Xe(de).set(new Xe(re)),de}function Ka(re,de){var Pe=de?Xa(re.buffer):re.buffer;return new re.constructor(Pe,re.byteOffset,re.length)}function fs(re,de){var Pe=-1,pt=re.length;for(de||(de=Array(pt));++Pe<pt;)de[Pe]=re[Pe];return de}function cp(re,de,Pe,pt){var Ht=!Pe;Pe||(Pe={});for(var Wn=-1,jn=de.length;++Wn<jn;){var un=de[Wn],pn=pt?pt(Pe[un],re[un],un,Pe,re):void 0;pn===void 0&&(pn=re[un]),Ht?Gt(Pe,un,pn):ro(Pe,un,pn)}return Pe}function Mx(re){return Li(function(de,Pe){var pt=-1,Ht=Pe.length,Wn=Ht>1?Pe[Ht-1]:void 0,jn=Ht>2?Pe[2]:void 0;for(Wn=re.length>3&&typeof Wn=="function"?(Ht--,Wn):void 0,jn&&gE(Pe[0],Pe[1],jn)&&(Wn=Ht<3?void 0:Wn,Ht=1),de=Object(de);++pt<Ht;){var un=Pe[pt];un&&re(de,un,pt,Wn)}return de})}function Cx(re){return function(de,Pe,pt){for(var Ht=-1,Wn=Object(de),jn=pt(de),un=jn.length;un--;){var pn=jn[re?un:++Ht];if(Pe(Wn[pn],pn,Wn)===!1)break}return de}}function Ic(re,de){var Pe=re.__data__;return dp(de)?Pe[typeof de=="string"?"string":"hash"]:Pe.map}function up(re,de){var Pe=Ce(re,de);return Ri(Pe)?Pe:void 0}function ko(re){var de=q.call(re,st),Pe=re[st];try{re[st]=void 0;var pt=!0}catch{}var Ht=ze.call(re);return pt&&(de?re[st]=Pe:delete re[st]),Ht}function mE(re){return typeof re.constructor=="function"&&!Vu(re)?Hn(ae(re)):{}}function Tx(re,de){var Pe=typeof re;return de=de??o,!!de&&(Pe=="number"||Pe!="symbol"&&R.test(re))&&re>-1&&re%1==0&&re<de}function gE(re,de,Pe){if(!Za(Pe))return!1;var pt=typeof de;return(pt=="number"?Af(Pe)&&Tx(de,Pe.length):pt=="string"&&de in Pe)?Uu(Pe[de],re):!1}function dp(re){var de=typeof re;return de=="string"||de=="number"||de=="symbol"||de=="boolean"?re!=="__proto__":re===null}function fp(re){return!!le&&le in re}function Vu(re){var de=re&&re.constructor,Pe=typeof de=="function"&&de.prototype||nt;return re===Pe}function hp(re){var de=[];if(re!=null)for(var Pe in Object(re))de.push(Pe);return de}function vE(re){return ze.call(re)}function yE(re,de,Pe){return de=Ee(de===void 0?re.length-1:de,0),function(){for(var pt=arguments,Ht=-1,Wn=Ee(pt.length-de,0),jn=Array(Wn);++Ht<Wn;)jn[Ht]=pt[de+Ht];Ht=-1;for(var un=Array(de+1);++Ht<de;)un[Ht]=pt[Ht];return un[de]=Pe(jn),ee(re,this,un)}}function wf(re,de){if(!(de==="constructor"&&typeof re[de]=="function")&&de!="__proto__")return re[de]}var yg=Sf(fn);function Sf(re){var de=0,Pe=0;return function(){var pt=Je(),Ht=s-(pt-Pe);if(Pe=pt,Ht>0){if(++de>=i)return arguments[0]}else de=0;return re.apply(void 0,arguments)}}function xE(re){if(re!=null){try{return se.call(re)}catch{}try{return re+""}catch{}}return""}function Uu(re,de){return re===de||re!==re&&de!==de}var hn=Jr(function(){return arguments}())?Jr:function(re){return Ef(re)&&q.call(re,"callee")&&!je.call(re,"callee")},pp=Array.isArray;function Af(re){return re!=null&&Qr(re.length)&&!xg(re)}function kx(re){return Ef(re)&&Af(re)}var Rx=$e||Ja;function xg(re){if(!Za(re))return!1;var de=Tn(re);return de==h||de==g||de==c||de==b}function Qr(re){return typeof re=="number"&&re>-1&&re%1==0&&re<=o}function Za(re){var de=typeof re;return re!=null&&(de=="object"||de=="function")}function Ef(re){return re!=null&&typeof re=="object"}function _g(re){if(!Ef(re)||Tn(re)!=_)return!1;var de=ae(re);if(de===null)return!0;var Pe=q.call(de,"constructor")&&de.constructor;return typeof Pe=="function"&&Pe instanceof Pe&&se.call(Pe)==Be}var Px=X?fe(X):Pi;function mp(re){return cp(re,Ro(re))}function Ro(re){return Af(re)?li(re,!0):Ii(re)}var _E=Mx(function(re,de,Pe,pt){zt(re,de,Pe,pt)});function bE(re){return function(){return re}}function Po(re){return re}function Ja(){return!1}n.exports=_E})(Cee,ES);const lc=ES;function El(n){const e=typeof n;return n!=null&&(e==="object"||e==="function")&&!Array.isArray(n)}function hh(n,...e){return Tee(n)?n(...e):n}var Tee=n=>typeof n=="function",kee=n=>/!(important)?$/.test(n),nD=n=>typeof n=="string"?n.replace(/!(important)?$/,"").trim():n,q3=(n,e)=>t=>{const r=String(e),i=kee(r),s=nD(r),o=n?`${n}.${s}`:s;let a=El(t.__cssMap)&&o in t.__cssMap?t.__cssMap[o].varRef:e;return a=nD(a),i?`${a} !important`:a};function Fy(n){const{scale:e,transform:t,compose:r}=n;return(s,o)=>{const a=q3(e,s)(o);let l=(t==null?void 0:t(a,o))??a;return r&&(l=r(l,o)),l}}var O_=(...n)=>e=>n.reduce((t,r)=>r(t),e);function tl(n,e){return t=>{const r={property:t,scale:n};return r.transform=Fy({scale:n,transform:e}),r}}var Ree=({rtl:n,ltr:e})=>t=>t.direction==="rtl"?n:e;function Pee(n){const{property:e,scale:t,transform:r}=n;return{scale:t,property:Ree(e),transform:t?Fy({scale:t,compose:r}):r}}var C7=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function Iee(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...C7].join(" ")}function Lee(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...C7].join(" ")}var Oee={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},Nee={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function Dee(n){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":n,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var Bee={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},T7="& > :not(style) ~ :not(style)",Fee={[T7]:{marginInlineStart:"calc(var(--chakra-space-x) * calc(1 - var(--chakra-space-x-reverse)))",marginInlineEnd:"calc(var(--chakra-space-x) * var(--chakra-space-x-reverse))"}},zee={[T7]:{marginTop:"calc(var(--chakra-space-y) * calc(1 - var(--chakra-space-y-reverse)))",marginBottom:"calc(var(--chakra-space-y) * var(--chakra-space-y-reverse))"}},Y3={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},Vee=new Set(Object.values(Y3)),k7=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),Uee=n=>n.trim();function Hee(n,e){var t;if(n==null||k7.has(n))return n;const r=/(?<type>^[a-z-A-Z]+)\((?<values>(.*))\)/g,{type:i,values:s}=((t=r.exec(n))==null?void 0:t.groups)??{};if(!i||!s)return n;const o=i.includes("-gradient")?i:`${i}-gradient`,[a,...l]=s.split(",").map(Uee).filter(Boolean);if((l==null?void 0:l.length)===0)return n;const c=a in Y3?Y3[a]:a;l.unshift(c);const d=l.map(u=>{if(Vee.has(u))return u;const f=u.indexOf(" "),[h,g]=f!==-1?[u.substr(0,f),u.substr(f+1)]:[u],v=R7(g)?g:g&&g.split(" "),x=`colors.${h}`,y=x in e.__cssMap?e.__cssMap[x].varRef:h;return v?[y,...Array.isArray(v)?v:[v]].join(" "):y});return`${o}(${d.join(", ")})`}var R7=n=>typeof n=="string"&&n.includes("(")&&n.includes(")"),Gee=(n,e)=>Hee(n,e??{});function $ee(n){return/^var\(--.+\)$/.test(n)}var Wee=n=>{const e=parseFloat(n.toString()),t=n.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}},jl=n=>e=>`${n}(${e})`,kn={filter(n){return n!=="auto"?n:Oee},backdropFilter(n){return n!=="auto"?n:Nee},ring(n){return Dee(kn.px(n))},bgClip(n){return n==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:n}},transform(n){return n==="auto"?Iee():n==="auto-gpu"?Lee():n},vh(n){return n==="$100vh"?"var(--chakra-vh)":n},px(n){if(n==null)return n;const{unitless:e}=Wee(n);return e||typeof n=="number"?`${n}px`:n},fraction(n){return typeof n!="number"||n>1?n:`${n*100}%`},float(n,e){const t={left:"right",right:"left"};return e.direction==="rtl"?t[n]:n},degree(n){if($ee(n)||n==null)return n;const e=typeof n=="string"&&!n.endsWith("deg");return typeof n=="number"||e?`${n}deg`:n},gradient:Gee,blur:jl("blur"),opacity:jl("opacity"),brightness:jl("brightness"),contrast:jl("contrast"),dropShadow:jl("drop-shadow"),grayscale:jl("grayscale"),hueRotate:jl("hue-rotate"),invert:jl("invert"),saturate:jl("saturate"),sepia:jl("sepia"),bgImage(n){return n==null||R7(n)||k7.has(n)?n:`url(${n})`},outline(n){const e=String(n)==="0"||String(n)==="none";return n!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:n}},flexDirection(n){const{space:e,divide:t}=Bee[n]??{},r={flexDirection:n};return e&&(r[e]=1),t&&(r[t]=1),r}},me={borderWidths:tl("borderWidths"),borderStyles:tl("borderStyles"),colors:tl("colors"),borders:tl("borders"),radii:tl("radii",kn.px),space:tl("space",O_(kn.vh,kn.px)),spaceT:tl("space",O_(kn.vh,kn.px)),degreeT(n){return{property:n,transform:kn.degree}},prop(n,e,t){return{property:n,scale:e,...e&&{transform:Fy({scale:e,transform:t})}}},propT(n,e){return{property:n,transform:e}},sizes:tl("sizes",O_(kn.vh,kn.px)),sizesT:tl("sizes",O_(kn.vh,kn.fraction)),shadows:tl("shadows"),logical:Pee,blur:tl("blur",kn.blur)},vw={background:me.colors("background"),backgroundColor:me.colors("backgroundColor"),backgroundImage:me.propT("backgroundImage",kn.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:kn.bgClip},bgSize:me.prop("backgroundSize"),bgPosition:me.prop("backgroundPosition"),bg:me.colors("background"),bgColor:me.colors("backgroundColor"),bgPos:me.prop("backgroundPosition"),bgRepeat:me.prop("backgroundRepeat"),bgAttachment:me.prop("backgroundAttachment"),bgGradient:me.propT("backgroundImage",kn.gradient),bgClip:{transform:kn.bgClip}};Object.assign(vw,{bgImage:vw.backgroundImage,bgImg:vw.backgroundImage});var zn={border:me.borders("border"),borderWidth:me.borderWidths("borderWidth"),borderStyle:me.borderStyles("borderStyle"),borderColor:me.colors("borderColor"),borderRadius:me.radii("borderRadius"),borderTop:me.borders("borderTop"),borderBlockStart:me.borders("borderBlockStart"),borderTopLeftRadius:me.radii("borderTopLeftRadius"),borderStartStartRadius:me.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:me.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:me.radii("borderTopRightRadius"),borderStartEndRadius:me.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:me.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:me.borders("borderRight"),borderInlineEnd:me.borders("borderInlineEnd"),borderBottom:me.borders("borderBottom"),borderBlockEnd:me.borders("borderBlockEnd"),borderBottomLeftRadius:me.radii("borderBottomLeftRadius"),borderBottomRightRadius:me.radii("borderBottomRightRadius"),borderLeft:me.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:me.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:me.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:me.borders(["borderLeft","borderRight"]),borderInline:me.borders("borderInline"),borderY:me.borders(["borderTop","borderBottom"]),borderBlock:me.borders("borderBlock"),borderTopWidth:me.borderWidths("borderTopWidth"),borderBlockStartWidth:me.borderWidths("borderBlockStartWidth"),borderTopColor:me.colors("borderTopColor"),borderBlockStartColor:me.colors("borderBlockStartColor"),borderTopStyle:me.borderStyles("borderTopStyle"),borderBlockStartStyle:me.borderStyles("borderBlockStartStyle"),borderBottomWidth:me.borderWidths("borderBottomWidth"),borderBlockEndWidth:me.borderWidths("borderBlockEndWidth"),borderBottomColor:me.colors("borderBottomColor"),borderBlockEndColor:me.colors("borderBlockEndColor"),borderBottomStyle:me.borderStyles("borderBottomStyle"),borderBlockEndStyle:me.borderStyles("borderBlockEndStyle"),borderLeftWidth:me.borderWidths("borderLeftWidth"),borderInlineStartWidth:me.borderWidths("borderInlineStartWidth"),borderLeftColor:me.colors("borderLeftColor"),borderInlineStartColor:me.colors("borderInlineStartColor"),borderLeftStyle:me.borderStyles("borderLeftStyle"),borderInlineStartStyle:me.borderStyles("borderInlineStartStyle"),borderRightWidth:me.borderWidths("borderRightWidth"),borderInlineEndWidth:me.borderWidths("borderInlineEndWidth"),borderRightColor:me.colors("borderRightColor"),borderInlineEndColor:me.colors("borderInlineEndColor"),borderRightStyle:me.borderStyles("borderRightStyle"),borderInlineEndStyle:me.borderStyles("borderInlineEndStyle"),borderTopRadius:me.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:me.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:me.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:me.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(zn,{rounded:zn.borderRadius,roundedTop:zn.borderTopRadius,roundedTopLeft:zn.borderTopLeftRadius,roundedTopRight:zn.borderTopRightRadius,roundedTopStart:zn.borderStartStartRadius,roundedTopEnd:zn.borderStartEndRadius,roundedBottom:zn.borderBottomRadius,roundedBottomLeft:zn.borderBottomLeftRadius,roundedBottomRight:zn.borderBottomRightRadius,roundedBottomStart:zn.borderEndStartRadius,roundedBottomEnd:zn.borderEndEndRadius,roundedLeft:zn.borderLeftRadius,roundedRight:zn.borderRightRadius,roundedStart:zn.borderInlineStartRadius,roundedEnd:zn.borderInlineEndRadius,borderStart:zn.borderInlineStart,borderEnd:zn.borderInlineEnd,borderTopStartRadius:zn.borderStartStartRadius,borderTopEndRadius:zn.borderStartEndRadius,borderBottomStartRadius:zn.borderEndStartRadius,borderBottomEndRadius:zn.borderEndEndRadius,borderStartRadius:zn.borderInlineStartRadius,borderEndRadius:zn.borderInlineEndRadius,borderStartWidth:zn.borderInlineStartWidth,borderEndWidth:zn.borderInlineEndWidth,borderStartColor:zn.borderInlineStartColor,borderEndColor:zn.borderInlineEndColor,borderStartStyle:zn.borderInlineStartStyle,borderEndStyle:zn.borderInlineEndStyle});var jee={color:me.colors("color"),textColor:me.colors("color"),fill:me.colors("fill"),stroke:me.colors("stroke")},X3={boxShadow:me.shadows("boxShadow"),mixBlendMode:!0,blendMode:me.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:me.prop("backgroundBlendMode"),opacity:!0};Object.assign(X3,{shadow:X3.boxShadow});var qee={filter:{transform:kn.filter},blur:me.blur("--chakra-blur"),brightness:me.propT("--chakra-brightness",kn.brightness),contrast:me.propT("--chakra-contrast",kn.contrast),hueRotate:me.degreeT("--chakra-hue-rotate"),invert:me.propT("--chakra-invert",kn.invert),saturate:me.propT("--chakra-saturate",kn.saturate),dropShadow:me.propT("--chakra-drop-shadow",kn.dropShadow),backdropFilter:{transform:kn.backdropFilter},backdropBlur:me.blur("--chakra-backdrop-blur"),backdropBrightness:me.propT("--chakra-backdrop-brightness",kn.brightness),backdropContrast:me.propT("--chakra-backdrop-contrast",kn.contrast),backdropHueRotate:me.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:me.propT("--chakra-backdrop-invert",kn.invert),backdropSaturate:me.propT("--chakra-backdrop-saturate",kn.saturate)},MS={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:kn.flexDirection},experimental_spaceX:{static:Fee,transform:Fy({scale:"space",transform:n=>n!==null?{"--chakra-space-x":n}:null})},experimental_spaceY:{static:zee,transform:Fy({scale:"space",transform:n=>n!=null?{"--chakra-space-y":n}:null})},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:me.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:me.space("gap"),rowGap:me.space("rowGap"),columnGap:me.space("columnGap")};Object.assign(MS,{flexDir:MS.flexDirection});var P7={gridGap:me.space("gridGap"),gridColumnGap:me.space("gridColumnGap"),gridRowGap:me.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},Yee={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:kn.outline},outlineOffset:!0,outlineColor:me.colors("outlineColor")},Ea={width:me.sizesT("width"),inlineSize:me.sizesT("inlineSize"),height:me.sizes("height"),blockSize:me.sizes("blockSize"),boxSize:me.sizes(["width","height"]),minWidth:me.sizes("minWidth"),minInlineSize:me.sizes("minInlineSize"),minHeight:me.sizes("minHeight"),minBlockSize:me.sizes("minBlockSize"),maxWidth:me.sizes("maxWidth"),maxInlineSize:me.sizes("maxInlineSize"),maxHeight:me.sizes("maxHeight"),maxBlockSize:me.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:me.propT("float",kn.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Ea,{w:Ea.width,h:Ea.height,minW:Ea.minWidth,maxW:Ea.maxWidth,minH:Ea.minHeight,maxH:Ea.maxHeight,overscroll:Ea.overscrollBehavior,overscrollX:Ea.overscrollBehaviorX,overscrollY:Ea.overscrollBehaviorY});var Xee={listStyleType:!0,listStylePosition:!0,listStylePos:me.prop("listStylePosition"),listStyleImage:!0,listStyleImg:me.prop("listStyleImage")};function Kee(n,e,t,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&n;r+=1)n=n[i[r]];return n===void 0?t:n}var Zee=n=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return n(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=n(r,i,s,o);return a.set(i,l),l}},Jee=Zee(Kee),Qee={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},ete={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},GM=(n,e,t)=>{const r={},i=Jee(n,e,{});for(const s in i)s in t&&t[s]!=null||(r[s]=i[s]);return r},tte={srOnly:{transform(n){return n===!0?Qee:n==="focusable"?ete:{}}},layerStyle:{processResult:!0,transform:(n,e,t)=>GM(e,`layerStyles.${n}`,t)},textStyle:{processResult:!0,transform:(n,e,t)=>GM(e,`textStyles.${n}`,t)},apply:{processResult:!0,transform:(n,e,t)=>GM(e,n,t)}},jv={position:!0,pos:me.prop("position"),zIndex:me.prop("zIndex","zIndices"),inset:me.spaceT("inset"),insetX:me.spaceT(["left","right"]),insetInline:me.spaceT("insetInline"),insetY:me.spaceT(["top","bottom"]),insetBlock:me.spaceT("insetBlock"),top:me.spaceT("top"),insetBlockStart:me.spaceT("insetBlockStart"),bottom:me.spaceT("bottom"),insetBlockEnd:me.spaceT("insetBlockEnd"),left:me.spaceT("left"),insetInlineStart:me.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:me.spaceT("right"),insetInlineEnd:me.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(jv,{insetStart:jv.insetInlineStart,insetEnd:jv.insetInlineEnd});var nte={ring:{transform:kn.ring},ringColor:me.colors("--chakra-ring-color"),ringOffset:me.prop("--chakra-ring-offset-width"),ringOffsetColor:me.colors("--chakra-ring-offset-color"),ringInset:me.prop("--chakra-ring-inset")},mr={margin:me.spaceT("margin"),marginTop:me.spaceT("marginTop"),marginBlockStart:me.spaceT("marginBlockStart"),marginRight:me.spaceT("marginRight"),marginInlineEnd:me.spaceT("marginInlineEnd"),marginBottom:me.spaceT("marginBottom"),marginBlockEnd:me.spaceT("marginBlockEnd"),marginLeft:me.spaceT("marginLeft"),marginInlineStart:me.spaceT("marginInlineStart"),marginX:me.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:me.spaceT("marginInline"),marginY:me.spaceT(["marginTop","marginBottom"]),marginBlock:me.spaceT("marginBlock"),padding:me.space("padding"),paddingTop:me.space("paddingTop"),paddingBlockStart:me.space("paddingBlockStart"),paddingRight:me.space("paddingRight"),paddingBottom:me.space("paddingBottom"),paddingBlockEnd:me.space("paddingBlockEnd"),paddingLeft:me.space("paddingLeft"),paddingInlineStart:me.space("paddingInlineStart"),paddingInlineEnd:me.space("paddingInlineEnd"),paddingX:me.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:me.space("paddingInline"),paddingY:me.space(["paddingTop","paddingBottom"]),paddingBlock:me.space("paddingBlock")};Object.assign(mr,{m:mr.margin,mt:mr.marginTop,mr:mr.marginRight,me:mr.marginInlineEnd,marginEnd:mr.marginInlineEnd,mb:mr.marginBottom,ml:mr.marginLeft,ms:mr.marginInlineStart,marginStart:mr.marginInlineStart,mx:mr.marginX,my:mr.marginY,p:mr.padding,pt:mr.paddingTop,py:mr.paddingY,px:mr.paddingX,pb:mr.paddingBottom,pl:mr.paddingLeft,ps:mr.paddingInlineStart,paddingStart:mr.paddingInlineStart,pr:mr.paddingRight,pe:mr.paddingInlineEnd,paddingEnd:mr.paddingInlineEnd});var rte={textDecorationColor:me.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:me.shadows("textShadow")},ite={clipPath:!0,transform:me.propT("transform",kn.transform),transformOrigin:!0,translateX:me.spaceT("--chakra-translate-x"),translateY:me.spaceT("--chakra-translate-y"),skewX:me.degreeT("--chakra-skew-x"),skewY:me.degreeT("--chakra-skew-y"),scaleX:me.prop("--chakra-scale-x"),scaleY:me.prop("--chakra-scale-y"),scale:me.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:me.degreeT("--chakra-rotate")},ste={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:me.prop("transitionDuration","transition.duration"),transitionProperty:me.prop("transitionProperty","transition.property"),transitionTimingFunction:me.prop("transitionTimingFunction","transition.easing")},ote={fontFamily:me.prop("fontFamily","fonts"),fontSize:me.prop("fontSize","fontSizes",kn.px),fontWeight:me.prop("fontWeight","fontWeights"),lineHeight:me.prop("lineHeight","lineHeights"),letterSpacing:me.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},ate={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:me.spaceT("scrollMargin"),scrollMarginTop:me.spaceT("scrollMarginTop"),scrollMarginBottom:me.spaceT("scrollMarginBottom"),scrollMarginLeft:me.spaceT("scrollMarginLeft"),scrollMarginRight:me.spaceT("scrollMarginRight"),scrollMarginX:me.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:me.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:me.spaceT("scrollPadding"),scrollPaddingTop:me.spaceT("scrollPaddingTop"),scrollPaddingBottom:me.spaceT("scrollPaddingBottom"),scrollPaddingLeft:me.spaceT("scrollPaddingLeft"),scrollPaddingRight:me.spaceT("scrollPaddingRight"),scrollPaddingX:me.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:me.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function I7(n){return El(n)&&n.reference?n.reference:String(n)}var K2=(n,...e)=>e.map(I7).join(` ${n} `).replace(/calc/g,""),rD=(...n)=>`calc(${K2("+",...n)})`,iD=(...n)=>`calc(${K2("-",...n)})`,K3=(...n)=>`calc(${K2("*",...n)})`,sD=(...n)=>`calc(${K2("/",...n)})`,oD=n=>{const e=I7(n);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:K3(e,-1)},oh=Object.assign(n=>({add:(...e)=>oh(rD(n,...e)),subtract:(...e)=>oh(iD(n,...e)),multiply:(...e)=>oh(K3(n,...e)),divide:(...e)=>oh(sD(n,...e)),negate:()=>oh(oD(n)),toString:()=>n.toString()}),{add:rD,subtract:iD,multiply:K3,divide:sD,negate:oD});function lte(n,e="-"){return n.replace(/\s+/g,e)}function cte(n){const e=lte(n.toString());return dte(ute(e))}function ute(n){return n.includes("\\.")?n:!Number.isInteger(parseFloat(n.toString()))?n.replace(".","\\."):n}function dte(n){return n.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function fte(n,e=""){return[e,n].filter(Boolean).join("-")}function hte(n,e){return`var(${n}${e?`, ${e}`:""})`}function pte(n,e=""){return cte(`--${fte(n,e)}`)}function ki(n,e,t){const r=pte(n,t);return{variable:r,reference:hte(r,e)}}function mte(n){const e=n==null?0:n.length;return e?n[e-1]:void 0}function gte(n){const e=parseFloat(n.toString()),t=n.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}}function Z3(n){if(n==null)return n;const{unitless:e}=gte(n);return e||typeof n=="number"?`${n}px`:n}var L7=(n,e)=>parseInt(n[1],10)>parseInt(e[1],10)?1:-1,IP=n=>Object.fromEntries(Object.entries(n).sort(L7));function aD(n){const e=IP(n);return Object.assign(Object.values(e),e)}function vte(n){const e=Object.keys(IP(n));return new Set(e)}function lD(n){if(!n)return n;n=Z3(n)??n;const e=n.endsWith("px")?-1:-.0625;return typeof n=="number"?`${n+e}`:n.replace(/(\d+\.?\d*)/u,t=>`${parseFloat(t)+e}`)}function kv(n,e){const t=["@media screen"];return n&&t.push("and",`(min-width: ${Z3(n)})`),e&&t.push("and",`(max-width: ${Z3(e)})`),t.join(" ")}function yte(n){if(!n)return null;n.base=n.base??"0px";const e=aD(n),t=Object.entries(n).sort(L7).map(([s,o],a,l)=>{let[,c]=l[a+1]??[];return c=parseFloat(c)>0?lD(c):void 0,{_minW:lD(o),breakpoint:s,minW:o,maxW:c,maxWQuery:kv(null,c),minWQuery:kv(o),minMaxQuery:kv(o,c)}}),r=vte(n),i=Array.from(r.values());return{keys:r,normalized:e,isResponsive(s){const o=Object.keys(s);return o.length>0&&o.every(a=>r.has(a))},asObject:IP(n),asArray:aD(n),details:t,media:[null,...e.map(s=>kv(s)).slice(1)],toArrayValue(s){if(!El(s))throw new Error("toArrayValue: value must be an object");const o=i.map(a=>s[a]??null);for(;mte(o)===null;)o.pop();return o},toObjectValue(s){if(!Array.isArray(s))throw new Error("toObjectValue: value must be an array");return s.reduce((o,a,l)=>{const c=i[l];return c!=null&&a!=null&&(o[c]=a),o},{})}}}var Ki={hover:(n,e)=>`${n}:hover ${e}, ${n}[data-hover] ${e}`,focus:(n,e)=>`${n}:focus ${e}, ${n}[data-focus] ${e}`,focusVisible:(n,e)=>`${n}:focus-visible ${e}`,focusWithin:(n,e)=>`${n}:focus-within ${e}`,active:(n,e)=>`${n}:active ${e}, ${n}[data-active] ${e}`,disabled:(n,e)=>`${n}:disabled ${e}, ${n}[data-disabled] ${e}`,invalid:(n,e)=>`${n}:invalid ${e}, ${n}[data-invalid] ${e}`,checked:(n,e)=>`${n}:checked ${e}, ${n}[data-checked] ${e}`,indeterminate:(n,e)=>`${n}:indeterminate ${e}, ${n}[aria-checked=mixed] ${e}, ${n}[data-indeterminate] ${e}`,readOnly:(n,e)=>`${n}:read-only ${e}, ${n}[readonly] ${e}, ${n}[data-read-only] ${e}`,expanded:(n,e)=>`${n}:read-only ${e}, ${n}[aria-expanded=true] ${e}, ${n}[data-expanded] ${e}`,placeholderShown:(n,e)=>`${n}:placeholder-shown ${e}`},Zu=n=>O7(e=>n(e,"&"),"[role=group]","[data-group]",".group"),Fc=n=>O7(e=>n(e,"~ &"),"[data-peer]",".peer"),O7=(n,...e)=>e.map(n).join(", "),Z2={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Zu(Ki.hover),_peerHover:Fc(Ki.hover),_groupFocus:Zu(Ki.focus),_peerFocus:Fc(Ki.focus),_groupFocusVisible:Zu(Ki.focusVisible),_peerFocusVisible:Fc(Ki.focusVisible),_groupActive:Zu(Ki.active),_peerActive:Fc(Ki.active),_groupDisabled:Zu(Ki.disabled),_peerDisabled:Fc(Ki.disabled),_groupInvalid:Zu(Ki.invalid),_peerInvalid:Fc(Ki.invalid),_groupChecked:Zu(Ki.checked),_peerChecked:Fc(Ki.checked),_groupFocusWithin:Zu(Ki.focusWithin),_peerFocusWithin:Fc(Ki.focusWithin),_peerPlaceholderShown:Fc(Ki.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]"},xte=Object.keys(Z2);function cD(n,e){return ki(String(n).replace(/\./g,"-"),void 0,e)}function _te(n,e){let t={};const r={};for(const[i,s]of Object.entries(n)){const{isSemantic:o,value:a}=s,{variable:l,reference:c}=cD(i,e==null?void 0:e.cssVarPrefix);if(!o){if(i.startsWith("space")){const f=i.split("."),[h,...g]=f,v=`${h}.-${g.join(".")}`,x=oh.negate(a),y=oh.negate(c);r[v]={value:x,var:l,varRef:y}}t[l]=a,r[i]={value:a,var:l,varRef:c};continue}const d=f=>{const g=[String(i).split(".")[0],f].join(".");if(!n[g])return f;const{reference:x}=cD(g,e==null?void 0:e.cssVarPrefix);return x},u=El(a)?a:{default:a};t=lc(t,Object.entries(u).reduce((f,[h,g])=>{var v;const x=d(g);if(h==="default")return f[l]=x,f;const y=((v=Z2)==null?void 0:v[h])??h;return f[y]={[l]:x},f},{})),r[i]={value:c,var:l,varRef:c}}return{cssVars:t,cssMap:r}}function bte(n,e=[]){const t=Object.assign({},n);for(const r of e)r in t&&delete t[r];return t}function wte(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}var Ste=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur"];function Ate(n){return wte(n,Ste)}function Ete(n){return n.semanticTokens}function Mte(n){const{__cssMap:e,__cssVars:t,__breakpoints:r,...i}=n;return i}function Cte({tokens:n,semanticTokens:e}){const t=Object.entries(J3(n)??{}).map(([i,s])=>[i,{isSemantic:!1,value:s}]),r=Object.entries(J3(e,1)??{}).map(([i,s])=>[i,{isSemantic:!0,value:s}]);return Object.fromEntries([...t,...r])}function J3(n,e=1/0){return!El(n)&&!Array.isArray(n)||!e?n:Object.entries(n).reduce((t,[r,i])=>(El(i)||Array.isArray(i)?Object.entries(J3(i,e-1)).forEach(([s,o])=>{t[`${r}.${s}`]=o}):t[r]=i,t),{})}function Tte(n){var e;const t=Mte(n),r=Ate(t),i=Ete(t),s=Cte({tokens:r,semanticTokens:i}),o=(e=t.config)==null?void 0:e.cssVarPrefix,{cssMap:a,cssVars:l}=_te(s,{cssVarPrefix:o});return Object.assign(t,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:yte(t.breakpoints)}),t}var LP=lc({},vw,zn,jee,MS,Ea,qee,nte,Yee,P7,tte,jv,X3,mr,ate,ote,rte,ite,Xee,ste),kte=Object.assign({},mr,Ea,MS,P7,jv),N7=Object.keys(kte),Rte=[...Object.keys(LP),...xte],Pte={...LP,...Z2},Ite=n=>n in Pte,Lte=n=>e=>{if(!e.__breakpoints)return n;const{isResponsive:t,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const o in n){let a=hh(n[o],e);if(a==null)continue;if(a=El(a)&&t(a)?r(a):a,!Array.isArray(a)){s[o]=a;continue}const l=a.slice(0,i.length).length;for(let c=0;c<l;c+=1){const d=i==null?void 0:i[c];if(!d){s[o]=a[c];continue}s[d]=s[d]||{},a[c]!=null&&(s[d][o]=a[c])}}return s};function Ote(n){const e=[];let t="",r=!1;for(let i=0;i<n.length;i++){const s=n[i];s==="("?(r=!0,t+=s):s===")"?(r=!1,t+=s):s===","&&!r?(e.push(t),t=""):t+=s}return t=t.trim(),t&&e.push(t),e}function Nte(n){return/^var\(--.+\)$/.test(n)}var Dte=(n,e)=>n.startsWith("--")&&typeof e=="string"&&!Nte(e),Bte=(n,e)=>{if(e==null)return e;const t=o=>{var a,l;return(l=(a=n.__cssMap)==null?void 0:a[o])==null?void 0:l.varRef},r=o=>t(o)??o,[i,s]=Ote(e);return e=t(i)??r(s)??r(e),e};function Fte(n){const{configs:e={},pseudos:t={},theme:r}=n,i=(s,o=!1)=>{var a;const l=hh(s,r),c=Lte(l)(r);let d={};for(let u in c){const f=c[u];let h=hh(f,r);u in t&&(u=t[u]),Dte(u,h)&&(h=Bte(r,h));let g=e[u];if(g===!0&&(g={property:u}),El(h)){d[u]=d[u]??{},d[u]=lc({},d[u],i(h,!0));continue}let v=((a=g==null?void 0:g.transform)==null?void 0:a.call(g,h,r,l))??h;v=g!=null&&g.processResult?i(v,!0):v;const x=hh(g==null?void 0:g.property,r);if(!o&&(g!=null&&g.static)){const y=hh(g.static,r);d=lc({},d,y)}if(x&&Array.isArray(x)){for(const y of x)d[y]=v;continue}if(x){x==="&"&&El(v)?d=lc({},d,v):d[x]=v;continue}if(El(v)){d=lc({},d,v);continue}d[u]=v}return d};return i}var D7=n=>e=>Fte({theme:e,pseudos:Z2,configs:LP})(n);function Cr(n){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:n,...e}}}}function zte(n,e){if(Array.isArray(n))return n;if(El(n))return e(n);if(n!=null)return[n]}function Vte(n,e){for(let t=e+1;t<n.length;t++)if(n[t]!=null)return t;return-1}function Ute(n){const e=n.__breakpoints;return function(r,i,s,o){var a,l;if(!e)return;const c={},d=zte(s,e.toArrayValue);if(!d)return c;const u=d.length,f=u===1,h=!!r.parts;for(let g=0;g<u;g++){const v=e.details[g],x=e.details[Vte(d,g)],y=kv(v.minW,x==null?void 0:x._minW),_=hh((a=r[i])==null?void 0:a[d[g]],o);if(_){if(h){(l=r.parts)==null||l.forEach(b=>{lc(c,{[b]:f?_[b]:{[y]:_[b]}})});continue}if(!h){f?lc(c,_):c[y]=_;continue}c[y]=_}}return c}}function Hte(n){return e=>{const{variant:t,size:r,theme:i}=e,s=Ute(i);return lc({},hh(n.baseStyle??{},e),s(n,"sizes",r,e),s(n,"variants",t,e))}}function oi(n){return bte(n,["styleConfig","size","variant","colorScheme"])}function Gte(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function $te(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Wte=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($te(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Gte(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),_s="-ms-",CS="-moz-",Vn="-webkit-",B7="comm",OP="rule",NP="decl",jte="@import",F7="@keyframes",qte=Math.abs,J2=String.fromCharCode,Yte=Object.assign;function Xte(n,e){return Qi(n,0)^45?(((e<<2^Qi(n,0))<<2^Qi(n,1))<<2^Qi(n,2))<<2^Qi(n,3):0}function z7(n){return n.trim()}function Kte(n,e){return(n=e.exec(n))?n[0]:n}function Gn(n,e,t){return n.replace(e,t)}function Q3(n,e){return n.indexOf(e)}function Qi(n,e){return n.charCodeAt(e)|0}function zy(n,e,t){return n.slice(e,t)}function ec(n){return n.length}function DP(n){return n.length}function N_(n,e){return e.push(n),n}function Zte(n,e){return n.map(e).join("")}var Q2=1,m0=1,V7=0,Ao=0,mi=0,G0="";function eA(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Q2,column:m0,length:o,return:""}}function qg(n,e){return Yte(eA("",null,null,"",null,null,0),n,{length:-n.length},e)}function Jte(){return mi}function Qte(){return mi=Ao>0?Qi(G0,--Ao):0,m0--,mi===10&&(m0=1,Q2--),mi}function Ko(){return mi=Ao<V7?Qi(G0,Ao++):0,m0++,mi===10&&(m0=1,Q2++),mi}function pc(){return Qi(G0,Ao)}function yw(){return Ao}function B1(n,e){return zy(G0,n,e)}function Vy(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function U7(n){return Q2=m0=1,V7=ec(G0=n),Ao=0,[]}function H7(n){return G0="",n}function xw(n){return z7(B1(Ao-1,ek(n===91?n+2:n===40?n+1:n)))}function ene(n){for(;(mi=pc())&&mi<33;)Ko();return Vy(n)>2||Vy(mi)>3?"":" "}function tne(n,e){for(;--e&&Ko()&&!(mi<48||mi>102||mi>57&&mi<65||mi>70&&mi<97););return B1(n,yw()+(e<6&&pc()==32&&Ko()==32))}function ek(n){for(;Ko();)switch(mi){case n:return Ao;case 34:case 39:n!==34&&n!==39&&ek(mi);break;case 40:n===41&&ek(n);break;case 92:Ko();break}return Ao}function nne(n,e){for(;Ko()&&n+mi!==47+10;)if(n+mi===42+42&&pc()===47)break;return"/*"+B1(e,Ao-1)+"*"+J2(n===47?n:Ko())}function rne(n){for(;!Vy(pc());)Ko();return B1(n,Ao)}function ine(n){return H7(_w("",null,null,null,[""],n=U7(n),0,[0],n))}function _w(n,e,t,r,i,s,o,a,l){for(var c=0,d=0,u=o,f=0,h=0,g=0,v=1,x=1,y=1,_=0,b="",A=i,E=s,k=r,P=b;x;)switch(g=_,_=Ko()){case 40:if(g!=108&&Qi(P,u-1)==58){Q3(P+=Gn(xw(_),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:P+=xw(_);break;case 9:case 10:case 13:case 32:P+=ene(g);break;case 92:P+=tne(yw()-1,7);continue;case 47:switch(pc()){case 42:case 47:N_(sne(nne(Ko(),yw()),e,t),l);break;default:P+="/"}break;case 123*v:a[c++]=ec(P)*y;case 125*v:case 59:case 0:switch(_){case 0:case 125:x=0;case 59+d:h>0&&ec(P)-u&&N_(h>32?dD(P+";",r,t,u-1):dD(Gn(P," ","")+";",r,t,u-2),l);break;case 59:P+=";";default:if(N_(k=uD(P,e,t,c,d,i,a,b,A=[],E=[],u),s),_===123)if(d===0)_w(P,e,k,k,A,s,u,a,E);else switch(f===99&&Qi(P,3)===110?100:f){case 100:case 109:case 115:_w(n,k,k,r&&N_(uD(n,k,k,0,0,i,a,b,i,A=[],u),E),i,E,u,a,r?A:E);break;default:_w(P,k,k,k,[""],E,0,a,E)}}c=d=h=0,v=y=1,b=P="",u=o;break;case 58:u=1+ec(P),h=g;default:if(v<1){if(_==123)--v;else if(_==125&&v++==0&&Qte()==125)continue}switch(P+=J2(_),_*v){case 38:y=d>0?1:(P+="\f",-1);break;case 44:a[c++]=(ec(P)-1)*y,y=1;break;case 64:pc()===45&&(P+=xw(Ko())),f=pc(),d=u=ec(b=P+=rne(yw())),_++;break;case 45:g===45&&ec(P)==2&&(v=0)}}return s}function uD(n,e,t,r,i,s,o,a,l,c,d){for(var u=i-1,f=i===0?s:[""],h=DP(f),g=0,v=0,x=0;g<r;++g)for(var y=0,_=zy(n,u+1,u=qte(v=o[g])),b=n;y<h;++y)(b=z7(v>0?f[y]+" "+_:Gn(_,/&\f/g,f[y])))&&(l[x++]=b);return eA(n,e,t,i===0?OP:a,l,c,d)}function sne(n,e,t){return eA(n,e,t,B7,J2(Jte()),zy(n,2,-2),0)}function dD(n,e,t,r){return eA(n,e,t,NP,zy(n,0,r),zy(n,r+1,-1),r)}function Um(n,e){for(var t="",r=DP(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function one(n,e,t,r){switch(n.type){case jte:case NP:return n.return=n.return||n.value;case B7:return"";case F7:return n.return=n.value+"{"+Um(n.children,r)+"}";case OP:n.value=n.props.join(",")}return ec(t=Um(n.children,r))?n.return=n.value+"{"+t+"}":""}function ane(n){var e=DP(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function lne(n){return function(e){e.root||(e=e.return)&&n(e)}}var fD=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var i=e(r);return t.set(r,i),i}};function G7(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var cne=function(e,t,r){for(var i=0,s=0;i=s,s=pc(),i===38&&s===12&&(t[r]=1),!Vy(s);)Ko();return B1(e,Ao)},une=function(e,t){var r=-1,i=44;do switch(Vy(i)){case 0:i===38&&pc()===12&&(t[r]=1),e[r]+=cne(Ao-1,t,r);break;case 2:e[r]+=xw(i);break;case 4:if(i===44){e[++r]=pc()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=J2(i)}while(i=Ko());return e},dne=function(e,t){return H7(une(U7(e),t))},hD=new WeakMap,fne=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!hD.get(r))&&!i){hD.set(e,!0);for(var s=[],o=dne(t,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},hne=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function $7(n,e){switch(Xte(n,e)){case 5103:return Vn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Vn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Vn+n+CS+n+_s+n+n;case 6828:case 4268:return Vn+n+_s+n+n;case 6165:return Vn+n+_s+"flex-"+n+n;case 5187:return Vn+n+Gn(n,/(\w+).+(:[^]+)/,Vn+"box-$1$2"+_s+"flex-$1$2")+n;case 5443:return Vn+n+_s+"flex-item-"+Gn(n,/flex-|-self/,"")+n;case 4675:return Vn+n+_s+"flex-line-pack"+Gn(n,/align-content|flex-|-self/,"")+n;case 5548:return Vn+n+_s+Gn(n,"shrink","negative")+n;case 5292:return Vn+n+_s+Gn(n,"basis","preferred-size")+n;case 6060:return Vn+"box-"+Gn(n,"-grow","")+Vn+n+_s+Gn(n,"grow","positive")+n;case 4554:return Vn+Gn(n,/([^-])(transform)/g,"$1"+Vn+"$2")+n;case 6187:return Gn(Gn(Gn(n,/(zoom-|grab)/,Vn+"$1"),/(image-set)/,Vn+"$1"),n,"")+n;case 5495:case 3959:return Gn(n,/(image-set\([^]*)/,Vn+"$1$`$1");case 4968:return Gn(Gn(n,/(.+:)(flex-)?(.*)/,Vn+"box-pack:$3"+_s+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Vn+n+n;case 4095:case 3583:case 4068:case 2532:return Gn(n,/(.+)-inline(.+)/,Vn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ec(n)-1-e>6)switch(Qi(n,e+1)){case 109:if(Qi(n,e+4)!==45)break;case 102:return Gn(n,/(.+:)(.+)-([^]+)/,"$1"+Vn+"$2-$3$1"+CS+(Qi(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Q3(n,"stretch")?$7(Gn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Qi(n,e+1)!==115)break;case 6444:switch(Qi(n,ec(n)-3-(~Q3(n,"!important")&&10))){case 107:return Gn(n,":",":"+Vn)+n;case 101:return Gn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Vn+(Qi(n,14)===45?"inline-":"")+"box$3$1"+Vn+"$2$3$1"+_s+"$2box$3")+n}break;case 5936:switch(Qi(n,e+11)){case 114:return Vn+n+_s+Gn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Vn+n+_s+Gn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Vn+n+_s+Gn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Vn+n+_s+n+n}return n}var pne=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case NP:e.return=$7(e.value,e.length);break;case F7:return Um([qg(e,{value:Gn(e.value,"@","@"+Vn)})],i);case OP:if(e.length)return Zte(e.props,function(s){switch(Kte(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Um([qg(e,{props:[Gn(s,/:(read-\w+)/,":"+CS+"$1")]})],i);case"::placeholder":return Um([qg(e,{props:[Gn(s,/:(plac\w+)/,":"+Vn+"input-$1")]}),qg(e,{props:[Gn(s,/:(plac\w+)/,":"+CS+"$1")]}),qg(e,{props:[Gn(s,/:(plac\w+)/,_s+"input-$1")]})],i)}return""})}},mne=[pne],gne=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var x=v.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||mne,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(v){for(var x=v.getAttribute("data-emotion").split(" "),y=1;y<x.length;y++)s[x[y]]=!0;a.push(v)});var l,c=[fne,hne];{var d,u=[one,lne(function(v){d.insert(v)})],f=ane(c.concat(i,u)),h=function(x){return Um(ine(x),f)};l=function(x,y,_,b){d=_,h(x?x+"{"+y.styles+"}":y.styles),b&&(g.inserted[y.name]=!0)}}var g={key:t,sheet:new Wte({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g};function yr(){return yr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yr.apply(this,arguments)}var tk={},vne={get exports(){return tk},set exports(n){tk=n}},Zn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ji=typeof Symbol=="function"&&Symbol.for,BP=ji?Symbol.for("react.element"):60103,FP=ji?Symbol.for("react.portal"):60106,tA=ji?Symbol.for("react.fragment"):60107,nA=ji?Symbol.for("react.strict_mode"):60108,rA=ji?Symbol.for("react.profiler"):60114,iA=ji?Symbol.for("react.provider"):60109,sA=ji?Symbol.for("react.context"):60110,zP=ji?Symbol.for("react.async_mode"):60111,oA=ji?Symbol.for("react.concurrent_mode"):60111,aA=ji?Symbol.for("react.forward_ref"):60112,lA=ji?Symbol.for("react.suspense"):60113,yne=ji?Symbol.for("react.suspense_list"):60120,cA=ji?Symbol.for("react.memo"):60115,uA=ji?Symbol.for("react.lazy"):60116,xne=ji?Symbol.for("react.block"):60121,_ne=ji?Symbol.for("react.fundamental"):60117,bne=ji?Symbol.for("react.responder"):60118,wne=ji?Symbol.for("react.scope"):60119;function aa(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case BP:switch(n=n.type,n){case zP:case oA:case tA:case rA:case nA:case lA:return n;default:switch(n=n&&n.$$typeof,n){case sA:case aA:case uA:case cA:case iA:return n;default:return e}}case FP:return e}}}function W7(n){return aa(n)===oA}Zn.AsyncMode=zP;Zn.ConcurrentMode=oA;Zn.ContextConsumer=sA;Zn.ContextProvider=iA;Zn.Element=BP;Zn.ForwardRef=aA;Zn.Fragment=tA;Zn.Lazy=uA;Zn.Memo=cA;Zn.Portal=FP;Zn.Profiler=rA;Zn.StrictMode=nA;Zn.Suspense=lA;Zn.isAsyncMode=function(n){return W7(n)||aa(n)===zP};Zn.isConcurrentMode=W7;Zn.isContextConsumer=function(n){return aa(n)===sA};Zn.isContextProvider=function(n){return aa(n)===iA};Zn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===BP};Zn.isForwardRef=function(n){return aa(n)===aA};Zn.isFragment=function(n){return aa(n)===tA};Zn.isLazy=function(n){return aa(n)===uA};Zn.isMemo=function(n){return aa(n)===cA};Zn.isPortal=function(n){return aa(n)===FP};Zn.isProfiler=function(n){return aa(n)===rA};Zn.isStrictMode=function(n){return aa(n)===nA};Zn.isSuspense=function(n){return aa(n)===lA};Zn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===tA||n===oA||n===rA||n===nA||n===lA||n===yne||typeof n=="object"&&n!==null&&(n.$$typeof===uA||n.$$typeof===cA||n.$$typeof===iA||n.$$typeof===sA||n.$$typeof===aA||n.$$typeof===_ne||n.$$typeof===bne||n.$$typeof===wne||n.$$typeof===xne)};Zn.typeOf=aa;(function(n){n.exports=Zn})(vne);var j7=tk,Sne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ane={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},q7={};q7[j7.ForwardRef]=Sne;q7[j7.Memo]=Ane;var Ene=!0;function Mne(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var Y7=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||Ene===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},X7=function(e,t,r){Y7(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Cne(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Tne={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kne=/[A-Z]|^ms/g,Rne=/_EMO_([^_]+?)_([^]*?)_EMO_/g,K7=function(e){return e.charCodeAt(1)===45},pD=function(e){return e!=null&&typeof e!="boolean"},$M=G7(function(n){return K7(n)?n:n.replace(kne,"-$&").toLowerCase()}),mD=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Rne,function(r,i,s){return tc={name:i,styles:s,next:tc},i})}return Tne[e]!==1&&!K7(e)&&typeof t=="number"&&t!==0?t+"px":t};function Uy(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return tc={name:t.name,styles:t.styles,next:tc},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)tc={name:r.name,styles:r.styles,next:tc},r=r.next;var i=t.styles+";";return i}return Pne(n,e,t)}case"function":{if(n!==void 0){var s=tc,o=t(n);return tc=s,Uy(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function Pne(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Uy(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":pD(o)&&(r+=$M(s)+":"+mD(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)pD(o[a])&&(r+=$M(s)+":"+mD(s,o[a])+";");else{var l=Uy(n,e,o);switch(s){case"animation":case"animationName":{r+=$M(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var gD=/label:\s*([^\s;\n{]+)\s*(;|$)/g,tc,VP=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";tc=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Uy(r,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Uy(r,t,e[a]),i&&(s+=o[a]);gD.lastIndex=0;for(var l="",c;(c=gD.exec(s))!==null;)l+="-"+c[1];var d=Cne(s)+l;return{name:d,styles:s,next:tc}},Ine=function(e){return e()},Z7=JT["useInsertionEffect"]?JT["useInsertionEffect"]:!1,Lne=Z7||Ine,vD=Z7||T.useLayoutEffect,J7=T.createContext(typeof HTMLElement<"u"?gne({key:"css"}):null);J7.Provider;var Q7=function(e){return T.forwardRef(function(t,r){var i=T.useContext(J7);return e(t,i,r)})},Hy=T.createContext({}),One=function(e,t){if(typeof t=="function"){var r=t(e);return r}return yr({},e,t)},Nne=fD(function(n){return fD(function(e){return One(n,e)})}),Dne=function(e){var t=T.useContext(Hy);return e.theme!==t&&(t=Nne(t)(e.theme)),T.createElement(Hy.Provider,{value:t},e.children)},dA=Q7(function(n,e){var t=n.styles,r=VP([t],void 0,T.useContext(Hy)),i=T.useRef();return vD(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),vD(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&X7(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Bne(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return VP(e)}var Fne=function(){var e=Bne.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function zne(n){return typeof n=="function"}function Vne(n,e){const t={};return Object.keys(n).forEach(r=>{e.includes(r)||(t[r]=n[r])}),t}function Une(n,e,t,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&n;r+=1)n=n[i[r]];return n===void 0?t:n}var Hne=n=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return n(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=n(r,i,s,o);return a.set(i,l),l}},eH=Hne(Une);function tH(n,e){const t={};return Object.keys(n).forEach(r=>{const i=n[r];e(i,r,n)&&(t[r]=i)}),t}var nH=n=>tH(n,e=>e!=null);function rH(n,...e){return zne(n)?n(...e):n}function Gne(n={}){const{strict:e=!0,errorMessage:t="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=n,i=T.createContext(void 0);i.displayName=r;function s(){var o;const a=T.useContext(i);if(!a&&e){const l=new Error(t);throw l.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,l,s),l}return a}return[i.Provider,s,i]}var $ne=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Wne=G7(function(n){return $ne.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),jne=Wne,qne=function(e){return e!=="theme"},yD=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?jne:qne},xD=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Yne=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return Y7(t,r,i),Lne(function(){return X7(t,r,i)}),null},Xne=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=xD(e,t,r),l=a||yD(i),c=!l("as");return function(){var d=arguments,u=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&u.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)u.push.apply(u,d);else{u.push(d[0][0]);for(var f=d.length,h=1;h<f;h++)u.push(d[h],d[0][h])}var g=Q7(function(v,x,y){var _=c&&v.as||i,b="",A=[],E=v;if(v.theme==null){E={};for(var k in v)E[k]=v[k];E.theme=T.useContext(Hy)}typeof v.className=="string"?b=Mne(x.registered,A,v.className):v.className!=null&&(b=v.className+" ");var P=VP(u.concat(A),x.registered,E);b+=x.key+"-"+P.name,o!==void 0&&(b+=" "+o);var C=c&&a===void 0?yD(_):l,O={};for(var U in v)c&&U==="as"||C(U)&&(O[U]=v[U]);return O.className=b,O.ref=y,T.createElement(T.Fragment,null,T.createElement(Yne,{cache:x,serialized:P,isStringTag:typeof _=="string"}),T.createElement(_,O))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=u,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(v,x){return n(v,yr({},t,x,{shouldForwardProp:xD(g,x,!0)})).apply(void 0,u)},g}},Kne=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],nk=Xne.bind();Kne.forEach(function(n){nk[n]=nk(n)});function Xn(n,e={}){let t=!1;function r(){if(!t){t=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...d){r();for(const u of d)e[u]=l(u);return Xn(n,e)}function s(...d){for(const u of d)u in e||(e[u]=l(u));return Xn(n,e)}function o(){return Object.fromEntries(Object.entries(e).map(([u,f])=>[u,f.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([u,f])=>[u,f.className]))}function l(d){const h=`chakra-${(["container","root"].includes(d??"")?[n]:[n,d]).filter(Boolean).join("__")}`;return{className:h,selector:`.${h}`,toString:()=>d}}return{parts:i,toPart:l,extend:s,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}var Zne=Xn("accordion").parts("root","container","button","panel").extend("icon"),Jne=Xn("alert").parts("title","description","container").extend("icon","spinner"),Qne=Xn("avatar").parts("label","badge","container").extend("excessLabel","group"),ere=Xn("breadcrumb").parts("link","item","container").extend("separator");Xn("button").parts();var tre=Xn("checkbox").parts("control","icon","container").extend("label");Xn("progress").parts("track","filledTrack").extend("label");var nre=Xn("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),rre=Xn("editable").parts("preview","input","textarea"),ire=Xn("form").parts("container","requiredIndicator","helperText"),sre=Xn("formError").parts("text","icon"),ore=Xn("input").parts("addon","field","element"),are=Xn("list").parts("container","item","icon"),lre=Xn("menu").parts("button","list","item").extend("groupTitle","command","divider"),cre=Xn("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),ure=Xn("numberinput").parts("root","field","stepperGroup","stepper");Xn("pininput").parts("field");var dre=Xn("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),fre=Xn("progress").parts("label","filledTrack","track"),hre=Xn("radio").parts("container","control","label"),pre=Xn("select").parts("field","icon"),mre=Xn("slider").parts("container","track","thumb","filledTrack","mark"),gre=Xn("stat").parts("container","label","helpText","number","icon"),vre=Xn("switch").parts("container","track","thumb"),yre=Xn("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),xre=Xn("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),_re=Xn("tag").parts("container","label","closeButton");function is(n,e){bre(n)&&(n="100%");var t=wre(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function D_(n){return Math.min(1,Math.max(0,n))}function bre(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function wre(n){return typeof n=="string"&&n.indexOf("%")!==-1}function iH(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function B_(n){return n<=1?"".concat(Number(n)*100,"%"):n}function ph(n){return n.length===1?"0"+n:String(n)}function Sre(n,e,t){return{r:is(n,255)*255,g:is(e,255)*255,b:is(t,255)*255}}function _D(n,e,t){n=is(n,255),e=is(e,255),t=is(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s=0,o=0,a=(r+i)/2;if(r===i)o=0,s=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function WM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Are(n,e,t){var r,i,s;if(n=is(n,360),e=is(e,100),t=is(t,100),e===0)i=t,s=t,r=t;else{var o=t<.5?t*(1+e):t+e-t*e,a=2*t-o;r=WM(a,o,n+1/3),i=WM(a,o,n),s=WM(a,o,n-1/3)}return{r:r*255,g:i*255,b:s*255}}function bD(n,e,t){n=is(n,255),e=is(e,255),t=is(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s=0,o=r,a=r-i,l=r===0?0:a/r;if(r===i)s=0;else{switch(r){case n:s=(e-t)/a+(e<t?6:0);break;case e:s=(t-n)/a+2;break;case t:s=(n-e)/a+4;break}s/=6}return{h:s,s:l,v:o}}function Ere(n,e,t){n=is(n,360)*6,e=is(e,100),t=is(t,100);var r=Math.floor(n),i=n-r,s=t*(1-e),o=t*(1-i*e),a=t*(1-(1-i)*e),l=r%6,c=[t,o,s,s,a,t][l],d=[a,t,t,o,s,s][l],u=[s,s,a,t,t,o][l];return{r:c*255,g:d*255,b:u*255}}function wD(n,e,t,r){var i=[ph(Math.round(n).toString(16)),ph(Math.round(e).toString(16)),ph(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Mre(n,e,t,r,i){var s=[ph(Math.round(n).toString(16)),ph(Math.round(e).toString(16)),ph(Math.round(t).toString(16)),ph(Cre(r))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Cre(n){return Math.round(parseFloat(n)*255).toString(16)}function SD(n){return Fo(n)/255}function Fo(n){return parseInt(n,16)}function Tre(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var rk={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function kre(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,s=null,o=!1,a=!1;return typeof n=="string"&&(n=Ire(n)),typeof n=="object"&&(zc(n.r)&&zc(n.g)&&zc(n.b)?(e=Sre(n.r,n.g,n.b),o=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):zc(n.h)&&zc(n.s)&&zc(n.v)?(r=B_(n.s),i=B_(n.v),e=Ere(n.h,r,i),o=!0,a="hsv"):zc(n.h)&&zc(n.s)&&zc(n.l)&&(r=B_(n.s),s=B_(n.l),e=Are(n.h,r,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=iH(t),{ok:o,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var Rre="[-\\+]?\\d+%?",Pre="[-\\+]?\\d*\\.\\d+%?",Ed="(?:".concat(Pre,")|(?:").concat(Rre,")"),jM="[\\s|\\(]+(".concat(Ed,")[,|\\s]+(").concat(Ed,")[,|\\s]+(").concat(Ed,")\\s*\\)?"),qM="[\\s|\\(]+(".concat(Ed,")[,|\\s]+(").concat(Ed,")[,|\\s]+(").concat(Ed,")[,|\\s]+(").concat(Ed,")\\s*\\)?"),ul={CSS_UNIT:new RegExp(Ed),rgb:new RegExp("rgb"+jM),rgba:new RegExp("rgba"+qM),hsl:new RegExp("hsl"+jM),hsla:new RegExp("hsla"+qM),hsv:new RegExp("hsv"+jM),hsva:new RegExp("hsva"+qM),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Ire(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(rk[n])n=rk[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=ul.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=ul.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=ul.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=ul.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=ul.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=ul.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=ul.hex8.exec(n),t?{r:Fo(t[1]),g:Fo(t[2]),b:Fo(t[3]),a:SD(t[4]),format:e?"name":"hex8"}:(t=ul.hex6.exec(n),t?{r:Fo(t[1]),g:Fo(t[2]),b:Fo(t[3]),format:e?"name":"hex"}:(t=ul.hex4.exec(n),t?{r:Fo(t[1]+t[1]),g:Fo(t[2]+t[2]),b:Fo(t[3]+t[3]),a:SD(t[4]+t[4]),format:e?"name":"hex8"}:(t=ul.hex3.exec(n),t?{r:Fo(t[1]+t[1]),g:Fo(t[2]+t[2]),b:Fo(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function zc(n){return Boolean(ul.CSS_UNIT.exec(String(n)))}var F1=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var r;if(e instanceof n)return e;typeof e=="number"&&(e=Tre(e)),this.originalInput=e;var i=kre(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=t.format)!==null&&r!==void 0?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,r,i,s=e.r/255,o=e.g/255,a=e.b/255;return s<=.03928?t=s/12.92:t=Math.pow((s+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*r+.0722*i},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=iH(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.toHsv=function(){var e=bD(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=bD(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=_D(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=_D(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),wD(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),Mre(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(is(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(is(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+wD(this.r,this.g,this.b,!1),t=0,r=Object.entries(rk);t<r.length;t++){var i=r[t],s=i[0],o=i[1];if(e===o)return s}return!1},n.prototype.toString=function(e){var t=Boolean(e);e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,s=!t&&i&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=D_(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=D_(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=D_(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=D_(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),s=t/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return new n(o)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var r=this.toHsl(),i=360/t,s=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(new n(r));return s},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,s=t.v,o=[],a=1/e;e--;)o.push(new n({h:r,s:i,v:s})),s=(s+a)%1;return o},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb();return new n({r:r.r+(t.r-r.r)*t.a,g:r.g+(t.g-r.g)*t.a,b:r.b+(t.b-r.b)*t.a})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],s=360/e,o=1;o<e;o++)i.push(new n({h:(r+o*s)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();function sH(n){if(n===void 0&&(n={}),n.count!==void 0&&n.count!==null){var e=n.count,t=[];for(n.count=void 0;e>t.length;)n.count=null,n.seed&&(n.seed+=1),t.push(sH(n));return n.count=e,t}var r=Lre(n.hue,n.seed),i=Ore(r,n),s=Nre(r,i,n),o={h:r,s:i,v:s};return n.alpha!==void 0&&(o.a=n.alpha),new F1(o)}function Lre(n,e){var t=Bre(n),r=TS(t,e);return r<0&&(r=360+r),r}function Ore(n,e){if(e.hue==="monochrome")return 0;if(e.luminosity==="random")return TS([0,100],e.seed);var t=oH(n).saturationRange,r=t[0],i=t[1];switch(e.luminosity){case"bright":r=55;break;case"dark":r=i-10;break;case"light":i=55;break}return TS([r,i],e.seed)}function Nre(n,e,t){var r=Dre(n,e),i=100;switch(t.luminosity){case"dark":i=r+20;break;case"light":r=(i+r)/2;break;case"random":r=0,i=100;break}return TS([r,i],t.seed)}function Dre(n,e){for(var t=oH(n).lowerBounds,r=0;r<t.length-1;r++){var i=t[r][0],s=t[r][1],o=t[r+1][0],a=t[r+1][1];if(e>=i&&e<=o){var l=(a-s)/(o-i),c=s-l*i;return l*e+c}}return 0}function Bre(n){var e=parseInt(n,10);if(!Number.isNaN(e)&&e<360&&e>0)return[e,e];if(typeof n=="string"){var t=lH.find(function(o){return o.name===n});if(t){var r=aH(t);if(r.hueRange)return r.hueRange}var i=new F1(n);if(i.isValid){var s=i.toHsv().h;return[s,s]}}return[0,360]}function oH(n){n>=334&&n<=360&&(n-=360);for(var e=0,t=lH;e<t.length;e++){var r=t[e],i=aH(r);if(i.hueRange&&n>=i.hueRange[0]&&n<=i.hueRange[1])return i}throw Error("Color not found")}function TS(n,e){if(e===void 0)return Math.floor(n[0]+Math.random()*(n[1]+1-n[0]));var t=n[1]||1,r=n[0]||0;e=(e*9301+49297)%233280;var i=e/233280;return Math.floor(r+i*(t-r))}function aH(n){var e=n.lowerBounds[0][0],t=n.lowerBounds[n.lowerBounds.length-1][0],r=n.lowerBounds[n.lowerBounds.length-1][1],i=n.lowerBounds[0][1];return{name:n.name,hueRange:n.hueRange,lowerBounds:n.lowerBounds,saturationRange:[e,t],brightnessRange:[r,i]}}var lH=[{name:"monochrome",hueRange:null,lowerBounds:[[0,0],[100,0]]},{name:"red",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]},{name:"orange",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]},{name:"yellow",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]},{name:"green",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]},{name:"blue",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]},{name:"purple",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]},{name:"pink",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]}];function Fre(n,e,t,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)n=n?n[e[r]]:i;return n===i?t:n}var zre=n=>Object.keys(n).length===0,ts=(n,e,t)=>{const r=Fre(n,`colors.${e}`,e),{isValid:i}=new F1(r);return i?r:t},Vre=n=>e=>{const t=ts(e,n);return new F1(t).isDark()?"dark":"light"},Ure=n=>e=>Vre(n)(e)==="dark",g0=(n,e)=>t=>{const r=ts(t,n);return new F1(r).setAlpha(e).toRgbString()};function AD(n="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${n} ${n}`}}function Hre(n){const e=sH().toHexString();return!n||zre(n)?e:n.string&&n.colors?$re(n.string,n.colors):n.string&&!n.colors?Gre(n.string):n.colors&&!n.string?Wre(n.colors):e}function Gre(n){let e=0;if(n.length===0)return e.toString();for(let r=0;r<n.length;r+=1)e=n.charCodeAt(r)+((e<<5)-e),e=e&e;let t="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;t+=`00${i.toString(16)}`.substr(-2)}return t}function $re(n,e){let t=0;if(n.length===0)return e[0];for(let r=0;r<n.length;r+=1)t=n.charCodeAt(r)+((t<<5)-t),t=t&t;return t=(t%e.length+e.length)%e.length,e[t]}function Wre(n){return n[Math.floor(Math.random()*n.length)]}function at(n,e){return t=>t.colorMode==="dark"?e:n}function UP(n){const{orientation:e,vertical:t,horizontal:r}=n;return e?e==="vertical"?t:r:{}}function jre(n){const e=typeof n;return n!=null&&(e==="object"||e==="function")&&!Array.isArray(n)}function cH(n){return jre(n)&&n.reference?n.reference:String(n)}var fA=(n,...e)=>e.map(cH).join(` ${n} `).replace(/calc/g,""),ED=(...n)=>`calc(${fA("+",...n)})`,MD=(...n)=>`calc(${fA("-",...n)})`,ik=(...n)=>`calc(${fA("*",...n)})`,CD=(...n)=>`calc(${fA("/",...n)})`,TD=n=>{const e=cH(n);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:ik(e,-1)},iu=Object.assign(n=>({add:(...e)=>iu(ED(n,...e)),subtract:(...e)=>iu(MD(n,...e)),multiply:(...e)=>iu(ik(n,...e)),divide:(...e)=>iu(CD(n,...e)),negate:()=>iu(TD(n)),toString:()=>n.toString()}),{add:ED,subtract:MD,multiply:ik,divide:CD,negate:TD});function qre(n){return!Number.isInteger(parseFloat(n.toString()))}function Yre(n,e="-"){return n.replace(/\s+/g,e)}function uH(n){const e=Yre(n.toString());return e.includes("\\.")?n:qre(n)?e.replace(".","\\."):n}function Xre(n,e=""){return[e,uH(n)].filter(Boolean).join("-")}function Kre(n,e){return`var(${uH(n)}${e?`, ${e}`:""})`}function Zre(n,e=""){return`--${Xre(n,e)}`}function Is(n,e){const t=Zre(n,e==null?void 0:e.prefix);return{variable:t,reference:Kre(t,Jre(e==null?void 0:e.fallback))}}function Jre(n){return typeof n=="string"?n:n==null?void 0:n.reference}var{definePartsStyle:Qre,defineMultiStyleConfig:eie}=Cr(Zne.keys),tie={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},nie={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},rie={pt:"2",px:"4",pb:"5"},iie={fontSize:"1.25em"},sie=Qre({container:tie,button:nie,panel:rie,icon:iie}),oie=eie({baseStyle:sie}),{definePartsStyle:z1,defineMultiStyleConfig:aie}=Cr(Jne.keys),Zo=ki("alert-fg"),bu=ki("alert-bg"),lie=z1({container:{bg:bu.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Zo.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Zo.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function HP(n){const{theme:e,colorScheme:t}=n,r=g0(`${t}.200`,.16)(e);return{light:`colors.${t}.100`,dark:r}}var cie=z1(n=>{const{colorScheme:e}=n,t=HP(n);return{container:{[Zo.variable]:`colors.${e}.500`,[bu.variable]:t.light,_dark:{[Zo.variable]:`colors.${e}.200`,[bu.variable]:t.dark}}}}),uie=z1(n=>{const{colorScheme:e}=n,t=HP(n);return{container:{[Zo.variable]:`colors.${e}.500`,[bu.variable]:t.light,_dark:{[Zo.variable]:`colors.${e}.200`,[bu.variable]:t.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Zo.reference}}}),die=z1(n=>{const{colorScheme:e}=n,t=HP(n);return{container:{[Zo.variable]:`colors.${e}.500`,[bu.variable]:t.light,_dark:{[Zo.variable]:`colors.${e}.200`,[bu.variable]:t.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Zo.reference}}}),fie=z1(n=>{const{colorScheme:e}=n;return{container:{[Zo.variable]:"colors.white",[bu.variable]:`colors.${e}.500`,_dark:{[Zo.variable]:"colors.gray.900",[bu.variable]:`colors.${e}.200`},color:Zo.reference}}}),hie={subtle:cie,"left-accent":uie,"top-accent":die,solid:fie},pie=aie({baseStyle:lie,variants:hie,defaultProps:{variant:"subtle",colorScheme:"blue"}}),dH={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},mie={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},gie={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},vie={...dH,...mie,container:gie},fH=vie,yie=n=>typeof n=="function";function Gi(n,...e){return yie(n)?n(...e):n}var{definePartsStyle:hH,defineMultiStyleConfig:xie}=Cr(Qne.keys),Hm=ki("avatar-border-color"),YM=ki("avatar-bg"),_ie={borderRadius:"full",border:"0.2em solid",[Hm.variable]:"white",_dark:{[Hm.variable]:"colors.gray.800"},borderColor:Hm.reference},bie={[YM.variable]:"colors.gray.200",_dark:{[YM.variable]:"colors.whiteAlpha.400"},bgColor:YM.reference},kD=ki("avatar-background"),wie=n=>{const{name:e,theme:t}=n,r=e?Hre({string:e}):"colors.gray.400",i=Ure(r)(t);let s="white";return i||(s="gray.800"),{bg:kD.reference,"&:not([data-loaded])":{[kD.variable]:r},color:s,[Hm.variable]:"colors.white",_dark:{[Hm.variable]:"colors.gray.800"},borderColor:Hm.reference,verticalAlign:"top"}},Sie=hH(n=>({badge:Gi(_ie,n),excessLabel:Gi(bie,n),container:Gi(wie,n)}));function Ju(n){const e=n!=="100%"?fH[n]:void 0;return hH({container:{width:n,height:n,fontSize:`calc(${e??n} / 2.5)`},excessLabel:{width:n,height:n},label:{fontSize:`calc(${e??n} / 2.5)`,lineHeight:n!=="100%"?e??n:void 0}})}var Aie={"2xs":Ju(4),xs:Ju(6),sm:Ju(8),md:Ju(12),lg:Ju(16),xl:Ju(24),"2xl":Ju(32),full:Ju("100%")},Eie=xie({baseStyle:Sie,sizes:Aie,defaultProps:{size:"md"}}),Mie={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},Gm=ki("badge-bg"),cc=ki("badge-color"),Cie=n=>{const{colorScheme:e,theme:t}=n,r=g0(`${e}.500`,.6)(t);return{[Gm.variable]:`colors.${e}.500`,[cc.variable]:"colors.white",_dark:{[Gm.variable]:r,[cc.variable]:"colors.whiteAlpha.800"},bg:Gm.reference,color:cc.reference}},Tie=n=>{const{colorScheme:e,theme:t}=n,r=g0(`${e}.200`,.16)(t);return{[Gm.variable]:`colors.${e}.100`,[cc.variable]:`colors.${e}.800`,_dark:{[Gm.variable]:r,[cc.variable]:`colors.${e}.200`},bg:Gm.reference,color:cc.reference}},kie=n=>{const{colorScheme:e,theme:t}=n,r=g0(`${e}.200`,.8)(t);return{[cc.variable]:`colors.${e}.500`,_dark:{[cc.variable]:r},color:cc.reference,boxShadow:`inset 0 0 0px 1px ${cc.reference}`}},Rie={solid:Cie,subtle:Tie,outline:kie},qv={baseStyle:Mie,variants:Rie,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Pie,definePartsStyle:Iie}=Cr(ere.keys),Lie={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},Oie=Iie({link:Lie}),Nie=Pie({baseStyle:Oie}),Die={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},pH=n=>{const{colorScheme:e,theme:t}=n;if(e==="gray")return{color:at("inherit","whiteAlpha.900")(n),_hover:{bg:at("gray.100","whiteAlpha.200")(n)},_active:{bg:at("gray.200","whiteAlpha.300")(n)}};const r=g0(`${e}.200`,.12)(t),i=g0(`${e}.200`,.24)(t);return{color:at(`${e}.600`,`${e}.200`)(n),bg:"transparent",_hover:{bg:at(`${e}.50`,r)(n)},_active:{bg:at(`${e}.100`,i)(n)}}},Bie=n=>{const{colorScheme:e}=n,t=at("gray.200","whiteAlpha.300")(n);return{border:"1px solid",borderColor:e==="gray"?t:"currentColor",".chakra-button__group[data-attached] > &:not(:last-of-type)":{marginEnd:"-1px"},...Gi(pH,n)}},Fie={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},zie=n=>{const{colorScheme:e}=n;if(e==="gray"){const a=at("gray.100","whiteAlpha.200")(n);return{bg:a,_hover:{bg:at("gray.200","whiteAlpha.300")(n),_disabled:{bg:a}},_active:{bg:at("gray.300","whiteAlpha.400")(n)}}}const{bg:t=`${e}.500`,color:r="white",hoverBg:i=`${e}.600`,activeBg:s=`${e}.700`}=Fie[e]??{},o=at(t,`${e}.200`)(n);return{bg:o,color:at(r,"gray.800")(n),_hover:{bg:at(i,`${e}.300`)(n),_disabled:{bg:o}},_active:{bg:at(s,`${e}.400`)(n)}}},Vie=n=>{const{colorScheme:e}=n;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:at(`${e}.500`,`${e}.200`)(n),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:at(`${e}.700`,`${e}.500`)(n)}}},Uie={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},Hie={ghost:pH,outline:Bie,solid:zie,link:Vie,unstyled:Uie},Gie={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},$ie={baseStyle:Die,variants:Hie,sizes:Gie,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:bw,defineMultiStyleConfig:Wie}=Cr(tre.keys),Yv=ki("checkbox-size"),jie=n=>{const{colorScheme:e}=n;return{w:Yv.reference,h:Yv.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:at(`${e}.500`,`${e}.200`)(n),borderColor:at(`${e}.500`,`${e}.200`)(n),color:at("white","gray.900")(n),_hover:{bg:at(`${e}.600`,`${e}.300`)(n),borderColor:at(`${e}.600`,`${e}.300`)(n)},_disabled:{borderColor:at("gray.200","transparent")(n),bg:at("gray.200","whiteAlpha.300")(n),color:at("gray.500","whiteAlpha.500")(n)}},_indeterminate:{bg:at(`${e}.500`,`${e}.200`)(n),borderColor:at(`${e}.500`,`${e}.200`)(n),color:at("white","gray.900")(n)},_disabled:{bg:at("gray.100","whiteAlpha.100")(n),borderColor:at("gray.100","transparent")(n)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:at("red.500","red.300")(n)}}},qie={_disabled:{cursor:"not-allowed"}},Yie={userSelect:"none",_disabled:{opacity:.4}},Xie={transitionProperty:"transform",transitionDuration:"normal"},Kie=bw(n=>({icon:Xie,container:qie,control:Gi(jie,n),label:Yie})),Zie={sm:bw({control:{[Yv.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:bw({control:{[Yv.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:bw({control:{[Yv.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},kS=Wie({baseStyle:Kie,sizes:Zie,defaultProps:{size:"md",colorScheme:"blue"}}),Xv=Is("close-button-size"),Yg=Is("close-button-bg"),Jie={w:[Xv.reference],h:[Xv.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Yg.variable]:"colors.blackAlpha.100",_dark:{[Yg.variable]:"colors.whiteAlpha.100"}},_active:{[Yg.variable]:"colors.blackAlpha.200",_dark:{[Yg.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Yg.reference},Qie={lg:{[Xv.variable]:"sizes.10",fontSize:"md"},md:{[Xv.variable]:"sizes.8",fontSize:"xs"},sm:{[Xv.variable]:"sizes.6",fontSize:"2xs"}},ese={baseStyle:Jie,sizes:Qie,defaultProps:{size:"md"}},{variants:tse,defaultProps:nse}=qv,rse={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},ise={baseStyle:rse,variants:tse,defaultProps:nse},sse={w:"100%",mx:"auto",maxW:"prose",px:"4"},ose={baseStyle:sse},ase={opacity:.6,borderColor:"inherit"},lse={borderStyle:"solid"},cse={borderStyle:"dashed"},use={solid:lse,dashed:cse},dse={baseStyle:ase,variants:use,defaultProps:{variant:"solid"}},{definePartsStyle:sk,defineMultiStyleConfig:fse}=Cr(nre.keys),XM=ki("drawer-bg"),KM=ki("drawer-box-shadow");function Tp(n){return sk(n==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:n}})}var hse={bg:"blackAlpha.600",zIndex:"overlay"},pse={display:"flex",zIndex:"modal",justifyContent:"center"},mse=n=>{const{isFullHeight:e}=n;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[XM.variable]:"colors.white",[KM.variable]:"shadows.lg",_dark:{[XM.variable]:"colors.gray.700",[KM.variable]:"shadows.dark-lg"},bg:XM.reference,boxShadow:KM.reference}},gse={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},vse={position:"absolute",top:"2",insetEnd:"3"},yse={px:"6",py:"2",flex:"1",overflow:"auto"},xse={px:"6",py:"4"},_se=sk(n=>({overlay:hse,dialogContainer:pse,dialog:Gi(mse,n),header:gse,closeButton:vse,body:yse,footer:xse})),bse={xs:Tp("xs"),sm:Tp("md"),md:Tp("lg"),lg:Tp("2xl"),xl:Tp("4xl"),full:Tp("full")},wse=fse({baseStyle:_se,sizes:bse,defaultProps:{size:"xs"}}),{definePartsStyle:Sse,defineMultiStyleConfig:Ase}=Cr(rre.keys),Ese={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},Mse={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},Cse={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},Tse=Sse({preview:Ese,input:Mse,textarea:Cse}),kse=Ase({baseStyle:Tse}),{definePartsStyle:Rse,defineMultiStyleConfig:Pse}=Cr(ire.keys),$m=ki("form-control-color"),Ise={marginStart:"1",[$m.variable]:"colors.red.500",_dark:{[$m.variable]:"colors.red.300"},color:$m.reference},Lse={mt:"2",[$m.variable]:"colors.gray.600",_dark:{[$m.variable]:"colors.whiteAlpha.600"},color:$m.reference,lineHeight:"normal",fontSize:"sm"},Ose=Rse({container:{width:"100%",position:"relative"},requiredIndicator:Ise,helperText:Lse}),Nse=Pse({baseStyle:Ose}),{definePartsStyle:Dse,defineMultiStyleConfig:Bse}=Cr(sre.keys),Wm=ki("form-error-color"),Fse={[Wm.variable]:"colors.red.500",_dark:{[Wm.variable]:"colors.red.300"},color:Wm.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},zse={marginEnd:"0.5em",[Wm.variable]:"colors.red.500",_dark:{[Wm.variable]:"colors.red.300"},color:Wm.reference},Vse=Dse({text:Fse,icon:zse}),Use=Bse({baseStyle:Vse}),Hse={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},Gse={baseStyle:Hse},$se={fontFamily:"heading",fontWeight:"bold"},Wse={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},jse={baseStyle:$se,sizes:Wse,defaultProps:{size:"xl"}},{definePartsStyle:uu,defineMultiStyleConfig:qse}=Cr(ore.keys),Yse=uu({field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Qu={lg:{fontSize:"lg",px:"4",h:"12",borderRadius:"md"},md:{fontSize:"md",px:"4",h:"10",borderRadius:"md"},sm:{fontSize:"sm",px:"3",h:"8",borderRadius:"sm"},xs:{fontSize:"xs",px:"2",h:"6",borderRadius:"sm"}},Xse={lg:uu({field:Qu.lg,addon:Qu.lg}),md:uu({field:Qu.md,addon:Qu.md}),sm:uu({field:Qu.sm,addon:Qu.sm}),xs:uu({field:Qu.xs,addon:Qu.xs})};function GP(n){const{focusBorderColor:e,errorBorderColor:t}=n;return{focusBorderColor:e||at("blue.500","blue.300")(n),errorBorderColor:t||at("red.500","red.300")(n)}}var Kse=uu(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:r}=GP(n);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:at("gray.300","whiteAlpha.400")(n)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ts(e,r),boxShadow:`0 0 0 1px ${ts(e,r)}`},_focusVisible:{zIndex:1,borderColor:ts(e,t),boxShadow:`0 0 0 1px ${ts(e,t)}`}},addon:{border:"1px solid",borderColor:at("inherit","whiteAlpha.50")(n),bg:at("gray.100","whiteAlpha.300")(n)}}}),Zse=uu(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:r}=GP(n);return{field:{border:"2px solid",borderColor:"transparent",bg:at("gray.100","whiteAlpha.50")(n),_hover:{bg:at("gray.200","whiteAlpha.100")(n)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ts(e,r)},_focusVisible:{bg:"transparent",borderColor:ts(e,t)}},addon:{border:"2px solid",borderColor:"transparent",bg:at("gray.100","whiteAlpha.50")(n)}}}),Jse=uu(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:r}=GP(n);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ts(e,r),boxShadow:`0px 1px 0px 0px ${ts(e,r)}`},_focusVisible:{borderColor:ts(e,t),boxShadow:`0px 1px 0px 0px ${ts(e,t)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),Qse=uu({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),eoe={outline:Kse,filled:Zse,flushed:Jse,unstyled:Qse},Un=qse({baseStyle:Yse,sizes:Xse,variants:eoe,defaultProps:{size:"md",variant:"outline"}}),toe=n=>({bg:at("gray.100","whiteAlpha")(n),borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}),noe={baseStyle:toe},roe={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},ioe={baseStyle:roe},{defineMultiStyleConfig:soe,definePartsStyle:ooe}=Cr(are.keys),aoe={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},loe=ooe({icon:aoe}),coe=soe({baseStyle:loe}),{defineMultiStyleConfig:uoe,definePartsStyle:doe}=Cr(lre.keys),foe=n=>({bg:at("#fff","gray.700")(n),boxShadow:at("sm","dark-lg")(n),color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px"}),hoe=n=>({py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{bg:at("gray.100","whiteAlpha.100")(n)},_active:{bg:at("gray.200","whiteAlpha.200")(n)},_expanded:{bg:at("gray.100","whiteAlpha.100")(n)},_disabled:{opacity:.4,cursor:"not-allowed"}}),poe={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},moe={opacity:.6},goe={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},voe={transitionProperty:"common",transitionDuration:"normal"},yoe=doe(n=>({button:voe,list:Gi(foe,n),item:Gi(hoe,n),groupTitle:poe,command:moe,divider:goe})),xoe=uoe({baseStyle:yoe}),{defineMultiStyleConfig:_oe,definePartsStyle:ok}=Cr(cre.keys),boe={bg:"blackAlpha.600",zIndex:"modal"},woe=n=>{const{isCentered:e,scrollBehavior:t}=n;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:t==="inside"?"hidden":"auto"}},Soe=n=>{const{scrollBehavior:e}=n;return{borderRadius:"md",bg:at("white","gray.700")(n),color:"inherit",my:"16",zIndex:"modal",maxH:e==="inside"?"calc(100% - 7.5rem)":void 0,boxShadow:at("lg","dark-lg")(n)}},Aoe={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Eoe={position:"absolute",top:"2",insetEnd:"3"},Moe=n=>{const{scrollBehavior:e}=n;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},Coe={px:"6",py:"4"},Toe=ok(n=>({overlay:boe,dialogContainer:Gi(woe,n),dialog:Gi(Soe,n),header:Aoe,closeButton:Eoe,body:Gi(Moe,n),footer:Coe}));function nl(n){return ok(n==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:n}})}var koe={xs:nl("xs"),sm:nl("sm"),md:nl("md"),lg:nl("lg"),xl:nl("xl"),"2xl":nl("2xl"),"3xl":nl("3xl"),"4xl":nl("4xl"),"5xl":nl("5xl"),"6xl":nl("6xl"),full:nl("full")},Roe=_oe({baseStyle:Toe,sizes:koe,defaultProps:{size:"md"}}),Poe={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},mH=Poe,{defineMultiStyleConfig:Ioe,definePartsStyle:gH}=Cr(ure.keys),$P=Is("number-input-stepper-width"),vH=Is("number-input-input-padding"),Loe=iu($P).add("0.5rem").toString(),Ooe={[$P.variable]:"sizes.6",[vH.variable]:Loe},Noe=n=>{var e;return((e=Gi(Un.baseStyle,n))==null?void 0:e.field)??{}},Doe={width:[$P.reference]},Boe=n=>({borderStart:"1px solid",borderStartColor:at("inherit","whiteAlpha.300")(n),color:at("inherit","whiteAlpha.800")(n),_active:{bg:at("gray.200","whiteAlpha.300")(n)},_disabled:{opacity:.4,cursor:"not-allowed"}}),Foe=gH(n=>({root:Ooe,field:Gi(Noe,n)??{},stepperGroup:Doe,stepper:Gi(Boe,n)??{}}));function F_(n){var e,t;const r=(e=Un.sizes)==null?void 0:e[n],i={lg:"md",md:"md",sm:"sm",xs:"sm"},s=((t=r.field)==null?void 0:t.fontSize)??"md",o=mH.fontSizes[s];return gH({field:{...r.field,paddingInlineEnd:vH.reference,verticalAlign:"top"},stepper:{fontSize:iu(o).multiply(.75).toString(),_first:{borderTopEndRadius:i[n]},_last:{borderBottomEndRadius:i[n],mt:"-1px",borderTopWidth:1}}})}var zoe={xs:F_("xs"),sm:F_("sm"),md:F_("md"),lg:F_("lg")},Voe=Ioe({baseStyle:Foe,sizes:zoe,variants:Un.variants,defaultProps:Un.defaultProps}),RD,Uoe={...(RD=Un.baseStyle)==null?void 0:RD.field,textAlign:"center"},Hoe={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},PD,Goe={outline:n=>{var e,t;return((t=Gi((e=Un.variants)==null?void 0:e.outline,n))==null?void 0:t.field)??{}},flushed:n=>{var e,t;return((t=Gi((e=Un.variants)==null?void 0:e.flushed,n))==null?void 0:t.field)??{}},filled:n=>{var e,t;return((t=Gi((e=Un.variants)==null?void 0:e.filled,n))==null?void 0:t.field)??{}},unstyled:((PD=Un.variants)==null?void 0:PD.unstyled.field)??{}},$oe={baseStyle:Uoe,sizes:Hoe,variants:Goe,defaultProps:Un.defaultProps},{defineMultiStyleConfig:Woe,definePartsStyle:joe}=Cr(dre.keys),z_=Is("popper-bg"),qoe=Is("popper-arrow-bg"),ID=Is("popper-arrow-shadow-color"),Yoe={zIndex:10},Xoe={[z_.variable]:"colors.white",bg:z_.reference,[qoe.variable]:z_.reference,[ID.variable]:"colors.gray.200",_dark:{[z_.variable]:"colors.gray.700",[ID.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},Koe={px:3,py:2,borderBottomWidth:"1px"},Zoe={px:3,py:2},Joe={px:3,py:2,borderTopWidth:"1px"},Qoe={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},eae=joe({popper:Yoe,content:Xoe,header:Koe,body:Zoe,footer:Joe,closeButton:Qoe}),tae=Woe({baseStyle:eae}),{defineMultiStyleConfig:nae,definePartsStyle:Rv}=Cr(fre.keys),rae=n=>{const{colorScheme:e,theme:t,isIndeterminate:r,hasStripe:i}=n,s=at(AD(),AD("1rem","rgba(0,0,0,0.1)"))(n),o=at(`${e}.500`,`${e}.200`)(n),a=`linear-gradient(
    to right,
    transparent 0%,
    ${ts(t,o)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:a}:{bgColor:o}}},iae={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},sae=n=>({bg:at("gray.100","whiteAlpha.300")(n)}),oae=n=>({transitionProperty:"common",transitionDuration:"slow",...rae(n)}),aae=Rv(n=>({label:iae,filledTrack:oae(n),track:sae(n)})),lae={xs:Rv({track:{h:"1"}}),sm:Rv({track:{h:"2"}}),md:Rv({track:{h:"3"}}),lg:Rv({track:{h:"4"}})},cae=nae({sizes:lae,baseStyle:aae,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:uae,definePartsStyle:ww}=Cr(hre.keys),dae=n=>{var e;const t=(e=Gi(kS.baseStyle,n))==null?void 0:e.control;return{...t,borderRadius:"full",_checked:{...t==null?void 0:t._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},fae=ww(n=>{var e,t,r,i;return{label:(t=(e=kS).baseStyle)==null?void 0:t.call(e,n).label,container:(i=(r=kS).baseStyle)==null?void 0:i.call(r,n).container,control:dae(n)}}),hae={md:ww({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:ww({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:ww({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},pae=uae({baseStyle:fae,sizes:hae,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:mae,definePartsStyle:gae}=Cr(pre.keys),vae=n=>{var e;return{...(e=Un.baseStyle)==null?void 0:e.field,bg:at("white","gray.700")(n),appearance:"none",paddingBottom:"1px",lineHeight:"normal","> option, > optgroup":{bg:at("white","gray.700")(n)}}},yae={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},xae=gae(n=>({field:vae(n),icon:yae})),V_={paddingInlineEnd:"8"},LD,OD,ND,DD,BD,FD,zD,VD,_ae={lg:{...(LD=Un.sizes)==null?void 0:LD.lg,field:{...(OD=Un.sizes)==null?void 0:OD.lg.field,...V_}},md:{...(ND=Un.sizes)==null?void 0:ND.md,field:{...(DD=Un.sizes)==null?void 0:DD.md.field,...V_}},sm:{...(BD=Un.sizes)==null?void 0:BD.sm,field:{...(FD=Un.sizes)==null?void 0:FD.sm.field,...V_}},xs:{...(zD=Un.sizes)==null?void 0:zD.xs,field:{...(VD=Un.sizes)==null?void 0:VD.xs.field,...V_},icon:{insetEnd:"1"}}},bae=mae({baseStyle:xae,sizes:_ae,variants:Un.variants,defaultProps:Un.defaultProps}),wae=ki("skeleton-start-color"),Sae=ki("skeleton-end-color"),Aae=n=>{const e=at("gray.100","gray.800")(n),t=at("gray.400","gray.600")(n),{startColor:r=e,endColor:i=t,theme:s}=n,o=ts(s,r),a=ts(s,i);return{[wae.variable]:o,[Sae.variable]:a,opacity:.7,borderRadius:"2px",borderColor:o,background:a}},Eae={baseStyle:Aae},ZM=ki("skip-link-bg"),Mae={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[ZM.variable]:"colors.white",_dark:{[ZM.variable]:"colors.gray.700"},bg:ZM.reference}},Cae={baseStyle:Mae},{defineMultiStyleConfig:Tae,definePartsStyle:hA}=Cr(mre.keys),Gy=ki("slider-thumb-size"),$y=ki("slider-track-size"),bd=ki("slider-bg"),kae=n=>{const{orientation:e}=n;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...UP({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},Rae=n=>({...UP({orientation:n.orientation,horizontal:{h:$y.reference},vertical:{w:$y.reference}}),overflow:"hidden",borderRadius:"sm",[bd.variable]:"colors.gray.200",_dark:{[bd.variable]:"colors.whiteAlpha.200"},_disabled:{[bd.variable]:"colors.gray.300",_dark:{[bd.variable]:"colors.whiteAlpha.300"}},bg:bd.reference}),Pae=n=>{const{orientation:e}=n;return{...UP({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Gy.reference,h:Gy.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},Iae=n=>{const{colorScheme:e}=n;return{width:"inherit",height:"inherit",[bd.variable]:`colors.${e}.500`,_dark:{[bd.variable]:`colors.${e}.200`},bg:bd.reference}},Lae=hA(n=>({container:kae(n),track:Rae(n),thumb:Pae(n),filledTrack:Iae(n)})),Oae=hA({container:{[Gy.variable]:"sizes.4",[$y.variable]:"sizes.1"}}),Nae=hA({container:{[Gy.variable]:"sizes.3.5",[$y.variable]:"sizes.1"}}),Dae=hA({container:{[Gy.variable]:"sizes.2.5",[$y.variable]:"sizes.0.5"}}),Bae={lg:Oae,md:Nae,sm:Dae},Fae=Tae({baseStyle:Lae,sizes:Bae,defaultProps:{size:"md",colorScheme:"blue"}}),ah=Is("spinner-size"),zae={width:[ah.reference],height:[ah.reference]},Vae={xs:{[ah.variable]:"sizes.3"},sm:{[ah.variable]:"sizes.4"},md:{[ah.variable]:"sizes.6"},lg:{[ah.variable]:"sizes.8"},xl:{[ah.variable]:"sizes.12"}},Uae={baseStyle:zae,sizes:Vae,defaultProps:{size:"md"}},{defineMultiStyleConfig:Hae,definePartsStyle:yH}=Cr(gre.keys),Gae={fontWeight:"medium"},$ae={opacity:.8,marginBottom:"2"},Wae={verticalAlign:"baseline",fontWeight:"semibold"},jae={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},qae=yH({container:{},label:Gae,helpText:$ae,number:Wae,icon:jae}),Yae={md:yH({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},Xae=Hae({baseStyle:qae,sizes:Yae,defaultProps:{size:"md"}}),{defineMultiStyleConfig:Kae,definePartsStyle:Sw}=Cr(vre.keys),Kv=Is("switch-track-width"),Ah=Is("switch-track-height"),JM=Is("switch-track-diff"),Zae=iu.subtract(Kv,Ah),ak=Is("switch-thumb-x"),Xg=Is("switch-bg"),Jae=n=>{const{colorScheme:e}=n;return{borderRadius:"full",p:"0.5",width:[Kv.reference],height:[Ah.reference],transitionProperty:"common",transitionDuration:"fast",[Xg.variable]:"colors.gray.300",_dark:{[Xg.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Xg.variable]:`colors.${e}.500`,_dark:{[Xg.variable]:`colors.${e}.200`}},bg:Xg.reference}},Qae={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Ah.reference],height:[Ah.reference],_checked:{transform:`translateX(${ak.reference})`}},ele=Sw(n=>({container:{[JM.variable]:Zae,[ak.variable]:JM.reference,_rtl:{[ak.variable]:iu(JM).negate().toString()}},track:Jae(n),thumb:Qae})),tle={sm:Sw({container:{[Kv.variable]:"1.375rem",[Ah.variable]:"sizes.3"}}),md:Sw({container:{[Kv.variable]:"1.875rem",[Ah.variable]:"sizes.4"}}),lg:Sw({container:{[Kv.variable]:"2.875rem",[Ah.variable]:"sizes.6"}})},nle=Kae({baseStyle:ele,sizes:tle,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:rle,definePartsStyle:jm}=Cr(yre.keys),ile=jm({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),RS={"&[data-is-numeric=true]":{textAlign:"end"}},sle=jm(n=>{const{colorScheme:e}=n;return{th:{color:at("gray.600","gray.400")(n),borderBottom:"1px",borderColor:at(`${e}.100`,`${e}.700`)(n),...RS},td:{borderBottom:"1px",borderColor:at(`${e}.100`,`${e}.700`)(n),...RS},caption:{color:at("gray.600","gray.100")(n)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),ole=jm(n=>{const{colorScheme:e}=n;return{th:{color:at("gray.600","gray.400")(n),borderBottom:"1px",borderColor:at(`${e}.100`,`${e}.700`)(n),...RS},td:{borderBottom:"1px",borderColor:at(`${e}.100`,`${e}.700`)(n),...RS},caption:{color:at("gray.600","gray.100")(n)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:at(`${e}.100`,`${e}.700`)(n)},td:{background:at(`${e}.100`,`${e}.700`)(n)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),ale={simple:sle,striped:ole,unstyled:{}},lle={sm:jm({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:jm({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:jm({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},cle=rle({baseStyle:ile,variants:ale,sizes:lle,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),{defineMultiStyleConfig:ule,definePartsStyle:mc}=Cr(xre.keys),dle=n=>{const{orientation:e}=n;return{display:e==="vertical"?"flex":"block"}},fle=n=>{const{isFitted:e}=n;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},hle=n=>{const{align:e="start",orientation:t}=n;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:t==="vertical"?"column":"row"}},ple={p:4},mle=mc(n=>({root:dle(n),tab:fle(n),tablist:hle(n),tabpanel:ple})),gle={sm:mc({tab:{py:1,px:4,fontSize:"sm"}}),md:mc({tab:{fontSize:"md",py:2,px:4}}),lg:mc({tab:{fontSize:"lg",py:3,px:4}})},vle=mc(n=>{const{colorScheme:e,orientation:t}=n,r=t==="vertical",i=t==="vertical"?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{color:at(`${e}.600`,`${e}.300`)(n),borderColor:"currentColor"},_active:{bg:at("gray.200","whiteAlpha.300")(n)},_disabled:{_active:{bg:"none"}}}}}),yle=mc(n=>{const{colorScheme:e}=n;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",_selected:{color:at(`${e}.600`,`${e}.300`)(n),borderColor:"inherit",borderBottomColor:at("white","gray.800")(n)}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),xle=mc(n=>{const{colorScheme:e}=n;return{tab:{border:"1px solid",borderColor:"inherit",bg:at("gray.50","whiteAlpha.50")(n),mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{bg:at("#fff","gray.800")(n),color:at(`${e}.600`,`${e}.300`)(n),borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),_le=mc(n=>{const{colorScheme:e,theme:t}=n;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:ts(t,`${e}.700`),bg:ts(t,`${e}.100`)}}}}),ble=mc(n=>{const{colorScheme:e}=n;return{tab:{borderRadius:"full",fontWeight:"semibold",color:at("gray.600","inherit")(n),_selected:{color:at("#fff","gray.800")(n),bg:at(`${e}.600`,`${e}.300`)(n)}}}}),wle=mc({}),Sle={line:vle,enclosed:yle,"enclosed-colored":xle,"soft-rounded":_le,"solid-rounded":ble,unstyled:wle},Ale=ule({baseStyle:mle,sizes:gle,variants:Sle,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:Ele,definePartsStyle:Eh}=Cr(_re.keys),Mle={fontWeight:"medium",lineHeight:1.2,outline:0,borderRadius:"md",_focusVisible:{boxShadow:"outline"}},Cle={lineHeight:1.2,overflow:"visible"},Tle={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},kle=Eh({container:Mle,label:Cle,closeButton:Tle}),Rle={sm:Eh({container:{minH:"5",minW:"5",fontSize:"xs",px:"2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Eh({container:{minH:"6",minW:"6",fontSize:"sm",px:"2"}}),lg:Eh({container:{minH:"8",minW:"8",fontSize:"md",px:"3"}})},Ple={subtle:Eh(n=>{var e;return{container:(e=qv.variants)==null?void 0:e.subtle(n)}}),solid:Eh(n=>{var e;return{container:(e=qv.variants)==null?void 0:e.solid(n)}}),outline:Eh(n=>{var e;return{container:(e=qv.variants)==null?void 0:e.outline(n)}})},Ile=Ele({variants:Ple,baseStyle:kle,sizes:Rle,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),UD,Lle={...(UD=Un.baseStyle)==null?void 0:UD.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},HD,Ole={outline:n=>{var e;return((e=Un.variants)==null?void 0:e.outline(n).field)??{}},flushed:n=>{var e;return((e=Un.variants)==null?void 0:e.flushed(n).field)??{}},filled:n=>{var e;return((e=Un.variants)==null?void 0:e.filled(n).field)??{}},unstyled:((HD=Un.variants)==null?void 0:HD.unstyled.field)??{}},GD,$D,WD,jD,Nle={xs:((GD=Un.sizes)==null?void 0:GD.xs.field)??{},sm:(($D=Un.sizes)==null?void 0:$D.sm.field)??{},md:((WD=Un.sizes)==null?void 0:WD.md.field)??{},lg:((jD=Un.sizes)==null?void 0:jD.lg.field)??{}},Dle={baseStyle:Lle,sizes:Nle,variants:Ole,defaultProps:{size:"md",variant:"outline"}},U_=Is("tooltip-bg"),QM=Is("tooltip-fg"),Ble=Is("popper-arrow-bg"),Fle={bg:U_.reference,color:QM.reference,[U_.variable]:"colors.gray.700",[QM.variable]:"colors.whiteAlpha.900",_dark:{[U_.variable]:"colors.gray.300",[QM.variable]:"colors.gray.900"},[Ble.variable]:U_.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},zle={baseStyle:Fle},Vle={Accordion:oie,Alert:pie,Avatar:Eie,Badge:qv,Breadcrumb:Nie,Button:$ie,Checkbox:kS,CloseButton:ese,Code:ise,Container:ose,Divider:dse,Drawer:wse,Editable:kse,Form:Nse,FormError:Use,FormLabel:Gse,Heading:jse,Input:Un,Kbd:noe,Link:ioe,List:coe,Menu:xoe,Modal:Roe,NumberInput:Voe,PinInput:$oe,Popover:tae,Progress:cae,Radio:pae,Select:bae,Skeleton:Eae,SkipLink:Cae,Slider:Fae,Spinner:Uae,Stat:Xae,Switch:nle,Table:cle,Tabs:Ale,Tag:Ile,Textarea:Dle,Tooltip:zle},Ule={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},Hle=Ule,Gle={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},$le=Gle,Wle={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},jle=Wle,qle={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},Yle=qle,Xle={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},Kle=Xle,Zle={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},Jle={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},Qle={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},ece={property:Zle,easing:Jle,duration:Qle},tce=ece,nce={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},rce=nce,ice={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},sce=ice,oce={breakpoints:$le,zIndices:rce,radii:Yle,blur:sce,colors:jle,...mH,sizes:fH,shadows:Kle,space:dH,borders:Hle,transition:tce},ace={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},lce={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color",wordWrap:"break-word"}}},cce="ltr",uce={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},dce={semanticTokens:ace,direction:cce,...oce,components:Vle,styles:lce,config:uce},fce=typeof Element<"u",hce=typeof Map=="function",pce=typeof Set=="function",mce=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Aw(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!Aw(n[r],e[r]))return!1;return!0}var s;if(hce&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=n.entries();!(r=s.next()).done;)if(!Aw(r.value[1],e.get(r.value[0])))return!1;return!0}if(pce&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(mce&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(fce&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!Aw(n[i[r]],e[i[r]]))return!1;return!0}return n!==n&&e!==e}var gce=function(e,t){try{return Aw(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};function xH(){const n=T.useContext(Hy);if(!n)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return n}function _H(){const n=PP(),e=xH();return{...n,theme:e}}function vce(n,e,t){if(e==null)return e;const r=i=>{var s,o;return(o=(s=n.__breakpoints)==null?void 0:s.asArray)==null?void 0:o[i]};return r(e)??r(t)??t}function yce(n,e,t){if(e==null)return e;const r=i=>{var s,o;return(o=(s=n.__cssMap)==null?void 0:s[i])==null?void 0:o.value};return r(e)??r(t)??t}function xce(n,e,t){const r=Array.isArray(e)?e:[e],i=Array.isArray(t)?t:[t];return s=>{const o=i.filter(Boolean),a=r.map((l,c)=>{if(n==="breakpoints")return vce(s,l,o[c]??l);const d=`${n}.${l}`;return yce(s,d,o[c]??l)});return Array.isArray(e)?a:a[0]}}function _ce(n){const{cssVarsRoot:e,theme:t,children:r}=n,i=T.useMemo(()=>Tte(t),[t]);return H.createElement(Dne,{theme:i},H.createElement(bce,{root:e}),r)}function bce({root:n=":host, :root"}){const e=[n,"[data-theme]"].join(",");return H.createElement(dA,{styles:t=>({[e]:t.__cssVars})})}Gne({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function wce(){const{colorMode:n}=PP();return H.createElement(dA,{styles:e=>{const t=eH(e,"styles.global"),r=rH(t,{theme:e,colorMode:n});return r?D7(r)(e):void 0}})}var Sce=new Set([...Rte,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),Ace=new Set(["htmlWidth","htmlHeight","htmlSize"]);function Ece(n){return Ace.has(n)||!Sce.has(n)}var Mce=({baseStyle:n})=>e=>{const{theme:t,css:r,__css:i,sx:s,...o}=e,a=tH(o,(u,f)=>Ite(f)),l=rH(n,e),c=Object.assign({},i,l,nH(a),s),d=D7(c)(e.theme);return r?[d,r]:d};function eC(n,e){const{baseStyle:t,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=Ece);const i=Mce({baseStyle:t}),s=nk(n,r)(i);return H.forwardRef(function(l,c){const{colorMode:d,forced:u}=PP();return H.createElement(s,{ref:c,"data-theme":u?d:void 0,...l})})}function Et(n){return T.forwardRef(n)}function bH(n,e={}){const{styleConfig:t,...r}=e,{theme:i,colorMode:s}=_H(),o=n?eH(i,`components.${n}`):void 0,a=t||o,l=lc({theme:i,colorMode:s},(a==null?void 0:a.defaultProps)??{},nH(Vne(r,["children"]))),c=T.useRef({});if(a){const u=Hte(a)(l);gce(c.current,u)||(c.current=u)}return c.current}function la(n,e={}){return bH(n,e)}function pf(n,e={}){return bH(n,e)}function Cce(){const n=new Map;return new Proxy(eC,{apply(e,t,r){return eC(...r)},get(e,t){return n.has(t)||n.set(t,eC(t)),n.get(t)}})}var At=Cce();function Tce(n,e){return`${n} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Dl(n={}){const{name:e,strict:t=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s}=n,o=T.createContext(void 0);o.displayName=e;function a(){var l;const c=T.useContext(o);if(!c&&t){const d=new Error(s??Tce(r,i));throw d.name="ContextError",(l=Error.captureStackTrace)==null||l.call(Error,d,a),d}return c}return[o.Provider,a,o]}function kce(n,e){if(n!=null){if(typeof n=="function"){n(e);return}try{n.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${n}'`)}}}function PS(...n){return e=>{n.forEach(t=>{kce(t,e)})}}function Rce(...n){return T.useMemo(()=>PS(...n),n)}var ai=(...n)=>n.filter(Boolean).join(" "),qD={path:H.createElement("g",{stroke:"currentColor",strokeWidth:"1.5"},H.createElement("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),H.createElement("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),H.createElement("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})),viewBox:"0 0 24 24"},mf=Et((n,e)=>{const{as:t,viewBox:r,color:i="currentColor",focusable:s=!1,children:o,className:a,__css:l,...c}=n,d=ai("chakra-icon",a),u={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l},f={ref:e,focusable:s,className:d,__css:u},h=r??qD.viewBox;if(t&&typeof t!="string")return H.createElement(At.svg,{as:t,...f,...c});const g=o??qD.path;return H.createElement(At.svg,{verticalAlign:"middle",viewBox:h,...f,...c},g)});mf.displayName="Icon";function kt(n){const{viewBox:e="0 0 24 24",d:t,displayName:r,defaultProps:i={}}=n,s=T.Children.toArray(n.path),o=Et((a,l)=>H.createElement(mf,{ref:l,viewBox:e,...i,...a},s.length?s:H.createElement("path",{fill:"currentColor",d:t})));return o.displayName=r,o}function Pce(n,e=[]){const t=T.useRef(n);return T.useEffect(()=>{t.current=n}),T.useCallback((...r)=>{var i;return(i=t.current)==null?void 0:i.call(t,...r)},e)}const WP=T.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),pA=T.createContext({});function Ice(){return T.useContext(pA).visualElement}const $0=T.createContext(null),Jh=typeof document<"u",IS=Jh?T.useLayoutEffect:T.useEffect,wH=T.createContext({strict:!1});function Lce(n,e,t,r){const i=Ice(),s=T.useContext(wH),o=T.useContext($0),a=T.useContext(WP).reducedMotion,l=T.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceId:o?o.id:void 0,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return IS(()=>{c&&c.render()}),T.useEffect(()=>{c&&c.animationState&&c.animationState.animateChanges()}),IS(()=>()=>c&&c.notify("Unmount"),[]),c}function bm(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Oce(n,e,t){return T.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):bm(t)&&(t.current=r))},[e])}function Wy(n){return typeof n=="string"||Array.isArray(n)}function mA(n){return typeof n=="object"&&typeof n.start=="function"}const Nce=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function gA(n){return mA(n.animate)||Nce.some(e=>Wy(n[e]))}function SH(n){return Boolean(gA(n)||n.variants)}function Dce(n,e){if(gA(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Wy(t)?t:void 0,animate:Wy(r)?r:void 0}}return n.inherit!==!1?e:{}}function Bce(n){const{initial:e,animate:t}=Dce(n,T.useContext(pA));return T.useMemo(()=>({initial:e,animate:t}),[YD(e),YD(t)])}function YD(n){return Array.isArray(n)?n.join(" "):n}const Vc=n=>({isEnabled:e=>n.some(t=>!!e[t])}),jy={measureLayout:Vc(["layout","layoutId","drag"]),animation:Vc(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Vc(["exit"]),drag:Vc(["drag","dragControls"]),focus:Vc(["whileFocus"]),hover:Vc(["whileHover","onHoverStart","onHoverEnd"]),tap:Vc(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Vc(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Vc(["whileInView","onViewportEnter","onViewportLeave"])};function Fce(n){for(const e in n)e==="projectionNodeConstructor"?jy.projectionNodeConstructor=n[e]:jy[e].Component=n[e]}function vA(n){const e=T.useRef(null);return e.current===null&&(e.current=n()),e.current}const Zv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let zce=1;function Vce(){return vA(()=>{if(Zv.hasEverUpdated)return zce++})}const jP=T.createContext({});class Uce extends H.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:t}=this.props;return e&&e.setProps(t),null}componentDidUpdate(){}render(){return this.props.children}}const AH=T.createContext({}),Hce=Symbol.for("motionComponentSymbol");function Gce({preloadedFeatures:n,createVisualElement:e,projectionNodeConstructor:t,useRender:r,useVisualState:i,Component:s}){n&&Fce(n);function o(l,c){const d={...T.useContext(WP),...l,layoutId:$ce(l)},{isStatic:u}=d;let f=null;const h=Bce(l),g=u?void 0:Vce(),v=i(l,u);if(!u&&Jh){h.visualElement=Lce(s,v,d,e);const x=T.useContext(wH).strict,y=T.useContext(AH);h.visualElement&&(f=h.visualElement.loadFeatures(d,x,n,g,t||jy.projectionNodeConstructor,y))}return T.createElement(Uce,{visualElement:h.visualElement,props:d},f,T.createElement(pA.Provider,{value:h},r(s,l,g,Oce(v,h.visualElement,c),v,u,h.visualElement)))}const a=T.forwardRef(o);return a[Hce]=s,a}function $ce({layoutId:n}){const e=T.useContext(jP).id;return e&&n!==void 0?e+"-"+n:n}function Wce(n){function e(r,i={}){return Gce(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const jce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function qP(n){return typeof n!="string"||n.includes("-")?!1:!!(jce.indexOf(n)>-1||/[A-Z]/.test(n))}const LS={};function qce(n){Object.assign(LS,n)}const OS=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],V1=new Set(OS);function EH(n,{layout:e,layoutId:t}){return V1.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!LS[n]||n==="opacity")}const Ml=n=>!!(n!=null&&n.getVelocity),Yce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xce=(n,e)=>OS.indexOf(n)-OS.indexOf(e);function Kce({transform:n,transformKeys:e},{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},i,s){let o="";e.sort(Xce);for(const a of e)o+=`${Yce[a]||a}(${n[a]}) `;return t&&!n.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(n,i?"":o):r&&i&&(o="none"),o}function MH(n){return n.startsWith("--")}const Zce=(n,e)=>e&&typeof n=="number"?e.transform(n):n,CH=(n,e)=>t=>Math.max(Math.min(t,e),n),Jv=n=>n%1?Number(n.toFixed(5)):n,qy=/(-)?([\d]*\.?[\d])+/g,lk=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Jce=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function U1(n){return typeof n=="string"}const Qh={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Qv=Object.assign(Object.assign({},Qh),{transform:CH(0,1)}),H_=Object.assign(Object.assign({},Qh),{default:1}),H1=n=>({test:e=>U1(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),hd=H1("deg"),gc=H1("%"),Dt=H1("px"),Qce=H1("vh"),eue=H1("vw"),XD=Object.assign(Object.assign({},gc),{parse:n=>gc.parse(n)/100,transform:n=>gc.transform(n*100)}),YP=(n,e)=>t=>Boolean(U1(t)&&Jce.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),TH=(n,e,t)=>r=>{if(!U1(r))return r;const[i,s,o,a]=r.match(qy);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},mh={test:YP("hsl","hue"),parse:TH("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+gc.transform(Jv(e))+", "+gc.transform(Jv(t))+", "+Jv(Qv.transform(r))+")"},tue=CH(0,255),tC=Object.assign(Object.assign({},Qh),{transform:n=>Math.round(tue(n))}),Md={test:YP("rgb","red"),parse:TH("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+tC.transform(n)+", "+tC.transform(e)+", "+tC.transform(t)+", "+Jv(Qv.transform(r))+")"};function nue(n){let e="",t="",r="",i="";return n.length>5?(e=n.substr(1,2),t=n.substr(3,2),r=n.substr(5,2),i=n.substr(7,2)):(e=n.substr(1,1),t=n.substr(2,1),r=n.substr(3,1),i=n.substr(4,1),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ck={test:YP("#"),parse:nue,transform:Md.transform},Gs={test:n=>Md.test(n)||ck.test(n)||mh.test(n),parse:n=>Md.test(n)?Md.parse(n):mh.test(n)?mh.parse(n):ck.parse(n),transform:n=>U1(n)?n:n.hasOwnProperty("red")?Md.transform(n):mh.transform(n)},kH="${c}",RH="${n}";function rue(n){var e,t,r,i;return isNaN(n)&&U1(n)&&((t=(e=n.match(qy))===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0)+((i=(r=n.match(lk))===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)>0}function PH(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0;const r=n.match(lk);r&&(t=r.length,n=n.replace(lk,kH),e.push(...r.map(Gs.parse)));const i=n.match(qy);return i&&(n=n.replace(qy,RH),e.push(...i.map(Qh.parse))),{values:e,numColors:t,tokenised:n}}function IH(n){return PH(n).values}function LH(n){const{values:e,numColors:t,tokenised:r}=PH(n),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<t?kH:RH,a<t?Gs.transform(s[a]):Jv(s[a]));return o}}const iue=n=>typeof n=="number"?0:n;function sue(n){const e=IH(n);return LH(n)(e.map(iue))}const wu={test:rue,parse:IH,createTransformer:LH,getAnimatableNone:sue},oue=new Set(["brightness","contrast","saturate","opacity"]);function aue(n){let[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(qy)||[];if(!r)return n;const i=t.replace(r,"");let s=oue.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const lue=/([a-z-]*)\(.*?\)/g,uk=Object.assign(Object.assign({},wu),{getAnimatableNone:n=>{const e=n.match(lue);return e?e.map(aue).join(" "):n}}),KD={...Qh,transform:Math.round},OH={borderWidth:Dt,borderTopWidth:Dt,borderRightWidth:Dt,borderBottomWidth:Dt,borderLeftWidth:Dt,borderRadius:Dt,radius:Dt,borderTopLeftRadius:Dt,borderTopRightRadius:Dt,borderBottomRightRadius:Dt,borderBottomLeftRadius:Dt,width:Dt,maxWidth:Dt,height:Dt,maxHeight:Dt,size:Dt,top:Dt,right:Dt,bottom:Dt,left:Dt,padding:Dt,paddingTop:Dt,paddingRight:Dt,paddingBottom:Dt,paddingLeft:Dt,margin:Dt,marginTop:Dt,marginRight:Dt,marginBottom:Dt,marginLeft:Dt,rotate:hd,rotateX:hd,rotateY:hd,rotateZ:hd,scale:H_,scaleX:H_,scaleY:H_,scaleZ:H_,skew:hd,skewX:hd,skewY:hd,distance:Dt,translateX:Dt,translateY:Dt,translateZ:Dt,x:Dt,y:Dt,z:Dt,perspective:Dt,transformPerspective:Dt,opacity:Qv,originX:XD,originY:XD,originZ:Dt,zIndex:KD,fillOpacity:Qv,strokeOpacity:Qv,numOctaves:KD};function XP(n,e,t,r){const{style:i,vars:s,transform:o,transformKeys:a,transformOrigin:l}=n;a.length=0;let c=!1,d=!1,u=!0;for(const f in e){const h=e[f];if(MH(f)){s[f]=h;continue}const g=OH[f],v=Zce(h,g);if(V1.has(f)){if(c=!0,o[f]=v,a.push(f),!u)continue;h!==(g.default||0)&&(u=!1)}else f.startsWith("origin")?(d=!0,l[f]=v):i[f]=v}if(e.transform||(c||r?i.transform=Kce(n,t,u,r):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:h="50%",originZ:g=0}=l;i.transformOrigin=`${f} ${h} ${g}`}}const KP=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function NH(n,e,t){for(const r in e)!Ml(e[r])&&!EH(r,t)&&(n[r]=e[r])}function cue({transformTemplate:n},e,t){return T.useMemo(()=>{const r=KP();return XP(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function uue(n,e,t){const r=n.style||{},i={};return NH(i,r,n),Object.assign(i,cue(n,e,t)),n.transformValues?n.transformValues(i):i}function due(n,e,t){const r={},i=uue(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),r.style=i,r}const fue=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],hue=["whileTap","onTap","onTapStart","onTapCancel"],pue=["onPan","onPanStart","onPanSessionStart","onPanEnd"],mue=["whileInView","onViewportEnter","onViewportLeave","viewport"],gue=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...mue,...hue,...fue,...pue]);function NS(n){return gue.has(n)}let DH=n=>!NS(n);function vue(n){n&&(DH=e=>e.startsWith("on")?!NS(e):n(e))}try{vue(require("@emotion/is-prop-valid").default)}catch{}function yue(n,e,t){const r={};for(const i in n)(DH(i)||t===!0&&NS(i)||!e&&!NS(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function ZD(n,e,t){return typeof n=="string"?n:Dt.transform(e+t*n)}function xue(n,e,t){const r=ZD(e,n.x,n.width),i=ZD(t,n.y,n.height);return`${r} ${i}`}const _ue={offset:"stroke-dashoffset",array:"stroke-dasharray"},bue={offset:"strokeDashoffset",array:"strokeDasharray"};function wue(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?_ue:bue;n[s.offset]=Dt.transform(-r);const o=Dt.transform(e),a=Dt.transform(t);n[s.array]=`${o} ${a}`}function ZP(n,{attrX:e,attrY:t,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,d){XP(n,l,c,d),n.attrs=n.style,n.style={};const{attrs:u,style:f,dimensions:h}=n;u.transform&&(h&&(f.transform=u.transform),delete u.transform),h&&(r!==void 0||i!==void 0||f.transform)&&(f.transformOrigin=xue(h,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(u.x=e),t!==void 0&&(u.y=t),s!==void 0&&wue(u,s,o,a,!1)}const BH=()=>({...KP(),attrs:{}});function Sue(n,e){const t=T.useMemo(()=>{const r=BH();return ZP(r,e,{enableHardwareAcceleration:!1},n.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};NH(r,n.style,n),t.style={...r,...t.style}}return t}function Aue(n=!1){return(t,r,i,s,{latestValues:o},a)=>{const c=(qP(t)?Sue:due)(r,o,a),u={...yue(r,typeof t=="string",n),...c,ref:s};return i&&(u["data-projection-id"]=i),T.createElement(t,u)}}const FH=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function zH(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const VH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function UH(n,e,t,r){zH(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(VH.has(i)?i:FH(i),e.attrs[i])}function JP(n){const{style:e}=n,t={};for(const r in e)(Ml(e[r])||EH(r,n))&&(t[r]=e[r]);return t}function HH(n){const e=JP(n);for(const t in n)if(Ml(n[t])){const r=t==="x"||t==="y"?"attr"+t.toUpperCase():t;e[r]=n[t]}return e}function QP(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}const Yy=n=>Array.isArray(n),Eue=n=>Boolean(n&&typeof n=="object"&&n.mix&&n.toValue),GH=n=>Yy(n)?n[n.length-1]||0:n;function Ew(n){const e=Ml(n)?n.get():n;return Eue(e)?e.toValue():e}function Mue({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:Cue(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const $H=n=>(e,t)=>{const r=T.useContext(pA),i=T.useContext($0),s=()=>Mue(n,e,r,i);return t?s():vA(s)};function Cue(n,e,t,r){const i={},s=r(n);for(const f in s)i[f]=Ew(s[f]);let{initial:o,animate:a}=n;const l=gA(n),c=SH(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const u=d?a:o;return u&&typeof u!="boolean"&&!mA(u)&&(Array.isArray(u)?u:[u]).forEach(h=>{const g=QP(n,h);if(!g)return;const{transitionEnd:v,transition:x,...y}=g;for(const _ in y){let b=y[_];if(Array.isArray(b)){const A=d?b.length-1:0;b=b[A]}b!==null&&(i[_]=b)}for(const _ in v)i[_]=v[_]}),i}const Tue={useVisualState:$H({scrapeMotionValuesFromProps:HH,createRenderState:BH,onMount:(n,e,{renderState:t,latestValues:r})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}ZP(t,r,{enableHardwareAcceleration:!1},n.transformTemplate),UH(e,t)}})},kue={useVisualState:$H({scrapeMotionValuesFromProps:JP,createRenderState:KP})};function Rue(n,{forwardMotionProps:e=!1},t,r,i){return{...qP(n)?Tue:kue,preloadedFeatures:t,useRender:Aue(e),createVisualElement:r,projectionNodeConstructor:i,Component:n}}var cr;(function(n){n.Animate="animate",n.Hover="whileHover",n.Tap="whileTap",n.Drag="whileDrag",n.Focus="whileFocus",n.InView="whileInView",n.Exit="exit"})(cr||(cr={}));function yA(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function dk(n,e,t,r){T.useEffect(()=>{const i=n.current;if(t&&i)return yA(i,e,t,r)},[n,e,t,r])}function Pue({whileFocus:n,visualElement:e}){const{animationState:t}=e,r=()=>{t&&t.setActive(cr.Focus,!0)},i=()=>{t&&t.setActive(cr.Focus,!1)};dk(e,"focus",n?r:void 0),dk(e,"blur",n?i:void 0)}function WH(n){return typeof PointerEvent<"u"&&n instanceof PointerEvent?n.pointerType==="mouse":n instanceof MouseEvent}function jH(n){return!!n.touches}function Iue(n){return e=>{const t=e instanceof MouseEvent;(!t||t&&e.button===0)&&n(e)}}const Lue={pageX:0,pageY:0};function Oue(n,e="page"){const r=n.touches[0]||n.changedTouches[0]||Lue;return{x:r[e+"X"],y:r[e+"Y"]}}function Nue(n,e="page"){return{x:n[e+"X"],y:n[e+"Y"]}}function e4(n,e="page"){return{point:jH(n)?Oue(n,e):Nue(n,e)}}const qH=(n,e=!1)=>{const t=r=>n(r,e4(r));return e?Iue(t):t},Due=()=>Jh&&window.onpointerdown===null,Bue=()=>Jh&&window.ontouchstart===null,Fue=()=>Jh&&window.onmousedown===null,zue={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Vue={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function YH(n){return Due()?n:Bue()?Vue[n]:Fue()?zue[n]:n}function qm(n,e,t,r){return yA(n,YH(e),qH(t,e==="pointerdown"),r)}function DS(n,e,t,r){return dk(n,YH(e),t&&qH(t,e==="pointerdown"),r)}function XH(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const JD=XH("dragHorizontal"),QD=XH("dragVertical");function KH(n){let e=!1;if(n==="y")e=QD();else if(n==="x")e=JD();else{const t=JD(),r=QD();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function ZH(){const n=KH(!0);return n?(n(),!1):!0}function eB(n,e,t){return(r,i)=>{!WH(r)||ZH()||(n.animationState&&n.animationState.setActive(cr.Hover,e),t&&t(r,i))}}function Uue({onHoverStart:n,onHoverEnd:e,whileHover:t,visualElement:r}){DS(r,"pointerenter",n||t?eB(r,!0,n):void 0,{passive:!n}),DS(r,"pointerleave",e||t?eB(r,!1,e):void 0,{passive:!e})}const JH=(n,e)=>e?n===e?!0:JH(n,e.parentElement):!1;function t4(n){return T.useEffect(()=>()=>n(),[])}function QH(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}var Hue=function(){},BS=function(){};const FS=(n,e,t)=>Math.min(Math.max(t,n),e),nC=.001,Gue=.01,tB=10,$ue=.05,Wue=1;function jue({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;Hue(n<=tB*1e3);let o=1-e;o=FS($ue,Wue,o),n=FS(Gue,tB,n/1e3),o<1?(i=c=>{const d=c*o,u=d*n,f=d-t,h=fk(c,o),g=Math.exp(-u);return nC-f/h*g},s=c=>{const u=c*o*n,f=u*t+t,h=Math.pow(o,2)*Math.pow(c,2)*n,g=Math.exp(-u),v=fk(Math.pow(c,2),o);return(-i(c)+nC>0?-1:1)*((f-h)*g)/v}):(i=c=>{const d=Math.exp(-c*n),u=(c-t)*n+1;return-nC+d*u},s=c=>{const d=Math.exp(-c*n),u=(t-c)*(n*n);return d*u});const a=5/n,l=Yue(i,s,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const que=12;function Yue(n,e,t){let r=t;for(let i=1;i<que;i++)r=r-n(r)/e(r);return r}function fk(n,e){return n*Math.sqrt(1-e*e)}const Xue=["duration","bounce"],Kue=["stiffness","damping","mass"];function nB(n,e){return e.some(t=>n[t]!==void 0)}function Zue(n){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},n);if(!nB(n,Kue)&&nB(n,Xue)){const t=jue(n);e=Object.assign(Object.assign(Object.assign({},e),t),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function n4(n){var{from:e=0,to:t=1,restSpeed:r=2,restDelta:i}=n,s=QH(n,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:l,mass:c,velocity:d,duration:u,isResolvedFromDuration:f}=Zue(s),h=rB,g=rB;function v(){const x=d?-(d/1e3):0,y=t-e,_=l/(2*Math.sqrt(a*c)),b=Math.sqrt(a/c)/1e3;if(i===void 0&&(i=Math.min(Math.abs(t-e)/100,.4)),_<1){const A=fk(b,_);h=E=>{const k=Math.exp(-_*b*E);return t-k*((x+_*b*y)/A*Math.sin(A*E)+y*Math.cos(A*E))},g=E=>{const k=Math.exp(-_*b*E);return _*b*k*(Math.sin(A*E)*(x+_*b*y)/A+y*Math.cos(A*E))-k*(Math.cos(A*E)*(x+_*b*y)-A*y*Math.sin(A*E))}}else if(_===1)h=A=>t-Math.exp(-b*A)*(y+(x+b*y)*A);else{const A=b*Math.sqrt(_*_-1);h=E=>{const k=Math.exp(-_*b*E),P=Math.min(A*E,300);return t-k*((x+_*b*y)*Math.sinh(P)+A*y*Math.cosh(P))/A}}}return v(),{next:x=>{const y=h(x);if(f)o.done=x>=u;else{const _=g(x)*1e3,b=Math.abs(_)<=r,A=Math.abs(t-y)<=i;o.done=b&&A}return o.value=o.done?t:y,o},flipTarget:()=>{d=-d,[e,t]=[t,e],v()}}}n4.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const rB=n=>0,Xy=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Yr=(n,e,t)=>-t*n+t*e+n;function rC(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function iB({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=rC(l,a,n+1/3),s=rC(l,a,n),o=rC(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Jue=(n,e,t)=>{const r=n*n,i=e*e;return Math.sqrt(Math.max(0,t*(i-r)+r))},Que=[ck,Md,mh],sB=n=>Que.find(e=>e.test(n)),eG=(n,e)=>{let t=sB(n),r=sB(e),i=t.parse(n),s=r.parse(e);t===mh&&(i=iB(i),t=Md),r===mh&&(s=iB(s),r=Md);const o=Object.assign({},i);return a=>{for(const l in o)l!=="alpha"&&(o[l]=Jue(i[l],s[l],a));return o.alpha=Yr(i.alpha,s.alpha,a),t.transform(o)}},hk=n=>typeof n=="number",ede=(n,e)=>t=>e(n(t)),xA=(...n)=>n.reduce(ede);function tG(n,e){return hk(n)?t=>Yr(n,e,t):Gs.test(n)?eG(n,e):rG(n,e)}const nG=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>tG(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},tde=(n,e)=>{const t=Object.assign(Object.assign({},n),e),r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=tG(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}};function oB(n){const e=wu.parse(n),t=e.length;let r=0,i=0,s=0;for(let o=0;o<t;o++)r||typeof e[o]=="number"?r++:e[o].hue!==void 0?s++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:s}}const rG=(n,e)=>{const t=wu.createTransformer(e),r=oB(n),i=oB(e);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?xA(nG(r.parsed,i.parsed),t):o=>`${o>0?e:n}`},nde=(n,e)=>t=>Yr(n,e,t);function rde(n){if(typeof n=="number")return nde;if(typeof n=="string")return Gs.test(n)?eG:rG;if(Array.isArray(n))return nG;if(typeof n=="object")return tde}function ide(n,e,t){const r=[],i=t||rde(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=xA(l,a)}r.push(a)}return r}function sde([n,e],[t]){return r=>t(Xy(n,e,r))}function ode(n,e){const t=n.length,r=t-1;return i=>{let s=0,o=!1;if(i<=n[0]?o=!0:i>=n[r]&&(s=r-1,o=!0),!o){let l=1;for(;l<t&&!(n[l]>i||l===r);l++);s=l-1}const a=Xy(n[s],n[s+1],i);return e[s](a)}}function iG(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;BS(s===e.length),BS(!r||!Array.isArray(r)||r.length===s-1),n[0]>n[s-1]&&(n=[].concat(n),e=[].concat(e),n.reverse(),e.reverse());const o=ide(e,r,i),a=s===2?sde(n,o):ode(n,o);return t?l=>a(FS(n[0],n[s-1],l)):a}const _A=n=>e=>1-n(1-e),r4=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,ade=n=>e=>Math.pow(e,n),sG=n=>e=>e*e*((n+1)*e-n),lde=n=>{const e=sG(n);return t=>(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))},oG=1.525,cde=4/11,ude=8/11,dde=9/10,i4=n=>n,s4=ade(2),fde=_A(s4),aG=r4(s4),lG=n=>1-Math.sin(Math.acos(n)),o4=_A(lG),hde=r4(o4),a4=sG(oG),pde=_A(a4),mde=r4(a4),gde=lde(oG),vde=4356/361,yde=35442/1805,xde=16061/1805,zS=n=>{if(n===1||n===0)return n;const e=n*n;return n<cde?7.5625*e:n<ude?9.075*e-9.9*n+3.4:n<dde?vde*e-yde*n+xde:10.8*n*n-20.52*n+10.72},_de=_A(zS),bde=n=>n<.5?.5*(1-zS(1-n*2)):.5*zS(n*2-1)+.5;function wde(n,e){return n.map(()=>e||aG).splice(0,n.length-1)}function Sde(n){const e=n.length;return n.map((t,r)=>r!==0?r/(e-1):0)}function Ade(n,e){return n.map(t=>t*e)}function Mw({from:n=0,to:e=1,ease:t,offset:r,duration:i=300}){const s={done:!1,value:n},o=Array.isArray(e)?e:[n,e],a=Ade(r&&r.length===o.length?r:Sde(o),i);function l(){return iG(a,o,{ease:Array.isArray(t)?t:wde(o,t)})}let c=l();return{next:d=>(s.value=c(d),s.done=d>=i,s),flipTarget:()=>{o.reverse(),c=l()}}}function Ede({velocity:n=0,from:e=0,power:t=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o={done:!1,value:e};let a=t*n;const l=e+a,c=s===void 0?l:s(l);return c!==l&&(a=c-e),{next:d=>{const u=-a*Math.exp(-d/r);return o.done=!(u>i||u<-i),o.value=o.done?c:c+u,o},flipTarget:()=>{}}}const aB={keyframes:Mw,spring:n4,decay:Ede};function Mde(n){if(Array.isArray(n.to))return Mw;if(aB[n.type])return aB[n.type];const e=new Set(Object.keys(n));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?Mw:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?n4:Mw}const cG=1/60*1e3,Cde=typeof performance<"u"?()=>performance.now():()=>Date.now(),uG=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(Cde()),cG);function Tde(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const u=d&&i,f=u?e:t;return c&&o.add(l),f.indexOf(l)===-1&&(f.push(l),u&&i&&(r=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let c=0;c<r;c++){const d=e[c];d(l),o.has(d)&&(a.schedule(d),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const kde=40;let pk=!0,Ky=!1,mk=!1;const Ym={delta:0,timestamp:0},G1=["read","update","preRender","render","postRender"],bA=G1.reduce((n,e)=>(n[e]=Tde(()=>Ky=!0),n),{}),Rde=G1.reduce((n,e)=>{const t=bA[e];return n[e]=(r,i=!1,s=!1)=>(Ky||Lde(),t.schedule(r,i,s)),n},{}),Pde=G1.reduce((n,e)=>(n[e]=bA[e].cancel,n),{});G1.reduce((n,e)=>(n[e]=()=>bA[e].process(Ym),n),{});const Ide=n=>bA[n].process(Ym),dG=n=>{Ky=!1,Ym.delta=pk?cG:Math.max(Math.min(n-Ym.timestamp,kde),1),Ym.timestamp=n,mk=!0,G1.forEach(Ide),mk=!1,Ky&&(pk=!1,uG(dG))},Lde=()=>{Ky=!0,pk=!0,mk||uG(dG)},Ode=()=>Ym;function fG(n,e,t=0){return n-e-t}function Nde(n,e,t=0,r=!0){return r?fG(e+-n,e,t):e-(n-e)+t}function Dde(n,e,t,r){return r?n>=e+t:n<=-t}const Bde=n=>{const e=({delta:t})=>n(t);return{start:()=>Rde.update(e,!0),stop:()=>Pde.update(e)}};function hG(n){var e,t,{from:r,autoplay:i=!0,driver:s=Bde,elapsed:o=0,repeat:a=0,repeatType:l="loop",repeatDelay:c=0,onPlay:d,onStop:u,onComplete:f,onRepeat:h,onUpdate:g}=n,v=QH(n,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:x}=v,y,_=0,b=v.duration,A,E=!1,k=!0,P;const C=Mde(v);!((t=(e=C).needsInterpolation)===null||t===void 0)&&t.call(e,r,x)&&(P=iG([0,100],[r,x],{clamp:!1}),r=0,x=100);const O=C(Object.assign(Object.assign({},v),{from:r,to:x}));function U(){_++,l==="reverse"?(k=_%2===0,o=Nde(o,b,c,k)):(o=fG(o,b,c),l==="mirror"&&O.flipTarget()),E=!1,h&&h()}function K(){y.stop(),f&&f()}function J(S){if(k||(S=-S),o+=S,!E){const I=O.next(Math.max(0,o));A=I.value,P&&(A=P(A)),E=k?I.done:o<=0}g==null||g(A),E&&(_===0&&(b??(b=o)),_<a?Dde(o,b,c,k)&&U():K())}function F(){d==null||d(),y=s(J),y.start()}return i&&F(),{stop:()=>{u==null||u(),y.stop()}}}function pG(n,e){return e?n*(1e3/e):0}function Fde({from:n=0,velocity:e=0,min:t,max:r,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:d,onUpdate:u,onComplete:f,onStop:h}){let g;function v(b){return t!==void 0&&b<t||r!==void 0&&b>r}function x(b){return t===void 0?r:r===void 0||Math.abs(t-b)<Math.abs(r-b)?t:r}function y(b){g==null||g.stop(),g=hG(Object.assign(Object.assign({},b),{driver:d,onUpdate:A=>{var E;u==null||u(A),(E=b.onUpdate)===null||E===void 0||E.call(b,A)},onComplete:f,onStop:h}))}function _(b){y(Object.assign({type:"spring",stiffness:o,damping:a,restDelta:l},b))}if(v(n))_({from:n,velocity:e,to:x(n)});else{let b=i*e+n;typeof c<"u"&&(b=c(b));const A=x(b),E=A===t?-1:1;let k,P;const C=O=>{k=P,P=O,e=pG(O-k,Ode().delta),(E===1&&O>A||E===-1&&O<A)&&_({from:O,to:A,velocity:e})};y({type:"decay",from:n,velocity:e,timeConstant:s,power:i,restDelta:l,modifyTarget:c,onUpdate:v(b)?C:void 0})}return{stop:()=>g==null?void 0:g.stop()}}const gk=n=>n.hasOwnProperty("x")&&n.hasOwnProperty("y"),lB=n=>gk(n)&&n.hasOwnProperty("z"),G_=(n,e)=>Math.abs(n-e);function l4(n,e){if(hk(n)&&hk(e))return G_(n,e);if(gk(n)&&gk(e)){const t=G_(n.x,e.x),r=G_(n.y,e.y),i=lB(n)&&lB(e)?G_(n.z,e.z):0;return Math.sqrt(Math.pow(t,2)+Math.pow(r,2)+Math.pow(i,2))}}const mG=(n,e)=>1-3*e+3*n,gG=(n,e)=>3*e-6*n,vG=n=>3*n,VS=(n,e,t)=>((mG(e,t)*n+gG(e,t))*n+vG(e))*n,yG=(n,e,t)=>3*mG(e,t)*n*n+2*gG(e,t)*n+vG(e),zde=1e-7,Vde=10;function Ude(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=VS(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>zde&&++a<Vde);return o}const Hde=8,Gde=.001;function $de(n,e,t,r){for(let i=0;i<Hde;++i){const s=yG(e,t,r);if(s===0)return e;const o=VS(e,t,r)-n;e-=o/s}return e}const Cw=11,$_=1/(Cw-1);function Wde(n,e,t,r){if(n===e&&t===r)return i4;const i=new Float32Array(Cw);for(let o=0;o<Cw;++o)i[o]=VS(o*$_,n,t);function s(o){let a=0,l=1;const c=Cw-1;for(;l!==c&&i[l]<=o;++l)a+=$_;--l;const d=(o-i[l])/(i[l+1]-i[l]),u=a+d*$_,f=yG(u,n,t);return f>=Gde?$de(o,u,n,t):f===0?u:Ude(o,a,a+$_,n,t)}return o=>o===0||o===1?o:VS(s(o),e,r)}function jde({onTap:n,onTapStart:e,onTapCancel:t,whileTap:r,visualElement:i}){const s=n||e||t||r,o=T.useRef(!1),a=T.useRef(null),l={passive:!(e||n||t||h)};function c(){a.current&&a.current(),a.current=null}function d(){return c(),o.current=!1,i.animationState&&i.animationState.setActive(cr.Tap,!1),!ZH()}function u(g,v){d()&&(JH(i.current,g.target)?n&&n(g,v):t&&t(g,v))}function f(g,v){d()&&t&&t(g,v)}function h(g,v){c(),!o.current&&(o.current=!0,a.current=xA(qm(window,"pointerup",u,l),qm(window,"pointercancel",f,l)),i.animationState&&i.animationState.setActive(cr.Tap,!0),e&&e(g,v))}DS(i,"pointerdown",s?h:void 0,l),t4(c)}const qde="production",xG=typeof process>"u"||process.env===void 0?qde:"production",cB=new Set;function _G(n,e,t){n||cB.has(e)||(console.warn(e),t&&console.warn(t),cB.add(e))}const vk=new WeakMap,iC=new WeakMap,Yde=n=>{const e=vk.get(n.target);e&&e(n)},Xde=n=>{n.forEach(Yde)};function Kde({root:n,...e}){const t=n||document;iC.has(t)||iC.set(t,{});const r=iC.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Xde,{root:n,...e})),r[i]}function Zde(n,e,t){const r=Kde(e);return vk.set(n,t),r.observe(n),()=>{vk.delete(n),r.unobserve(n)}}function Jde({visualElement:n,whileInView:e,onViewportEnter:t,onViewportLeave:r,viewport:i={}}){const s=T.useRef({hasEnteredView:!1,isInView:!1});let o=Boolean(e||t||r);i.once&&s.current.hasEnteredView&&(o=!1),(typeof IntersectionObserver>"u"?tfe:efe)(o,s.current,n,i)}const Qde={some:0,all:1};function efe(n,e,t,{root:r,margin:i,amount:s="some",once:o}){T.useEffect(()=>{if(!n||!t.current)return;const a={root:r==null?void 0:r.current,rootMargin:i,threshold:typeof s=="number"?s:Qde[s]},l=c=>{const{isIntersecting:d}=c;if(e.isInView===d||(e.isInView=d,o&&!d&&e.hasEnteredView))return;d&&(e.hasEnteredView=!0),t.animationState&&t.animationState.setActive(cr.InView,d);const u=t.getProps(),f=d?u.onViewportEnter:u.onViewportLeave;f&&f(c)};return Zde(t.current,a,l)},[n,r,i,s])}function tfe(n,e,t,{fallback:r=!0}){T.useEffect(()=>{!n||!r||(xG!=="production"&&_G(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:i}=t.getProps();i&&i(null),t.animationState&&t.animationState.setActive(cr.InView,!0)}))},[n])}const Cd=n=>e=>(n(e),null),nfe={inView:Cd(Jde),tap:Cd(jde),focus:Cd(Pue),hover:Cd(Uue)};function bG(){const n=T.useContext($0);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=T.useId();return T.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}function rfe(){return ife(T.useContext($0))}function ife(n){return n===null?!0:n.isPresent}function wG(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const US=n=>n*1e3,sfe={linear:i4,easeIn:s4,easeInOut:aG,easeOut:fde,circIn:lG,circInOut:hde,circOut:o4,backIn:a4,backInOut:mde,backOut:pde,anticipate:gde,bounceIn:_de,bounceInOut:bde,bounceOut:zS},uB=n=>{if(Array.isArray(n)){BS(n.length===4);const[e,t,r,i]=n;return Wde(e,t,r,i)}else if(typeof n=="string")return sfe[n];return n},ofe=n=>Array.isArray(n)&&typeof n[0]!="number",dB=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&wu.test(e)&&!e.startsWith("url(")),Bf=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),W_=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),sC=()=>({type:"keyframes",ease:"linear",duration:.3}),afe=n=>({type:"keyframes",duration:.8,values:n}),fB={x:Bf,y:Bf,z:Bf,rotate:Bf,rotateX:Bf,rotateY:Bf,rotateZ:Bf,scaleX:W_,scaleY:W_,scale:W_,opacity:sC,backgroundColor:sC,color:sC,default:W_},lfe=(n,e)=>{let t;return Yy(e)?t=afe:t=fB[n]||fB.default,{to:e,...t(e)}},cfe={...OH,color:Gs,backgroundColor:Gs,outlineColor:Gs,fill:Gs,stroke:Gs,borderColor:Gs,borderTopColor:Gs,borderRightColor:Gs,borderBottomColor:Gs,borderLeftColor:Gs,filter:uk,WebkitFilter:uk},c4=n=>cfe[n];function u4(n,e){var t;let r=c4(n);return r!==uk&&(r=wu),(t=r.getAnimatableNone)===null||t===void 0?void 0:t.call(r,e)}const SG=1/60*1e3,ufe=typeof performance<"u"?()=>performance.now():()=>Date.now(),AG=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(ufe()),SG);function dfe(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const u=d&&i,f=u?e:t;return c&&o.add(l),f.indexOf(l)===-1&&(f.push(l),u&&i&&(r=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let c=0;c<r;c++){const d=e[c];d(l),o.has(d)&&(a.schedule(d),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const ffe=40;let yk=!0,Zy=!1,xk=!1;const Xm={delta:0,timestamp:0},$1=["read","update","preRender","render","postRender"],wA=$1.reduce((n,e)=>(n[e]=dfe(()=>Zy=!0),n),{}),Cl=$1.reduce((n,e)=>{const t=wA[e];return n[e]=(r,i=!1,s=!1)=>(Zy||pfe(),t.schedule(r,i,s)),n},{}),Uh=$1.reduce((n,e)=>(n[e]=wA[e].cancel,n),{}),oC=$1.reduce((n,e)=>(n[e]=()=>wA[e].process(Xm),n),{}),hfe=n=>wA[n].process(Xm),EG=n=>{Zy=!1,Xm.delta=yk?SG:Math.max(Math.min(n-Xm.timestamp,ffe),1),Xm.timestamp=n,xk=!0,$1.forEach(hfe),xk=!1,Zy&&(yk=!1,AG(EG))},pfe=()=>{Zy=!0,yk=!0,xk||AG(EG)},_k=()=>Xm;function MG(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Uh.read(r),n(s-e))};return Cl.read(r,!0),()=>Uh.read(r)}function mfe({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,...c}){return!!Object.keys(c).length}function gfe({ease:n,times:e,yoyo:t,flip:r,loop:i,...s}){const o={...s};return e&&(o.offset=e),s.duration&&(o.duration=US(s.duration)),s.repeatDelay&&(o.repeatDelay=US(s.repeatDelay)),n&&(o.ease=ofe(n)?n.map(uB):uB(n)),s.type==="tween"&&(o.type="keyframes"),(t||i||r)&&(t?o.repeatType="reverse":i?o.repeatType="loop":r&&(o.repeatType="mirror"),o.repeat=i||t||r||s.repeat),s.type!=="spring"&&(o.type="keyframes"),o}function vfe(n,e){var t,r;return(r=(t=(d4(n,e)||{}).delay)!==null&&t!==void 0?t:n.delay)!==null&&r!==void 0?r:0}function yfe(n){return Array.isArray(n.to)&&n.to[0]===null&&(n.to=[...n.to],n.to[0]=n.from),n}function xfe(n,e,t){return Array.isArray(e.to)&&n.duration===void 0&&(n.duration=.8),yfe(e),mfe(n)||(n={...n,...lfe(t,e.to)}),{...e,...gfe(n)}}function _fe(n,e,t,r,i){const s=d4(r,n)||{};let o=s.from!==void 0?s.from:e.get();const a=dB(n,t);o==="none"&&a&&typeof t=="string"?o=u4(n,t):hB(o)&&typeof t=="string"?o=pB(t):!Array.isArray(t)&&hB(t)&&typeof o=="string"&&(t=pB(o));const l=dB(n,o);function c(){const u={from:o,to:t,velocity:e.getVelocity(),onComplete:i,onUpdate:f=>e.set(f)};return s.type==="inertia"||s.type==="decay"?Fde({...u,...s}):hG({...xfe(s,u,n),onUpdate:f=>{u.onUpdate(f),s.onUpdate&&s.onUpdate(f)},onComplete:()=>{u.onComplete(),s.onComplete&&s.onComplete()}})}function d(){const u=GH(t);return e.set(u),i(),s.onUpdate&&s.onUpdate(u),s.onComplete&&s.onComplete(),{stop:()=>{}}}return!l||!a||s.type===!1?d:c}function hB(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function pB(n){return typeof n=="number"?0:u4("",n)}function d4(n,e){return n[e]||n.default||n}function f4(n,e,t,r={}){return e.start(i=>{let s;const o=_fe(n,e,t,r,i),a=vfe(r,n),l=()=>s=o();let c;return a?c=MG(l,US(a)):l(),()=>{c&&c(),s&&s.stop()}})}const bfe=n=>/^\-?\d*\.?\d+$/.test(n),wfe=n=>/^0[^.\s]+$/.test(n);function h4(n,e){n.indexOf(e)===-1&&n.push(e)}function p4(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class ey{constructor(){this.subscriptions=[]}add(e){return h4(this.subscriptions,e),()=>p4(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sfe=n=>!isNaN(parseFloat(n));class Afe{constructor(e){this.version="7.6.6",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new ey,this.velocityUpdateSubscribers=new ey,this.renderSubscribers=new ey,this.canTrackVelocity=!1,this.updateAndNotify=(t,r=!0)=>{this.prev=this.current,this.current=t;const{delta:i,timestamp:s}=_k();this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Cl.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),r&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>Cl.postRender(this.velocityCheck),this.velocityCheck=({timestamp:t})=>{t!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Sfe(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(e){return e(this.get()),this.renderSubscribers.add(e)}attach(e){this.passiveEffect=e}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?pG(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.stopAnimation=e(t)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function v0(n){return new Afe(n)}const CG=n=>e=>e.test(n),Efe={test:n=>n==="auto",parse:n=>n},TG=[Qh,Dt,gc,hd,eue,Qce,Efe],Kg=n=>TG.find(CG(n)),Mfe=[...TG,Gs,wu],Cfe=n=>Mfe.find(CG(n));function Tfe(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function kfe(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function SA(n,e,t){const r=n.getProps();return QP(r,e,t!==void 0?t:r.custom,Tfe(n),kfe(n))}function Rfe(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,v0(t))}function Pfe(n,e){const t=SA(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=GH(s[o]);Rfe(n,o,a)}}function Ife(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(bfe(d)||wfe(d))?d=parseFloat(d):!Cfe(d)&&wu.test(c)&&(d=u4(l,c)),n.addValue(l,v0(d)),t[l]===void 0&&(t[l]=d),d!==null&&n.setBaseTarget(l,d))}}function Lfe(n,e){return e?(e[n]||e.default||e).from:void 0}function Ofe(n,e,t){var r;const i={};for(const s in n){const o=Lfe(s,e);i[s]=o!==void 0?o:(r=t.getValue(s))===null||r===void 0?void 0:r.get()}return i}function HS(n){return Boolean(Ml(n)&&n.add)}function Nfe(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>bk(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=bk(n,e,t);else{const i=typeof e=="function"?SA(n,e,t.custom):e;r=kG(n,i,t)}return r.then(()=>n.notify("AnimationComplete",e))}function bk(n,e,t={}){var r;const i=SA(n,e,t.custom);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const o=i?()=>kG(n,i,t):()=>Promise.resolve(),a=!((r=n.variantChildren)===null||r===void 0)&&r.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:f}=s;return Dfe(n,e,d+c,u,f,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(d)}else return Promise.all([o(),a(t.delay)])}function kG(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var s;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...l}=n.makeTargetAnimatable(e);const c=n.getValue("willChange");r&&(o=r);const d=[],u=i&&((s=n.animationState)===null||s===void 0?void 0:s.getState()[i]);for(const f in l){const h=n.getValue(f),g=l[f];if(!h||g===void 0||u&&Ffe(u,f))continue;let v={delay:t,...o};n.shouldReduceMotion&&V1.has(f)&&(v={...v,type:!1,delay:0});let x=f4(f,h,g,v);HS(c)&&(c.add(f),x=x.then(()=>c.remove(f))),d.push(x)}return Promise.all(d).then(()=>{a&&Pfe(n,a)})}function Dfe(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(Bfe).forEach((c,d)=>{o.push(bk(c,e,{...s,delay:t+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Bfe(n,e){return n.sortNodePosition(e)}function Ffe({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}const m4=[cr.Animate,cr.InView,cr.Focus,cr.Hover,cr.Tap,cr.Drag,cr.Exit],zfe=[...m4].reverse(),Vfe=m4.length;function Ufe(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Nfe(n,t,r)))}function Hfe(n){let e=Ufe(n);const t=$fe();let r=!0;const i=(l,c)=>{const d=SA(n,c);if(d){const{transition:u,transitionEnd:f,...h}=d;l={...l,...h,...f}}return l};function s(l){e=l(n)}function o(l,c){var d;const u=n.getProps(),f=n.getVariantContext(!0)||{},h=[],g=new Set;let v={},x=1/0;for(let _=0;_<Vfe;_++){const b=zfe[_],A=t[b],E=(d=u[b])!==null&&d!==void 0?d:f[b],k=Wy(E),P=b===c?A.isActive:null;P===!1&&(x=_);let C=E===f[b]&&E!==u[b]&&k;if(C&&r&&n.manuallyAnimateOnMount&&(C=!1),A.protectedKeys={...v},!A.isActive&&P===null||!E&&!A.prevProp||mA(E)||typeof E=="boolean")continue;const O=Gfe(A.prevProp,E);let U=O||b===c&&A.isActive&&!C&&k||_>x&&k;const K=Array.isArray(E)?E:[E];let J=K.reduce(i,{});P===!1&&(J={});const{prevResolvedValues:F={}}=A,S={...F,...J},I=D=>{U=!0,g.delete(D),A.needsAnimating[D]=!0};for(const D in S){const $=J[D],N=F[D];v.hasOwnProperty(D)||($!==N?Yy($)&&Yy(N)?!wG($,N)||O?I(D):A.protectedKeys[D]=!0:$!==void 0?I(D):g.add(D):$!==void 0&&g.has(D)?I(D):A.protectedKeys[D]=!0)}A.prevProp=E,A.prevResolvedValues=J,A.isActive&&(v={...v,...J}),r&&n.blockInitialAnimation&&(U=!1),U&&!C&&h.push(...K.map(D=>({animation:D,options:{type:b,...l}})))}if(g.size){const _={};g.forEach(b=>{const A=n.getBaseTarget(b);A!==void 0&&(_[b]=A)}),h.push({animation:_})}let y=Boolean(h.length);return r&&u.initial===!1&&!n.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(l,c,d){var u;if(t[l].isActive===c)return Promise.resolve();(u=n.variantChildren)===null||u===void 0||u.forEach(h=>{var g;return(g=h.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),t[l].isActive=c;const f=o(d,l);for(const h in t)t[h].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function Gfe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!wG(e,n):!1}function Ff(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $fe(){return{[cr.Animate]:Ff(!0),[cr.InView]:Ff(),[cr.Hover]:Ff(),[cr.Tap]:Ff(),[cr.Drag]:Ff(),[cr.Focus]:Ff(),[cr.Exit]:Ff()}}const Wfe={animation:Cd(({visualElement:n,animate:e})=>{n.animationState||(n.animationState=Hfe(n)),mA(e)&&T.useEffect(()=>e.subscribe(n),[e])}),exit:Cd(n=>{const{custom:e,visualElement:t}=n,[r,i]=bG(),s=T.useContext($0);T.useEffect(()=>{t.isPresent=r;const o=t.animationState&&t.animationState.setActive(cr.Exit,!r,{custom:s&&s.custom||e});o&&!r&&o.then(i)},[r])})};class RG{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=lC(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,u=l4(c.offset,{x:0,y:0})>=3;if(!d&&!u)return;const{point:f}=c,{timestamp:h}=_k();this.history.push({...f,timestamp:h});const{onStart:g,onMove:v}=this.handlers;d||(g&&g(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,c)},this.handlePointerMove=(c,d)=>{if(this.lastMoveEvent=c,this.lastMoveEventInfo=aC(d,this.transformPagePoint),WH(c)&&c.buttons===0){this.handlePointerUp(c,d);return}Cl.update(this.updatePoint,!0)},this.handlePointerUp=(c,d)=>{this.end();const{onEnd:u,onSessionEnd:f}=this.handlers,h=lC(aC(d,this.transformPagePoint),this.history);this.startEvent&&u&&u(c,h),f&&f(c,h)},jH(e)&&e.touches.length>1)return;this.handlers=t,this.transformPagePoint=r;const i=e4(e),s=aC(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=_k();this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,lC(s,this.history)),this.removeListeners=xA(qm(window,"pointermove",this.handlePointerMove),qm(window,"pointerup",this.handlePointerUp),qm(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Uh.update(this.updatePoint)}}function aC(n,e){return e?{point:e(n.point)}:n}function mB(n,e){return{x:n.x-e.x,y:n.y-e.y}}function lC({point:n},e){return{point:n,delta:mB(n,PG(e)),offset:mB(n,jfe(e)),velocity:qfe(e,.1)}}function jfe(n){return n[0]}function PG(n){return n[n.length-1]}function qfe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=PG(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>US(e)));)t--;if(!r)return{x:0,y:0};const s=(i.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function na(n){return n.max-n.min}function gB(n,e=0,t=.01){return l4(n,e)<t}function vB(n,e,t,r=.5){n.origin=r,n.originPoint=Yr(e.min,e.max,n.origin),n.scale=na(t)/na(e),(gB(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Yr(t.min,t.max,n.origin)-n.originPoint,(gB(n.translate)||isNaN(n.translate))&&(n.translate=0)}function ty(n,e,t,r){vB(n.x,e.x,t.x,r==null?void 0:r.originX),vB(n.y,e.y,t.y,r==null?void 0:r.originY)}function yB(n,e,t){n.min=t.min+e.min,n.max=n.min+na(e)}function Yfe(n,e,t){yB(n.x,e.x,t.x),yB(n.y,e.y,t.y)}function xB(n,e,t){n.min=e.min-t.min,n.max=n.min+na(e)}function ny(n,e,t){xB(n.x,e.x,t.x),xB(n.y,e.y,t.y)}function Xfe(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Yr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Yr(t,n,r.max):Math.min(n,t)),n}function _B(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Kfe(n,{top:e,left:t,bottom:r,right:i}){return{x:_B(n.x,t,i),y:_B(n.y,e,r)}}function bB(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Zfe(n,e){return{x:bB(n.x,e.x),y:bB(n.y,e.y)}}function Jfe(n,e){let t=.5;const r=na(n),i=na(e);return i>r?t=Xy(e.min,e.max-r,n.min):r>i&&(t=Xy(n.min,n.max-i,e.min)),FS(0,1,t)}function Qfe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const wk=.35;function ehe(n=wk){return n===!1?n=0:n===!0&&(n=wk),{x:wB(n,"left","right"),y:wB(n,"top","bottom")}}function wB(n,e,t){return{min:SB(n,e),max:SB(n,t)}}function SB(n,e){var t;return typeof n=="number"?n:(t=n[e])!==null&&t!==void 0?t:0}const AB=()=>({translate:0,scale:1,origin:0,originPoint:0}),ry=()=>({x:AB(),y:AB()}),EB=()=>({min:0,max:0}),Ai=()=>({x:EB(),y:EB()});function Zl(n){return[n("x"),n("y")]}function IG({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function the({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function nhe(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function cC(n){return n===void 0||n===1}function Sk({scale:n,scaleX:e,scaleY:t}){return!cC(n)||!cC(e)||!cC(t)}function Zf(n){return Sk(n)||LG(n)||n.z||n.rotate||n.rotateX||n.rotateY}function LG(n){return MB(n.x)||MB(n.y)}function MB(n){return n&&n!=="0%"}function GS(n,e,t){const r=n-t,i=e*r;return t+i}function CB(n,e,t,r,i){return i!==void 0&&(n=GS(n,i,r)),GS(n,t,r)+e}function Ak(n,e=0,t=1,r,i){n.min=CB(n.min,e,t,r,i),n.max=CB(n.max,e,t,r,i)}function OG(n,{x:e,y:t}){Ak(n.x,e.translate,e.scale,e.originPoint),Ak(n.y,t.translate,t.scale,t.originPoint)}function rhe(n,e,t,r=!1){var i,s;const o=t.length;if(!o)return;e.x=e.y=1;let a,l;for(let c=0;c<o;c++)a=t[c],l=a.projectionDelta,((s=(i=a.instance)===null||i===void 0?void 0:i.style)===null||s===void 0?void 0:s.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&wm(n,{x:-a.scroll.x,y:-a.scroll.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,OG(n,l)),r&&Zf(a.latestValues)&&wm(n,a.latestValues))}function vd(n,e){n.min=n.min+e,n.max=n.max+e}function TB(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Yr(n.min,n.max,s);Ak(n,e[t],e[r],o,e.scale)}const ihe=["x","scaleX","originX"],she=["y","scaleY","originY"];function wm(n,e){TB(n.x,e,ihe),TB(n.y,e,she)}function NG(n,e){return IG(nhe(n.getBoundingClientRect(),e))}function ohe(n,e,t){const r=NG(n,t),{scroll:i}=e;return i&&(vd(r.x,i.x),vd(r.y,i.y)),r}const ahe=new WeakMap;class lhe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ai(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){if(this.visualElement.isPresent===!1)return;const r=a=>{this.stopAnimation(),t&&this.snapToCursor(e4(a,"page").point)},i=(a,l)=>{var c;const{drag:d,dragPropagation:u,onDragStart:f}=this.getProps();d&&!u&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=KH(d),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zl(h=>{var g,v;let x=this.getAxisMotionValue(h).get()||0;if(gc.test(x)){const y=(v=(g=this.visualElement.projection)===null||g===void 0?void 0:g.layout)===null||v===void 0?void 0:v.layoutBox[h];y&&(x=na(y)*(parseFloat(x)/100))}this.originPoint[h]=x}),f==null||f(a,l),(c=this.visualElement.animationState)===null||c===void 0||c.setActive(cr.Drag,!0))},s=(a,l)=>{const{dragPropagation:c,dragDirectionLock:d,onDirectionLock:u,onDrag:f}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:h}=l;if(d&&this.currentDirection===null){this.currentDirection=che(h),this.currentDirection!==null&&(u==null||u(this.currentDirection));return}this.updateAxis("x",l.point,h),this.updateAxis("y",l.point,h),this.visualElement.render(),f==null||f(a,l)},o=(a,l)=>this.stop(a,l);this.panSession=new RG(e,{onSessionStart:r,onStart:i,onMove:s,onSessionEnd:o},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s==null||s(e,t)}cancel(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(t=this.visualElement.animationState)===null||t===void 0||t.setActive(cr.Drag,!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!j_(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Xfe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&bm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Kfe(r.layoutBox,e):this.constraints=!1,this.elastic=ehe(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Zl(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Qfe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!bm(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=ohe(r,i.root,this.visualElement.getTransformPagePoint());let o=Zfe(i.layout.layoutBox,s);if(t){const a=t(the(o));this.hasMutatedConstraints=!!a,a&&(o=IG(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Zl(d=>{var u;if(!j_(d,t,this.currentDirection))return;let f=(u=l==null?void 0:l[d])!==null&&u!==void 0?u:{};o&&(f={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return f4(e,r,0,t)}stopAnimation(){Zl(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var t,r;const i="_drag"+e.toUpperCase(),s=this.visualElement.getProps()[i];return s||this.visualElement.getValue(e,(r=(t=this.visualElement.getProps().initial)===null||t===void 0?void 0:t[e])!==null&&r!==void 0?r:0)}snapToCursor(e){Zl(t=>{const{drag:r}=this.getProps();if(!j_(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-Yr(o,a,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!bm(r)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Zl(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=Jfe({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",(e=i.root)===null||e===void 0||e.updateScroll(),i.updateLayout(),this.resolveConstraints(),Zl(a=>{if(!j_(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(Yr(c,d,s[a]))})}addListeners(){var e;if(!this.visualElement.current)return;ahe.set(this.visualElement,this);const t=this.visualElement.current,r=qm(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();bm(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&((e=s.root)===null||e===void 0||e.updateScroll(),s.updateLayout()),i();const a=yA(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Zl(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{a(),r(),o(),l==null||l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=wk,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function j_(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function che(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}function uhe(n){const{dragControls:e,visualElement:t}=n,r=vA(()=>new lhe(t));T.useEffect(()=>e&&e.subscribe(r),[r,e]),T.useEffect(()=>r.addListeners(),[r])}function dhe({onPan:n,onPanStart:e,onPanEnd:t,onPanSessionStart:r,visualElement:i}){const s=n||e||t||r,o=T.useRef(null),{transformPagePoint:a}=T.useContext(WP),l={onSessionStart:r,onStart:e,onMove:n,onEnd:(d,u)=>{o.current=null,t&&t(d,u)}};T.useEffect(()=>{o.current!==null&&o.current.updateHandlers(l)});function c(d){o.current=new RG(d,l,{transformPagePoint:a})}DS(i,"pointerdown",s&&c),t4(()=>o.current&&o.current.end())}const fhe={pan:Cd(dhe),drag:Cd(uhe)};function Ek(n){return typeof n=="string"&&n.startsWith("var(--")}const DG=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function hhe(n){const e=DG.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function Mk(n,e,t=1){const[r,i]=hhe(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():Ek(i)?Mk(i,e,t+1):i}function phe(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!Ek(s))return;const o=Mk(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Ek(s))continue;const o=Mk(s,r);o&&(e[i]=o,t&&t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const mhe=new Set(["width","height","top","left","right","bottom","x","y"]),BG=n=>mhe.has(n),ghe=n=>Object.keys(n).some(BG),FG=(n,e)=>{n.set(e,!1),n.set(e)},kB=n=>n===Qh||n===Dt;var RB;(function(n){n.width="width",n.height="height",n.left="left",n.right="right",n.top="top",n.bottom="bottom"})(RB||(RB={}));const PB=(n,e)=>parseFloat(n.split(", ")[e]),IB=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return PB(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?PB(s[1],n):0}},vhe=new Set(["x","y","z"]),yhe=OS.filter(n=>!vhe.has(n));function xhe(n){const e=[];return yhe.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const LB={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:IB(4,13),y:IB(5,14)},_he=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=LB[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const d=e.getValue(c);FG(d,a[c]),n[c]=LB[c](l,s)}),n},bhe=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(BG);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let d=t[l],u=Kg(d);const f=e[l];let h;if(Yy(f)){const g=f.length,v=f[0]===null?1:0;d=f[v],u=Kg(d);for(let x=v;x<g;x++)h?BS(Kg(f[x])===h):h=Kg(f[x])}else h=Kg(f);if(u!==h)if(kB(u)&&kB(h)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&h===Dt&&(e[l]=f.map(parseFloat))}else u!=null&&u.transform&&(h!=null&&h.transform)&&(d===0||f===0)?d===0?c.set(h.transform(d)):e[l]=u.transform(f):(o||(s=xhe(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],FG(c,f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=_he(e,n,a);return s.length&&s.forEach(([d,u])=>{n.getValue(d).set(u)}),n.render(),Jh&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function whe(n,e,t,r){return ghe(e)?bhe(n,e,t,r):{target:e,transitionEnd:r}}const She=(n,e,t,r)=>{const i=phe(n,e,r);return e=i.target,r=i.transitionEnd,whe(n,e,t,r)},Ck={current:null},zG={current:!1};function Ahe(){if(zG.current=!0,!!Jh)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ck.current=n.matches;n.addListener(e),e()}else Ck.current=!1}function Ehe(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(Ml(s))n.addValue(i,s),HS(r)&&r.add(i);else if(Ml(o))n.addValue(i,v0(s)),HS(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,v0(a!==void 0?a:s))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const VG=Object.keys(jy),Mhe=VG.length,OB=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Che{constructor({parent:e,props:t,reducedMotionConfig:r,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Cl.render(this.render,!1,!0);const{latestValues:o,renderState:a}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=a,this.parent=e,this.props=t,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=gA(t),this.isVariantNode=SH(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:l,...c}=this.scrapeMotionValuesFromProps(t);for(const d in c){const u=c[d];o[d]!==void 0&&Ml(u)&&(u.set(o[d],!1),HS(l)&&l.add(d))}if(t.values)for(const d in t.values){const u=t.values[d];o[d]!==void 0&&Ml(u)&&u.set(o[d])}}scrapeMotionValuesFromProps(e){return{}}mount(e){var t;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(t=this.parent)===null||t===void 0?void 0:t.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),zG.current||Ahe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ck.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,t,r;(e=this.projection)===null||e===void 0||e.unmount(),Uh.update(this.notifyUpdate),Uh.render(this.render),this.valueSubscriptions.forEach(i=>i()),(t=this.removeFromVariantTree)===null||t===void 0||t.call(this),(r=this.parent)===null||r===void 0||r.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(e,t){const r=t.onChange(s=>{this.latestValues[e]=s,this.props.onUpdate&&Cl.update(this.notifyUpdate,!1,!0)}),i=t.onRenderRequest(this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures(e,t,r,i,s,o){const a=[];for(let l=0;l<Mhe;l++){const c=VG[l],{isEnabled:d,Component:u}=jy[c];d(e)&&u&&a.push(T.createElement(u,{key:c,...e,visualElement:this}))}if(!this.projection&&s){this.projection=new s(i,this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:u,layoutScroll:f}=e;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:Boolean(d)||u&&bm(u),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:f})}return a}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ai()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=e;for(let t=0;t<OB.length;t++){const r=OB[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=Ehe(this,this.scrapeMotionValuesFromProps(e),this.prevMotionValues)}getProps(){return this.props}getVariant(e){var t;return(t=this.props.variants)===null||t===void 0?void 0:t[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:(e=this.parent)===null||e===void 0?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var t,r;if(e)return(t=this.parent)===null||t===void 0?void 0:t.getVariantContext();if(!this.isControllingVariants){const s=((r=this.parent)===null||r===void 0?void 0:r.getVariantContext())||{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const i={};for(let s=0;s<The;s++){const o=UG[s],a=this.props[o];(Wy(a)||a===!1)&&(i[o]=a)}return i}addVariantChild(e){var t;const r=this.getClosestVariantNode();if(r)return(t=r.variantChildren)===null||t===void 0||t.add(e),()=>r.variantChildren.delete(e)}addValue(e,t){this.hasValue(e)&&this.removeValue(e),this.values.set(e,t),this.latestValues[e]=t.get(),this.bindToMotionValue(e,t)}removeValue(e){var t;this.values.delete(e),(t=this.valueSubscriptions.get(e))===null||t===void 0||t(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=v0(t),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=QP(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ml(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ey),this.events[e].add(t)}notify(e,...t){var r;(r=this.events[e])===null||r===void 0||r.notify(...t)}}const UG=["initial",...m4],The=UG.length;class HG extends Che{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){var r;return(r=e.style)===null||r===void 0?void 0:r[t]}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Ofe(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){Ife(this,r,o);const a=She(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function khe(n){return window.getComputedStyle(n)}class Rhe extends HG{readValueFromInstance(e,t){if(V1.has(t)){const r=c4(t);return r&&r.default||0}else{const r=khe(e),i=(MH(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return NG(e,t)}build(e,t,r,i){XP(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e){return JP(e)}renderInstance(e,t,r,i){zH(e,t,r,i)}}class Phe extends HG{getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){var r;return V1.has(t)?((r=c4(t))===null||r===void 0?void 0:r.default)||0:(t=VH.has(t)?t:FH(t),e.getAttribute(t))}measureInstanceViewportBox(){return Ai()}scrapeMotionValuesFromProps(e){return HH(e)}build(e,t,r,i){ZP(e,t,r,i.transformTemplate)}renderInstance(e,t,r,i){UH(e,t,r,i)}}const Ihe=(n,e)=>qP(n)?new Phe(e,{enableHardwareAcceleration:!1}):new Rhe(e,{enableHardwareAcceleration:!0});function NB(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Zg={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Dt.test(n))n=parseFloat(n);else return n;const t=NB(n,e.target.x),r=NB(n,e.target.y);return`${t}% ${r}%`}},DB="_$css",Lhe={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=n.includes("var("),s=[];i&&(n=n.replace(DG,h=>(s.push(h),DB)));const o=wu.parse(n);if(o.length>5)return r;const a=wu.createTransformer(n),l=typeof o[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;o[0+l]/=c,o[1+l]/=d;const u=Yr(c,d,.5);typeof o[2+l]=="number"&&(o[2+l]/=u),typeof o[3+l]=="number"&&(o[3+l]/=u);let f=a(o);if(i){let h=0;f=f.replace(DB,()=>{const g=s[h];return h++,g})}return f}};class Ohe extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;qce(Dhe),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Zv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Cl.postRender(()=>{var a;!((a=o.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t!=null&&t.group&&t.group.remove(i),r!=null&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function Nhe(n){const[e,t]=bG(),r=T.useContext(jP);return H.createElement(Ohe,{...n,layoutGroup:r,switchLayoutGroup:T.useContext(AH),isPresent:e,safeToRemove:t})}const Dhe={borderRadius:{...Zg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zg,borderTopRightRadius:Zg,borderBottomLeftRadius:Zg,borderBottomRightRadius:Zg,boxShadow:Lhe},Bhe={measureLayout:Nhe};function Fhe(n,e,t={}){const r=Ml(n)?n:v0(n);return f4("",r,e,t),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const GG=["TopLeft","TopRight","BottomLeft","BottomRight"],zhe=GG.length,BB=n=>typeof n=="string"?parseFloat(n):n,FB=n=>typeof n=="number"||Dt.test(n);function Vhe(n,e,t,r,i,s){var o,a,l,c;i?(n.opacity=Yr(0,(o=t.opacity)!==null&&o!==void 0?o:1,Uhe(r)),n.opacityExit=Yr((a=e.opacity)!==null&&a!==void 0?a:1,0,Hhe(r))):s&&(n.opacity=Yr((l=e.opacity)!==null&&l!==void 0?l:1,(c=t.opacity)!==null&&c!==void 0?c:1,r));for(let d=0;d<zhe;d++){const u=`border${GG[d]}Radius`;let f=zB(e,u),h=zB(t,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||FB(f)===FB(h)?(n[u]=Math.max(Yr(BB(f),BB(h),r),0),(gc.test(h)||gc.test(f))&&(n[u]+="%")):n[u]=h}(e.rotate||t.rotate)&&(n.rotate=Yr(e.rotate||0,t.rotate||0,r))}function zB(n,e){var t;return(t=n[e])!==null&&t!==void 0?t:n.borderRadius}const Uhe=$G(0,.5,o4),Hhe=$G(.5,.95,i4);function $G(n,e,t){return r=>r<n?0:r>e?1:t(Xy(n,e,r))}function VB(n,e){n.min=e.min,n.max=e.max}function rl(n,e){VB(n.x,e.x),VB(n.y,e.y)}function UB(n,e,t,r,i){return n-=e,n=GS(n,1/t,r),i!==void 0&&(n=GS(n,1/i,r)),n}function Ghe(n,e=0,t=1,r=.5,i,s=n,o=n){if(gc.test(e)&&(e=parseFloat(e),e=Yr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Yr(s.min,s.max,r);n===s&&(a-=e),n.min=UB(n.min,e,t,a,i),n.max=UB(n.max,e,t,a,i)}function HB(n,e,[t,r,i],s,o){Ghe(n,e[t],e[r],e[i],e.scale,s,o)}const $he=["x","scaleX","originX"],Whe=["y","scaleY","originY"];function GB(n,e,t,r){HB(n.x,e,$he,t==null?void 0:t.x,r==null?void 0:r.x),HB(n.y,e,Whe,t==null?void 0:t.y,r==null?void 0:r.y)}function $B(n){return n.translate===0&&n.scale===1}function WG(n){return $B(n.x)&&$B(n.y)}function jG(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function WB(n){return na(n.x)/na(n.y)}function jhe(n,e,t=.1){return l4(n,e)<=t}class qhe{constructor(){this.members=[]}add(e){h4(this.members,e),e.scheduleRender()}remove(e){if(p4(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){var r;const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues,e.snapshot.isShared=!0),!((r=e.root)===null||r===void 0)&&r.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var t,r,i,s,o;(r=(t=e.options).onExitComplete)===null||r===void 0||r.call(t),(o=(i=e.resumingFrom)===null||i===void 0?void 0:(s=i.options).onExitComplete)===null||o===void 0||o.call(s)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Yhe="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function jB(n,e,t){const r=n.x.translate/e.x,i=n.y.translate/e.y;let s=`translate3d(${r}px, ${i}px, 0) `;if(s+=`scale(${1/e.x}, ${1/e.y}) `,t){const{rotate:l,rotateX:c,rotateY:d}=t;l&&(s+=`rotate(${l}deg) `),c&&(s+=`rotateX(${c}deg) `),d&&(s+=`rotateY(${d}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return s+=`scale(${o}, ${a})`,s===Yhe?"none":s}const Xhe=(n,e)=>n.depth-e.depth;class Khe{constructor(){this.children=[],this.isDirty=!1}add(e){h4(this.children,e),this.isDirty=!0}remove(e){p4(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Xhe),this.isDirty=!1,this.children.forEach(e)}}const qB=["","X","Y","Z"],YB=1e3;function qG({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(tpe),this.nodes.forEach(npe)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Khe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ey),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l==null||l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){var l;if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(d||c)&&(this.isLayoutDirty=!0),n){let f;const h=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=MG(h,250),Zv.hasAnimatedSinceResize&&(Zv.hasAnimatedSinceResize=!1,this.nodes.forEach(KB))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:v})=>{var x,y,_,b,A;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=(y=(x=this.options.transition)!==null&&x!==void 0?x:u.getDefaultTransition())!==null&&y!==void 0?y:ape,{onLayoutAnimationStart:k,onLayoutAnimationComplete:P}=u.getProps(),C=!this.targetLayout||!jG(this.targetLayout,v)||g,O=!h&&g;if(!((_=this.resumeFrom)===null||_===void 0)&&_.instance||O||h&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,O);const U={...d4(E,"layout"),onPlay:k,onComplete:P};u.shouldReduceMotion&&(U.delay=0,U.type=!1),this.startAnimation(U)}else!h&&this.animationProgress===0&&KB(this),this.isLead()&&((A=(b=this.options).onExitComplete)===null||A===void 0||A.call(b));this.targetLayout=v})}unmount(){var o,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(o=this.getStack())===null||o===void 0||o.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,Uh.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var o;return this.isAnimationBlocked||((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimationBlocked())||!1}startUpdate(){var o;this.isUpdateBlocked()||(this.isUpdating=!0,(o=this.nodes)===null||o===void 0||o.forEach(rpe))}willUpdate(o=!0){var a,l,c;if(this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll()}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const f=(c=this.options.visualElement)===null||c===void 0?void 0:c.getProps().transformTemplate;this.prevTransformTemplateValue=f==null?void 0:f(this.latestValues,""),this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XB);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(lpe),this.potentialNodes.clear()),this.nodes.forEach(epe),this.nodes.forEach(Zhe),this.nodes.forEach(Jhe),this.clearAllSnapshots(),oC.update(),oC.preRender(),oC.render())}clearAllSnapshots(){this.nodes.forEach(Qhe),this.sharedNodes.forEach(ipe)}scheduleUpdateProjection(){Cl.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Cl.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var o;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ai(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(o=this.options.visualElement)===null||o===void 0||o.notify("LayoutMeasure",this.layout.layoutBox,a==null?void 0:a.layoutBox)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=r(this.instance),this.scroll=t(this.instance))}resetTransform(){var o;if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!WG(this.projectionDelta),c=(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate,d=c==null?void 0:c(this.latestValues,""),u=d!==this.prevTransformTemplateValue;a&&(l||Zf(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),cpe(l),{measuredBox:a,layoutBox:l,latestValues:{}}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ai();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(vd(a.x,l.x),vd(a.y,l.y)),a}removeElementScroll(o){const a=Ai();rl(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:u,isScrollRoot:f}=c;if(c!==this.root&&d&&u.layoutScroll){if(f){rl(a,o);const{scroll:h}=this.root;h&&(vd(a.x,-h.x),vd(a.y,-h.y))}vd(a.x,d.x),vd(a.y,d.y)}}return a}applyTransform(o,a=!1){const l=Ai();rl(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&wm(l,{x:-d.scroll.x,y:-d.scroll.y}),Zf(d.latestValues)&&wm(l,d.latestValues)}return Zf(this.latestValues)&&wm(l,this.latestValues),l}removeTransform(o){var a;const l=Ai();rl(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Zf(d.latestValues))continue;Sk(d.latestValues)&&d.updateSnapshot();const u=Ai(),f=d.measurePageBox();rl(u,f),GB(l,d.latestValues,(a=d.snapshot)===null||a===void 0?void 0:a.layoutBox,u)}return Zf(this.latestValues)&&GB(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection()}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const{layout:a,layoutId:l}=this.options;if(!(!this.layout||!(a||l))){if(!this.targetDelta&&!this.relativeTarget){const c=this.getClosestProjectingParent();c&&c.layout?(this.relativeParent=c,this.relativeTarget=Ai(),this.relativeTargetOrigin=Ai(),ny(this.relativeTargetOrigin,this.layout.layoutBox,c.layout.layoutBox),rl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ai(),this.targetWithTransforms=Ai()),this.relativeTarget&&this.relativeTargetOrigin&&(!((o=this.relativeParent)===null||o===void 0)&&o.target)?Yfe(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):rl(this.target,this.layout.layoutBox),OG(this.target,this.targetDelta)):rl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const c=this.getClosestProjectingParent();c&&Boolean(c.resumingFrom)===Boolean(this.resumingFrom)&&!c.options.layoutScroll&&c.target?(this.relativeParent=c,this.relativeTarget=Ai(),this.relativeTargetOrigin=Ai(),ny(this.relativeTargetOrigin,this.target,c.target),rl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Sk(this.parent.latestValues)||LG(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var o;const{layout:a,layoutId:l}=this.options;if(this.isTreeAnimating=Boolean(((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(a||l))return;const c=this.getLead();rl(this.layoutCorrected,this.layout.layoutBox),rhe(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==c);const{target:d}=c;if(!d)return;this.projectionDelta||(this.projectionDelta=ry(),this.projectionDeltaWithTransform=ry());const u=this.treeScale.x,f=this.treeScale.y,h=this.projectionTransform;ty(this.projectionDelta,this.layoutCorrected,d,this.latestValues),this.projectionTransform=jB(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==u||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a,l,c;(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),o&&((c=this.getStack())===null||c===void 0||c.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){var l;const c=this.snapshot,d=(c==null?void 0:c.latestValues)||{},u={...this.latestValues},f=ry();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!a;const h=Ai(),g=c==null?void 0:c.isShared,v=(((l=this.getStack())===null||l===void 0?void 0:l.members.length)||0)<=1,x=Boolean(g&&!v&&this.options.crossfade===!0&&!this.path.some(ope));this.animationProgress=0,this.mixTargetDelta=y=>{var _;const b=y/1e3;ZB(f.x,o.x,b),ZB(f.y,o.y,b),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((_=this.relativeParent)===null||_===void 0)&&_.layout)&&(ny(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),spe(this.relativeTarget,this.relativeTargetOrigin,h,b)),g&&(this.animationValues=u,Vhe(u,d,this.latestValues,b,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(0)}startAnimation(o){var a,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&(Uh.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Cl.update(()=>{Zv.hasAnimatedSinceResize=!0,this.currentAnimation=Fhe(0,YB,{...o,onUpdate:c=>{var d;this.mixTargetDelta(c),(d=o.onUpdate)===null||d===void 0||d.call(o,c)},onComplete:()=>{var c;(c=o.onComplete)===null||c===void 0||c.call(o),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var o;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(o=this.getStack())===null||o===void 0||o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var o;this.currentAnimation&&((o=this.mixTargetDelta)===null||o===void 0||o.call(this,YB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&YG(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ai();const u=na(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+u;const f=na(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}rl(a,l),wm(a,d),ty(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){var l,c,d;this.sharedNodes.has(o)||this.sharedNodes.set(o,new qhe),this.sharedNodes.get(o).add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(d=(c=a.options.initialPromotionConfig)===null||c===void 0?void 0:c.shouldPreserveFollowOpacity)===null||d===void 0?void 0:d.call(c,a)})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const l={};for(let c=0;c<qB.length;c++){const u="rotate"+qB[c];o.getStaticValue(u)&&(a=!0,l[u]=o.getStaticValue(u),o.setStaticValue(u,0))}if(a){o==null||o.render();for(const c in l)o.setStaticValue(c,l[c]);o.scheduleRender()}}getProjectionStyles(o={}){var a,l,c;const d={};if(!this.instance||this.isSVG)return d;if(this.isVisible)d.visibility="";else return{visibility:"hidden"};const u=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Ew(o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Ew(o.pointerEvents)||""),this.hasProjected&&!Zf(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=jB(this.projectionDeltaWithTransform,this.treeScale,h),u&&(d.transform=u(h,d.transform));const{x:g,y:v}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in LS){if(h[x]===void 0)continue;const{correct:y,applyTo:_}=LS[x],b=y(h[x],f);if(_){const A=_.length;for(let E=0;E<A;E++)d[_[E]]=b}else d[x]=b}return this.options.layoutId&&(d.pointerEvents=f===this?Ew(o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(XB),this.root.sharedNodes.clear()}}}function Zhe(n){n.updateLayout()}function Jhe(n){var e,t,r;const i=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&i&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=n.layout,{animationType:a}=n.options;a==="size"?Zl(f=>{const h=i.isShared?i.measuredBox[f]:i.layoutBox[f],g=na(h);h.min=s[f].min,h.max=h.min+g}):YG(a,i.layoutBox,s)&&Zl(f=>{const h=i.isShared?i.measuredBox[f]:i.layoutBox[f],g=na(s[f]);h.max=h.min+g});const l=ry();ty(l,s,i.layoutBox);const c=ry();i.isShared?ty(c,n.applyTransform(o,!0),i.measuredBox):ty(c,s,i.layoutBox);const d=!WG(l);let u=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const v=Ai();ny(v,i.layoutBox,h.layoutBox);const x=Ai();ny(x,s,g.layoutBox),jG(v,x)||(u=!0)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else n.isLead()&&((r=(t=n.options).onExitComplete)===null||r===void 0||r.call(t));n.options.transition=void 0}function Qhe(n){n.clearSnapshot()}function XB(n){n.clearMeasurements()}function epe(n){const{visualElement:e}=n.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function KB(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function tpe(n){n.resolveTargetDelta()}function npe(n){n.calcProjection()}function rpe(n){n.resetRotation()}function ipe(n){n.removeLeadSnapshot()}function ZB(n,e,t){n.translate=Yr(e.translate,0,t),n.scale=Yr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function JB(n,e,t,r){n.min=Yr(e.min,t.min,r),n.max=Yr(e.max,t.max,r)}function spe(n,e,t,r){JB(n.x,e.x,t.x,r),JB(n.y,e.y,t.y,r)}function ope(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const ape={duration:.45,ease:[.4,0,.1,1]};function lpe(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(Boolean(n.path[s].instance)){t=n.path[s];break}const i=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&n.mount(i,!0)}function QB(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function cpe(n){QB(n.x),QB(n.y)}function YG(n,e,t){return n==="position"||n==="preserve-aspect"&&!jhe(WB(e),WB(t),.2)}const upe=qG({attachResizeListener:(n,e)=>yA(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uC={current:void 0},dpe=qG({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!uC.current){const n=new upe(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),uC.current=n}return uC.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>Boolean(window.getComputedStyle(n).position==="fixed")}),fpe={...Wfe,...nfe,...fhe,...Bhe},hpe=Wce((n,e)=>Rue(n,e,fpe,Ihe,dpe));function XG(){const n=T.useRef(!1);return IS(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function ppe(){const n=XG(),[e,t]=T.useState(0),r=T.useCallback(()=>{n.current&&t(e+1)},[e]);return[T.useCallback(()=>Cl.postRender(r),[r]),e]}class mpe extends T.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function gpe({children:n,isPresent:e}){const t=T.useId(),r=T.useRef(null),i=T.useRef({width:0,height:0,top:0,left:0});return T.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),T.createElement(mpe,{isPresent:e,childRef:r,sizeRef:i},T.cloneElement(n,{ref:r}))}const dC=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=vA(vpe),l=T.useId(),c=T.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:d=>{a.set(d,!0);for(const u of a.values())if(!u)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?void 0:[t]);return T.useMemo(()=>{a.forEach((d,u)=>a.set(u,!1))},[t]),T.useEffect(()=>{!t&&!a.size&&r&&r()},[t]),o==="popLayout"&&(n=T.createElement(gpe,{isPresent:t},n)),T.createElement($0.Provider,{value:c},n)};function vpe(){return new Map}const im=n=>n.key||"";function ype(n,e){n.forEach(t=>{const r=im(t);e.set(r,t)})}function xpe(n){const e=[];return T.Children.forEach(n,t=>{T.isValidElement(t)&&e.push(t)}),e}const _pe=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{i&&(o="wait",_G(!1,"Replace exitBeforeEnter with mode='wait'"));let[a]=ppe();const l=T.useContext(jP).forceRender;l&&(a=l);const c=XG(),d=xpe(n);let u=d;const f=new Set,h=T.useRef(u),g=T.useRef(new Map).current,v=T.useRef(!0);if(IS(()=>{v.current=!1,ype(d,g),h.current=u}),t4(()=>{v.current=!0,g.clear(),f.clear()}),v.current)return T.createElement(T.Fragment,null,u.map(b=>T.createElement(dC,{key:im(b),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},b)));u=[...u];const x=h.current.map(im),y=d.map(im),_=x.length;for(let b=0;b<_;b++){const A=x[b];y.indexOf(A)===-1&&f.add(A)}return o==="wait"&&f.size&&(u=[]),f.forEach(b=>{if(y.indexOf(b)!==-1)return;const A=g.get(b);if(!A)return;const E=x.indexOf(b),k=()=>{g.delete(b),f.delete(b);const P=h.current.findIndex(C=>C.key===b);if(h.current.splice(P,1),!f.size){if(h.current=d,c.current===!1)return;a(),r&&r()}};u.splice(E,0,T.createElement(dC,{key:im(A),isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:s,mode:o},A))}),u=u.map(b=>{const A=b.key;return f.has(A)?b:T.createElement(dC,{key:im(b),isPresent:!0,presenceAffectsLayout:s,mode:o},b)}),xG!=="production"&&o==="wait"&&u.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),T.createElement(T.Fragment,null,f.size?u:u.map(b=>T.cloneElement(b)))};function W0(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function j0(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function bpe(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function wpe(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(bpe(arguments[e]));return n}var Spe=(...n)=>n.filter(Boolean).join(" "),Ape=Fne({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),g4=Et((n,e)=>{const t=la("Spinner",n),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:o="transparent",className:a,...l}=oi(n),c=Spe("chakra-spinner",a),d={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:o,borderLeftColor:o,animation:`${Ape} ${s} linear infinite`,...t};return H.createElement(At.div,{ref:e,__css:d,className:c,...l},r&&H.createElement(At.span,{srOnly:!0},r))});g4.displayName="Spinner";var AA=(...n)=>n.filter(Boolean).join(" ");function Epe(n){return H.createElement(mf,{viewBox:"0 0 24 24",...n},H.createElement("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"}))}function Mpe(n){return H.createElement(mf,{viewBox:"0 0 24 24",...n},H.createElement("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"}))}function e6(n){return H.createElement(mf,{viewBox:"0 0 24 24",...n},H.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}var[Cpe,Tpe]=Dl({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[kpe,v4]=Dl({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),KG={info:{icon:Mpe,colorScheme:"blue"},warning:{icon:e6,colorScheme:"orange"},success:{icon:Epe,colorScheme:"green"},error:{icon:e6,colorScheme:"red"},loading:{icon:g4,colorScheme:"blue"}};function Rpe(n){return KG[n].colorScheme}function Ppe(n){return KG[n].icon}var ZG=Et(function(e,t){const{status:r="info",addRole:i=!0,...s}=oi(e),o=e.colorScheme??Rpe(r),a=pf("Alert",{...e,colorScheme:o}),l={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...a.container};return H.createElement(Cpe,{value:{status:r}},H.createElement(kpe,{value:a},H.createElement(At.div,{role:i?"alert":void 0,ref:t,...s,className:AA("chakra-alert",e.className),__css:l})))});ZG.displayName="Alert";var JG=Et(function(e,t){const i={display:"inline",...v4().description};return H.createElement(At.div,{ref:t,...e,className:AA("chakra-alert__desc",e.className),__css:i})});JG.displayName="AlertDescription";function QG(n){const{status:e}=Tpe(),t=Ppe(e),r=v4(),i=e==="loading"?r.spinner:r.icon;return H.createElement(At.span,{display:"inherit",...n,className:AA("chakra-alert__icon",n.className),__css:i},n.children||H.createElement(t,{h:"100%",w:"100%"}))}QG.displayName="AlertIcon";var e$=Et(function(e,t){const r=v4();return H.createElement(At.div,{ref:t,...e,className:AA("chakra-alert__title",e.className),__css:r.title})});e$.displayName="AlertTitle";function Ipe(n,e=[]){const t=Object.assign({},n);for(const r of e)r in t&&delete t[r];return t}function Lpe(n){const{loading:e,src:t,srcSet:r,onLoad:i,onError:s,crossOrigin:o,sizes:a,ignoreFallback:l}=n,[c,d]=T.useState("pending");T.useEffect(()=>{d(t?"loading":"pending")},[t]);const u=T.useRef(),f=T.useCallback(()=>{if(!t)return;h();const g=new Image;g.src=t,o&&(g.crossOrigin=o),r&&(g.srcset=r),a&&(g.sizes=a),e&&(g.loading=e),g.onload=v=>{h(),d("loaded"),i==null||i(v)},g.onerror=v=>{h(),d("failed"),s==null||s(v)},u.current=g},[t,o,r,a,i,s,e]),h=()=>{u.current&&(u.current.onload=null,u.current.onerror=null,u.current=null)};return By(()=>{if(!l)return c==="loading"&&f(),()=>{h()}},[c,f,l]),l?"loaded":c}var Ope=(n,e)=>n!=="loaded"&&e==="beforeLoadOrError"||n==="failed"&&e==="onError",$S=Et(function(e,t){const{htmlWidth:r,htmlHeight:i,alt:s,...o}=e;return H.createElement("img",{width:r,height:i,ref:t,alt:s,...o})});$S.displayName="NativeImage";var t$=Et(function(e,t){const{fallbackSrc:r,fallback:i,src:s,srcSet:o,align:a,fit:l,loading:c,ignoreFallback:d,crossOrigin:u,fallbackStrategy:f="beforeLoadOrError",referrerPolicy:h,...g}=e,v=r!==void 0||i!==void 0,x=c!=null||d||!v,y=Lpe({...e,ignoreFallback:x}),_=Ope(y,f),b={ref:t,objectFit:l,objectPosition:a,...x?g:Ipe(g,["onError","onLoad"])};return _?i||H.createElement(At.img,{as:$S,className:"chakra-image__placeholder",src:r,...b}):H.createElement(At.img,{as:$S,src:s,srcSet:o,crossOrigin:u,loading:c,referrerPolicy:h,className:"chakra-image",...b})});t$.displayName="Image";Et((n,e)=>H.createElement(At.img,{ref:e,as:$S,className:"chakra-image",...n}));function y4(n){return T.Children.toArray(n).filter(e=>T.isValidElement(e))}var EA=(...n)=>n.filter(Boolean).join(" "),t6=n=>n?"":void 0,[Npe,Dpe]=Dl({strict:!1,name:"ButtonGroupContext"});function Tk(n){const{children:e,className:t,...r}=n,i=T.isValidElement(e)?T.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,s=EA("chakra-button__icon",t);return H.createElement(At.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s},i)}Tk.displayName="ButtonIcon";function kk(n){const{label:e,placement:t,spacing:r="0.5rem",children:i=H.createElement(g4,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:o,...a}=n,l=EA("chakra-button__spinner",s),c=t==="start"?"marginEnd":"marginStart",d=T.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[c]:e?r:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,c,r]);return H.createElement(At.div,{className:l,...a,__css:d},i)}kk.displayName="ButtonSpinner";function Bpe(n){const[e,t]=T.useState(!n);return{ref:T.useCallback(s=>{s&&t(s.tagName==="BUTTON")},[]),type:e?"button":void 0}}var wt=Et((n,e)=>{const t=Dpe(),r=la("Button",{...t,...n}),{isDisabled:i=t==null?void 0:t.isDisabled,isLoading:s,isActive:o,children:a,leftIcon:l,rightIcon:c,loadingText:d,iconSpacing:u="0.5rem",type:f,spinner:h,spinnerPlacement:g="start",className:v,as:x,...y}=oi(n),_=T.useMemo(()=>{const k={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!t&&{_focus:k}}},[r,t]),{ref:b,type:A}=Bpe(x),E={rightIcon:c,leftIcon:l,iconSpacing:u,children:a};return H.createElement(At.button,{disabled:i||s,ref:Rce(e,b),as:x,type:f??A,"data-active":t6(o),"data-loading":t6(s),__css:_,className:EA("chakra-button",v),...y},s&&g==="start"&&H.createElement(kk,{className:"chakra-button__spinner--start",label:d,placement:"start",spacing:u},h),s?d||H.createElement(At.span,{opacity:0},H.createElement(n6,{...E})):H.createElement(n6,{...E}),s&&g==="end"&&H.createElement(kk,{className:"chakra-button__spinner--end",label:d,placement:"end",spacing:u},h))});wt.displayName="Button";function n6(n){const{leftIcon:e,rightIcon:t,children:r,iconSpacing:i}=n;return H.createElement(H.Fragment,null,e&&H.createElement(Tk,{marginEnd:i},e),r,t&&H.createElement(Tk,{marginStart:i},t))}var Fpe=Et(function(e,t){const{size:r,colorScheme:i,variant:s,className:o,spacing:a="0.5rem",isAttached:l,isDisabled:c,...d}=e,u=EA("chakra-button__group",o),f=T.useMemo(()=>({size:r,colorScheme:i,variant:s,isDisabled:c}),[r,i,s,c]);let h={display:"inline-flex"};return l?h={...h,"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}:h={...h,"& > *:not(style) ~ *:not(style)":{marginStart:a}},H.createElement(Npe,{value:f},H.createElement(At.div,{ref:t,role:"group",__css:h,className:u,"data-attached":l?"":void 0,...d}))});Fpe.displayName="ButtonGroup";var zpe=Et((n,e)=>{const{icon:t,children:r,isRound:i,"aria-label":s,...o}=n,a=t||r,l=T.isValidElement(a)?T.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return H.createElement(wt,{padding:"0",borderRadius:i?"full":void 0,ref:e,"aria-label":s,...o},l)});zpe.displayName="IconButton";var q0=(...n)=>n.filter(Boolean).join(" "),q_=n=>n?"":void 0,fC=n=>n?!0:void 0;function r6(...n){return function(t){n.some(r=>(r==null||r(t),t==null?void 0:t.defaultPrevented))}}var[Vpe,n$]=Dl({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[Upe,ep]=Dl({strict:!1,name:"FormControlContext"});function Hpe(n){const{id:e,isRequired:t,isInvalid:r,isDisabled:i,isReadOnly:s,...o}=n,a=T.useId(),l=e||`field-${a}`,c=`${l}-label`,d=`${l}-feedback`,u=`${l}-helptext`,[f,h]=T.useState(!1),[g,v]=T.useState(!1),[x,y]=T.useState(!1),_=T.useCallback((P={},C=null)=>({id:u,...P,ref:PS(C,O=>{O&&v(!0)})}),[u]),b=T.useCallback((P={},C=null)=>({...P,ref:C,"data-focus":q_(x),"data-disabled":q_(i),"data-invalid":q_(r),"data-readonly":q_(s),id:P.id??c,htmlFor:P.htmlFor??l}),[l,i,x,r,s,c]),A=T.useCallback((P={},C=null)=>({id:d,...P,ref:PS(C,O=>{O&&h(!0)}),"aria-live":"polite"}),[d]),E=T.useCallback((P={},C=null)=>({...P,...o,ref:C,role:"group"}),[o]),k=T.useCallback((P={},C=null)=>({...P,ref:C,role:"presentation","aria-hidden":!0,children:P.children||"*"}),[]);return{isRequired:!!t,isInvalid:!!r,isReadOnly:!!s,isDisabled:!!i,isFocused:!!x,onFocus:()=>y(!0),onBlur:()=>y(!1),hasFeedbackText:f,setHasFeedbackText:h,hasHelpText:g,setHasHelpText:v,id:l,labelId:c,feedbackId:d,helpTextId:u,htmlProps:o,getHelpTextProps:_,getErrorMessageProps:A,getRootProps:E,getLabelProps:b,getRequiredIndicatorProps:k}}var Gpe=Et(function(e,t){const r=pf("Form",e),i=oi(e),{getRootProps:s,htmlProps:o,...a}=Hpe(i),l=q0("chakra-form-control",e.className);return H.createElement(Upe,{value:a},H.createElement(Vpe,{value:r},H.createElement(At.div,{...s({},t),className:l,__css:r.container})))});Gpe.displayName="FormControl";var $pe=Et(function(e,t){const r=ep(),i=n$(),s=q0("chakra-form__helper-text",e.className);return H.createElement(At.div,{...r==null?void 0:r.getHelpTextProps(e,t),__css:i.helperText,className:s})});$pe.displayName="FormHelperText";function r$(n){const{isDisabled:e,isInvalid:t,isReadOnly:r,isRequired:i,...s}=Wpe(n);return{...s,disabled:e,readOnly:r,required:i,"aria-invalid":fC(t),"aria-required":fC(i),"aria-readonly":fC(r)}}function Wpe(n){const e=ep(),{id:t,disabled:r,readOnly:i,required:s,isRequired:o,isInvalid:a,isReadOnly:l,isDisabled:c,onFocus:d,onBlur:u,...f}=n,h=n["aria-describedby"]?[n["aria-describedby"]]:[];return e!=null&&e.hasFeedbackText&&(e!=null&&e.isInvalid)&&h.push(e.feedbackId),e!=null&&e.hasHelpText&&h.push(e.helpTextId),{...f,"aria-describedby":h.join(" ")||void 0,id:t??(e==null?void 0:e.id),isDisabled:r??c??(e==null?void 0:e.isDisabled),isReadOnly:i??l??(e==null?void 0:e.isReadOnly),isRequired:s??o??(e==null?void 0:e.isRequired),isInvalid:a??(e==null?void 0:e.isInvalid),onFocus:r6(e==null?void 0:e.onFocus,d),onBlur:r6(e==null?void 0:e.onBlur,u)}}var[jpe,qpe]=Dl({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),Ype=Et((n,e)=>{const t=pf("FormError",n),r=oi(n),i=ep();return i!=null&&i.isInvalid?H.createElement(jpe,{value:t},H.createElement(At.div,{...i==null?void 0:i.getErrorMessageProps(r,e),className:q0("chakra-form__error-message",n.className),__css:{display:"flex",alignItems:"center",...t.text}})):null});Ype.displayName="FormErrorMessage";var Xpe=Et((n,e)=>{const t=qpe(),r=ep();if(!(r!=null&&r.isInvalid))return null;const i=q0("chakra-form__error-icon",n.className);return H.createElement(mf,{ref:e,"aria-hidden":!0,...n,__css:t.icon,className:i},H.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))});Xpe.displayName="FormErrorIcon";var en=Et(function(e,t){const r=la("FormLabel",e),i=oi(e),{className:s,children:o,requiredIndicator:a=H.createElement(i$,null),optionalIndicator:l=null,...c}=i,d=ep(),u=(d==null?void 0:d.getLabelProps(c,t))??{ref:t,...c};return H.createElement(At.label,{...u,className:q0("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...r}},o,d!=null&&d.isRequired?a:l)});en.displayName="FormLabel";var i$=Et(function(e,t){const r=ep(),i=n$();if(!(r!=null&&r.isRequired))return null;const s=q0("chakra-form__required-indicator",e.className);return H.createElement(At.span,{...r==null?void 0:r.getRequiredIndicatorProps(e,t),__css:i.requiredIndicator,className:s})});i$.displayName="RequiredIndicator";function i6(n,e){const t=T.useRef(!1),r=T.useRef(!1);T.useEffect(()=>{if(t.current&&r.current)return n();r.current=!0},e),T.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[])}var s6=!1,MA=null,y0=!1,Rk=new Set,Kpe=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function Zpe(n){return!(n.metaKey||!Kpe&&n.altKey||n.ctrlKey)}function x4(n,e){Rk.forEach(t=>t(n,e))}function o6(n){y0=!0,Zpe(n)&&(MA="keyboard",x4("keyboard",n))}function kp(n){MA="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(y0=!0,x4("pointer",n))}function Jpe(n){n.target===window||n.target===document||(y0||(MA="keyboard",x4("keyboard",n)),y0=!1)}function Qpe(){y0=!1}function a6(){return MA!=="pointer"}function eme(){if(typeof window>"u"||s6)return;const{focus:n}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...t){y0=!0,n.apply(this,t)},document.addEventListener("keydown",o6,!0),document.addEventListener("keyup",o6,!0),window.addEventListener("focus",Jpe,!0),window.addEventListener("blur",Qpe,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",kp,!0),document.addEventListener("pointermove",kp,!0),document.addEventListener("pointerup",kp,!0)):(document.addEventListener("mousedown",kp,!0),document.addEventListener("mousemove",kp,!0),document.addEventListener("mouseup",kp,!0)),s6=!0}function tme(n){eme(),n(a6());const e=()=>n(a6());return Rk.add(e),()=>{Rk.delete(e)}}function nme(n){return H.createElement(mf,{focusable:"false","aria-hidden":!0,...n},H.createElement("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}))}var s$=Et(function(e,t){const r=la("CloseButton",e),{children:i,isDisabled:s,__css:o,...a}=oi(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return H.createElement(At.button,{type:"button","aria-label":"Close",ref:t,disabled:s,__css:{...l,...r,...o},...a},i||H.createElement(nme,{width:"1em",height:"1em"}))});s$.displayName="CloseButton";var o$=`
  :root {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root {
      --chakra-vh: 100dvh;
    }
  }
`,rme=()=>H.createElement(dA,{styles:o$}),ime=()=>H.createElement(dA,{styles:`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        font-feature-settings: 'kern';
      }

      *,
      *::before,
      *::after {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
      }

      main {
        display: block;
      }

      hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      pre,
      code,
      kbd,
      samp {
        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      b,
      strong {
        font-weight: bold;
      }

      small {
        font-size: 80%;
      }

      sub,
      sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      sub {
        bottom: -0.25em;
      }

      sup {
        top: -0.5em;
      }

      img {
        border-style: none;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      button,
      input {
        overflow: visible;
      }

      button,
      select {
        text-transform: none;
      }

      button::-moz-focus-inner,
      [type="button"]::-moz-focus-inner,
      [type="reset"]::-moz-focus-inner,
      [type="submit"]::-moz-focus-inner {
        border-style: none;
        padding: 0;
      }

      fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      progress {
        vertical-align: baseline;
      }

      textarea {
        overflow: auto;
      }

      [type="checkbox"],
      [type="radio"] {
        box-sizing: border-box;
        padding: 0;
      }

      [type="number"]::-webkit-inner-spin-button,
      [type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      input[type="number"] {
        -moz-appearance: textfield;
      }

      [type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      [type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      details {
        display: block;
      }

      summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      body,
      blockquote,
      dl,
      dd,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      hr,
      figure,
      p,
      pre {
        margin: 0;
      }

      button {
        background: transparent;
        padding: 0;
      }

      fieldset {
        margin: 0;
        padding: 0;
      }

      ol,
      ul {
        margin: 0;
        padding: 0;
      }

      textarea {
        resize: vertical;
      }

      button,
      [role="button"] {
        cursor: pointer;
      }

      button::-moz-focus-inner {
        border: 0 !important;
      }

      table {
        border-collapse: collapse;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-size: inherit;
        font-weight: inherit;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      img,
      svg,
      video,
      canvas,
      audio,
      iframe,
      embed,
      object {
        display: block;
      }

      img,
      video {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible] :focus:not([data-focus-visible-added]):not([data-focus-visible-disabled]) {
        outline: none;
        box-shadow: none;
      }

      select::-ms-expand {
        display: none;
      }

      ${o$}
    `});function _4(n){const e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}var ft=Et(function(e,t){const{htmlSize:r,...i}=e,s=pf("Input",i),o=oi(i),a=r$(o),l=ai("chakra-input",e.className);return H.createElement(At.input,{size:r,...a,__css:s.field,ref:t,className:l})});ft.displayName="Input";ft.id="Input";var[sme,a$]=Dl({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),ome=Et(function(e,t){const r=pf("Input",e),{children:i,className:s,...o}=oi(e),a=ai("chakra-input__group",s),l={},c=y4(i),d=r.field;c.forEach(f=>{r&&(d&&f.type.id==="InputLeftElement"&&(l.paddingStart=d.height??d.h),d&&f.type.id==="InputRightElement"&&(l.paddingEnd=d.height??d.h),f.type.id==="InputRightAddon"&&(l.borderEndRadius=0),f.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const u=c.map(f=>{var h,g;const v=_4({size:((h=f.props)==null?void 0:h.size)||e.size,variant:((g=f.props)==null?void 0:g.variant)||e.variant});return f.type.id!=="Input"?T.cloneElement(f,v):T.cloneElement(f,Object.assign(v,l,f.props))});return H.createElement(At.div,{className:a,ref:t,__css:{width:"100%",display:"flex",position:"relative"},...o},H.createElement(sme,{value:r},u))});ome.displayName="InputGroup";var ame={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},lme=At("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),b4=Et(function(e,t){const{placement:r="left",...i}=e,s=ame[r]??{},o=a$();return H.createElement(lme,{ref:t,...i,__css:{...o.addon,...s}})});b4.displayName="InputAddon";var l$=Et(function(e,t){return H.createElement(b4,{ref:t,placement:"left",...e,className:ai("chakra-input__left-addon",e.className)})});l$.displayName="InputLeftAddon";l$.id="InputLeftAddon";var c$=Et(function(e,t){return H.createElement(b4,{ref:t,placement:"right",...e,className:ai("chakra-input__right-addon",e.className)})});c$.displayName="InputRightAddon";c$.id="InputRightAddon";var cme=At("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),CA=Et(function(e,t){const{placement:r="left",...i}=e,s=a$(),o=s.field,l={[r==="left"?"insetStart":"insetEnd"]:"0",width:(o==null?void 0:o.height)??(o==null?void 0:o.h),height:(o==null?void 0:o.height)??(o==null?void 0:o.h),fontSize:o==null?void 0:o.fontSize,...s.element};return H.createElement(cme,{ref:t,__css:l,...i})});CA.id="InputElement";CA.displayName="InputElement";var u$=Et(function(e,t){const{className:r,...i}=e,s=ai("chakra-input__left-element",r);return H.createElement(CA,{ref:t,placement:"left",className:s,...i})});u$.id="InputLeftElement";u$.displayName="InputLeftElement";var d$=Et(function(e,t){const{className:r,...i}=e,s=ai("chakra-input__right-element",r);return H.createElement(CA,{ref:t,placement:"right",className:s,...i})});d$.id="InputRightElement";d$.displayName="InputRightElement";function ume(n){const e=typeof n;return n!=null&&(e==="object"||e==="function")&&!Array.isArray(n)}function Xd(n,e){return Array.isArray(n)?n.map(t=>t===null?null:e(t)):ume(n)?Object.keys(n).reduce((t,r)=>(t[r]=e(n[r]),t),{}):n!=null?e(n):null}var dme=Et(function(n,e){const{ratio:t=4/3,children:r,className:i,...s}=n,o=T.Children.only(r),a=ai("chakra-aspect-ratio",i);return H.createElement(At.div,{ref:e,position:"relative",className:a,_before:{height:0,content:'""',display:"block",paddingBottom:Xd(t,l=>`${1/l*100}%`)},__css:{"& > *:not(style)":{overflow:"hidden",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"& > img, & > video":{objectFit:"cover"}},...s},o)});dme.displayName="AspectRatio";var fme=Et(function(e,t){const r=la("Badge",e),{className:i,...s}=oi(e);return H.createElement(At.span,{ref:t,className:ai("chakra-badge",e.className),...s,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});fme.displayName="Badge";var Ve=At("div");Ve.displayName="Box";var f$=Et(function(e,t){const{size:r,centerContent:i=!0,...s}=e,o=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return H.createElement(Ve,{ref:t,boxSize:r,__css:{...o,flexShrink:0,flexGrow:0},...s})});f$.displayName="Square";var hme=Et(function(e,t){const{size:r,...i}=e;return H.createElement(f$,{size:r,ref:t,borderRadius:"9999px",...i})});hme.displayName="Circle";var Kd=At("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Kd.displayName="Center";var pme={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};Et(function(e,t){const{axis:r="both",...i}=e;return H.createElement(At.div,{ref:t,__css:pme[r],...i,position:"absolute"})});var mme=Et(function(e,t){const r=la("Code",e),{className:i,...s}=oi(e);return H.createElement(At.code,{ref:t,className:ai("chakra-code",e.className),...s,__css:{display:"inline-block",...r}})});mme.displayName="Code";var gme=Et(function(e,t){const{className:r,centerContent:i,...s}=oi(e),o=la("Container",e);return H.createElement(At.div,{ref:t,className:ai("chakra-container",r),...s,__css:{...o,...i&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});gme.displayName="Container";var vme=Et(function(e,t){const{borderLeftWidth:r,borderBottomWidth:i,borderTopWidth:s,borderRightWidth:o,borderWidth:a,borderStyle:l,borderColor:c,...d}=la("Divider",e),{className:u,orientation:f="horizontal",__css:h,...g}=oi(e),v={vertical:{borderLeftWidth:r||o||a||"1px",height:"100%"},horizontal:{borderBottomWidth:i||s||a||"1px",width:"100%"}};return H.createElement(At.hr,{ref:t,"aria-orientation":f,...g,__css:{...d,border:"0",borderColor:c,borderStyle:l,...v[f],...h},className:ai("chakra-divider",u)})});vme.displayName="Divider";var Iu=Et(function(e,t){const{direction:r,align:i,justify:s,wrap:o,basis:a,grow:l,shrink:c,...d}=e,u={display:"flex",flexDirection:r,alignItems:i,justifyContent:s,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:c};return H.createElement(At.div,{ref:t,__css:u,...d})});Iu.displayName="Flex";var h$=Et(function(e,t){const{templateAreas:r,gap:i,rowGap:s,columnGap:o,column:a,row:l,autoFlow:c,autoRows:d,templateRows:u,autoColumns:f,templateColumns:h,...g}=e,v={display:"grid",gridTemplateAreas:r,gridGap:i,gridRowGap:s,gridColumnGap:o,gridAutoColumns:f,gridColumn:a,gridRow:l,gridAutoFlow:c,gridAutoRows:d,gridTemplateRows:u,gridTemplateColumns:h};return H.createElement(At.div,{ref:t,__css:v,...g})});h$.displayName="Grid";function l6(n){return Xd(n,e=>e==="auto"?"auto":`span ${e}/span ${e}`)}var yme=Et(function(e,t){const{area:r,colSpan:i,colStart:s,colEnd:o,rowEnd:a,rowSpan:l,rowStart:c,...d}=e,u=_4({gridArea:r,gridColumn:l6(i),gridRow:l6(l),gridColumnStart:s,gridColumnEnd:o,gridRowStart:c,gridRowEnd:a});return H.createElement(At.div,{ref:t,__css:u,...d})});yme.displayName="GridItem";var xme=Et(function(e,t){const r=la("Heading",e),{className:i,...s}=oi(e);return H.createElement(At.h2,{ref:t,className:ai("chakra-heading",e.className),...s,__css:r})});xme.displayName="Heading";Et(function(e,t){const r=la("Mark",e),i=oi(e);return H.createElement(Ve,{ref:t,...i,as:"mark",__css:{bg:"transparent",whiteSpace:"nowrap",...r}})});var _me=Et(function(e,t){const r=la("Kbd",e),{className:i,...s}=oi(e);return H.createElement(At.kbd,{ref:t,className:ai("chakra-kbd",i),...s,__css:{fontFamily:"mono",...r}})});_me.displayName="Kbd";var bme=Et(function(e,t){const r=la("Link",e),{className:i,isExternal:s,...o}=oi(e);return H.createElement(At.a,{target:s?"_blank":void 0,rel:s?"noopener":void 0,ref:t,className:ai("chakra-link",i),...o,__css:r})});bme.displayName="Link";Et(function(e,t){const{isExternal:r,target:i,rel:s,className:o,...a}=e;return H.createElement(At.a,{...a,ref:t,className:ai("chakra-linkbox__overlay",o),rel:r?"noopener noreferrer":s,target:r?"_blank":i,__css:{position:"static","&::before":{content:"''",cursor:"inherit",display:"block",position:"absolute",top:0,left:0,zIndex:0,width:"100%",height:"100%"}}})});Et(function(e,t){const{className:r,...i}=e;return H.createElement(At.div,{ref:t,position:"relative",...i,className:ai("chakra-linkbox",r),__css:{"a[href]:not(.chakra-linkbox__overlay), abbr[title]":{position:"relative",zIndex:1}}})});var[wme,p$]=Dl({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),w4=Et(function(e,t){const r=pf("List",e),{children:i,styleType:s="none",stylePosition:o,spacing:a,...l}=oi(e),c=y4(i),u=a?{["& > *:not(style) ~ *:not(style)"]:{mt:a}}:{};return H.createElement(wme,{value:r},H.createElement(At.ul,{ref:t,listStyleType:s,listStylePosition:o,role:"list",__css:{...r.container,...u},...l},c))});w4.displayName="List";var Sme=Et((n,e)=>{const{as:t,...r}=n;return H.createElement(w4,{ref:e,as:"ol",styleType:"decimal",marginStart:"1em",...r})});Sme.displayName="OrderedList";var Ame=Et(function(e,t){const{as:r,...i}=e;return H.createElement(w4,{ref:t,as:"ul",styleType:"initial",marginStart:"1em",...i})});Ame.displayName="UnorderedList";var Eme=Et(function(e,t){const r=p$();return H.createElement(At.li,{ref:t,...e,__css:r.item})});Eme.displayName="ListItem";var Mme=Et(function(e,t){const r=p$();return H.createElement(mf,{ref:t,role:"presentation",...e,__css:r.icon})});Mme.displayName="ListIcon";var Cme=Et(function(e,t){const{columns:r,spacingX:i,spacingY:s,spacing:o,minChildWidth:a,...l}=e,c=xH(),d=a?kme(a,c):Rme(r);return H.createElement(h$,{ref:t,gap:o,columnGap:i,rowGap:s,templateColumns:d,...l})});Cme.displayName="SimpleGrid";function Tme(n){return typeof n=="number"?`${n}px`:n}function kme(n,e){return Xd(n,t=>{const r=xce("sizes",t,Tme(t))(e);return t===null?null:`repeat(auto-fit, minmax(${r}, 1fr))`})}function Rme(n){return Xd(n,e=>e===null?null:`repeat(${e}, minmax(0, 1fr))`)}var fr=At("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});fr.displayName="Spacer";var Pk="& > *:not(style) ~ *:not(style)";function Pme(n){const{spacing:e,direction:t}=n,r={column:{marginTop:e,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:e},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:e,marginStart:0},"row-reverse":{marginTop:0,marginEnd:e,marginBottom:0,marginStart:0}};return{flexDirection:t,[Pk]:Xd(t,i=>r[i])}}function Ime(n){const{spacing:e,direction:t}=n,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":Xd(t,i=>r[i])}}var m$=n=>H.createElement(At.div,{className:"chakra-stack__item",...n,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...n.__css}});m$.displayName="StackItem";var rr=Et((n,e)=>{const{isInline:t,direction:r,align:i,justify:s,spacing:o="0.5rem",wrap:a,children:l,divider:c,className:d,shouldWrapChildren:u,...f}=n,h=t?"row":r??"column",g=T.useMemo(()=>Pme({direction:h,spacing:o}),[h,o]),v=T.useMemo(()=>Ime({spacing:o,direction:h}),[o,h]),x=!!c,y=!u&&!x,_=T.useMemo(()=>{const A=y4(l);return y?A:A.map((E,k)=>{const P=typeof E.key<"u"?E.key:k,C=k+1===A.length,U=u?H.createElement(m$,{key:P},E):E;if(!x)return U;const K=T.cloneElement(c,{__css:v}),J=C?null:K;return H.createElement(T.Fragment,{key:P},U,J)})},[c,v,x,y,u,l]),b=ai("chakra-stack",d);return H.createElement(At.div,{ref:e,display:"flex",alignItems:i,justifyContent:s,flexDirection:g.flexDirection,flexWrap:a,className:b,__css:x?{}:{[Pk]:g[Pk]},...f},_)});rr.displayName="Stack";var Eo=Et((n,e)=>H.createElement(rr,{align:"center",...n,direction:"row",ref:e}));Eo.displayName="HStack";var Lme=Et((n,e)=>H.createElement(rr,{align:"center",...n,direction:"column",ref:e}));Lme.displayName="VStack";var Ge=Et(function(e,t){const r=la("Text",e),{className:i,align:s,decoration:o,casing:a,...l}=oi(e),c=_4({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return H.createElement(At.p,{ref:t,className:ai("chakra-text",e.className),...c,...l,__css:r})});Ge.displayName="Text";function c6(n){return typeof n=="number"?`${n}px`:n}var Ome=Et(function(e,t){const{spacing:r="0.5rem",spacingX:i,spacingY:s,children:o,justify:a,direction:l,align:c,className:d,shouldWrapChildren:u,...f}=e,h=T.useMemo(()=>{const{spacingX:v=r,spacingY:x=r}={spacingX:i,spacingY:s};return{"--chakra-wrap-x-spacing":y=>Xd(v,_=>c6(q3("space",_)(y))),"--chakra-wrap-y-spacing":y=>Xd(x,_=>c6(q3("space",_)(y))),"--wrap-x-spacing":"calc(var(--chakra-wrap-x-spacing) / 2)","--wrap-y-spacing":"calc(var(--chakra-wrap-y-spacing) / 2)",display:"flex",flexWrap:"wrap",justifyContent:a,alignItems:c,flexDirection:l,listStyleType:"none",padding:"0",margin:"calc(var(--wrap-y-spacing) * -1) calc(var(--wrap-x-spacing) * -1)","& > *:not(style)":{margin:"var(--wrap-y-spacing) var(--wrap-x-spacing)"}}},[r,i,s,a,c,l]),g=T.useMemo(()=>u?T.Children.map(o,(v,x)=>H.createElement(g$,{key:x},v)):o,[o,u]);return H.createElement(At.div,{ref:t,className:ai("chakra-wrap",d),overflow:"hidden",...f},H.createElement(At.ul,{className:"chakra-wrap__list",__css:h},g))});Ome.displayName="Wrap";var g$=Et(function(e,t){const{className:r,...i}=e;return H.createElement(At.li,{ref:t,__css:{display:"flex",alignItems:"flex-start"},className:ai("chakra-wrap__listitem",r),...i})});g$.displayName="WrapItem";var Nme={body:{classList:{add(){},remove(){}}},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}}},v$=Nme,Rp=()=>{},Dme={document:v$,navigator:{userAgent:""},CustomEvent:function(){return this},addEventListener:Rp,removeEventListener:Rp,getComputedStyle(){return{getPropertyValue(){return""}}},matchMedia(){return{matches:!1,addListener:Rp,removeListener:Rp}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)},setTimeout:()=>0,clearTimeout:Rp,setInterval:()=>0,clearInterval:Rp},Bme=Dme,Fme={window:Bme,document:v$},y$=typeof window<"u"?{window,document}:Fme,x$=T.createContext(y$);x$.displayName="EnvironmentContext";function _$(n){const{children:e,environment:t}=n,[r,i]=T.useState(null),[s,o]=T.useState(!1);T.useEffect(()=>o(!0),[]);const a=T.useMemo(()=>{if(t)return t;const l=r==null?void 0:r.ownerDocument,c=r==null?void 0:r.ownerDocument.defaultView;return l?{document:l,window:c}:y$},[r,t]);return H.createElement(x$.Provider,{value:a},e,!t&&s&&H.createElement("span",{id:"__chakra_env",hidden:!0,ref:l=>{T.startTransition(()=>{l&&i(l)})}}))}_$.displayName="EnvironmentProvider";var[zme,Vme]=Dl({strict:!1,name:"PortalManagerContext"});function b$(n){const{children:e,zIndex:t}=n;return H.createElement(zme,{value:{zIndex:t}},e)}b$.displayName="PortalManager";var[w$,Ume]=Dl({strict:!1,name:"PortalContext"}),S4="chakra-portal",Hme=".chakra-portal",Gme=n=>H.createElement("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:n.zIndex,top:0,left:0,right:0}},n.children),$me=n=>{const{appendToParentPortal:e,children:t}=n,[r,i]=T.useState(null),s=T.useRef(null),[,o]=T.useState({});T.useEffect(()=>o({}),[]);const a=Ume(),l=Vme();By(()=>{if(!r)return;const d=r.ownerDocument,u=e?a??d.body:d.body;if(!u)return;s.current=d.createElement("div"),s.current.className=S4,u.appendChild(s.current),o({});const f=s.current;return()=>{u.contains(f)&&u.removeChild(f)}},[r]);const c=l!=null&&l.zIndex?H.createElement(Gme,{zIndex:l==null?void 0:l.zIndex},t):t;return s.current?a0.createPortal(H.createElement(w$,{value:s.current},c),s.current):H.createElement("span",{ref:d=>{d&&i(d)}})},Wme=n=>{const{children:e,containerRef:t,appendToParentPortal:r}=n,i=t.current,s=i??(typeof window<"u"?document.body:void 0),o=T.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=S4),l},[i]),[,a]=T.useState({});return By(()=>a({}),[]),By(()=>{if(!(!o||!s))return s.appendChild(o),()=>{s.removeChild(o)}},[o,s]),s&&o?a0.createPortal(H.createElement(w$,{value:r?o:null},e),o):null};function W1(n){const{containerRef:e,...t}=n;return e?H.createElement(Wme,{containerRef:e,...t}):H.createElement($me,{...t})}W1.defaultProps={appendToParentPortal:!0};W1.className=S4;W1.selector=Hme;W1.displayName="Portal";var Qn={},jme={get exports(){return Qn},set exports(n){Qn=n}},qme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Yme=qme,Xme=Yme;function S$(){}function A$(){}A$.resetWarningCache=S$;var Kme=function(){function n(r,i,s,o,a,l){if(l!==Xme){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:A$,resetWarningCache:S$};return t.PropTypes=t,t};jme.exports=Kme();function Kt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Zme=(...n)=>n.filter(Boolean).join(" ");function u6(n){const e=typeof n;return n!=null&&(e==="object"||e==="function")&&!Array.isArray(n)}var zs=n=>n?"":void 0,hC=n=>n?!0:void 0;function il(...n){return function(t){n.some(r=>(r==null||r(t),t==null?void 0:t.defaultPrevented))}}function Jme(...n){return function(t){n.forEach(r=>{r==null||r(t)})}}function Qme(n,e){const t={},r={};for(const[i,s]of Object.entries(n))e.includes(i)?t[i]=s:r[i]=s;return[t,r]}function e0e(n){return n&&u6(n)&&u6(n.target)}function t0e(n={}){const{onChange:e,value:t,defaultValue:r,name:i,isDisabled:s,isFocusable:o,isNative:a,...l}=n,[c,d]=T.useState(r||""),u=typeof t<"u",f=u?t:c,h=T.useRef(null),g=T.useCallback(()=>{const E=h.current;if(!E)return;let k="input:not(:disabled):checked";const P=E.querySelector(k);if(P){P.focus();return}k="input:not(:disabled)";const C=E.querySelector(k);C==null||C.focus()},[]),x=`radio-${T.useId()}`,y=i||x,_=T.useCallback(E=>{const k=e0e(E)?E.target.value:E;u||d(k),e==null||e(String(k))},[e,u]),b=T.useCallback((E={},k=null)=>({...E,ref:PS(k,h),role:"radiogroup"}),[]),A=T.useCallback((E={},k=null)=>({...E,ref:k,name:y,[a?"checked":"isChecked"]:f!=null?E.value===f:void 0,onChange(C){_(C)},"data-radiogroup":!0}),[a,y,_,f]);return{getRootProps:b,getRadioProps:A,name:y,ref:h,focus:g,setValue:d,value:f,onChange:_,isDisabled:s,isFocusable:o,htmlProps:l}}var[n0e,E$]=Dl({name:"RadioGroupContext",strict:!1}),M$=Et((n,e)=>{const{colorScheme:t,size:r,variant:i,children:s,className:o,isDisabled:a,isFocusable:l,...c}=n,{value:d,onChange:u,getRootProps:f,name:h,htmlProps:g}=t0e(c),v=T.useMemo(()=>({name:h,size:r,onChange:u,colorScheme:t,value:d,variant:i,isDisabled:a,isFocusable:l}),[h,r,u,t,d,i,a,l]);return H.createElement(n0e,{value:v},H.createElement(At.div,{...f(g,e),className:Zme("chakra-radio-group",o)},s))});M$.displayName="RadioGroup";var r0e={border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function i0e(n={}){const{defaultChecked:e,isChecked:t,isFocusable:r,isDisabled:i,isReadOnly:s,isRequired:o,onChange:a,isInvalid:l,name:c,value:d,id:u,"data-radiogroup":f,"aria-describedby":h,...g}=n,v=`radio-${T.useId()}`,x=ep(),_=!!E$()||!!f;let A=!!x&&!_?x.id:v;A=u??A;const E=i??(x==null?void 0:x.isDisabled),k=s??(x==null?void 0:x.isReadOnly),P=o??(x==null?void 0:x.isRequired),C=l??(x==null?void 0:x.isInvalid),[O,U]=T.useState(!1),[K,J]=T.useState(!1),[F,S]=T.useState(!1),[I,D]=T.useState(!1),[$,N]=T.useState(Boolean(e)),G=typeof t<"u",j=G?t:$;T.useEffect(()=>tme(U),[]);const W=T.useCallback(Me=>{if(k||E){Me.preventDefault();return}G||N(Me.target.checked),a==null||a(Me)},[G,E,k,a]),R=T.useCallback(Me=>{Me.key===" "&&D(!0)},[D]),Y=T.useCallback(Me=>{Me.key===" "&&D(!1)},[D]),Ae=T.useCallback((Me={},X=null)=>({...Me,ref:X,"data-active":zs(I),"data-hover":zs(F),"data-disabled":zs(E),"data-invalid":zs(C),"data-checked":zs(j),"data-focus":zs(K),"data-focus-visible":zs(K&&O),"data-readonly":zs(k),"aria-hidden":!0,onMouseDown:il(Me.onMouseDown,()=>D(!0)),onMouseUp:il(Me.onMouseUp,()=>D(!1)),onMouseEnter:il(Me.onMouseEnter,()=>S(!0)),onMouseLeave:il(Me.onMouseLeave,()=>S(!1))}),[I,F,E,C,j,K,k,O]),{onFocus:z,onBlur:Q}=x??{},ve=T.useCallback((Me={},X=null)=>{const ee=E&&!r;return{...Me,id:A,ref:X,type:"radio",name:c,value:d,onChange:il(Me.onChange,W),onBlur:il(Q,Me.onBlur,()=>J(!1)),onFocus:il(z,Me.onFocus,()=>J(!0)),onKeyDown:il(Me.onKeyDown,R),onKeyUp:il(Me.onKeyUp,Y),checked:j,disabled:ee,readOnly:k,required:P,"aria-invalid":hC(C),"aria-disabled":hC(ee),"aria-required":hC(P),"data-readonly":zs(k),"aria-describedby":h,style:r0e}},[E,r,A,c,d,W,Q,z,R,Y,j,k,P,C,h]);return{state:{isInvalid:C,isFocused:K,isChecked:j,isActive:I,isHovered:F,isDisabled:E,isReadOnly:k,isRequired:P},getCheckboxProps:Ae,getInputProps:ve,getLabelProps:(Me={},X=null)=>({...Me,ref:X,onMouseDown:il(Me.onMouseDown,d6),onTouchStart:il(Me.onTouchStart,d6),"data-disabled":zs(E),"data-checked":zs(j),"data-invalid":zs(C)}),getRootProps:(Me,X=null)=>({...Me,ref:X,"data-disabled":zs(E),"data-checked":zs(j),"data-invalid":zs(C)}),htmlProps:g}}function d6(n){n.preventDefault(),n.stopPropagation()}var Ik=Et((n,e)=>{const t=E$(),{onChange:r,value:i}=n,s=pf("Radio",{...t,...n}),o=oi(n),{spacing:a="0.5rem",children:l,isDisabled:c=t==null?void 0:t.isDisabled,isFocusable:d=t==null?void 0:t.isFocusable,inputProps:u,...f}=o;let h=n.isChecked;(t==null?void 0:t.value)!=null&&i!=null&&(h=t.value===i);let g=r;t!=null&&t.onChange&&i!=null&&(g=Jme(t.onChange,r));const v=(n==null?void 0:n.name)??(t==null?void 0:t.name),{getInputProps:x,getCheckboxProps:y,getLabelProps:_,getRootProps:b,htmlProps:A}=i0e({...f,isChecked:h,isFocusable:d,isDisabled:c,onChange:g,name:v}),[E,k]=Qme(A,N7),P=y(k),C=x(u,e),O=_(),U=Object.assign({},E,b()),K={display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative",...s.container},J={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,...s.control},F={userSelect:"none",marginStart:a,...s.label};return H.createElement(At.label,{className:"chakra-radio",...U,__css:K},H.createElement("input",{className:"chakra-radio__input",...C}),H.createElement(At.span,{className:"chakra-radio__control",...P,__css:J}),l&&H.createElement(At.span,{className:"chakra-radio__label",...O,__css:F},l))});Ik.displayName="Radio";var s0e=(...n)=>n.filter(Boolean).join(" "),o0e=n=>n?"":void 0;function a0e(n,e){const t={},r={};for(const[i,s]of Object.entries(n))e.includes(i)?t[i]=s:r[i]=s;return[t,r]}var C$=Et(function(e,t){const{children:r,placeholder:i,className:s,...o}=e;return H.createElement(At.select,{...o,ref:t,className:s0e("chakra-select",s)},i&&H.createElement("option",{value:""},i),r)});C$.displayName="SelectField";var WS=Et((n,e)=>{var t;const r=pf("Select",n),{rootProps:i,placeholder:s,icon:o,color:a,height:l,h:c,minH:d,minHeight:u,iconColor:f,iconSize:h,...g}=oi(n),[v,x]=a0e(g,N7),y=r$(x),_={width:"100%",height:"fit-content",position:"relative",color:a},b={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...(t=r.field)==null?void 0:t._focus}};return H.createElement(At.div,{className:"chakra-select__wrapper",__css:_,...v,...i},H.createElement(C$,{ref:e,height:c??l,minH:d??u,placeholder:s,...y,__css:b},n.children),H.createElement(T$,{"data-disabled":o0e(y.disabled),...(f||a)&&{color:f||a},__css:r.icon,...h&&{fontSize:h}},o))});WS.displayName="Select";var l0e=n=>H.createElement("svg",{viewBox:"0 0 24 24",...n},H.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})),c0e=At("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),T$=n=>{const{children:e=H.createElement(l0e,null),...t}=n,r=T.cloneElement(e,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return H.createElement(c0e,{...t,className:"chakra-select__icon-wrapper"},T.isValidElement(e)?r:null)};T$.displayName="SelectIcon";function u0e(n,e){const t=Pce(n);T.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{t()},e),()=>{r&&window.clearTimeout(r)}},[e,t])}function Lk(n,...e){return d0e(n)?n(...e):n}var d0e=n=>typeof n=="function";function f0e(n,e){const t=n??"bottom",i={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[t];return(i==null?void 0:i[e])??t}var h0e=(n,e)=>n.find(t=>t.id===e);function f6(n,e){const t=k$(n,e),r=t?n[t].findIndex(i=>i.id===e):-1;return{position:t,index:r}}function k$(n,e){for(const[t,r]of Object.entries(n))if(h0e(r,e))return t}function p0e(n){const e=n.includes("right"),t=n.includes("left");let r="center";return e&&(r="flex-end"),t&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function m0e(n){const t=n==="top"||n==="bottom"?"0 auto":void 0,r=n.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=n.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=n.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=n.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:5500,pointerEvents:"none",display:"flex",flexDirection:"column",margin:t,top:r,bottom:i,right:s,left:o}}var g0e={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},ic=v0e(g0e);function v0e(n){let e=n;const t=new Set,r=i=>{e=i(e),t.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(t.add(i),()=>{r(()=>n),t.delete(i)}),removeToast:(i,s)=>{r(o=>({...o,[s]:o[s].filter(a=>a.id!=i)}))},notify:(i,s)=>{const o=y0e(i,s),{position:a,id:l}=o;return r(c=>{const u=a.includes("top")?[o,...c[a]??[]]:[...c[a]??[],o];return{...c,[a]:u}}),l},update:(i,s)=>{i&&r(o=>{const a={...o},{position:l,index:c}=f6(a,i);return l&&c!==-1&&(a[l][c]={...a[l][c],...s,message:R$(s)}),a})},closeAll:({positions:i}={})=>{r(s=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,c)=>(l[c]=s[c].map(d=>({...d,requestClose:!0})),l),{...s}))},close:i=>{r(s=>{const o=k$(s,i);return o?{...s,[o]:s[o].map(a=>a.id==i?{...a,requestClose:!0}:a)}:s})},isActive:i=>Boolean(f6(ic.getState(),i).position)}}var h6=0;function y0e(n,e={}){h6+=1;const t=e.id??h6,r=e.position??"bottom";return{id:t,message:n,position:r,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>ic.removeToast(String(t),r),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var x0e=n=>{const{status:e,variant:t="solid",id:r,title:i,isClosable:s,onClose:o,description:a,icon:l}=n,c=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return H.createElement(ZG,{addRole:!1,status:e,variant:t,id:c==null?void 0:c.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto"},H.createElement(QG,null,l),H.createElement(At.div,{flex:"1",maxWidth:"100%"},i&&H.createElement(e$,{id:c==null?void 0:c.title},i),a&&H.createElement(JG,{id:c==null?void 0:c.description,display:"block"},a)),s&&H.createElement(s$,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1}))};function R$(n={}){const{render:e,toastComponent:t=x0e}=n;return i=>typeof e=="function"?e({...i,...n}):H.createElement(t,{...i,...n})}function _0e(n,e){const t=i=>({...e,...i,position:f0e((i==null?void 0:i.position)??(e==null?void 0:e.position),n)}),r=i=>{const s=t(i),o=R$(s);return ic.notify(o,s)};return r.update=(i,s)=>{ic.update(i,t(s))},r.promise=(i,s)=>{const o=r({...s.loading,status:"loading",duration:null});i.then(a=>r.update(o,{status:"success",duration:5e3,...Lk(s.success,a)})).catch(a=>r.update(o,{status:"error",duration:5e3,...Lk(s.error,a)}))},r.closeAll=ic.closeAll,r.close=ic.close,r.isActive=ic.isActive,r}function b0e(n){const{theme:e}=_H();return T.useMemo(()=>_0e(e.direction,n),[n,e.direction])}var w0e={initial:n=>{const{position:e}=n,t=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[t]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},P$=T.memo(n=>{const{id:e,message:t,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:c=w0e,toastSpacing:d="0.5rem"}=n,[u,f]=T.useState(a),h=rfe();i6(()=>{h||r==null||r()},[h]),i6(()=>{f(a)},[a]);const g=()=>f(null),v=()=>f(a),x=()=>{h&&i()};T.useEffect(()=>{h&&s&&i()},[h,s,i]),u0e(x,u);const y=T.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:d,...l}),[l,d]),_=T.useMemo(()=>p0e(o),[o]);return H.createElement(hpe.li,{layout:!0,className:"chakra-toast",variants:c,initial:"initial",animate:"animate",exit:"exit",onHoverStart:g,onHoverEnd:v,custom:{position:o},style:_},H.createElement(At.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:y},Lk(t,{id:e,onClose:x})))});P$.displayName="ToastComponent";var S0e=n=>{const e=T.useSyncExternalStore(ic.subscribe,ic.getState,ic.getState),{children:t,motionVariants:r,component:i=P$,portalProps:s}=n,a=Object.keys(e).map(l=>{const c=e[l];return H.createElement("ul",{role:"region","aria-live":"polite",key:l,id:`chakra-toast-manager-${l}`,style:m0e(l)},H.createElement(_pe,{initial:!1},c.map(d=>H.createElement(i,{key:d.id,motionVariants:r,...d}))))});return H.createElement(H.Fragment,null,t,H.createElement(W1,{...s},a))},A0e=n=>{const{children:e,colorModeManager:t,portalZIndex:r,resetCSS:i=!0,theme:s={},environment:o,cssVarsRoot:a}=n,l=H.createElement(_$,{environment:o},e);return H.createElement(_ce,{theme:s,cssVarsRoot:a},H.createElement(M7,{colorModeManager:t,options:s.config},i?H.createElement(ime,null):H.createElement(rme,null),H.createElement(wce,null),r?H.createElement(b$,{zIndex:r},l):l))};function hr({children:n,theme:e=dce,toastOptions:t,...r}){return H.createElement(A0e,{theme:e,...r},n,H.createElement(S0e,{...t}))}function I$(...n){return e=>n.forEach(t=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(t,e))}function TA(...n){return T.useCallback(I$(...n),n)}const A4=T.forwardRef((n,e)=>{const{children:t,...r}=n;return T.Children.toArray(t).some(p6)?T.createElement(T.Fragment,null,T.Children.map(t,i=>p6(i)?T.createElement(Ok,yr({},r,{ref:e}),i.props.children):i)):T.createElement(Ok,yr({},r,{ref:e}),t)});A4.displayName="Slot";const Ok=T.forwardRef((n,e)=>{const{children:t,...r}=n;return T.isValidElement(t)?T.cloneElement(t,{...E0e(r,t.props),ref:I$(e,t.ref)}):T.Children.count(t)>1?T.Children.only(null):null});Ok.displayName="SlotClone";const L$=({children:n})=>T.createElement(T.Fragment,null,n);function p6(n){return T.isValidElement(n)&&n.type===L$}function E0e(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?t[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}const M0e=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((n,e)=>({...n,[e]:T.forwardRef((t,r)=>{const{asChild:i,...s}=t,o=i?A4:e;return T.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),T.createElement(o,yr({},s,{ref:r}))})}),{}),Jy=Boolean(globalThis==null?void 0:globalThis.document)?T.useLayoutEffect:()=>{},C0e=T.forwardRef((n,e)=>{var t,r;const{containerRef:i,style:s,...o}=n,a=(t=i==null?void 0:i.current)!==null&&t!==void 0?t:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=T.useState({});return Jy(()=>{l({})},[]),a?kP.createPortal(T.createElement(M0e.div,yr({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),T0e=C0e;var m6=Object.prototype.hasOwnProperty;function Qy(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Qy(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(m6.call(n,t)&&++r&&!m6.call(e,t)||!(t in e)||!Qy(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function j1(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}var kA=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};kA.prototype._test=function(e){var t=this.fn;try{Km(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return Km(this.modifiers.slice(),t,this)(e)}catch{return!1}};kA.prototype._check=function(e){try{Km(this.modifiers.slice(),this.fn,this)(e)}catch{if(Km(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Km(this.modifiers.slice(),this.fn,this)(e))throw null};kA.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){N$(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function O$(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Km(n,e,t){if(n.length){var r=n.shift(),i=Km(n,e,t);return r.perform(i,t)}else return O$(e)}function N$(n,e,t){if(n.length){var r=n.shift(),i=N$(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(O$(e,"async")(s))}}var k0e=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},E4=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),Ac=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};Ac.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new kA(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};Ac.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new k0e(t,e.simple,e.async)),this};Ac.prototype._clone=function(){return new Ac(this.chain.slice(),this.nextRuleModifiers.slice())};Ac.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};Ac.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new E4(r,e,i))}}),t};Ac.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new E4(t,e,r)}})};Ac.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){D$(e,t.chain.slice(),r,i)})};function D$(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){D$(n,e,t,r)},function(s){r(new E4(i,n,s))})}else t(n)}var g6=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function R0e(n,e){return e===void 0&&(e=!1),{simple:function(t){return g6(t,e)||n.check(t)===void 0},async:function(t){return g6(t,e)||n.testAsync(t)}}}function mo(){return typeof Proxy<"u"?B$(new Ac):Nk(new Ac)}var e1={};mo.extend=function(n){Object.assign(e1,n)};mo.clearCustomRules=function(){e1={}};function B$(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=B$(n._clone());if(r in jS)return i._applyModifier(jS[r],r);if(r in e1)return i._applyRule(e1[r],r);if(r in Dk)return i._applyRule(Dk[r],r)}})}function Nk(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=Nk(s._clone()),d=c._applyRule(i[o],o).apply(void 0,a);return d}}),s},t=e(Dk,n),r=e(e1,t);return Object.keys(jS).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=Nk(r._clone());return s._applyModifier(jS[i],i)}})}),r}var jS={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return Y_(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(Y_(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&Y_(e).every(n)}},async:function(n){return function(e){return Promise.all(Y_(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return v6(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return v6(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function v6(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function Y_(n){return typeof n=="string"?n.split(""):n}var Dk={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||P0e;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return Pp("string")},boolean:function(){return Pp("boolean")},undefined:function(){return Pp("undefined")},null:function(){return Pp("null")},array:function(){return Pp("array")},object:function(){return Pp("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return I0e(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:R0e};function Pp(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function P0e(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function I0e(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var Jn="colors",Vs="sizes",xt="space",L0e={gap:xt,gridGap:xt,columnGap:xt,gridColumnGap:xt,rowGap:xt,gridRowGap:xt,inset:xt,insetBlock:xt,insetBlockEnd:xt,insetBlockStart:xt,insetInline:xt,insetInlineEnd:xt,insetInlineStart:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,marginBlock:xt,marginBlockEnd:xt,marginBlockStart:xt,marginInline:xt,marginInlineEnd:xt,marginInlineStart:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,paddingBlock:xt,paddingBlockEnd:xt,paddingBlockStart:xt,paddingInline:xt,paddingInlineEnd:xt,paddingInlineStart:xt,top:xt,right:xt,bottom:xt,left:xt,scrollMargin:xt,scrollMarginTop:xt,scrollMarginRight:xt,scrollMarginBottom:xt,scrollMarginLeft:xt,scrollMarginX:xt,scrollMarginY:xt,scrollMarginBlock:xt,scrollMarginBlockEnd:xt,scrollMarginBlockStart:xt,scrollMarginInline:xt,scrollMarginInlineEnd:xt,scrollMarginInlineStart:xt,scrollPadding:xt,scrollPaddingTop:xt,scrollPaddingRight:xt,scrollPaddingBottom:xt,scrollPaddingLeft:xt,scrollPaddingX:xt,scrollPaddingY:xt,scrollPaddingBlock:xt,scrollPaddingBlockEnd:xt,scrollPaddingBlockStart:xt,scrollPaddingInline:xt,scrollPaddingInlineEnd:xt,scrollPaddingInlineStart:xt,fontSize:"fontSizes",background:Jn,backgroundColor:Jn,backgroundImage:Jn,borderImage:Jn,border:Jn,borderBlock:Jn,borderBlockEnd:Jn,borderBlockStart:Jn,borderBottom:Jn,borderBottomColor:Jn,borderColor:Jn,borderInline:Jn,borderInlineEnd:Jn,borderInlineStart:Jn,borderLeft:Jn,borderLeftColor:Jn,borderRight:Jn,borderRightColor:Jn,borderTop:Jn,borderTopColor:Jn,caretColor:Jn,color:Jn,columnRuleColor:Jn,fill:Jn,outline:Jn,outlineColor:Jn,stroke:Jn,textDecorationColor:Jn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Vs,minBlockSize:Vs,maxBlockSize:Vs,inlineSize:Vs,minInlineSize:Vs,maxInlineSize:Vs,width:Vs,minWidth:Vs,maxWidth:Vs,height:Vs,minHeight:Vs,maxHeight:Vs,flexBasis:Vs,gridTemplateColumns:Vs,gridTemplateRows:Vs,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},O0e=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Y0=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,O0e))(e);return i in n?n[i]:n[i]=t(e,...r)}},Mh=Symbol.for("sxs.internal"),M4=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),y6=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:N0e}=Object.prototype,Bk=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),D0e=/\s+(?![^()]*\))/,Ip=n=>e=>n(...typeof e=="string"?String(e).split(D0e):[e]),x6={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:Ip((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:Ip((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:Ip((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:Ip((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:Ip((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:Ip((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},pC=/([\d.]+)([^]*)/,B0e=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,F0e=(n,e)=>n in z0e&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${Bk(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${Bk(n)}:${r}fit-content`)+s):String(e),z0e={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Su=n=>n?n+"-":"",F$=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Su(e)+(a.includes("$")?"":Su(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),V0e=/\s*,\s*(?![^()]*\))/,U0e=Object.prototype.toString,Sm=(n,e,t,r,i)=>{let s,o,a;const l=(c,d,u)=>{let f,h;const g=v=>{for(f in v){const _=f.charCodeAt(0)===64,b=_&&Array.isArray(v[f])?v[f]:[v[f]];for(h of b){const A=/[A-Z]/.test(y=f)?y:y.replace(/-[^]/g,k=>k[1].toUpperCase()),E=typeof h=="object"&&h&&h.toString===U0e&&(!r.utils[A]||!d.length);if(A in r.utils&&!E){const k=r.utils[A];if(k!==o){o=k,g(k(h)),o=null;continue}}else if(A in x6){const k=x6[A];if(k!==a){a=k,g(k(h)),a=null;continue}}if(_&&(x=f.slice(1)in r.media?"@media "+r.media[f.slice(1)]:f,f=x.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(k,P,C,O,U,K)=>{const J=pC.test(P),F=.0625*(J?-1:1),[S,I]=J?[O,P]:[P,O];return"("+(C[0]==="="?"":C[0]===">"===J?"max-":"min-")+S+":"+(C[0]!=="="&&C.length===1?I.replace(pC,(D,$,N)=>Number($)+F*(C===">"?1:-1)+N):I)+(U?") and ("+(U[0]===">"?"min-":"max-")+S+":"+(U.length===1?K.replace(pC,(D,$,N)=>Number($)+F*(U===">"?-1:1)+N):K):"")+")"})),E){const k=_?u.concat(f):[...u],P=_?[...d]:B0e(d,f.split(V0e));s!==void 0&&i(_6(...s)),s=void 0,l(h,P,k)}else s===void 0&&(s=[[],d,u]),f=_||f.charCodeAt(0)!==36?f:`--${Su(r.prefix)}${f.slice(1).replace(/\$/g,"-")}`,h=E?h:typeof h=="number"?h&&A in H0e?String(h)+"px":String(h):F$(F0e(A,h??""),r.prefix,r.themeMap[A]),s[0].push(`${_?`${f} `:`${Bk(f)}:`}${h}`)}}var x,y};g(c),s!==void 0&&i(_6(...s)),s=void 0};l(n,e,t)},_6=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,H0e={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},b6=n=>String.fromCharCode(n+(n>25?39:97)),Ch=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=b6(t%52)+r;return b6(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),Pv=["themed","global","styled","onevar","resonevar","allvar","inline"],G0e=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},$0e=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(n).styleSheets||[];for(const a of i)if(G0e(a)){for(let l=0,c=a.cssRules;c[l];++l){const d=Object(c[l]);if(d.type!==1)continue;const u=Object(c[l+1]);if(u.type!==4)continue;++l;const{cssText:f}=d;if(!f.startsWith("--sxs"))continue;const h=f.slice(14,-3).trim().split(/\s+/),g=Pv[h[0]];g&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[g]={group:u,index:l,cache:new Set(h)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(d,u){this.cssRules.splice(u,0,a(d,{import:3,undefined:1}[(d.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,d=>d.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=Pv.length-1;a>=0;--a){const l=Pv[a];if(!o[l]){const c=Pv[a+1],d=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",d),s.insertRule(`--sxs{--sxs:${a}}`,d),o[l]={group:s.cssRules[d+1],index:d,cache:new Set([a])}}W0e(o[l])}};return r(),e},W0e=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},Jg=Symbol(),j0e=Y0(),w6=(n,e)=>j0e(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[Mh]){r.type==null&&(r.type=i[Mh].type);for(const s of i[Mh].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(q0e(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),Y0e(n,r,e)}),q0e=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${Su(i.prefix)}c-${Ch(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const f in t)l[f]=String(t[f]);if(typeof n=="object"&&n)for(const f in n){d=l,u=f,N0e.call(d,u)||(l[f]="undefined");const h=n[f];for(const g in h){const v={[f]:String(g)};String(g)==="undefined"&&c.push(f);const x=h[g],y=[v,x,!y6(x)];o.push(y)}}var d,u;if(typeof e=="object"&&e)for(const f of e){let{css:h,...g}=f;h=typeof h=="object"&&h||{};for(const x in g)g[x]=String(g[x]);const v=[g,h,!y6(h)];a.push(v)}return[s,r,o,a,l,c]},Y0e=(n,e,t)=>{const[r,i,s,o]=X0e(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(u=>{function f(){for(let h=0;h<f[Jg].length;h++){const[g,v]=f[Jg][h];u.rules[g].apply(v)}return f[Jg]=[],null}return f[Jg]=[],f.rules={},Pv.forEach(h=>f.rules[h]={apply:g=>f[Jg].push([h,g])}),f})(t):null,l=(a||t).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,d=u=>{u=typeof u=="object"&&u||K0e;const{css:f,...h}=u,g={};for(const y in s)if(delete h[y],y in u){let _=u[y];typeof _=="object"&&_?g[y]={"@initial":s[y],..._}:(_=String(_),g[y]=_!=="undefined"||o.has(y)?_:s[y])}else g[y]=s[y];const v=new Set([...i]);for(const[y,_,b,A]of e.composers){t.rules.styled.cache.has(y)||(t.rules.styled.cache.add(y),Sm(_,[`.${y}`],[],n,P=>{l.styled.apply(P)}));const E=S6(b,g,n.media),k=S6(A,g,n.media,!0);for(const P of E)if(P!==void 0)for(const[C,O,U]of P){const K=`${y}-${Ch(O)}-${C}`;v.add(K);const J=(U?t.rules.resonevar:t.rules.onevar).cache,F=U?l.resonevar:l.onevar;J.has(K)||(J.add(K),Sm(O,[`.${K}`],[],n,S=>{F.apply(S)}))}for(const P of k)if(P!==void 0)for(const[C,O]of P){const U=`${y}-${Ch(O)}-${C}`;v.add(U),t.rules.allvar.cache.has(U)||(t.rules.allvar.cache.add(U),Sm(O,[`.${U}`],[],n,K=>{l.allvar.apply(K)}))}}if(typeof f=="object"&&f){const y=`${r}-i${Ch(f)}-css`;v.add(y),t.rules.inline.cache.has(y)||(t.rules.inline.cache.add(y),Sm(f,[`.${y}`],[],n,_=>{l.inline.apply(_)}))}for(const y of String(u.className||"").trim().split(/\s+/))y&&v.add(y);const x=h.className=[...v].join(" ");return{type:e.type,className:x,selector:c,props:h,toString:()=>x,deferredInjector:a}};return M4(d,{className:r,selector:c,[Mh]:e,toString:()=>(t.rules.styled.cache.has(r)||d(),r)})},X0e=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(i)]},S6=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,d=!1;for(l in s){const u=s[l];let f=e[l];if(f!==u){if(typeof f!="object"||!f)continue e;{let h,g,v=0;for(const x in f){if(u===String(f[x])){if(x!=="@initial"){const y=x.slice(1);(g=g||[]).push(y in t?t[y]:x.replace(/^@media ?/,"")),d=!0}c+=v,h=!0}++v}if(g&&g.length&&(o={["@media "+g.join(", ")]:o}),!h)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,d])}return i},K0e={},Z0e=Y0(),J0e=(n,e)=>Z0e(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=Ch(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}Sm(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return M4(r,{toString:r})}),Q0e=Y0(),ege=(n,e)=>Q0e(n,()=>t=>{const r=`${Su(n.prefix)}k-${Ch(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];Sm(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return M4(i,{get name(){return i()},toString:i})}),tge=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Su(this.prefix)+Su(this.scale)+this.token}toString(){return this.computedValue}},nge=Y0(),rge=(n,e)=>nge(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${Su(n.prefix)}t-${Ch(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const d=`--${Su(n.prefix)}${l}-${c}`,u=F$(String(r[l][c]),n.prefix,l);s[l][c]=new tge(c,u,l,n.prefix),o.push(`${d}:${u}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),ige=Y0(),sge=Y0(),oge=n=>{const e=(t=>{let r=!1;const i=ige(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},d={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...L0e},utils:typeof s.utils=="object"&&s.utils||{}},u=$0e(l),f={css:w6(d,u),globalCss:J0e(d,u),keyframes:ege(d,u),createTheme:rge(d,u),reset(){u.reset(),f.theme.toString()},theme:{},sheet:u,config:d,prefix:o,getCssText:u.toString,toString:u.toString};return String(f.theme=f.createTheme(c)),f});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>sge(t,()=>{const i=w6(t,r);return(...s)=>{const o=i(...s),a=o[Mh].type,l=H.forwardRef((c,d)=>{const u=c&&c.as||a,{props:f,deferredInjector:h}=o(c);return delete f.as,f.ref=d,h?H.createElement(H.Fragment,null,H.createElement(u,f),H.createElement(h,null)):H.createElement(u,f)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Mh]=o[Mh],l}}))(e),e};function age(n,e,t){return Math.max(e,Math.min(n,t))}const Ts={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function A6(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function E6(n,e,t,r=.15){return r===0?age(n,e,t):n<e?-A6(e-n,t-e,r)+e:n>t?+A6(n-t,t-e,r)+t:n}function lge(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[E6(e,s,o,r),E6(t,a,l,i)]}function co(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function M6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function zr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(t),!0).forEach(function(r){co(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M6(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const z$={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function C6(n){return n?n[0].toUpperCase()+n.slice(1):""}const cge=["enter","leave"];function uge(n=!1,e){return n&&!cge.includes(e)}function dge(n,e="",t=!1){const r=z$[n],i=r&&r[e]||e;return"on"+C6(n)+C6(i)+(uge(t,i)?"Capture":"")}const fge=["gotpointercapture","lostpointercapture"];function hge(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=fge.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function pge(n,e=""){const t=z$[n],r=t&&t[e]||e;return n+r}function RA(n){return"touches"in n}function V$(n){return RA(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function mge(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function gge(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function U$(n){return RA(n)?gge(n)[0]:n}function vge(n){return mge(n).map(e=>e.identifier)}function mC(n){const e=U$(n);return RA(n)?e.identifier:e.pointerId}function T6(n){const e=U$(n);return[e.clientX,e.clientY]}function yge(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function qS(n,...e){return typeof n=="function"?n(...e):n}function xge(){}function _ge(...n){return n.length===0?xge:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function k6(n,e){return Object.assign({},e,n||{})}const bge=32;class wge{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?qS(r.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,yge(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const k=t._delta.map(Math.abs);Ts.addTo(t._distance,k)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=r.threshold,{_step:d,values:u}=t;if(r.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(o)>=l&&u[0]),d[1]===!1&&(d[1]=Math.abs(a)>=c&&u[1])):(d[0]===!1&&(d[0]=Math.abs(o)>=l&&Math.sign(o)*l),d[1]===!1&&(d[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=d[0]!==!1||d[1]!==!1,!t.intentional)return;const f=[0,0];if(r.hasCustomTransform){const[k,P]=u;f[0]=d[0]!==!1?k-d[0]:0,f[1]=d[1]!==!1?P-d[1]:0}else f[0]=d[0]!==!1?o-d[0]:0,f[1]=d[1]!==!1?a-d[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(f);const h=t.offset,g=t._active&&!t._blocked||t.active;g&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=qS(r.bounds,t)),this.setup&&this.setup()),t.movement=f,this.computeOffset()));const[v,x]=t.offset,[[y,_],[b,A]]=t._bounds;t.overflow=[v<y?-1:v>_?1:0,x<b?-1:x>A?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const E=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=lge(t._bounds,t.offset,E),t.delta=Ts.sub(t.offset,h),this.computeMovement(),g&&(!t.last||s>bge)){t.delta=Ts.sub(t.offset,h);const k=t.delta.map(Math.abs);Ts.addTo(t.distance,k),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[k[0]/s,k[1]/s])}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(zr(zr(zr({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Sge([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class Age extends wge{constructor(...e){super(...e),co(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Ts.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Ts.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[V$(e)]:r.axisThreshold;t.axis=Sge(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const Ege=n=>n,R6=.15,H$={enabled(n=!0){return n},eventOptions(n,e,t){return zr(zr({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[R6,R6];case!1:return[0,0];default:return Ts.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return Ts.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||Ege},threshold(n){return Ts.toVector(n,0)}},Mge=0,q1=zr(zr({},H$),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=Mge){return n},bounds(n={}){if(typeof n=="function")return s=>q1.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),X_=10,P6={ArrowRight:(n=1)=>[X_*n,0],ArrowLeft:(n=1)=>[-X_*n,0],ArrowUp:(n=1)=>[0,-X_*n],ArrowDown:(n=1)=>[0,X_*n]};class Cge extends Age{constructor(...e){super(...e),co(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=q1.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=mC(e),r._pointerActive=!0,this.computeValues(T6(e)),this.computeInitial(),t.preventScrollAxis&&V$(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive||t.type===e.type&&e.timeStamp===t.timeStamp)return;const i=mC(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=T6(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Ts.sub(s,t._values),this.computeValues(s)),Ts.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=mC(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t.direction,[c,d]=t.velocity,[u,f]=t.movement,[h,g]=r.swipe.velocity,[v,x]=r.swipe.distance,y=r.swipe.duration;t.elapsedTime<y&&(Math.abs(c)>h&&Math.abs(u)>v&&(t.swipe[0]=a),Math.abs(d)>g&&Math.abs(f)>x&&(t.swipe[1]=l))}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Tge(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=P6[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(i),r._keyboardActive=!0,Ts.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in P6&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Tge(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Y1=typeof window<"u"&&window.document&&window.document.createElement;function kge(){return Y1&&"ontouchstart"in window}function I6(){return kge()||Y1&&window.navigator.maxTouchPoints>1}function Rge(){return Y1&&"onpointerdown"in window}function Pge(){return Y1&&"exitPointerLock"in window.document}function Ige(){try{return"constructor"in GestureEvent}catch{return!1}}const Ia={isBrowser:Y1,gesture:Ige(),touch:I6(),touchscreen:I6(),pointer:Rge(),pointerLock:Pge()},Lge=250,Oge=180,Nge=.5,Dge=50,Bge=250,L6={mouse:0,touch:0,pen:8},Fge=zr(zr({},q1),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Ia.pointerLock,Ia.touch&&t?"touch":this.pointerLock?"mouse":Ia.pointer&&!i?"pointer":Ia.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?Lge:void 0,!(!Ia.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Ts.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=Nge,distance:e=Dge,duration:t=Bge}={}){return{velocity:this.transform(Ts.toVector(n)),distance:this.transform(Ts.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return Oge;case!1:return 0;default:return n}},axisThreshold(n){return n?zr(zr({},L6),n):L6}});zr(zr({},H$),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!Ia.touch&&Ia.gesture)return"gesture";if(Ia.touch&&r)return"touch";if(Ia.touchscreen){if(Ia.pointer)return"pointer";if(Ia.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=k6(qS(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=k6(qS(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",Ts.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});zr(zr({},q1),{},{mouseOnly:(n=!0)=>n});zr(zr({},q1),{},{mouseOnly:(n=!0)=>n});const G$=new Map,Fk=new Map;function zge(n){G$.set(n.key,n.engine),Fk.set(n.key,n.resolver)}const Vge={key:"drag",engine:Cge,resolver:Fge};function Uge(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Hge(n,e){if(n==null)return{};var t=Uge(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const Gge={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Ia.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},$ge=["target","eventOptions","window","enabled","transform"];function Tw(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=Tw(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function Wge(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=Hge(r,$ge);if(t.shared=Tw({target:i,eventOptions:s,window:o,enabled:a,transform:l},Gge),e){const d=Fk.get(e);t[e]=Tw(zr({shared:t.shared},c),d)}else for(const d in c){const u=Fk.get(d);u&&(t[d]=Tw(zr({shared:t.shared},c[d]),u))}return t}class $${constructor(e,t){co(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=pge(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=zr(zr({},l),s);e.addEventListener(a,i,c);const d=()=>{e.removeEventListener(a,i,c),o.delete(d)};return o.add(d),d}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class jge{constructor(){co(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}let qge=class{constructor(e){co(this,"gestures",new Set),co(this,"_targetEventStore",new $$(this)),co(this,"gestureEventStores",{}),co(this,"gestureTimeoutStores",{}),co(this,"handlers",{}),co(this,"config",{}),co(this,"pointerIds",new Set),co(this,"touchIds",new Set),co(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Yge(this,e)}setEventIds(e){if(RA(e))return this.touchIds=new Set(vge(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=Wge(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=O6(r,a.eventOptions,!!i);if(a.enabled){const c=G$.get(o);new c(this,e,o).bind(l)}}const s=O6(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](zr(zr({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=_ge(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=hge(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}};function Lp(n,e){n.gestures.add(e),n.gestureEventStores[e]=new $$(n,e),n.gestureTimeoutStores[e]=new jge}function Yge(n,e){e.drag&&Lp(n,"drag"),e.wheel&&Lp(n,"wheel"),e.scroll&&Lp(n,"scroll"),e.move&&Lp(n,"move"),e.pinch&&Lp(n,"pinch"),e.hover&&Lp(n,"hover")}const O6=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,c;const d=(l=o.capture)!==null&&l!==void 0?l:e.capture,u=(c=o.passive)!==null&&c!==void 0?c:e.passive;let f=a?r:dge(r,i,d);t&&u&&(f+="Passive"),n[f]=n[f]||[],n[f].push(s)};function Xge(n,e={},t,r){const i=H.useMemo(()=>new qge(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),H.useEffect(i.effect.bind(i)),H.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function Kge(n,e){return zge(Vge),Xge({drag:n},e||{},"drag")}const Zge=JT["useId".toString()]||(()=>{});let Jge=0;function Qge(n){const[e,t]=T.useState(Zge());return Jy(()=>{n||t(r=>r??String(Jge++))},[n]),n||(e?`radix-${e}`:"")}const X0=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((n,e)=>({...n,[e]:T.forwardRef((t,r)=>{const{asChild:i,...s}=t,o=i?A4:e;return T.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),t.as&&console.error(eve),T.createElement(o,yr({},s,{ref:r}))})}),{}),eve="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",tve=T.forwardRef((n,e)=>T.createElement(X0.span,yr({},n,{ref:e,style:{...n.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}}))),nve=tve,rve=T.forwardRef((n,e)=>{var t,r;const{containerRef:i,style:s,...o}=n,a=(t=i==null?void 0:i.current)!==null&&t!==void 0?t:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=T.useState({});return Jy(()=>{l({})},[]),a?kP.createPortal(T.createElement(X0.div,yr({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),ive=T.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return T.createElement(X0.svg,yr({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:T.createElement("polygon",{points:"0,0 30,0 15,10"}))}),sve=ive;function N6(n){const[e,t]=T.useState(void 0);return T.useEffect(()=>{if(n){const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else{const l=n.getBoundingClientRect();o=l.width,a=l.height}t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>{t(void 0),r.unobserve(n)}}},[n]),e}function ove(n,e){const t=Jf.get(n);return t===void 0?(Jf.set(n,{rect:{},callbacks:[e]}),Jf.size===1&&(zk=requestAnimationFrame(W$))):(t.callbacks.push(e),e(n.getBoundingClientRect())),()=>{const r=Jf.get(n);if(r===void 0)return;const i=r.callbacks.indexOf(e);i>-1&&r.callbacks.splice(i,1),r.callbacks.length===0&&(Jf.delete(n),Jf.size===0&&cancelAnimationFrame(zk))}}let zk;const Jf=new Map;function W$(){const n=[];Jf.forEach((e,t)=>{const r=t.getBoundingClientRect();var i,s;i=e.rect,s=r,(i.width!==s.width||i.height!==s.height||i.top!==s.top||i.right!==s.right||i.bottom!==s.bottom||i.left!==s.left)&&(e.rect=r,n.push(e))}),n.forEach(e=>{e.callbacks.forEach(t=>t(e.rect))}),zk=requestAnimationFrame(W$)}function j$(n){const[e,t]=T.useState();return T.useEffect(()=>{if(n){const r=ove(n,t);return()=>{t(void 0),r()}}},[n]),e}function q$(n,e=[]){let t=[];const r=()=>{const i=t.map(s=>T.createContext(s));return function(s){const o=(s==null?void 0:s[n])||i;return T.useMemo(()=>({[`__scope${n}`]:{...s,[n]:o}}),[s,o])}};return r.scopeName=n,[function(i,s){const o=T.createContext(s),a=t.length;function l(c){const{scope:d,children:u,...f}=c,h=(d==null?void 0:d[n][a])||o,g=T.useMemo(()=>f,Object.values(f));return T.createElement(h.Provider,{value:g},u)}return t=[...t,s],l.displayName=i+"Provider",[l,function(c,d){const u=(d==null?void 0:d[n][a])||o,f=T.useContext(u);if(f)return f;if(s!==void 0)return s;throw new Error(`\`${c}\` must be used within \`${i}\``)}]},ave(r,...e)]}function ave(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const s=r.reduce((o,{useScope:a,scopeName:l})=>({...o,...a(i)[`__scope${l}`]}),{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}function lve({anchorRect:n,popperSize:e,arrowSize:t,arrowOffset:r=0,side:i,sideOffset:s=0,align:o,alignOffset:a=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:c,collisionTolerance:d=0}){if(!n||!e||!c)return{popperStyles:cve,arrowStyles:gC};const u=function(P,C,O=0,U=0,K){const J=K?K.height:0,F=D6(C,P,"x"),S=D6(C,P,"y"),I=S.before-O-J,D=S.after+O+J,$=F.before-O-J,N=F.after+O+J;return{top:{start:{x:F.start+U,y:I},center:{x:F.center,y:I},end:{x:F.end-U,y:I}},right:{start:{x:N,y:S.start+U},center:{x:N,y:S.center},end:{x:N,y:S.end-U}},bottom:{start:{x:F.start+U,y:D},center:{x:F.center,y:D},end:{x:F.end-U,y:D}},left:{start:{x:$,y:S.start+U},center:{x:$,y:S.center},end:{x:$,y:S.end-U}}}}(e,n,s,a,t),f=u[i][o];if(l===!1){const P=B6(f);let C=gC;return t&&(C=z6({popperSize:e,arrowSize:t,arrowOffset:r,side:i,align:o})),{popperStyles:{...P,"--radix-popper-transform-origin":F6(e,i,o,r,t)},arrowStyles:C,placedSide:i,placedAlign:o}}const h=DOMRect.fromRect({...e,...f}),g=(v=c,x=d,DOMRect.fromRect({width:v.width-2*x,height:v.height-2*x,x:v.left+x,y:v.top+x}));var v,x;const y=U6(h,g),_=u[V6(i)][o],b=function(P,C,O){const U=V6(P);return C[P]&&!O[U]?U:P}(i,y,U6(DOMRect.fromRect({...e,..._}),g)),A=function(P,C,O,U,K){const J=O==="top"||O==="bottom",F=J?"left":"top",S=J?"right":"bottom",I=J?"width":"height",D=C[I]>P[I];return(U==="start"||U==="center")&&(K[F]&&D||K[S]&&!D)?"end":(U==="end"||U==="center")&&(K[S]&&D||K[F]&&!D)?"start":U}(e,n,i,o,y),E=B6(u[b][A]);let k=gC;return t&&(k=z6({popperSize:e,arrowSize:t,arrowOffset:r,side:b,align:A})),{popperStyles:{...E,"--radix-popper-transform-origin":F6(e,b,A,r,t)},arrowStyles:k,placedSide:b,placedAlign:A}}function D6(n,e,t){const r=n[t==="x"?"left":"top"],i=t==="x"?"width":"height",s=n[i],o=e[i];return{before:r-o,start:r,center:r+(s-o)/2,end:r+s-o,after:r+s}}function B6(n){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(n.x+window.scrollX)}px, ${Math.round(n.y+window.scrollY)}px, 0)`}}function F6(n,e,t,r,i){const s=e==="top"||e==="bottom",o=i?i.width:0,a=i?i.height:0,l=o/2+r;let c="",d="";return s?(c={start:`${l}px`,center:"center",end:n.width-l+"px"}[t],d=e==="top"?`${n.height+a}px`:-a+"px"):(c=e==="left"?`${n.width+a}px`:-a+"px",d={start:`${l}px`,center:"center",end:n.height-l+"px"}[t]),`${c} ${d}`}const cve={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},gC={position:"absolute",opacity:0};function z6({popperSize:n,arrowSize:e,arrowOffset:t,side:r,align:i}){const s=(n.width-e.width)/2,o=(n.height-e.width)/2,a={top:0,right:90,bottom:180,left:-90}[r],l=Math.max(e.width,e.height),c={width:`${l}px`,height:`${l}px`,transform:`rotate(${a}deg)`,willChange:"transform",position:"absolute",[r]:"100%",direction:uve(r,i)};return r!=="top"&&r!=="bottom"||(i==="start"&&(c.left=`${t}px`),i==="center"&&(c.left=`${s}px`),i==="end"&&(c.right=`${t}px`)),r!=="left"&&r!=="right"||(i==="start"&&(c.top=`${t}px`),i==="center"&&(c.top=`${o}px`),i==="end"&&(c.bottom=`${t}px`)),c}function uve(n,e){return(n!=="top"&&n!=="right"||e!=="end")&&(n!=="bottom"&&n!=="left"||e==="end")?"ltr":"rtl"}function V6(n){return{top:"bottom",right:"left",bottom:"top",left:"right"}[n]}function U6(n,e){return{top:n.top<e.top,right:n.right>e.right,bottom:n.bottom>e.bottom,left:n.left<e.left}}const[Y$,X$]=q$("Popper"),[dve,K$]=Y$("Popper"),fve=n=>{const{__scopePopper:e,children:t}=n,[r,i]=T.useState(null);return T.createElement(dve,{scope:e,anchor:r,onAnchorChange:i},t)},hve=T.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=K$("PopperAnchor",t),o=T.useRef(null),a=TA(e,o);return T.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:T.createElement(X0.div,yr({},i,{ref:a}))}),[pve,mve]=Y$("PopperContent"),gve=T.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i,align:s="center",alignOffset:o,collisionTolerance:a,avoidCollisions:l=!0,...c}=n,d=K$("PopperContent",t),[u,f]=T.useState(),h=j$(d.anchor),[g,v]=T.useState(null),x=N6(g),[y,_]=T.useState(null),b=N6(y),A=TA(e,J=>v(J)),E=function(){const[J,F]=T.useState(void 0);return T.useEffect(()=>{let S;function I(){F({width:window.innerWidth,height:window.innerHeight})}function D(){window.clearTimeout(S),S=window.setTimeout(I,100)}return I(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),J}(),k=E?DOMRect.fromRect({...E,x:0,y:0}):void 0,{popperStyles:P,arrowStyles:C,placedSide:O,placedAlign:U}=lve({anchorRect:h,popperSize:x,arrowSize:b,arrowOffset:u,side:r,sideOffset:i,align:s,alignOffset:o,shouldAvoidCollisions:l,collisionBoundariesRect:k,collisionTolerance:a}),K=O!==void 0;return T.createElement("div",{style:P,"data-radix-popper-content-wrapper":""},T.createElement(pve,{scope:t,arrowStyles:C,onArrowChange:_,onArrowOffsetChange:f},T.createElement(X0.div,yr({"data-side":O,"data-align":U},c,{style:{...c.style,animation:K?void 0:"none"},ref:A}))))}),vve=T.forwardRef(function(n,e){const{__scopePopper:t,offset:r,...i}=n,s=mve("PopperArrow",t),{onArrowOffsetChange:o}=s;return T.useEffect(()=>o(r),[o,r]),T.createElement("span",{style:{...s.arrowStyles,pointerEvents:"none"}},T.createElement("span",{ref:s.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},T.createElement(sve,yr({},i,{ref:e,style:{...i.style,display:"block"}}))))}),yve=fve,xve=hve,_ve=gve,bve=vve,Z$=n=>{const{present:e,children:t}=n,r=function(o){const[a,l]=T.useState(),c=T.useRef({}),d=T.useRef(o),u=T.useRef("none"),f=o?"mounted":"unmounted",[h,g]=function(v,x){return T.useReducer((y,_)=>{const b=x[y][_];return b??y},v)}(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const v=K_(c.current);u.current=h==="mounted"?v:"none"},[h]),Jy(()=>{const v=c.current,x=d.current;if(x!==o){const y=u.current,_=K_(v);o?g("MOUNT"):_==="none"||(v==null?void 0:v.display)==="none"?g("UNMOUNT"):g(x&&y!==_?"ANIMATION_OUT":"UNMOUNT"),d.current=o}},[o,g]),Jy(()=>{if(a){const v=y=>{const _=K_(c.current).includes(y.animationName);y.target===a&&_&&g("ANIMATION_END")},x=y=>{y.target===a&&(u.current=K_(c.current))};return a.addEventListener("animationstart",x),a.addEventListener("animationcancel",v),a.addEventListener("animationend",v),()=>{a.removeEventListener("animationstart",x),a.removeEventListener("animationcancel",v),a.removeEventListener("animationend",v)}}},[a,g]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:T.useCallback(v=>{v&&(c.current=getComputedStyle(v)),l(v)},[])}}(e),i=typeof t=="function"?t({present:r.isPresent}):T.Children.only(t),s=TA(r.ref,i.ref);return typeof t=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};function K_(n){return(n==null?void 0:n.animationName)||"none"}Z$.displayName="Presence";function H6(n){const e=T.useRef(n);return T.useEffect(()=>{e.current=n},[n]),e.current}function Vk(n){const e=T.useRef(n);return T.useEffect(()=>{e.current=n}),T.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function wve(n){const e=Vk(n);T.useEffect(()=>{const t=r=>{r.key==="Escape"&&e(r)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e])}function Sve({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=function({defaultProp:l,onChange:c}){const d=T.useState(l),[u]=d,f=T.useRef(u),h=Vk(c);return T.useEffect(()=>{f.current!==u&&(h(u),f.current=u)},[u,f,h]),d}({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=Vk(t);return[o,T.useCallback(l=>{if(s){const c=l,d=typeof l=="function"?c(n):l;d!==n&&a(d)}else i(l)},[s,n,i,a])]}function Op(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}const[J$,D6e]=q$("Tooltip",[X$]),PA=X$(),Ave=700,[B6e,Eve]=J$("TooltipProvider",{isOpenDelayed:!0,delayDuration:Ave,onOpen:()=>{},onClose:()=>{}}),[Mve,IA]=J$("Tooltip"),Cve=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,delayDuration:o}=n,a=Eve("Tooltip",e),l=PA(e),[c,d]=T.useState(null),u=Qge(),f=T.useRef(0),h=o??a.delayDuration,g=T.useRef(!1),{onOpen:v,onClose:x}=a,[y=!1,_]=Sve({prop:r,defaultProp:i,onChange:k=>{k&&(document.dispatchEvent(new CustomEvent("tooltip.open")),v()),s==null||s(k)}}),b=T.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),A=T.useCallback(()=>{window.clearTimeout(f.current),g.current=!1,_(!0)},[_]),E=T.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{g.current=!0,_(!0)},h)},[h,_]);return T.useEffect(()=>()=>window.clearTimeout(f.current),[]),T.createElement(yve,l,T.createElement(Mve,{scope:e,contentId:u,open:y,stateAttribute:b,trigger:c,onTriggerChange:d,onTriggerEnter:T.useCallback(()=>{a.isOpenDelayed?E():A()},[a.isOpenDelayed,E,A]),onOpen:T.useCallback(A,[A]),onClose:T.useCallback(()=>{window.clearTimeout(f.current),_(!1),x()},[_,x])},t))},Tve=T.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=IA("TooltipTrigger",t),s=PA(t),o=TA(e,i.onTriggerChange),a=T.useRef(!1),l=T.useCallback(()=>a.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("mouseup",l),[l]),T.createElement(xve,yr({asChild:!0},s),T.createElement(X0.button,yr({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:o,onMouseEnter:Op(n.onMouseEnter,i.onTriggerEnter),onMouseLeave:Op(n.onMouseLeave,i.onClose),onMouseDown:Op(n.onMouseDown,()=>{i.onClose(),a.current=!0,document.addEventListener("mouseup",l,{once:!0})}),onFocus:Op(n.onFocus,()=>{a.current||i.onOpen()}),onBlur:Op(n.onBlur,i.onClose),onClick:Op(n.onClick,i.onClose)})))}),kve=T.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=IA("TooltipContent",n.__scopeTooltip);return T.createElement(Z$,{present:t||i.open},T.createElement(Rve,yr({ref:e},r)))}),Rve=T.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,portalled:s=!0,...o}=n,a=IA("TooltipContent",t),l=PA(t),c=s?rve:T.Fragment,{onClose:d}=a;return wve(()=>d()),T.useEffect(()=>(document.addEventListener("tooltip.open",d),()=>document.removeEventListener("tooltip.open",d)),[d]),T.createElement(c,null,T.createElement(Ive,{__scopeTooltip:t}),T.createElement(_ve,yr({"data-state":a.stateAttribute},l,o,{ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),T.createElement(L$,null,r),T.createElement(nve,{id:a.contentId,role:"tooltip"},i||r)))}),Pve=T.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=PA(t);return T.createElement(bve,yr({},i,r,{ref:e}))});function Ive(n){const{__scopeTooltip:e}=n,t=IA("CheckTriggerMoved",e),r=j$(t.trigger),i=r==null?void 0:r.left,s=H6(i),o=r==null?void 0:r.top,a=H6(o),l=t.onClose;return T.useEffect(()=>{(s!==void 0&&s!==i||a!==void 0&&a!==o)&&l()},[l,s,a,i,o]),null}const Lve=Cve,Ove=Tve,Nve=kve,Dve=Pve;function Bve(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function nr(n,e){if(n==null)return{};var t=Bve(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let Or;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(Or||(Or={}));const Fve={[Or.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[Or.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Or.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[Or.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[Or.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[Or.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[Or.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[Or.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[Or.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[Or.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[Or.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function Q$(n,e,...t){const[r,...i]=Fve[e](...t);console[n]("LEVA: "+r,...i)}const su=Q$.bind(null,"warn"),zve=Q$.bind(null,"log"),Vve=["value"],Uve=["schema"],Hve=["value"],eW=[],Hh={};function G6(n){let{value:e}=n,t=nr(n,Vve);for(let r of eW){const i=r(e,t);if(i)return i}}function Lu(n,e){let{schema:t}=e,r=nr(e,Uve);if(n in Hh){su(Or.ALREADY_REGISTERED_TYPE,n);return}eW.push((i,s)=>t(i,s)&&n),Hh[n]=r}function vC(n,e,t,r){const{normalize:i}=Hh[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=nr(e,Hve);return{value:s,settings:o}}function Gve(n,e,t,r,i,s){const{sanitize:o}=Hh[n];return o?o(e,t,r,i,s):e}function $6(n,e,t){const{format:r}=Hh[n];return r?r(e,t):e}function $ve(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ft(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(t),!0).forEach(function(r){$ve(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):W6(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const Zd=(n,e,t)=>n>t?t:n<e?e:n,Wve=n=>{if(n===""||typeof n=="number")return n;try{const e=pd(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},jve=Math.log(10);function j6(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/jve)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const YS=(n,e,t)=>t===e?0:(Zd(n,e,t)-e)/(t-e),XS=(n,e,t)=>n*(t-e)+e,qve=()=>"_"+Math.random().toString(36).substr(2,9),q6=/\(([0-9+\-*/^ .]+)\)/,Y6=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,X6=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,K6=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,Z6=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,J6=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function pd(n){if(isNaN(Number(n)))if(q6.test(n)){const e=n.replace(q6,(t,r)=>String(pd(r)));return pd(e)}else if(Y6.test(n)){const e=n.replace(Y6,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return pd(e)}else if(X6.test(n)){const e=n.replace(X6,(t,r,i)=>String(Number(r)*Number(i)));return pd(e)}else if(K6.test(n)){const e=n.replace(K6,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return pd(e)}else if(Z6.test(n)){const e=n.replace(Z6,(t,r,i)=>String(Number(r)+Number(i)));return pd(e)}else if(J6.test(n)){const e=n.replace(J6,(t,r,i)=>String(Number(r)-Number(i)));return pd(e)}else return Number(n);return Number(n)}function Yve(n,e){return e.reduce((t,r)=>(n&&n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function Xve(n,e){const t=Ft({},n);return e.forEach(r=>r in n&&delete t[r]),t}function Kve(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function tW(n){return Object.prototype.toString.call(n)==="[object Object]"}const Zve=n=>tW(n)&&Object.keys(n).length===0;let Tl;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(Tl||(Tl={}));let Ll;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Ll||(Ll={}));const Jve=["type","__customInput"],Qve=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],eye=["type"];function nW(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:Ft({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:E,__customInput:k}=n,P=nr(n,Jve);return nW(k,e,P,E)}const{render:o,label:a,optional:l,order:c=0,disabled:d,hint:u,onChange:f,onEditStart:h,onEditEnd:g,transient:v}=n,x=nr(n,Qve),y=Ft({render:o,key:e,label:a??e,hint:u,transient:v??!!f,onEditStart:h,onEditEnd:g,disabled:d,optional:l,order:c},t);let{type:_}=x,b=nr(x,eye);if(_=r??_,_ in Tl)return{type:_,input:b,options:y};let A;return r&&tW(b)&&"value"in b?A=b.value:A=Zve(b)?void 0:b,{type:_,input:A,options:Ft(Ft({},y),{},{onChange:f,optional:(i=y.optional)!==null&&i!==void 0?i:!1,disabled:(s=y.disabled)!==null&&s!==void 0?s:!1})}}function tye(n,e,t,r){const i=nW(n,e),{type:s,input:o,options:a}=i;if(s)return s in Tl?i:{type:s,input:vC(s,o,t,r),options:a};let l=G6(o);return l?{type:l,input:vC(l,o,t,r),options:a}:(l=G6({value:o}),l?{type:l,input:vC(l,{value:o},t,r),options:a}:!1)}function Q6(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=rW({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const nye=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function rW({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=Gve(n,o,t,e,i,s)}catch(l){throw new nye(`The value \`${r}\` did not result in a correct value.`,e,l)}return Qy(a,e)?e:a}const iW=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},sW=n=>n.shiftKey?5:n.altKey?1/5:1;function rye(n,e){const t=console.error;console.error=()=>{},kP.render(n,e),console.error=t}const iye=["value"],sye=["min","max"],oye=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},oW=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=Zd(i,e,t);return r?s+r:s},aye=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},aW=n=>{let{value:e}=n,t=nr(n,iye);const{min:r=-1/0,max:i=1/0}=t,s=nr(t,sye);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=Zd(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?j6(l)*10:j6(o);l=l||c/10;const d=Math.round(Zd(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:Ft({initialValue:o,step:l,pad:d,min:r,max:i,suffix:a},s)}},lW=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var cW=Object.freeze({__proto__:null,schema:oye,sanitize:oW,format:aye,normalize:aW,sanitizeStep:lW});function Zr(){return Zr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zr.apply(this,arguments)}const uW=T.createContext({});function Ls(){return T.useContext(uW)}const C4=T.createContext(null),dW=T.createContext(null),fW=T.createContext(null);function X1(){return T.useContext(dW)}function lye(){return T.useContext(fW)}const hW=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function Z_(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const Qg={$inputStyle:()=>n=>Z_(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>Z_(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>Z_(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>Z_(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Ot,css:F6e,createTheme:cye,globalCss:uye,keyframes:z6e}=oge({prefix:"leva",theme:hW(),utils:Ft(Ft({},Qg),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":Qg.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":Qg.$focusStyle()(n)}),$hover:n=>({"&:hover":Qg.$hoverStyle()(n)}),$active:n=>({"&:active":Qg.$activeStyle()(n)})})}),dye=uye({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function fye(n){const e=hW();if(!n)return{theme:e,className:""};Object.keys(n).forEach(r=>{Object.assign(e[r],n[r])});const t=cye(e);return{theme:e,className:t.className}}function gu(n,e){const{theme:t}=T.useContext(C4);if(!(n in t)||!(e in t[n]))return su(Or.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const pW=Ot("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),mW=Ot("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${pW}`]:{paddingLeft:0}}),hye=Ot(mW,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),pye=Ot("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),mye=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],gye=["onUpdate"];function T4(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=n,d=nr(n,mye);const{id:u,emitOnEditStart:f,emitOnEditEnd:h,disabled:g}=Ls(),v=a||u,x=T.useRef(null),y=c>0,_=y?"textarea":"input",b=T.useCallback(k=>P=>{const C=P.currentTarget.value;k(C)},[]);H.useEffect(()=>{const k=x.current,P=b(C=>{r(C),h()});return k==null||k.addEventListener("blur",P),()=>k==null?void 0:k.removeEventListener("blur",P)},[b,r,h]);const A=T.useCallback(k=>{k.key==="Enter"&&b(r)(k)},[b,r]),E=Object.assign({as:_},y?{rows:c}:{},d);return H.createElement(pye,{textArea:y},e&&typeof e=="string"?H.createElement(mW,null,e):e,H.createElement(pW,Zr({levaType:o,ref:x,id:v,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:b(i),onFocus:()=>f(),onKeyPress:A,onKeyDown:s,disabled:g},E)))}function vye(n){let{onUpdate:e}=n,t=nr(n,gye);const r=T.useCallback(s=>e(Wve(s)),[e]),i=T.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return H.createElement(T4,Zr({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const KS=Ot("div",{}),Uk=Ot("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),yye=Ot("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${Uk}::after`]:{opacity:.6},[`${KS}:hover > & + ${Uk}::after`]:{opacity:.6},[`${KS}:hover > & > svg`]:{opacity:1}}),gW=Ot("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${KS}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),vW=Ot("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${gW} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),yW=Ot(vW,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),xye=Ot("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),_ye=Ot("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),Hk=Ot("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),bye=Ot("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${Hk}`]:{pointerEvents:"auto"}}}}}),xW=Ot("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),wye=Ot("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Sye=Ot(Dve,{fill:"$toolTipBackground"});function k4({children:n}){const{className:e}=T.useContext(C4);return H.createElement(T0e,{className:e},n)}const Aye=["align"];function Eye(){const{id:n,disable:e,disabled:t}=Ls();return H.createElement(H.Fragment,null,H.createElement(_ye,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),H.createElement("label",{htmlFor:n+"__disable"}))}function Mye(n){const{id:e,optional:t,hint:r}=Ls(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return H.createElement(H.Fragment,null,t&&H.createElement(Eye,null),r!==void 0?H.createElement(Lve,null,H.createElement(Ove,{asChild:!0},H.createElement(Hk,Zr({},i,n))),H.createElement(Nve,{side:"top",sideOffset:2},H.createElement(wye,null,r,H.createElement(Sye,null)))):H.createElement(Hk,Zr({},i,s,n)))}function Bl(n){let{align:e}=n,t=nr(n,Aye);const{value:r,label:i,key:s,disabled:o}=Ls(),{hideCopyButton:a}=lye(),l=!a&&s!==void 0,[c,d]=T.useState(!1),u=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),d(!0)}catch{su(Or.CLIPBOARD_ERROR,{[s]:r})}};return H.createElement(xye,{align:e,onPointerLeave:()=>d(!1)},H.createElement(Mye,t),l&&!o&&H.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},H.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),H.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):H.createElement("svg",{onClick:u,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},H.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),H.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Cye=["toggled"],Tye=Ot("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function R4(n){let{toggled:e}=n,t=nr(n,Cye);return H.createElement(Tye,Zr({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),H.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const kye=["input"];function ja(n){let{input:e}=n,t=nr(n,kye);return e?H.createElement(yW,t):H.createElement(vW,t)}function _W({value:n,type:e,settings:t,setValue:r}){const[i,s]=T.useState($6(e,n,t)),o=T.useRef(n),a=T.useRef(t);a.current=t;const l=T.useCallback(d=>s($6(e,d,a.current)),[e]),c=T.useCallback(d=>{try{r(d)}catch(u){const{type:f,previousValue:h}=u;if(f!=="LEVA_ERROR")throw u;l(h)}},[l,r]);return T.useEffect(()=>{Qy(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:c}}function K1(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=Ls();return Kge(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function Rye(n){const e=T.useRef(null),t=T.useRef(null),r=T.useRef(!1);return T.useEffect(()=>{const i=iW(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),T.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function bW(){const n=T.useRef(null),e=T.useRef({x:0,y:0}),t=T.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const Pye=["__refCount"],yC=(n,e)=>{if(!n[e])return null;const t=n[e];return nr(t,Pye)};function Iye(n){const e=X1(),[t,r]=T.useState(yC(e.getData(),n)),i=T.useCallback(c=>e.setValueAtPath(n,c,!0),[n,e]),s=T.useCallback(c=>e.setSettingsAtPath(n,c),[n,e]),o=T.useCallback(c=>e.disableInputAtPath(n,c),[n,e]),a=T.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=T.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return T.useEffect(()=>{r(yC(e.getData(),n));const c=e.useStore.subscribe(d=>yC(d.data,n),r,{equalityFn:j1});return()=>c()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const Lye=Ot("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),wW=Ot("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Gk=Ot("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),SW=Ot("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),AW=Ot("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Oye({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=T.useRef(null),a=T.useRef(null),l=T.useRef(0),c=gu("sizes","scrubberWidth"),d=K1(({event:f,first:h,xy:[g],movement:[v],memo:x})=>{if(h){const{width:_,left:b}=o.current.getBoundingClientRect();l.current=_-parseFloat(c),x=(f==null?void 0:f.target)===a.current?n:XS((g-b)/_,e,t)}const y=x+XS(v/l.current,0,t-e);return r(lW(y,{step:i,initialValue:s})),x}),u=YS(n,e,t);return H.createElement(SW,Zr({ref:o},d()),H.createElement(wW,null,H.createElement(AW,{style:{left:0,right:`${(1-u)*100}%`}})),H.createElement(Gk,{ref:a,style:{left:`calc(${u} * (100% - ${c}))`}}))}const Nye=H.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=T.useState(!1),o=K1(({active:a,delta:[l],event:c,memo:d=0})=>(s(a),d+=l/2,Math.abs(d)>=1&&(e(u=>parseFloat(u)+Math.floor(d)*t*sW(c)),d=0),d));return H.createElement(hye,Zr({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function EW({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&H.createElement(Nye,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return H.createElement(vye,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function Dye(){const n=Ls(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return H.createElement(ja,{input:!0},H.createElement(Bl,null,e),H.createElement(Lye,{hasRange:l},l&&H.createElement(Oye,Zr({value:parseFloat(t),onDrag:r},i)),H.createElement(EW,Zr({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:Bye}=cW,Fye=nr(cW,["sanitizeStep"]);var zye=Ft({component:Dye},Fye);const Vye=(n,e)=>mo().schema({options:mo().passesAnyOf(mo().object(),mo().array())}).test(e),Uye=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},Hye=(n,{values:e})=>e.indexOf(n),Gye=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var $ye=Object.freeze({__proto__:null,schema:Vye,sanitize:Uye,format:Hye,normalize:Gye});const Wye=Ot("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),$k=Ot("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),jye=Ot("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${$k}:focus + &`]:{$focusStyle:""},[`${$k}:hover + &`]:{$hoverStyle:""}});function qye({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=T.useRef();return e===a[n]&&(l.current=o[n]),H.createElement(Wye,null,H.createElement($k,{id:r,value:n,onChange:c=>t(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,d)=>H.createElement("option",{key:c,value:d},c))),H.createElement(jye,null,l.current),H.createElement(R4,{toggled:!0}))}function Yye(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=Ls();return H.createElement(ja,{input:!0},H.createElement(Bl,null,n),H.createElement(qye,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var Xye=Ft({component:Yye},$ye);const Kye=n=>mo().string().test(n),Zye=n=>{if(typeof n!="string")throw Error("Invalid string");return n},Jye=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var Qye=Object.freeze({__proto__:null,schema:Kye,sanitize:Zye,normalize:Jye});const e1e=["displayValue","onUpdate","onChange","editable"],t1e=Ot("div",{whiteSpace:"pre-wrap"});function n1e(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=nr(n,e1e);return i?H.createElement(T4,Zr({value:e,onUpdate:t,onChange:r},s)):H.createElement(t1e,null,e)}function r1e(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=Ls();return H.createElement(ja,{input:!0},H.createElement(Bl,null,n),H.createElement(n1e,Zr({displayValue:t,onUpdate:r,onChange:i},e)))}var i1e=Ft({component:r1e},Qye);const s1e=n=>mo().boolean().test(n),o1e=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var a1e=Object.freeze({__proto__:null,schema:s1e,sanitize:o1e});const l1e=Ot("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function c1e({value:n,onUpdate:e,id:t,disabled:r}){return H.createElement(l1e,null,H.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),H.createElement("label",{htmlFor:t},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function u1e(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=Ls();return H.createElement(ja,{input:!0},H.createElement(Bl,null,n),H.createElement(c1e,{value:e,onUpdate:t,id:i,disabled:r}))}var d1e=Ft({component:u1e},a1e);const f1e=["locked"];function h1e({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=T.useRef(n[t]);o.current=n[t];const a=T.useCallback(c=>i({[t]:rW({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,t]),l=_W({type:"NUMBER",value:n[t],settings:r,setValue:a});return H.createElement(EW,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const p1e=Ot("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function m1e(n){let{locked:e}=n,t=nr(n,f1e);return H.createElement("svg",Zr({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?H.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):H.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function P4({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=Ls(),{lock:o,locked:a}=t;return H.createElement(p1e,{withLock:o},o&&H.createElement(m1e,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,c)=>H.createElement(h1e,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r})))}const MW=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=aW(Ft({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},g1e=["lock"],v1e=["value"];function y1e(n){const e=mo().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function x1e(n){return Array.isArray(n)?"array":"object"}function iy(n,e,t){return x1e(n)===e?n:e==="array"?Object.values(n):Kve(n,t)}const _1e=(n,e,t)=>{const r=iy(n,"object",e.keys);for(let o in r)r[o]=oW(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=iy(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],d=c!==0?l/c:1;for(let u in o)u===a?s[a]=l:s[u]=o[u]*d}else s=Ft(Ft({},o),r)}return iy(s,e.format,e.keys)},b1e=(n,e)=>iy(n,"object",e.keys),w1e=n=>!!n&&("step"in n||"min"in n||"max"in n);function S1e(n,e,t=[]){const{lock:r=!1}=e,i=nr(e,g1e),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=iy(n,"object",o),l=w1e(i)?o.reduce((d,u)=>Object.assign(d,{[u]:i}),{}):i,c=MW(a,l);return{value:s==="array"?n:a,settings:Ft(Ft({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function CW(n){return{schema:y1e(n.length),normalize:e=>{let{value:t}=e,r=nr(e,v1e);return S1e(t,r,n)},format:(e,t)=>b1e(e,t),sanitize:(e,t,r)=>_1e(e,t,r)}}var A1e={grad:.9,turn:360,rad:360/(2*Math.PI)},Uc=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},zi=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Na=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},TW=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},eF=function(n){return{r:Na(n.r,0,255),g:Na(n.g,0,255),b:Na(n.b,0,255),a:Na(n.a)}},xC=function(n){return{r:zi(n.r),g:zi(n.g),b:zi(n.b),a:zi(n.a,3)}},E1e=/^#([0-9a-f]{3,8})$/i,J_=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},kW=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},RW=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},tF=function(n){return{h:TW(n.h),s:Na(n.s,0,100),l:Na(n.l,0,100),a:Na(n.a)}},nF=function(n){return{h:zi(n.h),s:zi(n.s),l:zi(n.l),a:zi(n.a,3)}},rF=function(n){return RW((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},sy=function(n){return{h:(e=kW(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},M1e=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,C1e=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,T1e=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,k1e=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Wk={string:[[function(n){var e=E1e.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?zi(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?zi(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=T1e.exec(n)||k1e.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:eF({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=M1e.exec(n)||C1e.exec(n);if(!e)return null;var t,r,i=tF({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(A1e[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return rF(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return Uc(e)&&Uc(t)&&Uc(r)?eF({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!Uc(e)||!Uc(t)||!Uc(r))return null;var o=tF({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return rF(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!Uc(e)||!Uc(t)||!Uc(r))return null;var o=function(a){return{h:TW(a.h),s:Na(a.s,0,100),v:Na(a.v,0,100),a:Na(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return RW(o)},"hsv"]]},iF=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},PW=function(n){return typeof n=="string"?iF(n.trim(),Wk.string):typeof n=="object"&&n!==null?iF(n,Wk.object):[null,void 0]},R1e=function(n){return PW(n)[1]},_C=function(n,e){var t=sy(n);return{h:t.h,s:Na(t.s+100*e,0,100),l:t.l,a:t.a}},bC=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},sF=function(n,e){var t=sy(n);return{h:t.h,s:t.s,l:Na(t.l+100*e,0,100),a:t.a}},jk=function(){function n(e){this.parsed=PW(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return zi(bC(this.rgba),2)},n.prototype.isDark=function(){return bC(this.rgba)<.5},n.prototype.isLight=function(){return bC(this.rgba)>=.5},n.prototype.toHex=function(){return e=xC(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?J_(zi(255*s)):"","#"+J_(t)+J_(r)+J_(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return xC(this.rgba)},n.prototype.toRgbString=function(){return e=xC(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return nF(sy(this.rgba))},n.prototype.toHslString=function(){return e=nF(sy(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=kW(this.rgba),{h:zi(e.h),s:zi(e.s),v:zi(e.v),a:zi(e.a,3)};var e},n.prototype.invert=function(){return Ws({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Ws(_C(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ws(_C(this.rgba,-e))},n.prototype.grayscale=function(){return Ws(_C(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Ws(sF(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Ws(sF(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Ws({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):zi(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=sy(this.rgba);return typeof e=="number"?Ws({h:e,s:t.s,l:t.l,a:t.a}):zi(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Ws(e).toHex()},n}(),Ws=function(n){return n instanceof jk?n:new jk(n)},oF=[],P1e=function(n){n.forEach(function(e){oF.indexOf(e)<0&&(e(jk,Wk),oF.push(e))})};function I1e(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var d=this.toRgb(),u=1/0,f="black";if(!s.length)for(var h in t)s[h]=new n(t[h]).toRgb();for(var g in t){var v=(a=d,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<u&&(u=v,f=g)}return f}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function K0(){return(K0=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function I4(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function qk(n){var e=T.useRef(n),t=T.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var x0=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},oy=function(n){return"touches"in n},Yk=function(n){return n&&n.ownerDocument.defaultView||self},aF=function(n,e,t){var r=n.getBoundingClientRect(),i=oy(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:x0((i.pageX-(r.left+Yk(n).pageXOffset))/r.width),top:x0((i.pageY-(r.top+Yk(n).pageYOffset))/r.height)}},lF=function(n){!oy(n)&&n.preventDefault()},L4=H.memo(function(n){var e=n.onMove,t=n.onKey,r=I4(n,["onMove","onKey"]),i=T.useRef(null),s=qk(e),o=qk(t),a=T.useRef(null),l=T.useRef(!1),c=T.useMemo(function(){var h=function(x){lF(x),(oy(x)?x.touches.length>0:x.buttons>0)&&i.current?s(aF(i.current,x,a.current)):v(!1)},g=function(){return v(!1)};function v(x){var y=l.current,_=Yk(i.current),b=x?_.addEventListener:_.removeEventListener;b(y?"touchmove":"mousemove",h),b(y?"touchend":"mouseup",g)}return[function(x){var y=x.nativeEvent,_=i.current;if(_&&(lF(y),!function(A,E){return E&&!oy(A)}(y,l.current)&&_)){if(oy(y)){l.current=!0;var b=y.changedTouches||[];b.length&&(a.current=b[0].identifier)}_.focus(),s(aF(_,y,a.current)),v(!0)}},function(x){var y=x.which||x.keyCode;y<37||y>40||(x.preventDefault(),o({left:y===39?.05:y===37?-.05:0,top:y===40?.05:y===38?-.05:0}))},v]},[o,s]),d=c[0],u=c[1],f=c[2];return T.useEffect(function(){return f},[f]),H.createElement("div",K0({},r,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:i,onKeyDown:u,tabIndex:0,role:"slider"}))}),Z1=function(n){return n.filter(Boolean).join(" ")},O4=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=Z1(["react-colorful__pointer",n.className]);return H.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},H.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Ys=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},IW=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:Ys(n.h),s:Ys(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:Ys(i/2),a:Ys(r,2)}},Xk=function(n){var e=IW(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},wC=function(n){var e=IW(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},LW=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:Ys(255*[r,a,o,o,l,r][c]),g:Ys(255*[l,r,r,a,o,o][c]),b:Ys(255*[o,o,l,r,r,a][c]),a:Ys(i,2)}},OW=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:Ys(60*(a<0?a+6:a)),s:Ys(s?o/s*100:0),v:Ys(s/255*100),a:i}},NW=H.memo(function(n){var e=n.hue,t=n.onChange,r=Z1(["react-colorful__hue",n.className]);return H.createElement("div",{className:r},H.createElement(L4,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:x0(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ys(e),"aria-valuemax":"360","aria-valuemin":"0"},H.createElement(O4,{className:"react-colorful__hue-pointer",left:e/360,color:Xk({h:e,s:100,v:100,a:1})})))}),DW=H.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:Xk({h:e.h,s:100,v:100,a:1})};return H.createElement("div",{className:"react-colorful__saturation",style:r},H.createElement(L4,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:x0(e.s+100*i.left,0,100),v:x0(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ys(e.s)+"%, Brightness "+Ys(e.v)+"%"},H.createElement(O4,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Xk(e)})))}),N4=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function BW(n,e,t){var r=qk(t),i=T.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=T.useRef({color:e,hsva:s});T.useEffect(function(){if(!n.equal(e,a.current.color)){var c=n.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,n]),T.useEffect(function(){var c;N4(s,a.current.hsva)||n.equal(c=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,n,r]);var l=T.useCallback(function(c){o(function(d){return Object.assign({},d,c)})},[]);return[s,l]}var L1e=typeof window<"u"?T.useLayoutEffect:T.useEffect,O1e=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},cF=new Map,FW=function(n){L1e(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!cF.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,cF.set(e,t);var r=O1e();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},N1e=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=I4(n,["className","colorModel","color","onChange"]),a=T.useRef(null);FW(a);var l=BW(t,i,s),c=l[0],d=l[1],u=Z1(["react-colorful",e]);return H.createElement("div",K0({},o,{ref:a,className:u}),H.createElement(DW,{hsva:c,onChange:d}),H.createElement(NW,{hue:c.h,onChange:d,className:"react-colorful__last-control"}))},D1e=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+wC(Object.assign({},t,{a:0}))+", "+wC(Object.assign({},t,{a:1}))+")"},s=Z1(["react-colorful__alpha",e]),o=Ys(100*t.a);return H.createElement("div",{className:s},H.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),H.createElement(L4,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:x0(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},H.createElement(O4,{className:"react-colorful__alpha-pointer",left:t.a,color:wC(t)})))},B1e=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=I4(n,["className","colorModel","color","onChange"]),a=T.useRef(null);FW(a);var l=BW(t,i,s),c=l[0],d=l[1],u=Z1(["react-colorful",e]);return H.createElement("div",K0({},o,{ref:a,className:u}),H.createElement(DW,{hsva:c,onChange:d}),H.createElement(NW,{hue:c.h,onChange:d}),H.createElement(D1e,{hsva:c,onChange:d,className:"react-colorful__last-control"}))},F1e={defaultColor:{r:0,g:0,b:0,a:1},toHsva:OW,fromHsva:LW,equal:N4},z1e=function(n){return H.createElement(B1e,K0({},n,{colorModel:F1e}))},V1e={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return OW({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=LW(n)).r,g:e.g,b:e.b};var e},equal:N4},U1e=function(n){return H.createElement(N1e,K0({},n,{colorModel:V1e}))},H1e=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function J1(n,e){var t=G1e(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function G1e(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=H1e.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var $1e=[".DS_Store","Thumbs.db"];function W1e(n){return W0(this,void 0,void 0,function(){return j0(this,function(e){return ZS(n)&&j1e(n)?[2,K1e(n.dataTransfer,n.type)]:q1e(n)?[2,Y1e(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,X1e(n)]:[2,[]]})})}function j1e(n){return ZS(n.dataTransfer)}function q1e(n){return ZS(n)&&ZS(n.target)}function ZS(n){return typeof n=="object"&&n!==null}function Y1e(n){return Kk(n.target.files).map(function(e){return J1(e)})}function X1e(n){return W0(this,void 0,void 0,function(){var e;return j0(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return J1(r)})]}})})}function K1e(n,e){return W0(this,void 0,void 0,function(){var t,r;return j0(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=Kk(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(Z1e))]):[3,2];case 1:return r=i.sent(),[2,uF(zW(r))];case 2:return[2,uF(Kk(n.files).map(function(s){return J1(s)}))]}})})}function uF(n){return n.filter(function(e){return $1e.indexOf(e.name)===-1})}function Kk(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function Z1e(n){if(typeof n.webkitGetAsEntry!="function")return dF(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?VW(e):dF(n)}function zW(n){return n.reduce(function(e,t){return wpe(e,Array.isArray(t)?zW(t):[t])},[])}function dF(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=J1(e);return Promise.resolve(t)}function J1e(n){return W0(this,void 0,void 0,function(){return j0(this,function(e){return[2,n.isDirectory?VW(n):Q1e(n)]})})}function VW(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return W0(o,void 0,void 0,function(){var l,c,d;return j0(this,function(u){switch(u.label){case 0:if(a.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=u.sent(),t(l),[3,4];case 3:return c=u.sent(),r(c),[3,4];case 4:return[3,6];case 5:d=Promise.all(a.map(J1e)),i.push(d),s(),u.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function Q1e(n){return W0(this,void 0,void 0,function(){return j0(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=J1(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var exe=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function fF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(t),!0).forEach(function(r){UW(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function UW(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pF(n,e){return ixe(n)||rxe(n,e)||nxe(n,e)||txe()}function txe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nxe(n,e){if(n){if(typeof n=="string")return mF(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mF(n,e)}}function mF(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function rxe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function ixe(n){if(Array.isArray(n))return n}var sxe="file-invalid-type",oxe="file-too-large",axe="file-too-small",lxe="too-many-files",cxe=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:sxe,message:"File type must be ".concat(t)}},gF=function(e){return{code:oxe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},vF=function(e){return{code:axe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},uxe={code:lxe,message:"Too many files"};function HW(n,e){var t=n.type==="application/x-moz-file"||exe(n,e);return[t,t?null:cxe(e)]}function GW(n,e,t){if(ev(n.size))if(ev(e)&&ev(t)){if(n.size>t)return[!1,gF(t)];if(n.size<e)return[!1,vF(e)]}else{if(ev(e)&&n.size<e)return[!1,vF(e)];if(ev(t)&&n.size>t)return[!1,gF(t)]}return[!0,null]}function ev(n){return n!=null}function dxe(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=HW(a,t),c=pF(l,1),d=c[0],u=GW(a,r,i),f=pF(u,1),h=f[0];return d&&h})}function JS(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Q_(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function yF(n){n.preventDefault()}function fxe(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function hxe(n){return n.indexOf("Edge/")!==-1}function pxe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return fxe(n)||hxe(n)}function ql(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!JS(r)&&a&&a.apply(void 0,[r].concat(s)),JS(r)})}}function mxe(){return"showOpenFilePicker"in window}function gxe(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return hF(hF({},e),{},UW({},t,[]))},{}):{}}]}function vxe(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function yxe(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var xxe=["children"],_xe=["open"],bxe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],wxe=["refKey","onChange","onClick"];function Sxe(n){return Mxe(n)||Exe(n)||$W(n)||Axe()}function Axe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Exe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Mxe(n){if(Array.isArray(n))return Zk(n)}function SC(n,e){return kxe(n)||Txe(n,e)||$W(n,e)||Cxe()}function Cxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $W(n,e){if(n){if(typeof n=="string")return Zk(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zk(n,e)}}function Zk(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Txe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function kxe(n){if(Array.isArray(n))return n}function xF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ir(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(t),!0).forEach(function(r){Jk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jk(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function QS(n,e){if(n==null)return{};var t=Rxe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Rxe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var D4=T.forwardRef(function(n,e){var t=n.children,r=QS(n,xxe),i=jW(r),s=i.open,o=QS(i,_xe);return T.useImperativeHandle(e,function(){return{open:s}},[s]),H.createElement(T.Fragment,null,t(Ir(Ir({},o),{},{open:s})))});D4.displayName="Dropzone";var WW={disabled:!1,getFilesFromEvent:W1e,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};D4.defaultProps=WW;D4.propTypes={children:Qn.func,accept:Qn.oneOfType([Qn.string,Qn.arrayOf(Qn.string)]),multiple:Qn.bool,preventDropOnDocument:Qn.bool,noClick:Qn.bool,noKeyboard:Qn.bool,noDrag:Qn.bool,noDragEventsBubbling:Qn.bool,minSize:Qn.number,maxSize:Qn.number,maxFiles:Qn.number,disabled:Qn.bool,getFilesFromEvent:Qn.func,onFileDialogCancel:Qn.func,onFileDialogOpen:Qn.func,useFsAccessApi:Qn.bool,onDragEnter:Qn.func,onDragLeave:Qn.func,onDragOver:Qn.func,onDrop:Qn.func,onDropAccepted:Qn.func,onDropRejected:Qn.func,validator:Qn.func};var Qk={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function jW(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Ir(Ir({},WW),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,d=e.onDragLeave,u=e.onDragOver,f=e.onDrop,h=e.onDropAccepted,g=e.onDropRejected,v=e.onFileDialogCancel,x=e.onFileDialogOpen,y=e.useFsAccessApi,_=e.preventDropOnDocument,b=e.noClick,A=e.noKeyboard,E=e.noDrag,k=e.noDragEventsBubbling,P=e.validator,C=T.useMemo(function(){return typeof x=="function"?x:_F},[x]),O=T.useMemo(function(){return typeof v=="function"?v:_F},[v]),U=T.useRef(null),K=T.useRef(null),J=T.useReducer(Pxe,Qk),F=SC(J,2),S=F[0],I=F[1],D=S.isFocused,$=S.isFileDialogActive,N=S.draggedFiles,G=T.useRef(typeof window<"u"&&window.isSecureContext&&y&&mxe()),j=function(){!G.current&&$&&setTimeout(function(){if(K.current){var le=K.current.files;le.length||(I({type:"closeDialog"}),O())}},300)};T.useEffect(function(){return window.addEventListener("focus",j,!1),function(){window.removeEventListener("focus",j,!1)}},[K,$,O,G]);var W=T.useRef([]),R=function(le){U.current&&U.current.contains(le.target)||(le.preventDefault(),W.current=[])};T.useEffect(function(){return _&&(document.addEventListener("dragover",yF,!1),document.addEventListener("drop",R,!1)),function(){_&&(document.removeEventListener("dragover",yF),document.removeEventListener("drop",R))}},[U,_]);var Y=T.useCallback(function(q){q.preventDefault(),q.persist(),Ce(q),W.current=[].concat(Sxe(W.current),[q.target]),Q_(q)&&Promise.resolve(i(q)).then(function(le){JS(q)&&!k||(I({draggedFiles:le,isDragActive:!0,type:"setDraggedFiles"}),c&&c(q))})},[i,c,k]),Ae=T.useCallback(function(q){q.preventDefault(),q.persist(),Ce(q);var le=Q_(q);if(le&&q.dataTransfer)try{q.dataTransfer.dropEffect="copy"}catch{}return le&&u&&u(q),!1},[u,k]),z=T.useCallback(function(q){q.preventDefault(),q.persist(),Ce(q);var le=W.current.filter(function(Be){return U.current&&U.current.contains(Be)}),ze=le.indexOf(q.target);ze!==-1&&le.splice(ze,1),W.current=le,!(le.length>0)&&(I({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Q_(q)&&d&&d(q))},[U,d,k]),Q=T.useCallback(function(q,le){var ze=[],Be=[];q.forEach(function(Ue){var mt=HW(Ue,t),be=SC(mt,2),Xe=be[0],tt=be[1],ae=GW(Ue,o,s),xe=SC(ae,2),je=xe[0],qe=xe[1],st=P?P(Ue):null;if(Xe&&je&&!st)ze.push(Ue);else{var ce=[tt,qe];st&&(ce=ce.concat(st)),Be.push({file:Ue,errors:ce.filter(function($e){return $e})})}}),(!a&&ze.length>1||a&&l>=1&&ze.length>l)&&(ze.forEach(function(Ue){Be.push({file:Ue,errors:[uxe]})}),ze.splice(0)),I({acceptedFiles:ze,fileRejections:Be,type:"setFiles"}),f&&f(ze,Be,le),Be.length>0&&g&&g(Be,le),ze.length>0&&h&&h(ze,le)},[I,a,t,o,s,l,f,h,g,P]),ve=T.useCallback(function(q){q.preventDefault(),q.persist(),Ce(q),W.current=[],Q_(q)&&Promise.resolve(i(q)).then(function(le){JS(q)&&!k||Q(le,q)}),I({type:"reset"})},[i,Q,k]),ge=T.useCallback(function(){if(G.current){I({type:"openDialog"}),C();var q={multiple:a,types:gxe(t)};window.showOpenFilePicker(q).then(function(le){return i(le)}).then(function(le){Q(le,null),I({type:"closeDialog"})}).catch(function(le){vxe(le)?(O(le),I({type:"closeDialog"})):yxe(le)&&(G.current=!1,K.current&&(K.current.value=null,K.current.click()))});return}K.current&&(I({type:"openDialog"}),C(),K.current.value=null,K.current.click())},[I,C,O,y,Q,t,a]),Re=T.useCallback(function(q){!U.current||!U.current.isEqualNode(q.target)||(q.key===" "||q.key==="Enter"||q.keyCode===32||q.keyCode===13)&&(q.preventDefault(),ge())},[U,ge]),Oe=T.useCallback(function(){I({type:"focus"})},[]),Me=T.useCallback(function(){I({type:"blur"})},[]),X=T.useCallback(function(){b||(pxe()?setTimeout(ge,0):ge())},[b,ge]),ee=function(le){return r?null:le},ie=function(le){return A?null:ee(le)},fe=function(le){return E?null:ee(le)},Ce=function(le){k&&le.stopPropagation()},we=T.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=q.refKey,ze=le===void 0?"ref":le,Be=q.role,Ue=q.onKeyDown,mt=q.onFocus,be=q.onBlur,Xe=q.onClick,tt=q.onDragEnter,ae=q.onDragOver,xe=q.onDragLeave,je=q.onDrop,qe=QS(q,bxe);return Ir(Ir(Jk({onKeyDown:ie(ql(Ue,Re)),onFocus:ie(ql(mt,Oe)),onBlur:ie(ql(be,Me)),onClick:ee(ql(Xe,X)),onDragEnter:fe(ql(tt,Y)),onDragOver:fe(ql(ae,Ae)),onDragLeave:fe(ql(xe,z)),onDrop:fe(ql(je,ve)),role:typeof Be=="string"&&Be!==""?Be:"button"},ze,U),!r&&!A?{tabIndex:0}:{}),qe)}},[U,Re,Oe,Me,X,Y,Ae,z,ve,A,E,r]),Ne=T.useCallback(function(q){q.stopPropagation()},[]),Ze=T.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=q.refKey,ze=le===void 0?"ref":le,Be=q.onChange,Ue=q.onClick,mt=QS(q,wxe),be=Jk({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:ee(ql(Be,ve)),onClick:ee(ql(Ue,Ne)),tabIndex:-1},ze,K);return Ir(Ir({},be),mt)}},[K,t,a,ve,r]),nt=N.length,ht=nt>0&&dxe({files:N,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),se=nt>0&&!ht;return Ir(Ir({},S),{},{isDragAccept:ht,isDragReject:se,isFocused:D&&!r,getRootProps:we,getInputProps:Ze,rootRef:U,inputRef:K,open:ee(ge)})}function Pxe(n,e){switch(e.type){case"focus":return Ir(Ir({},n),{},{isFocused:!0});case"blur":return Ir(Ir({},n),{},{isFocused:!1});case"openDialog":return Ir(Ir({},Qk),{},{isFileDialogActive:!0});case"closeDialog":return Ir(Ir({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return Ir(Ir({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return Ir(Ir({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Ir({},Qk);default:return n}}function _F(){}function Ixe(n){let e;const t=new Set,r=(c,d)=>{const u=typeof c=="function"?c(e):c;if(u!==e){const f=e;e=d?u:Object.assign({},e,u),t.forEach(h=>h(e,f))}},i=()=>e,s=(c,d=i,u=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=d(e);function h(){const g=d(e);if(!u(f,g)){const v=f;c(f=g,v)}}return t.add(h),()=>t.delete(h)},l={setState:r,getState:i,subscribe:(c,d,u)=>d||u?s(c,d,u):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Lxe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),bF=Lxe?T.useEffect:T.useLayoutEffect;function qW(n){const e=typeof n=="function"?Ixe(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=T.useReducer(x=>x+1,0),o=e.getState(),a=T.useRef(o),l=T.useRef(r),c=T.useRef(i),d=T.useRef(!1),u=T.useRef();u.current===void 0&&(u.current=r(o));let f,h=!1;(a.current!==o||l.current!==r||c.current!==i||d.current)&&(f=r(o),h=!i(u.current,f)),bF(()=>{h&&(u.current=f),a.current=o,l.current=r,c.current=i,d.current=!1});const g=T.useRef(o);bF(()=>{const x=()=>{try{const _=e.getState(),b=l.current(_);c.current(u.current,b)||(a.current=_,u.current=b,s())}catch{d.current=!0,s()}},y=e.subscribe(x);return e.getState()!==g.current&&x(),y},[]);const v=h?f:u.current;return T.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const Oxe=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const d=(l==null?void 0:l.equalityFn)||Object.is;let u=o(r.getState());c=f=>{const h=o(f);if(!d(u,h)){const g=u;a(u=h,g)}},l!=null&&l.fireImmediately&&a(u,u)}return i(c)},n(e,t,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Nxe=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Dxe=Nxe;function wF(n){return Dxe(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var YW=function(e){var t,r;return!(wF(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,wF(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Bxe=YW,B4=function(e){return Bxe(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Fxe=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},zxe=B4,Vxe=Fxe;function XW(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];e5(i)&&Vxe(i,Uxe,n)}return n}function Uxe(n,e){if(Hxe(e)){var t=this[e];e5(n)&&e5(t)?XW(t,n):this[e]=n}}function e5(n){return zxe(n)&&!Array.isArray(n)}function Hxe(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var Gxe=XW;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var $xe=function(n,e,t,r,i){if(!Wxe(n)||!e)return n;if(e=eb(e),t&&(e+="."+eb(t)),r&&(e+="."+eb(r)),i&&(e+="."+eb(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function Wxe(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function eb(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var jxe=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];t.call(o,c)&&(r[c]=o[c])}return r},qxe=B4,Yxe=jxe,Xxe=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");SF(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];Zxe(t)&&(t=Jxe(t)),SF(t)&&(Kxe(n,t),Yxe(n,t))}return n};function Kxe(n,e){for(var t in e)Qxe(e,t)&&(n[t]=e[t])}function Zxe(n){return n&&typeof n=="string"}function Jxe(n){var e={};for(var t in n)e[t]=n[t];return e}function SF(n){return n&&typeof n=="object"||qxe(n)}function Qxe(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var e_e=Xxe,t_e=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=e_e({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,d=n.length,u=-1,f;function h(){if(s&&a.length)return s[a[a.length-1]]}for(;++u<d;){var g=n[u],v=n[u+1],x={val:g,idx:u,arr:l,str:n};if(o.push(x),g==="\\"){x.val=r_e(r,n,u)===!0?g+v:v,x.escaped=!0,typeof t=="function"&&t(x),l[l.length-1]+=x.val,u++;continue}if(s&&s[g]){a.push(g);var y=h(),_=u+1;if(n.indexOf(y,_+1)!==-1)for(;a.length&&_<d;){var b=n[++_];if(b==="\\"){b++;continue}if(i.indexOf(b)!==-1){_=t5(n,b,_+1);continue}if(y=h(),a.length&&n.indexOf(y,_+1)===-1)break;if(s[b]){a.push(b);continue}y===b&&a.pop()}if(f=_,f===-1){l[l.length-1]+=g;continue}g=n.slice(u,f+1),x.val=g,x.idx=u=f}if(i.indexOf(g)!==-1){if(f=t5(n,g,u+1),f===-1){l[l.length-1]+=g;continue}n_e(g,r)===!0?g=n.slice(u,f+1):g=n.slice(u+1,f),x.val=g,x.idx=u=f}if(typeof t=="function"&&(t(x,o),g=x.val,u=x.idx),x.val===c&&x.split!==!1){l.push("");continue}l[l.length-1]+=x.val}return l};function t5(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?t5(n,e,i+1):i}function n_e(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function r_e(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var i_e=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},AF=i_e,s_e=function(e){AF(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];AF(i)&&o_e(e,i)}return e};function o_e(n,e){for(var t in e)a_e(e,t)&&(n[t]=e[t])}function a_e(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var l_e=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var c_e=t_e,u_e=s_e,EF=YW,MF=l_e,d_e=function(n,e,t){if(!MF(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=c_e(e,{sep:".",brackets:!0}).filter(f_e),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){MF(o[a])||(o[a]={}),o=o[a];continue}EF(o[a])&&EF(t)?o[a]=u_e({},o[a],t):o[a]=t}return n};function f_e(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var AC=B4,CF=Gxe,h_e=$xe,TF=d_e,p_e=function(e,t,r){if(!AC(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return CF.apply(null,arguments);if(typeof r=="string")return TF(e,t,r),e;var i=h_e(e,t);return AC(r)&&AC(i)&&(r=CF({},i,r)),TF(e,t,r),e};const F4=(...n)=>n.filter(Boolean).join(".");function m_e(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function g_e(n,e){return Object.entries(Yve(n,e)).reduce((t,[,{value:r,disabled:i,key:s}])=>(t[s]=i?void 0:r,t),{})}function v_e(n,e){const t=T.useRef();return(e?Qy:j1)(n,t.current)||(t.current=n),t.current}function KW(n,e){return T.useMemo(n,v_e(e,!0))}function y_e(n){const e=T.useRef(null),t=T.useRef(null),r=T.useRef(!0);return T.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),T.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const x_e=n=>{const[e,t]=T.useState(n.getVisiblePaths());return T.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:j1});return()=>r()},[n]),e};function __e(n,e,t){return n.useStore(i=>{const s=Ft(Ft({},t),i.data);return g_e(s,e)},j1)}function ZW(n=3){const e=T.useRef(null),t=T.useRef(null),[r,i]=T.useState(!1),s=T.useCallback(()=>i(!0),[]),o=T.useCallback(()=>i(!1),[]);return T.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:d}=t.current.getBoundingClientRect(),u=a+d>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",u==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}P1e([I1e]);const b_e={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};mo.extend({color:()=>n=>Ws(n).isValid()});const w_e=n=>mo().color().test(n);function JW(n,{format:e,hasAlpha:t,isString:r}){const i=b_e[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?Xve(s,["a"]):s}const QW=(n,e)=>{const t=Ws(n);if(!t.isValid())throw Error("Invalid color");return JW(t,e)},S_e=(n,e)=>JW(Ws(n),Ft(Ft({},e),{},{isString:!0,format:"hex"})),A_e=({value:n})=>{const e=R1e(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:QW(n,i),settings:i}};var E_e=Object.freeze({__proto__:null,schema:w_e,sanitize:QW,format:S_e,normalize:A_e});const M_e=Ot("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),C_e=Ot("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),T_e=Ot("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function kF(n,e){return e!=="rgb"?Ws(n).toRgb():n}function k_e({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Ls(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:c,shown:d,show:u,hide:f}=ZW(),h=T.useRef(0),[g,v]=T.useState(()=>kF(n,o)),x=a?z1e:U1e,y=()=>{v(kF(n,o)),u(),i()},_=()=>{f(),s(),window.clearTimeout(h.current)},b=()=>{h.current=window.setTimeout(_,500)};return T.useEffect(()=>()=>window.clearTimeout(h.current),[]),H.createElement(H.Fragment,null,H.createElement(M_e,{ref:l,active:d,onClick:()=>y(),style:{color:e}}),d&&H.createElement(k4,null,H.createElement(xW,{onPointerUp:_}),H.createElement(T_e,{ref:c,onMouseEnter:()=>window.clearTimeout(h.current),onMouseLeave:A=>A.buttons===0&&b()},H.createElement(x,{color:g,onChange:r}))))}function R_e(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=Ls();return H.createElement(ja,{input:!0},H.createElement(Bl,null,t),H.createElement(C_e,null,H.createElement(k_e,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),H.createElement(T4,{value:e,onChange:r,onUpdate:i})))}var P_e=Ft({component:R_e},E_e);function I_e(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Ls();return H.createElement(ja,{input:!0},H.createElement(Bl,null,n),H.createElement(P4,{value:e,settings:r,onUpdate:t}))}var L_e=Ft({component:I_e},CW(["x","y","z"]));const O_e=Ot("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),N_e=Ot("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function D_e({value:n,settings:e,onUpdate:t}){const r=T.useRef(),i=T.useRef(0),s=T.useRef(0),o=T.useRef(1),[a,l]=T.useState(!1),[c,d]=T.useState(!1),[u,f]=bW(),h=T.useRef(null),g=T.useRef(null);T.useLayoutEffect(()=>{if(a){const{top:J,left:F,width:S,height:I}=h.current.getBoundingClientRect();g.current.style.left=F+S/2+"px",g.current.style.top=J+I/2+"px"}},[a]);const{keys:[v,x],joystick:y}=e,_=y==="invertY"?1:-1,{[v]:{step:b},[x]:{step:A}}=e,E=gu("sizes","joystickWidth"),k=gu("sizes","joystickHeight"),P=parseFloat(E)*.8/2,C=parseFloat(k)*.8/2,O=T.useCallback(()=>{r.current||(d(!0),i.current&&f({x:i.current*P}),s.current&&f({y:s.current*-C}),r.current=window.setInterval(()=>{t(J=>{const F=b*i.current*o.current,S=_*A*s.current*o.current;return Array.isArray(J)?{[v]:J[0]+F,[x]:J[1]+S}:{[v]:J[v]+F,[x]:J[x]+S}})},16))},[P,C,t,f,b,A,v,x,_]),U=T.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,d(!1)},[]);T.useEffect(()=>{function J(F){o.current=sW(F)}return window.addEventListener("keydown",J),window.addEventListener("keyup",J),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",J),window.removeEventListener("keyup",J)}},[]);const K=K1(({first:J,active:F,delta:[S,I],movement:[D,$]})=>{J&&l(!0);const N=Zd(D,-P,P),G=Zd($,-C,C);i.current=Math.abs(D)>Math.abs(N)?Math.sign(D-N):0,s.current=Math.abs($)>Math.abs(G)?Math.sign(G-$):0;let j=n[v],W=n[x];F?(i.current||(j+=S*b*o.current,f({x:N})),s.current||(W-=_*I*A*o.current,f({y:G})),i.current||s.current?O():U(),t({[v]:j,[x]:W})):(l(!1),i.current=0,s.current=0,f({x:0,y:0}),U())});return H.createElement(O_e,Zr({ref:h},K()),a&&H.createElement(k4,null,H.createElement(N_e,{ref:g,isOutOfBounds:c},H.createElement("div",null),H.createElement("span",{ref:u}))))}const B_e=Ot("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function F_e(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Ls();return H.createElement(ja,{input:!0},H.createElement(Bl,null,n),H.createElement(B_e,{withJoystick:!!r.joystick},r.joystick&&H.createElement(D_e,{value:e,settings:r,onUpdate:t}),H.createElement(P4,{value:e,settings:r,onUpdate:t})))}const z_e=["joystick"],ej=CW(["x","y"]),V_e=n=>{let{joystick:e=!0}=n,t=nr(n,z_e);const{value:r,settings:i}=ej.normalize(t);return{value:r,settings:Ft(Ft({},i),{},{joystick:e})}};var U_e=Ft(Ft({component:F_e},ej),{},{normalize:V_e});const H_e=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |File].")}},G_e=(n,e)=>typeof e=="object"&&"image"in e,$_e=({image:n})=>({value:n});var W_e=Object.freeze({__proto__:null,sanitize:H_e,schema:G_e,normalize:$_e});const j_e=Ot("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),q_e=Ot("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Y_e=Ot("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),X_e=Ot("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),K_e=Ot("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Z_e=Ot("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function J_e(){const{label:n,value:e,onUpdate:t,disabled:r}=Ls(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=ZW(),c=T.useCallback(g=>{g.length&&t(g[0])},[t]),d=T.useCallback(g=>{g.stopPropagation(),t(void 0)},[t]),{getRootProps:u,getInputProps:f,isDragAccept:h}=jW({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return H.createElement(ja,{input:!0},H.createElement(Bl,null,n),H.createElement(j_e,null,H.createElement(Y_e,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&H.createElement(k4,null,H.createElement(xW,{onPointerUp:l,style:{cursor:"pointer"}}),H.createElement(X_e,{ref:s,style:{backgroundImage:`url(${e})`}})),H.createElement(q_e,u({isDragAccept:h}),H.createElement("input",f()),H.createElement(K_e,null,h?"drop image":"click or drop")),H.createElement(Z_e,{onClick:d,disabled:!e})))}var Q_e=Ft({component:J_e},W_e);const RF=mo().number(),ebe=(n,e)=>mo().array().length(2).every.number().test(n)&&mo().schema({min:RF,max:RF}).test(e),e2=n=>({min:n[0],max:n[1]}),tj=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?e2(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=Ft(Ft({},s),i);return[Zd(Number(o),e,Math.max(e,a)),Zd(Number(a),Math.min(t,o),t)]},tbe=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=MW(e2(n),{min:r,max:r}),s=[e,t],o=Ft(Ft({},i),{},{bounds:s});return{value:tj(e2(n),o,n),settings:o}};var nbe=Object.freeze({__proto__:null,schema:ebe,format:e2,sanitize:tj,normalize:tbe});const rbe=["value","bounds","onDrag"],ibe=["bounds"],sbe=Ot("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function obe(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=nr(n,rbe);const o=T.useRef(null),a=T.useRef(null),l=T.useRef(null),c=T.useRef(0),d=gu("sizes","scrubberWidth"),u=K1(({event:g,first:v,xy:[x],movement:[y],memo:_={}})=>{if(v){const{width:A,left:E}=o.current.getBoundingClientRect();c.current=A-parseFloat(d);const k=(g==null?void 0:g.target)===a.current||(g==null?void 0:g.target)===l.current;_.pos=XS((x-E)/A,t,r);const P=Math.abs(_.pos-e.min)-Math.abs(_.pos-e.max);_.key=P<0||P===0&&_.pos<=e.min?"min":"max",k&&(_.pos=e[_.key])}const b=_.pos+XS(y/c.current,0,r-t);return i({[_.key]:Bye(b,s[_.key])}),_}),f=`calc(${YS(e.min,t,r)} * (100% - ${d} - 8px) + 4px)`,h=`calc(${1-YS(e.max,t,r)} * (100% - ${d} - 8px) + 4px)`;return H.createElement(SW,Zr({ref:o},u()),H.createElement(wW,null,H.createElement(AW,{style:{left:f,right:h}})),H.createElement(Gk,{position:"left",ref:a,style:{left:f}}),H.createElement(Gk,{position:"right",ref:l,style:{right:h}}))}function abe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Ls(),i=nr(r,ibe);return H.createElement(H.Fragment,null,H.createElement(ja,{input:!0},H.createElement(Bl,null,n),H.createElement(sbe,null,H.createElement(obe,Zr({value:e},r,{onDrag:t})),H.createElement(P4,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var lbe=Ft({component:abe},nbe);const cbe=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},ube=["type","value"],dbe=["onChange","transient","onEditStart","onEditEnd"],fbe=function(){const e=qW(Oxe(()=>({data:{}}))),t=cbe();this.storeId=qve(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([d,u])=>{u.render&&a.some(f=>f.indexOf(d)===0)&&!u.render(this.get)&&l.push(d+".")});const c=[];return i.forEach(d=>{d in o&&o[d].__refCount>0&&l.every(u=>d.indexOf(u)===-1)&&(!o[d].render||o[d].render(this.get))&&c.push(d)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const d=l[c];d.__refCount--,d.__refCount===0&&d.type in Tl&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([d,u])=>{let f=c[d];if(f){const{type:h,value:g}=u,v=nr(u,ube);h!==f.type?su(Or.INPUT_TYPE_OVERRIDE,h):((f.__refCount===0||a)&&Object.assign(f,v),f.__refCount++)}else c[d]=Ft(Ft({},u),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const d=c.data;return Q6(d[o],a,o,this,l),{data:d}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=Ft(Ft({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([d,u])=>{try{Q6(c[d],u,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{su(Or.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,Ft(Ft({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,Ft(Ft({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([d,u])=>{if(d==="")return su(Or.EMPTY_KEY);let f=F4(a,d);if(u.type===Tl.FOLDER){const h=s(u.schema,f,l);Object.assign(c,h),f in r||(r[f]=u.settings)}else if(d in l)su(Or.DUPLICATE_KEYS,d,f,l[d].path);else{const h=tye(u,d,f,c);if(h){const{type:g,options:v,input:x}=h,{onChange:y,transient:_,onEditStart:b,onEditEnd:A}=v,E=nr(v,dbe);c[f]=Ft(Ft(Ft({type:g},E),x),{},{fromPanel:!0}),l[d]={path:f,onChange:y,transient:_,onEditStart:b,onEditEnd:A}}else su(Or.UNKNOWN_INPUT,f,u)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},nj=new fbe,hbe={collapsed:!1};function pbe(n,e){return{type:Tl.FOLDER,schema:n,settings:Ft(Ft({},hbe),e)}}const PF=n=>"__levaInput"in n,mbe=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=m_e(i);(!r||s.toLowerCase().indexOf(r)>-1)&&p_e(t,o,{[s]:{__levaInput:!0,path:i}})}),t},gbe=["type","label","path","valueKey","value","settings","setValue","disabled"];function vbe(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,c=nr(n,gbe);const{displayValue:d,onChange:u,onUpdate:f}=_W({type:e,value:s,settings:o,setValue:a}),h=Hh[e].component;return h?H.createElement(uW.Provider,{value:Ft({key:i,path:r,id:""+r,label:t,displayValue:d,value:s,onChange:u,onUpdate:f,settings:o,setValue:a,disabled:l},c)},H.createElement(bye,{disabled:l},H.createElement(h,null))):(su(Or.NO_COMPONENT_FOR_TYPE,e,r),null)}const ybe=Ot("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function xbe({onClick:n,settings:e,label:t}){const r=X1();return H.createElement(ja,null,H.createElement(ybe,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const _be=Ot("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),bbe=Ot("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),wbe=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function Sbe(n){const{label:e,opts:t}=wbe(n),r=X1();return H.createElement(ja,{input:!!e},e&&H.createElement(Bl,null,e),H.createElement(_be,null,Object.entries(t).map(([i,s])=>H.createElement(bbe,{key:i,onClick:()=>s(r.get)},i))))}const Abe=Ot("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),rj=100;function Ebe(n,e){n.push(e),n.length>rj&&n.shift()}const Mbe=T.forwardRef(function({initialValue:n},e){const t=gu("colors","highlight3"),r=gu("colors","elevation2"),i=gu("colors","highlight1"),[s,o]=T.useMemo(()=>[Ws(i).alpha(.4).toRgbString(),Ws(i).alpha(.1).toRgbString()],[i]),a=T.useRef([n]),l=T.useRef(n),c=T.useRef(n),d=T.useRef(),u=T.useCallback((g,v)=>{if(!g)return;const{width:x,height:y}=g,_=new Path2D,b=x/rj,A=y*.05;for(let P=0;P<a.current.length;P++){const C=YS(a.current[P],l.current,c.current),O=b*P,U=y-C*(y-A*2)-A;_.lineTo(O,U)}v.clearRect(0,0,x,y);const E=new Path2D(_);E.lineTo(b*(a.current.length+1),y),E.lineTo(0,y),E.lineTo(0,0);const k=v.createLinearGradient(0,0,0,y);k.addColorStop(0,s),k.addColorStop(1,o),v.fillStyle=k,v.fill(E),v.strokeStyle=r,v.lineJoin="round",v.lineWidth=14,v.stroke(_),v.strokeStyle=t,v.lineWidth=2,v.stroke(_)},[t,r,s,o]),[f,h]=Rye(u);return T.useImperativeHandle(e,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(c.current===void 0||g>c.current)&&(c.current=g),Ebe(a.current,g),d.current=requestAnimationFrame(()=>u(f.current,h.current))}}),[f,h,u]),T.useEffect(()=>()=>cancelAnimationFrame(d.current),[]),H.createElement(Abe,{ref:f})}),IF=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),Cbe=T.forwardRef(function({initialValue:n},e){const[t,r]=T.useState(IF(n));return T.useImperativeHandle(e,()=>({frame:i=>r(IF(i))}),[]),H.createElement("div",null,t)});function LF(n){return typeof n=="function"?n():n.current}function Tbe({label:n,objectOrFn:e,settings:t}){const r=T.useRef(),i=T.useRef(LF(e));return T.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(LF(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),H.createElement(ja,{input:!0},H.createElement(Bl,{align:"top"},n),t.graph?H.createElement(Mbe,{ref:r,initialValue:i.current}):H.createElement(Cbe,{ref:r,initialValue:i.current}))}const kbe=["type","label","key"],Rbe={[Tl.BUTTON]:xbe,[Tl.BUTTON_GROUP]:Sbe,[Tl.MONITOR]:Tbe},Pbe=H.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=Iye(n);if(!e)return null;const{type:l,label:c,key:d}=e,u=nr(e,kbe);if(l in Tl){const f=Rbe[l];return H.createElement(f,Zr({label:c,path:n},u))}return l in Hh?H.createElement(vbe,Zr({key:s+n,type:l,label:c,storeId:s,path:n,valueKey:d,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},u)):(zve(Or.UNSUPPORTED_INPUT,l,n),null)});function Ibe({toggle:n,toggled:e,name:t}){return H.createElement(yye,{onClick:()=>n()},H.createElement(R4,{toggled:e}),H.createElement("div",null,t))}const Lbe=({name:n,path:e,tree:t})=>{const r=X1(),i=F4(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=T.useState(!s),c=T.useRef(null),d=gu("colors","folderWidgetColor"),u=gu("colors","folderTextColor");return T.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||d),c.current.style.setProperty("--leva-colors-folderTextColor",o||u)},[o,d,u]),H.createElement(KS,{ref:c},H.createElement(Ibe,{name:n,toggled:a,toggle:()=>l(f=>!f)}),H.createElement(ij,{parent:i,tree:t,toggled:a}))},ij=H.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=y_e(s),l=X1(),c=([u,f])=>{var h;return(PF(f)?(h=l.getInput(f.path))===null||h===void 0?void 0:h.order:l.getFolderSettings(F4(r,u)).order)||0},d=Object.entries(i).sort((u,f)=>c(u)-c(f));return H.createElement(Uk,{ref:o,isRoot:n,fill:e,flat:t},H.createElement(gW,{ref:a,isRoot:n,toggled:s},d.map(([u,f])=>PF(f)?H.createElement(Pbe,{key:f.path,valueKey:f.valueKey,path:f.path}):H.createElement(Lbe,{key:u,name:u,path:r,tree:f}))))}),Obe=Ot("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${yW}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),sj=40,t2=Ot("i",{$flexCenter:"",width:sj,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Nbe=Ot("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Dbe=Ot("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${t2}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Bbe=Ot("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Fbe=Ot("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:sj}}}}),zbe=H.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=T.useState(""),s=T.useMemo(()=>iW(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return T.useEffect(()=>{s(r)},[r,s]),H.createElement(H.Fragment,null,H.createElement(Bbe,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),H.createElement(t2,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Vbe({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[d,u]=T.useState(!1),f=T.useRef(null);T.useEffect(()=>{var g,v;d?(g=f.current)===null||g===void 0||g.focus():(v=f.current)===null||v===void 0||v.blur()},[d]);const h=K1(({offset:[g,v],first:x,last:y})=>{e({x:g,y:v}),x&&t({x:g,y:v}),y&&r({x:g,y:v})},{filterTaps:!0,from:({offset:[g,v]})=>[(c==null?void 0:c.x)||g,(c==null?void 0:c.y)||v]});return T.useEffect(()=>{const g=v=>{v.key==="L"&&v.shiftKey&&v.metaKey&&u(x=>!x)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),H.createElement(H.Fragment,null,H.createElement(Nbe,{mode:a?"drag":void 0},H.createElement(t2,{active:!s,onClick:()=>i()},H.createElement(R4,{toggled:s,width:12,height:8})),H.createElement(Fbe,Zr({},a?h():{},{drag:a,filterEnabled:l}),o===void 0&&a?H.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},H.createElement("circle",{cx:"2",cy:"2",r:"2"}),H.createElement("circle",{cx:"14",cy:"2",r:"2"}),H.createElement("circle",{cx:"26",cy:"2",r:"2"}),H.createElement("circle",{cx:"2",cy:"12",r:"2"}),H.createElement("circle",{cx:"14",cy:"12",r:"2"}),H.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&H.createElement(t2,{active:d,onClick:()=>u(g=>!g)},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},H.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),H.createElement(Dbe,{toggled:d},H.createElement(zbe,{ref:f,setFilter:n,toggle:i})))}const Ube=["store","hidden","theme","collapsed"];function Hbe(n){let{store:e,hidden:t=!1,theme:r,collapsed:i=!1}=n,s=nr(n,Ube);const o=KW(()=>fye(r),[r]),[a,l]=T.useState(!i),c=typeof i=="object"?!i.collapsed:a,d=T.useMemo(()=>typeof i=="object"?u=>{typeof u=="function"?i.onChange(!u(!i.collapsed)):i.onChange(!u)}:l,[i]);return!e||t?null:H.createElement(C4.Provider,{value:o},H.createElement(Gbe,Zr({store:e},s,{toggled:c,setToggle:d,rootClass:o.className})))}const Gbe=H.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var d,u;const f=x_e(n),[h,g]=T.useState(""),v=T.useMemo(()=>mbe(f,h),[f,h]),[x,y]=bW(),_=i||f.length>0,b=typeof o=="object"&&o.title||void 0,A=typeof o=="object"&&(d=o.drag)!==null&&d!==void 0?d:!0,E=typeof o=="object"&&(u=o.filter)!==null&&u!==void 0?u:!0,k=typeof o=="object"&&o.position||void 0,P=typeof o=="object"&&o.onDrag||void 0,C=typeof o=="object"&&o.onDragStart||void 0,O=typeof o=="object"&&o.onDragEnd||void 0;return H.useEffect(()=>{y({x:k==null?void 0:k.x,y:k==null?void 0:k.y})},[k,y]),dye(),H.createElement(fW.Provider,{value:{hideCopyButton:a}},H.createElement(Obe,{ref:x,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:_?"block":"none"}},o&&H.createElement(Vbe,{onDrag:U=>{y(U),P==null||P(U)},onDragStart:U=>C==null?void 0:C(U),onDragEnd:U=>O==null?void 0:O(U),setFilter:g,toggle:U=>c(K=>U??!K),toggled:l,title:b,drag:A,filterEnabled:E,from:k}),_&&H.createElement(dW.Provider,{value:n},H.createElement(ij,{isRoot:!0,fill:t,flat:r,tree:v,toggled:l}))))}),$be=["isRoot"];let n2=!1,gh=null;function Wbe(n){let{isRoot:e=!1}=n,t=nr(n,$be);return T.useEffect(()=>(n2=!0,!e&&gh&&(gh.remove(),gh=null),()=>{e||(n2=!1)}),[e]),H.createElement(Hbe,Zr({store:nj},t))}function jbe(n){T.useEffect(()=>{n&&!n2&&(gh||(gh=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(gh),rye(H.createElement(Wbe,{isRoot:!0}),gh))),n2=!0)},[n])}function qbe(n,e,t,r,i){let s,o,a,l,c;return typeof n=="string"?(o=n,s=e,Array.isArray(t)?c=t:t&&("store"in t?(l=t,c=r):(a=t,Array.isArray(r)?c=r:(l=r,c=i)))):(s=n,Array.isArray(e)?c=e:(l=e,c=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:c||[]}}function n5(n,e,t,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:c}=qbe(n,e,t,r,i),d=typeof o=="function",u=T.useRef(!1),f=T.useRef(!0),h=KW(()=>{u.current=!0;const K=typeof o=="function"?o():o;return s?{[s]:pbe(K,a)}:K},c),g=!(l!=null&&l.store);jbe(g);const[v]=T.useState(()=>(l==null?void 0:l.store)||nj),[x,y]=T.useMemo(()=>v.getDataFromSchema(h),[v,h]),[_,b,A,E,k]=T.useMemo(()=>{const K=[],J=[],F={},S={},I={};return Object.values(y).forEach(({path:D,onChange:$,onEditStart:N,onEditEnd:G,transient:j})=>{K.push(D),$?(F[D]=$,j||J.push(D)):J.push(D),N&&(S[D]=N),G&&(I[D]=G)}),[K,J,F,S,I]},[y]),P=T.useMemo(()=>v.orderPaths(_),[_,v]),C=__e(v,b,x),O=T.useCallback(K=>{const J=Object.entries(K).reduce((F,[S,I])=>Object.assign(F,{[y[S].path]:I}),{});v.set(J,!1)},[v,y]),U=T.useCallback(K=>v.get(y[K].path),[v,y]);return T.useEffect(()=>{const K=!f.current&&u.current;return v.addData(x,K),f.current=!1,u.current=!1,()=>v.disposePaths(P)},[v,P,x]),T.useEffect(()=>{const K=[];return Object.entries(A).forEach(([J,F])=>{F(v.get(J),J,Ft({initial:!0,get:v.get},v.getInput(J)));const S=v.useStore.subscribe(I=>{const D=I.data[J];return[D.disabled?void 0:D.value,D]},([I,D])=>F(I,J,Ft({initial:!1,get:v.get},D)),{equalityFn:j1});K.push(S)}),()=>K.forEach(J=>J())},[v,A]),T.useEffect(()=>{const K=[];return Object.entries(E).forEach(([J,F])=>K.push(v.subscribeToEditStart(J,F))),Object.entries(k).forEach(([J,F])=>K.push(v.subscribeToEditEnd(J,F))),()=>K.forEach(J=>J())},[E,k,v]),d?[C,O,U]:C}Lu(Ll.SELECT,Xye);Lu(Ll.IMAGE,Q_e);Lu(Ll.NUMBER,zye);Lu(Ll.COLOR,P_e);Lu(Ll.STRING,i1e);Lu(Ll.BOOLEAN,d1e);Lu(Ll.INTERVAL,lbe);Lu(Ll.VECTOR3D,L_e);Lu(Ll.VECTOR2D,U_e);/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ou="144",Qf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},eh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},oj=0,r5=1,aj=2,Ybe=3,Xbe=0,z4=1,V4=2,Am=3,Au=0,ns=1,an=2,Ti=0,Th=1,r2=2,i5=3,s5=4,lj=5,lh=100,cj=101,uj=102,o5=103,a5=104,dj=200,fj=201,hj=202,pj=203,U4=204,H4=205,mj=206,gj=207,vj=208,yj=209,xj=210,_j=0,bj=1,wj=2,i2=3,Sj=4,Aj=5,Ej=6,Mj=7,Q1=0,Cj=1,Tj=2,kl=0,kj=1,Rj=2,Pj=3,G4=4,Ij=5,LA=300,Jd=301,Qd=302,t1=303,n1=304,Z0=306,Ol=1e3,Ms=1001,_0=1002,$n=1003,r1=1004,Kbe=1004,i1=1005,Zbe=1005,lr=1006,OA=1007,Jbe=1007,Rc=1008,Qbe=1008,$i=1009,Lj=1010,Oj=1011,$4=1012,Nj=1013,du=1014,uc=1015,Gh=1016,Dj=1017,Bj=1018,Hd=1020,Fj=1021,zj=1022,qo=1023,Vj=1024,Uj=1025,Gd=1026,ef=1027,Hj=1028,Gj=1029,$j=1030,Wj=1031,jj=1033,kw=33776,Rw=33777,Pw=33778,Iw=33779,l5=35840,c5=35841,u5=35842,d5=35843,qj=36196,f5=37492,h5=37496,p5=37808,m5=37809,g5=37810,v5=37811,y5=37812,x5=37813,_5=37814,b5=37815,w5=37816,S5=37817,A5=37818,E5=37819,M5=37820,C5=37821,T5=36492,Yj=2200,Xj=2201,Kj=2202,b0=2300,$h=2301,Lw=2302,vh=2400,yh=2401,s1=2402,NA=2500,W4=2501,ewe=0,Zj=1,j4=2,Ga=3e3,It=3001,gf=3200,o1=3201,Nu=0,Jj=1,twe="",Jl="srgb",Td="srgb-linear",nwe=0,Ow=7680,rwe=7681,iwe=7682,swe=7683,owe=34055,awe=34056,lwe=5386,cwe=512,uwe=513,dwe=514,fwe=515,hwe=516,pwe=517,mwe=518,Qj=519,a1=35044,gwe=35048,vwe=35040,ywe=35045,xwe=35049,_we=35041,bwe=35046,wwe=35050,Swe=35042,Awe="100",k5="300 es",s2=1035;class ca{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const xs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let OF=1234567;const kh=Math.PI/180,l1=180/Math.PI;function Jo(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(xs[n&255]+xs[n>>8&255]+xs[n>>16&255]+xs[n>>24&255]+"-"+xs[e&255]+xs[e>>8&255]+"-"+xs[e>>16&15|64]+xs[e>>24&255]+"-"+xs[t&63|128]+xs[t>>8&255]+"-"+xs[t>>16&255]+xs[t>>24&255]+xs[r&255]+xs[r>>8&255]+xs[r>>16&255]+xs[r>>24&255]).toLowerCase()}function si(n,e,t){return Math.max(e,Math.min(t,n))}function q4(n,e){return(n%e+e)%e}function Ewe(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function Mwe(n,e,t){return n!==e?(t-n)/(e-n):0}function ay(n,e,t){return(1-t)*n+t*e}function Cwe(n,e,t,r){return ay(n,e,1-Math.exp(-t*r))}function Twe(n,e=1){return e-Math.abs(q4(n,e*2)-e)}function kwe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Rwe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Pwe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Iwe(n,e){return n+Math.random()*(e-n)}function Lwe(n){return n*(.5-Math.random())}function Owe(n){n!==void 0&&(OF=n);let e=OF+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Nwe(n){return n*kh}function Dwe(n){return n*l1}function R5(n){return(n&n-1)===0&&n!==0}function eq(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function o2(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Bwe(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),d=o((e+r)/2),u=s((e-r)/2),f=o((e-r)/2),h=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*d,l*u,l*f,a*c);break;case"YZY":n.set(l*f,a*d,l*u,a*c);break;case"ZXZ":n.set(l*u,l*f,a*d,a*c);break;case"XZX":n.set(a*d,l*g,l*h,a*c);break;case"YXY":n.set(l*h,a*d,l*g,a*c);break;case"ZYZ":n.set(l*g,l*h,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function fu(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ar(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var DA=Object.freeze({__proto__:null,DEG2RAD:kh,RAD2DEG:l1,generateUUID:Jo,clamp:si,euclideanModulo:q4,mapLinear:Ewe,inverseLerp:Mwe,lerp:ay,damp:Cwe,pingpong:Twe,smoothstep:kwe,smootherstep:Rwe,randInt:Pwe,randFloat:Iwe,randFloatSpread:Lwe,seededRandom:Owe,degToRad:Nwe,radToDeg:Dwe,isPowerOfTwo:R5,ceilPowerOfTwo:eq,floorPowerOfTwo:o2,setQuaternionFromProperEuler:Bwe,normalize:ar,denormalize:fu});class Le{constructor(e=0,t=0){Le.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class go{constructor(){go.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=r,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],d=r[4],u=r[7],f=r[2],h=r[5],g=r[8],v=i[0],x=i[3],y=i[6],_=i[1],b=i[4],A=i[7],E=i[2],k=i[5],P=i[8];return s[0]=o*v+a*_+l*E,s[3]=o*x+a*b+l*k,s[6]=o*y+a*A+l*P,s[1]=c*v+d*_+u*E,s[4]=c*x+d*b+u*k,s[7]=c*y+d*A+u*P,s[2]=f*v+h*_+g*E,s[5]=f*x+h*b+g*k,s[8]=f*y+h*A+g*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return t*o*d-t*a*c-r*s*d+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],u=d*o-a*c,f=a*l-d*s,h=c*s-o*l,g=t*u+r*f+i*h;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=u*v,e[1]=(i*c-d*r)*v,e[2]=(a*r-i*o)*v,e[3]=f*v,e[4]=(d*t-i*l)*v,e[5]=(i*s-a*t)*v,e[6]=h*v,e[7]=(r*l-c*t)*v,e[8]=(o*t-r*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],d=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*c,i[6]=t*a+r*d,i[1]=-r*s+t*l,i[4]=-r*o+t*c,i[7]=-r*a+t*d,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function tq(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const Fwe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Em(n,e){return new Fwe[n](e)}function c1(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Rh(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Nw(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const EC={[Jl]:{[Td]:Rh},[Td]:{[Jl]:Nw}},Sa={legacyMode:!0,get workingColorSpace(){return Td},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(EC[e]&&EC[e][t]!==void 0){const r=EC[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},nq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Si={r:0,g:0,b:0},sl={h:0,s:0,l:0},tb={h:0,s:0,l:0};function MC(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function nb(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class We{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Jl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Sa.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Td){return this.r=e,this.g=t,this.b=r,Sa.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Td){if(e=q4(e,1),t=si(t,0,1),r=si(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=MC(o,s,e+1/3),this.g=MC(o,s,e),this.b=MC(o,s,e-1/3)}return Sa.toWorkingColorSpace(this,i),this}setStyle(e,t=Jl){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Sa.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Sa.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,d=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,d,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Sa.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Sa.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Jl){const r=nq[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Rh(e.r),this.g=Rh(e.g),this.b=Rh(e.b),this}copyLinearToSRGB(e){return this.r=Nw(e.r),this.g=Nw(e.g),this.b=Nw(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Jl){return Sa.fromWorkingColorSpace(nb(this,Si),e),si(Si.r*255,0,255)<<16^si(Si.g*255,0,255)<<8^si(Si.b*255,0,255)<<0}getHexString(e=Jl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Td){Sa.fromWorkingColorSpace(nb(this,Si),t);const r=Si.r,i=Si.g,s=Si.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const u=o-a;switch(c=d<=.5?u/(o+a):u/(2-o-a),o){case r:l=(i-s)/u+(i<s?6:0);break;case i:l=(s-r)/u+2;break;case s:l=(r-i)/u+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,t=Td){return Sa.fromWorkingColorSpace(nb(this,Si),t),e.r=Si.r,e.g=Si.g,e.b=Si.b,e}getStyle(e=Jl){return Sa.fromWorkingColorSpace(nb(this,Si),e),e!==Jl?`color(${e} ${Si.r} ${Si.g} ${Si.b})`:`rgb(${Si.r*255|0},${Si.g*255|0},${Si.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(sl),sl.h+=e,sl.s+=t,sl.l+=r,this.setHSL(sl.h,sl.s,sl.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(sl),e.getHSL(tb);const r=ay(sl.h,tb.h,t),i=ay(sl.s,tb.s,t),s=ay(sl.l,tb.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}We.NAMES=nq;let Np;class Y4{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Np===void 0&&(Np=c1("canvas")),Np.width=e.width,Np.height=e.height;const r=Np.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Np}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=c1("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Rh(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Rh(t[r]/255)*255):t[r]=Rh(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class xh{constructor(e=null){this.isSource=!0,this.uuid=Jo(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(CC(i[o].image)):s.push(CC(i[o]))}else s=CC(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function CC(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Y4.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let zwe=0;class Mr extends ca{constructor(e=Mr.DEFAULT_IMAGE,t=Mr.DEFAULT_MAPPING,r=Ms,i=Ms,s=lr,o=Rc,a=qo,l=$i,c=1,d=Ga){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:zwe++}),this.uuid=Jo(),this.name="",this.source=new xh(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Le(0,0),this.repeat=new Le(1,1),this.center=new Le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new go,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==LA)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ol:e.x=e.x-Math.floor(e.x);break;case Ms:e.x=e.x<0?0:1;break;case _0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ol:e.y=e.y-Math.floor(e.y);break;case Ms:e.y=e.y<0?0:1;break;case _0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Mr.DEFAULT_IMAGE=null;Mr.DEFAULT_MAPPING=LA;class Mn{constructor(e=0,t=0,r=0,i=1){Mn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],d=l[4],u=l[8],f=l[1],h=l[5],g=l[9],v=l[2],x=l[6],y=l[10];if(Math.abs(d-f)<.01&&Math.abs(u-v)<.01&&Math.abs(g-x)<.01){if(Math.abs(d+f)<.1&&Math.abs(u+v)<.1&&Math.abs(g+x)<.1&&Math.abs(c+h+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,A=(h+1)/2,E=(y+1)/2,k=(d+f)/4,P=(u+v)/4,C=(g+x)/4;return b>A&&b>E?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=k/r,s=P/r):A>E?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=k/i,s=C/i):E<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(E),r=P/s,i=C/s),this.set(r,i,s,t),this}let _=Math.sqrt((x-g)*(x-g)+(u-v)*(u-v)+(f-d)*(f-d));return Math.abs(_)<.001&&(_=1),this.x=(x-g)/_,this.y=(u-v)/_,this.z=(f-d)/_,this.w=Math.acos((c+h+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Kn extends ca{constructor(e,t,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Mn(0,0,e,t),this.scissorTest=!1,this.viewport=new Mn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Mr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:lr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new xh(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ex extends Mr{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=$n,this.minFilter=$n,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Vwe extends Kn{constructor(e,t,r){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new ex(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class BA extends Mr{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=$n,this.minFilter=$n,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Uwe extends Kn{constructor(e,t,r){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new BA(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Hwe extends Kn{constructor(e,t,r,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class ss{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],d=r[i+2],u=r[i+3];const f=s[o+0],h=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=u;return}if(a===1){e[t+0]=f,e[t+1]=h,e[t+2]=g,e[t+3]=v;return}if(u!==v||l!==f||c!==h||d!==g){let x=1-a;const y=l*f+c*h+d*g+u*v,_=y>=0?1:-1,b=1-y*y;if(b>Number.EPSILON){const E=Math.sqrt(b),k=Math.atan2(E,y*_);x=Math.sin(x*k)/E,a=Math.sin(a*k)/E}const A=a*_;if(l=l*x+f*A,c=c*x+h*A,d=d*x+g*A,u=u*x+v*A,x===1-a){const E=1/Math.sqrt(l*l+c*c+d*d+u*u);l*=E,c*=E,d*=E,u*=E}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=u}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],d=r[i+3],u=s[o],f=s[o+1],h=s[o+2],g=s[o+3];return e[t]=a*g+d*u+l*h-c*f,e[t+1]=l*g+d*f+c*u-a*h,e[t+2]=c*g+d*h+a*f-l*u,e[t+3]=d*g-a*u-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),d=a(i/2),u=a(s/2),f=l(r/2),h=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=f*d*u+c*h*g,this._y=c*h*u-f*d*g,this._z=c*d*g+f*h*u,this._w=c*d*u-f*h*g;break;case"YXZ":this._x=f*d*u+c*h*g,this._y=c*h*u-f*d*g,this._z=c*d*g-f*h*u,this._w=c*d*u+f*h*g;break;case"ZXY":this._x=f*d*u-c*h*g,this._y=c*h*u+f*d*g,this._z=c*d*g+f*h*u,this._w=c*d*u-f*h*g;break;case"ZYX":this._x=f*d*u-c*h*g,this._y=c*h*u+f*d*g,this._z=c*d*g-f*h*u,this._w=c*d*u+f*h*g;break;case"YZX":this._x=f*d*u+c*h*g,this._y=c*h*u+f*d*g,this._z=c*d*g-f*h*u,this._w=c*d*u-f*h*g;break;case"XZY":this._x=f*d*u-c*h*g,this._y=c*h*u-f*d*g,this._z=c*d*g+f*h*u,this._w=c*d*u+f*h*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],d=t[6],u=t[10],f=r+a+u;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(d-l)*h,this._y=(s-c)*h,this._z=(o-i)*h}else if(r>a&&r>u){const h=2*Math.sqrt(1+r-a-u);this._w=(d-l)/h,this._x=.25*h,this._y=(i+o)/h,this._z=(s+c)/h}else if(a>u){const h=2*Math.sqrt(1+a-r-u);this._w=(s-c)/h,this._x=(i+o)/h,this._y=.25*h,this._z=(l+d)/h}else{const h=2*Math.sqrt(1+u-r-a);this._w=(o-i)/h,this._x=(s+c)/h,this._y=(l+d)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(si(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,d=t._w;return this._x=r*d+o*a+i*c-s*l,this._y=i*d+o*l+s*a-r*c,this._z=s*d+o*c+r*l-i*a,this._w=o*d-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-t;return this._w=h*o+t*this._w,this._x=h*r+t*this._x,this._y=h*i+t*this._y,this._z=h*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),u=Math.sin((1-t)*d)/c,f=Math.sin(t*d)/c;return this._w=o*u+this._w*f,this._x=r*u+this._x*f,this._y=i*u+this._y*f,this._z=s*u+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Z{constructor(e=0,t=0,r=0){Z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(NF.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(NF.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,d=l*r+a*t-s*i,u=l*i+s*r-o*t,f=-s*t-o*r-a*i;return this.x=c*l+f*-s+d*-a-u*-o,this.y=d*l+f*-o+u*-s-c*-a,this.z=u*l+f*-a+c*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return TC.copy(this).projectOnVector(e),this.sub(TC)}reflect(e){return this.sub(TC.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(si(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const TC=new Z,NF=new ss;class Da{constructor(e=new Z(1/0,1/0,1/0),t=new Z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const d=e[l],u=e[l+1],f=e[l+2];d<t&&(t=d),u<r&&(r=u),f<i&&(i=f),d>s&&(s=d),u>o&&(o=u),f>a&&(a=f)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const d=e.getX(l),u=e.getY(l),f=e.getZ(l);d<t&&(t=d),u<r&&(r=u),f<i&&(i=f),d>s&&(s=d),u>o&&(o=u),f>a&&(a=f)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=zf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)zf.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(zf)}else r.boundingBox===null&&r.computeBoundingBox(),kC.copy(r.boundingBox),kC.applyMatrix4(e.matrixWorld),this.union(kC);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,zf),zf.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(tv),rb.subVectors(this.max,tv),Dp.subVectors(e.a,tv),Bp.subVectors(e.b,tv),Fp.subVectors(e.c,tv),ed.subVectors(Bp,Dp),td.subVectors(Fp,Bp),Vf.subVectors(Dp,Fp);let t=[0,-ed.z,ed.y,0,-td.z,td.y,0,-Vf.z,Vf.y,ed.z,0,-ed.x,td.z,0,-td.x,Vf.z,0,-Vf.x,-ed.y,ed.x,0,-td.y,td.x,0,-Vf.y,Vf.x,0];return!RC(t,Dp,Bp,Fp,rb)||(t=[1,0,0,0,1,0,0,0,1],!RC(t,Dp,Bp,Fp,rb))?!1:(ib.crossVectors(ed,td),t=[ib.x,ib.y,ib.z],RC(t,Dp,Bp,Fp,rb))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return zf.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(zf).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Hc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Hc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Hc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Hc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Hc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Hc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Hc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Hc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Hc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Hc=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],zf=new Z,kC=new Da,Dp=new Z,Bp=new Z,Fp=new Z,ed=new Z,td=new Z,Vf=new Z,tv=new Z,rb=new Z,ib=new Z,Uf=new Z;function RC(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Uf.fromArray(n,s);const a=i.x*Math.abs(Uf.x)+i.y*Math.abs(Uf.y)+i.z*Math.abs(Uf.z),l=e.dot(Uf),c=t.dot(Uf),d=r.dot(Uf);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const Gwe=new Da,DF=new Z,sb=new Z,PC=new Z;class vf{constructor(e=new Z,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Gwe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){PC.subVectors(e,this.center);const t=PC.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(PC.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?sb.set(0,0,1).multiplyScalar(e.radius):sb.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(DF.copy(e.center).add(sb)),this.expandByPoint(DF.copy(e.center).sub(sb)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Gc=new Z,IC=new Z,ob=new Z,nd=new Z,LC=new Z,ab=new Z,OC=new Z;class tx{constructor(e=new Z,t=new Z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Gc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Gc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Gc.copy(this.direction).multiplyScalar(t).add(this.origin),Gc.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){IC.copy(e).add(t).multiplyScalar(.5),ob.copy(t).sub(e).normalize(),nd.copy(this.origin).sub(IC);const s=e.distanceTo(t)*.5,o=-this.direction.dot(ob),a=nd.dot(this.direction),l=-nd.dot(ob),c=nd.lengthSq(),d=Math.abs(1-o*o);let u,f,h,g;if(d>0)if(u=o*l-a,f=o*a-l,g=s*d,u>=0)if(f>=-g)if(f<=g){const v=1/d;u*=v,f*=v,h=u*(u+o*f+2*a)+f*(o*u+f+2*l)+c}else f=s,u=Math.max(0,-(o*f+a)),h=-u*u+f*(f+2*l)+c;else f=-s,u=Math.max(0,-(o*f+a)),h=-u*u+f*(f+2*l)+c;else f<=-g?(u=Math.max(0,-(-o*s+a)),f=u>0?-s:Math.min(Math.max(-s,-l),s),h=-u*u+f*(f+2*l)+c):f<=g?(u=0,f=Math.min(Math.max(-s,-l),s),h=f*(f+2*l)+c):(u=Math.max(0,-(o*s+a)),f=u>0?s:Math.min(Math.max(-s,-l),s),h=-u*u+f*(f+2*l)+c);else f=o>0?-s:s,u=Math.max(0,-(o*f+a)),h=-u*u+f*(f+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(u).add(this.origin),i&&i.copy(ob).multiplyScalar(f).add(IC),h}intersectSphere(e,t){Gc.subVectors(e.center,this.origin);const r=Gc.dot(this.direction),i=Gc.dot(Gc)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),d>=0?(s=(e.min.y-f.y)*d,o=(e.max.y-f.y)*d):(s=(e.max.y-f.y)*d,o=(e.min.y-f.y)*d),r>o||s>i||((s>r||r!==r)&&(r=s),(o<i||i!==i)&&(i=o),u>=0?(a=(e.min.z-f.z)*u,l=(e.max.z-f.z)*u):(a=(e.max.z-f.z)*u,l=(e.min.z-f.z)*u),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Gc)!==null}intersectTriangle(e,t,r,i,s){LC.subVectors(t,e),ab.subVectors(r,e),OC.crossVectors(LC,ab);let o=this.direction.dot(OC),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;nd.subVectors(this.origin,e);const l=a*this.direction.dot(ab.crossVectors(nd,ab));if(l<0)return null;const c=a*this.direction.dot(LC.cross(nd));if(c<0||l+c>o)return null;const d=-a*nd.dot(OC);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Wt{constructor(){Wt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,d,u,f,h,g,v,x){const y=this.elements;return y[0]=e,y[4]=t,y[8]=r,y[12]=i,y[1]=s,y[5]=o,y[9]=a,y[13]=l,y[2]=c,y[6]=d,y[10]=u,y[14]=f,y[3]=h,y[7]=g,y[11]=v,y[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Wt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/zp.setFromMatrixColumn(e,0).length(),s=1/zp.setFromMatrixColumn(e,1).length(),o=1/zp.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),d=Math.cos(s),u=Math.sin(s);if(e.order==="XYZ"){const f=o*d,h=o*u,g=a*d,v=a*u;t[0]=l*d,t[4]=-l*u,t[8]=c,t[1]=h+g*c,t[5]=f-v*c,t[9]=-a*l,t[2]=v-f*c,t[6]=g+h*c,t[10]=o*l}else if(e.order==="YXZ"){const f=l*d,h=l*u,g=c*d,v=c*u;t[0]=f+v*a,t[4]=g*a-h,t[8]=o*c,t[1]=o*u,t[5]=o*d,t[9]=-a,t[2]=h*a-g,t[6]=v+f*a,t[10]=o*l}else if(e.order==="ZXY"){const f=l*d,h=l*u,g=c*d,v=c*u;t[0]=f-v*a,t[4]=-o*u,t[8]=g+h*a,t[1]=h+g*a,t[5]=o*d,t[9]=v-f*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const f=o*d,h=o*u,g=a*d,v=a*u;t[0]=l*d,t[4]=g*c-h,t[8]=f*c+v,t[1]=l*u,t[5]=v*c+f,t[9]=h*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const f=o*l,h=o*c,g=a*l,v=a*c;t[0]=l*d,t[4]=v-f*u,t[8]=g*u+h,t[1]=u,t[5]=o*d,t[9]=-a*d,t[2]=-c*d,t[6]=h*u+g,t[10]=f-v*u}else if(e.order==="XZY"){const f=o*l,h=o*c,g=a*l,v=a*c;t[0]=l*d,t[4]=-u,t[8]=c*d,t[1]=f*u+v,t[5]=o*d,t[9]=h*u-g,t[2]=g*u-h,t[6]=a*d,t[10]=v*u+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose($we,e,Wwe)}lookAt(e,t,r){const i=this.elements;return Do.subVectors(e,t),Do.lengthSq()===0&&(Do.z=1),Do.normalize(),rd.crossVectors(r,Do),rd.lengthSq()===0&&(Math.abs(r.z)===1?Do.x+=1e-4:Do.z+=1e-4,Do.normalize(),rd.crossVectors(r,Do)),rd.normalize(),lb.crossVectors(Do,rd),i[0]=rd.x,i[4]=lb.x,i[8]=Do.x,i[1]=rd.y,i[5]=lb.y,i[9]=Do.y,i[2]=rd.z,i[6]=lb.z,i[10]=Do.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],d=r[1],u=r[5],f=r[9],h=r[13],g=r[2],v=r[6],x=r[10],y=r[14],_=r[3],b=r[7],A=r[11],E=r[15],k=i[0],P=i[4],C=i[8],O=i[12],U=i[1],K=i[5],J=i[9],F=i[13],S=i[2],I=i[6],D=i[10],$=i[14],N=i[3],G=i[7],j=i[11],W=i[15];return s[0]=o*k+a*U+l*S+c*N,s[4]=o*P+a*K+l*I+c*G,s[8]=o*C+a*J+l*D+c*j,s[12]=o*O+a*F+l*$+c*W,s[1]=d*k+u*U+f*S+h*N,s[5]=d*P+u*K+f*I+h*G,s[9]=d*C+u*J+f*D+h*j,s[13]=d*O+u*F+f*$+h*W,s[2]=g*k+v*U+x*S+y*N,s[6]=g*P+v*K+x*I+y*G,s[10]=g*C+v*J+x*D+y*j,s[14]=g*O+v*F+x*$+y*W,s[3]=_*k+b*U+A*S+E*N,s[7]=_*P+b*K+A*I+E*G,s[11]=_*C+b*J+A*D+E*j,s[15]=_*O+b*F+A*$+E*W,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],u=e[6],f=e[10],h=e[14],g=e[3],v=e[7],x=e[11],y=e[15];return g*(+s*l*u-i*c*u-s*a*f+r*c*f+i*a*h-r*l*h)+v*(+t*l*h-t*c*f+s*o*f-i*o*h+i*c*d-s*l*d)+x*(+t*c*u-t*a*h-s*o*u+r*o*h+s*a*d-r*c*d)+y*(-i*a*d-t*l*u+t*a*f+i*o*u-r*o*f+r*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],u=e[9],f=e[10],h=e[11],g=e[12],v=e[13],x=e[14],y=e[15],_=u*x*c-v*f*c+v*l*h-a*x*h-u*l*y+a*f*y,b=g*f*c-d*x*c-g*l*h+o*x*h+d*l*y-o*f*y,A=d*v*c-g*u*c+g*a*h-o*v*h-d*a*y+o*u*y,E=g*u*l-d*v*l-g*a*f+o*v*f+d*a*x-o*u*x,k=t*_+r*b+i*A+s*E;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/k;return e[0]=_*P,e[1]=(v*f*s-u*x*s-v*i*h+r*x*h+u*i*y-r*f*y)*P,e[2]=(a*x*s-v*l*s+v*i*c-r*x*c-a*i*y+r*l*y)*P,e[3]=(u*l*s-a*f*s-u*i*c+r*f*c+a*i*h-r*l*h)*P,e[4]=b*P,e[5]=(d*x*s-g*f*s+g*i*h-t*x*h-d*i*y+t*f*y)*P,e[6]=(g*l*s-o*x*s-g*i*c+t*x*c+o*i*y-t*l*y)*P,e[7]=(o*f*s-d*l*s+d*i*c-t*f*c-o*i*h+t*l*h)*P,e[8]=A*P,e[9]=(g*u*s-d*v*s-g*r*h+t*v*h+d*r*y-t*u*y)*P,e[10]=(o*v*s-g*a*s+g*r*c-t*v*c-o*r*y+t*a*y)*P,e[11]=(d*a*s-o*u*s-d*r*c+t*u*c+o*r*h-t*a*h)*P,e[12]=E*P,e[13]=(d*v*i-g*u*i+g*r*f-t*v*f-d*r*x+t*u*x)*P,e[14]=(g*a*i-o*v*i-g*r*l+t*v*l+o*r*x-t*a*x)*P,e[15]=(o*u*i-d*a*i+d*r*l-t*u*l-o*r*f+t*a*f)*P,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,d*a+r,d*l-i*o,0,c*l-i*a,d*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,d=o+o,u=a+a,f=s*c,h=s*d,g=s*u,v=o*d,x=o*u,y=a*u,_=l*c,b=l*d,A=l*u,E=r.x,k=r.y,P=r.z;return i[0]=(1-(v+y))*E,i[1]=(h+A)*E,i[2]=(g-b)*E,i[3]=0,i[4]=(h-A)*k,i[5]=(1-(f+y))*k,i[6]=(x+_)*k,i[7]=0,i[8]=(g+b)*P,i[9]=(x-_)*P,i[10]=(1-(f+v))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=zp.set(i[0],i[1],i[2]).length();const o=zp.set(i[4],i[5],i[6]).length(),a=zp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ol.copy(this);const c=1/s,d=1/o,u=1/a;return ol.elements[0]*=c,ol.elements[1]*=c,ol.elements[2]*=c,ol.elements[4]*=d,ol.elements[5]*=d,ol.elements[6]*=d,ol.elements[8]*=u,ol.elements[9]*=u,ol.elements[10]*=u,t.setFromRotationMatrix(ol),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),d=(t+e)/(t-e),u=(r+i)/(r-i),f=-(o+s)/(o-s),h=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),d=1/(o-s),u=(t+e)*l,f=(r+i)*c,h=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const zp=new Z,ol=new Wt,$we=new Z(0,0,0),Wwe=new Z(1,1,1),rd=new Z,lb=new Z,Do=new Z,BF=new Wt,FF=new ss;class J0{constructor(e=0,t=0,r=0,i=J0.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],d=i[9],u=i[2],f=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(si(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,h),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-si(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,s),this._z=0);break;case"ZXY":this._x=Math.asin(si(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-si(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(si(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-u,s)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-si(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return BF.makeRotationFromQuaternion(e),this.setFromRotationMatrix(BF,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return FF.setFromEuler(this),this.setFromQuaternion(FF,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}J0.DefaultOrder="XYZ";J0.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Ph{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let jwe=0;const zF=new Z,Vp=new ss,$c=new Wt,cb=new Z,nv=new Z,qwe=new Z,Ywe=new ss,VF=new Z(1,0,0),UF=new Z(0,1,0),HF=new Z(0,0,1),Xwe={type:"added"},GF={type:"removed"};class In extends ca{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:jwe++}),this.uuid=Jo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=In.DefaultUp.clone();const e=new Z,t=new J0,r=new ss,i=new Z(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Wt},normalMatrix:{value:new go}}),this.matrix=new Wt,this.matrixWorld=new Wt,this.matrixAutoUpdate=In.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=In.DefaultMatrixWorldAutoUpdate,this.layers=new Ph,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Vp.setFromAxisAngle(e,t),this.quaternion.multiply(Vp),this}rotateOnWorldAxis(e,t){return Vp.setFromAxisAngle(e,t),this.quaternion.premultiply(Vp),this}rotateX(e){return this.rotateOnAxis(VF,e)}rotateY(e){return this.rotateOnAxis(UF,e)}rotateZ(e){return this.rotateOnAxis(HF,e)}translateOnAxis(e,t){return zF.copy(e).applyQuaternion(this.quaternion),this.position.add(zF.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(VF,e)}translateY(e){return this.translateOnAxis(UF,e)}translateZ(e){return this.translateOnAxis(HF,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4($c.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?cb.copy(e):cb.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),nv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$c.lookAt(nv,cb,this.up):$c.lookAt(cb,nv,this.up),this.quaternion.setFromRotationMatrix($c),i&&($c.extractRotation(i.matrixWorld),Vp.setFromRotationMatrix($c),this.quaternion.premultiply(Vp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Xwe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(GF)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(GF)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),$c.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),$c.multiply(e.parent.matrixWorld)),e.applyMatrix4($c),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nv,e,qwe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nv,Ywe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const u=l[c];s(e.shapes,u)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),u=o(e.shapes),f=o(e.skeletons),h=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),u.length>0&&(r.shapes=u),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}In.DefaultUp=new Z(0,1,0);In.DefaultMatrixAutoUpdate=!0;In.DefaultMatrixWorldAutoUpdate=!0;const al=new Z,Wc=new Z,NC=new Z,jc=new Z,Up=new Z,Hp=new Z,$F=new Z,DC=new Z,BC=new Z,FC=new Z;class La{constructor(e=new Z,t=new Z,r=new Z){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),al.subVectors(e,t),i.cross(al);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){al.subVectors(i,t),Wc.subVectors(r,t),NC.subVectors(e,t);const o=al.dot(al),a=al.dot(Wc),l=al.dot(NC),c=Wc.dot(Wc),d=Wc.dot(NC),u=o*c-a*a;if(u===0)return s.set(-2,-1,-1);const f=1/u,h=(c*l-a*d)*f,g=(o*d-a*l)*f;return s.set(1-h-g,g,h)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,jc),jc.x>=0&&jc.y>=0&&jc.x+jc.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,jc),l.set(0,0),l.addScaledVector(s,jc.x),l.addScaledVector(o,jc.y),l.addScaledVector(a,jc.z),l}static isFrontFacing(e,t,r,i){return al.subVectors(r,t),Wc.subVectors(e,t),al.cross(Wc).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return al.subVectors(this.c,this.b),Wc.subVectors(this.a,this.b),al.cross(Wc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return La.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return La.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return La.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return La.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return La.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Up.subVectors(i,r),Hp.subVectors(s,r),DC.subVectors(e,r);const l=Up.dot(DC),c=Hp.dot(DC);if(l<=0&&c<=0)return t.copy(r);BC.subVectors(e,i);const d=Up.dot(BC),u=Hp.dot(BC);if(d>=0&&u<=d)return t.copy(i);const f=l*u-d*c;if(f<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(r).addScaledVector(Up,o);FC.subVectors(e,s);const h=Up.dot(FC),g=Hp.dot(FC);if(g>=0&&h<=g)return t.copy(s);const v=h*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(Hp,a);const x=d*g-h*u;if(x<=0&&u-d>=0&&h-g>=0)return $F.subVectors(s,i),a=(u-d)/(u-d+(h-g)),t.copy(i).addScaledVector($F,a);const y=1/(x+v+f);return o=v*y,a=f*y,t.copy(r).addScaledVector(Up,o).addScaledVector(Hp,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Kwe=0;class Kr extends ca{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Kwe++}),this.uuid=Jo(),this.name="",this.type="Material",this.blending=Th,this.side=Au,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=U4,this.blendDst=H4,this.blendEquation=lh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=i2,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Qj,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ow,this.stencilZFail=Ow,this.stencilZPass=Ow,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Th&&(r.blending=this.blending),this.side!==Au&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class gn extends Kr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Q1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const fi=new Z,ub=new Le;class bn{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=a1,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)ub.fromBufferAttribute(this,t),ub.applyMatrix3(e),this.setXY(t,ub.x,ub.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)fi.fromBufferAttribute(this,t),fi.applyMatrix3(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)fi.fromBufferAttribute(this,t),fi.applyMatrix4(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)fi.fromBufferAttribute(this,t),fi.applyNormalMatrix(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)fi.fromBufferAttribute(this,t),fi.transformDirection(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=fu(t,this.array)),t}setX(e,t){return this.normalized&&(t=ar(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=fu(t,this.array)),t}setY(e,t){return this.normalized&&(t=ar(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=fu(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ar(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=fu(t,this.array)),t}setW(e,t){return this.normalized&&(t=ar(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=ar(t,this.array),r=ar(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=ar(t,this.array),r=ar(r,this.array),i=ar(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=ar(t,this.array),r=ar(r,this.array),i=ar(i,this.array),s=ar(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==a1&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Zwe extends bn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Jwe extends bn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Qwe extends bn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class eSe extends bn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class X4 extends bn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class tSe extends bn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class K4 extends bn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class nSe extends bn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class St extends bn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class rSe extends bn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let iSe=0;const ba=new Wt,zC=new In,Gp=new Z,Bo=new Da,rv=new Da,Bi=new Z;class Jt extends ca{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:iSe++}),this.uuid=Jo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(tq(e)?K4:X4)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new go().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ba.makeRotationFromQuaternion(e),this.applyMatrix4(ba),this}rotateX(e){return ba.makeRotationX(e),this.applyMatrix4(ba),this}rotateY(e){return ba.makeRotationY(e),this.applyMatrix4(ba),this}rotateZ(e){return ba.makeRotationZ(e),this.applyMatrix4(ba),this}translate(e,t,r){return ba.makeTranslation(e,t,r),this.applyMatrix4(ba),this}scale(e,t,r){return ba.makeScale(e,t,r),this.applyMatrix4(ba),this}lookAt(e){return zC.lookAt(e),zC.updateMatrix(),this.applyMatrix4(zC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gp).negate(),this.translate(Gp.x,Gp.y,Gp.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new St(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Da);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Bo.setFromBufferAttribute(s),this.morphTargetsRelative?(Bi.addVectors(this.boundingBox.min,Bo.min),this.boundingBox.expandByPoint(Bi),Bi.addVectors(this.boundingBox.max,Bo.max),this.boundingBox.expandByPoint(Bi)):(this.boundingBox.expandByPoint(Bo.min),this.boundingBox.expandByPoint(Bo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vf);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Z,1/0);return}if(e){const r=this.boundingSphere.center;if(Bo.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];rv.setFromBufferAttribute(a),this.morphTargetsRelative?(Bi.addVectors(Bo.min,rv.min),Bo.expandByPoint(Bi),Bi.addVectors(Bo.max,rv.max),Bo.expandByPoint(Bi)):(Bo.expandByPoint(rv.min),Bo.expandByPoint(rv.max))}Bo.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Bi.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Bi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)Bi.fromBufferAttribute(a,c),l&&(Gp.fromBufferAttribute(e,c),Bi.add(Gp)),i=Math.max(i,r.distanceToSquared(Bi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new bn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let U=0;U<a;U++)c[U]=new Z,d[U]=new Z;const u=new Z,f=new Z,h=new Z,g=new Le,v=new Le,x=new Le,y=new Z,_=new Z;function b(U,K,J){u.fromArray(i,U*3),f.fromArray(i,K*3),h.fromArray(i,J*3),g.fromArray(o,U*2),v.fromArray(o,K*2),x.fromArray(o,J*2),f.sub(u),h.sub(u),v.sub(g),x.sub(g);const F=1/(v.x*x.y-x.x*v.y);isFinite(F)&&(y.copy(f).multiplyScalar(x.y).addScaledVector(h,-v.y).multiplyScalar(F),_.copy(h).multiplyScalar(v.x).addScaledVector(f,-x.x).multiplyScalar(F),c[U].add(y),c[K].add(y),c[J].add(y),d[U].add(_),d[K].add(_),d[J].add(_))}let A=this.groups;A.length===0&&(A=[{start:0,count:r.length}]);for(let U=0,K=A.length;U<K;++U){const J=A[U],F=J.start,S=J.count;for(let I=F,D=F+S;I<D;I+=3)b(r[I+0],r[I+1],r[I+2])}const E=new Z,k=new Z,P=new Z,C=new Z;function O(U){P.fromArray(s,U*3),C.copy(P);const K=c[U];E.copy(K),E.sub(P.multiplyScalar(P.dot(K))).normalize(),k.crossVectors(C,K);const F=k.dot(d[U])<0?-1:1;l[U*4]=E.x,l[U*4+1]=E.y,l[U*4+2]=E.z,l[U*4+3]=F}for(let U=0,K=A.length;U<K;++U){const J=A[U],F=J.start,S=J.count;for(let I=F,D=F+S;I<D;I+=3)O(r[I+0]),O(r[I+1]),O(r[I+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new bn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new Z,s=new Z,o=new Z,a=new Z,l=new Z,c=new Z,d=new Z,u=new Z;if(e)for(let f=0,h=e.count;f<h;f+=3){const g=e.getX(f+0),v=e.getX(f+1),x=e.getX(f+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,x),d.subVectors(o,s),u.subVectors(i,s),d.cross(u),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,x),a.add(d),l.add(d),c.add(d),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)i.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),d.subVectors(o,s),u.subVectors(i,s),d.cross(u),r.setXYZ(f+0,d.x,d.y,d.z),r.setXYZ(f+1,d.x,d.y,d.z),r.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Bi.fromBufferAttribute(e,t),Bi.normalize(),e.setXYZ(t,Bi.x,Bi.y,Bi.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,u=a.normalized,f=new c.constructor(l.length*d);let h=0,g=0;for(let v=0,x=l.length;v<x;v++){a.isInterleavedBufferAttribute?h=l[v]*a.data.stride+a.offset:h=l[v]*d;for(let y=0;y<d;y++)f[g++]=c[h++]}return new bn(f,d,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Jt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,u=c.length;d<u;d++){const f=c[d],h=e(f,r);l.push(h)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let u=0,f=c.length;u<f;u++){const h=c[u];d.push(h.toJSON(e.data))}d.length>0&&(i[l]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const d=i[c];this.setAttribute(c,d.clone(t))}const s=e.morphAttributes;for(const c in s){const d=[],u=s[c];for(let f=0,h=u.length;f<h;f++)d.push(u[f].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const u=o[c];this.addGroup(u.start,u.count,u.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const WF=new Wt,$p=new tx,VC=new vf,id=new Z,sd=new Z,od=new Z,UC=new Z,HC=new Z,GC=new Z,db=new Z,fb=new Z,hb=new Z,pb=new Le,mb=new Le,gb=new Le,$C=new Z,vb=new Z;class Vr extends In{constructor(e=new Jt,t=new gn){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),VC.copy(r.boundingSphere),VC.applyMatrix4(s),e.ray.intersectsSphere(VC)===!1)||(WF.copy(s).invert(),$p.copy(e.ray).applyMatrix4(WF),r.boundingBox!==null&&$p.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.morphAttributes.position,d=r.morphTargetsRelative,u=r.attributes.uv,f=r.attributes.uv2,h=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,x=h.length;v<x;v++){const y=h[v],_=i[y.materialIndex],b=Math.max(y.start,g.start),A=Math.min(a.count,Math.min(y.start+y.count,g.start+g.count));for(let E=b,k=A;E<k;E+=3){const P=a.getX(E),C=a.getX(E+1),O=a.getX(E+2);o=yb(this,_,e,$p,l,c,d,u,f,P,C,O),o&&(o.faceIndex=Math.floor(E/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),x=Math.min(a.count,g.start+g.count);for(let y=v,_=x;y<_;y+=3){const b=a.getX(y),A=a.getX(y+1),E=a.getX(y+2);o=yb(this,i,e,$p,l,c,d,u,f,b,A,E),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,x=h.length;v<x;v++){const y=h[v],_=i[y.materialIndex],b=Math.max(y.start,g.start),A=Math.min(l.count,Math.min(y.start+y.count,g.start+g.count));for(let E=b,k=A;E<k;E+=3){const P=E,C=E+1,O=E+2;o=yb(this,_,e,$p,l,c,d,u,f,P,C,O),o&&(o.faceIndex=Math.floor(E/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),x=Math.min(l.count,g.start+g.count);for(let y=v,_=x;y<_;y+=3){const b=y,A=y+1,E=y+2;o=yb(this,i,e,$p,l,c,d,u,f,b,A,E),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}}}function sSe(n,e,t,r,i,s,o,a){let l;if(e.side===ns?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==an,a),l===null)return null;vb.copy(a),vb.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(vb);return c<t.near||c>t.far?null:{distance:c,point:vb.clone(),object:n}}function yb(n,e,t,r,i,s,o,a,l,c,d,u){id.fromBufferAttribute(i,c),sd.fromBufferAttribute(i,d),od.fromBufferAttribute(i,u);const f=n.morphTargetInfluences;if(s&&f){db.set(0,0,0),fb.set(0,0,0),hb.set(0,0,0);for(let g=0,v=s.length;g<v;g++){const x=f[g],y=s[g];x!==0&&(UC.fromBufferAttribute(y,c),HC.fromBufferAttribute(y,d),GC.fromBufferAttribute(y,u),o?(db.addScaledVector(UC,x),fb.addScaledVector(HC,x),hb.addScaledVector(GC,x)):(db.addScaledVector(UC.sub(id),x),fb.addScaledVector(HC.sub(sd),x),hb.addScaledVector(GC.sub(od),x)))}id.add(db),sd.add(fb),od.add(hb)}n.isSkinnedMesh&&(n.boneTransform(c,id),n.boneTransform(d,sd),n.boneTransform(u,od));const h=sSe(n,e,t,r,id,sd,od,$C);if(h){a&&(pb.fromBufferAttribute(a,c),mb.fromBufferAttribute(a,d),gb.fromBufferAttribute(a,u),h.uv=La.getUV($C,id,sd,od,pb,mb,gb,new Le)),l&&(pb.fromBufferAttribute(l,c),mb.fromBufferAttribute(l,d),gb.fromBufferAttribute(l,u),h.uv2=La.getUV($C,id,sd,od,pb,mb,gb,new Le));const g={a:c,b:d,c:u,normal:new Z,materialIndex:0};La.getNormal(id,sd,od,g.normal),h.face=g}return h}class yf extends Jt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],u=[];let f=0,h=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new St(c,3)),this.setAttribute("normal",new St(d,3)),this.setAttribute("uv",new St(u,2));function g(v,x,y,_,b,A,E,k,P,C,O){const U=A/P,K=E/C,J=A/2,F=E/2,S=k/2,I=P+1,D=C+1;let $=0,N=0;const G=new Z;for(let j=0;j<D;j++){const W=j*K-F;for(let R=0;R<I;R++){const Y=R*U-J;G[v]=Y*_,G[x]=W*b,G[y]=S,c.push(G.x,G.y,G.z),G[v]=0,G[x]=0,G[y]=k>0?1:-1,d.push(G.x,G.y,G.z),u.push(R/P),u.push(1-j/C),$+=1}}for(let j=0;j<C;j++)for(let W=0;W<P;W++){const R=f+W+I*j,Y=f+W+I*(j+1),Ae=f+(W+1)+I*(j+1),z=f+(W+1)+I*j;l.push(R,Y,z),l.push(Y,Ae,z),N+=6}a.addGroup(h,N,O),h+=N,f+=$}}static fromJSON(e){return new yf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function w0(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function bs(n){const e={};for(let t=0;t<n.length;t++){const r=w0(n[t]);for(const i in r)e[i]=r[i]}return e}function oSe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const Z4={clone:w0,merge:bs};var aSe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,lSe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Gr extends Kr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=aSe,this.fragmentShader=lSe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=w0(e.uniforms),this.uniformsGroups=oSe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}let Q0=class extends In{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wt,this.projectionMatrix=new Wt,this.projectionMatrixInverse=new Wt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};class qn extends Q0{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=l1*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(kh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return l1*2*Math.atan(Math.tan(kh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(kh*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Wp=90,jp=1;class rq extends In{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new qn(Wp,jp,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Z(1,0,0)),this.add(i);const s=new qn(Wp,jp,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Z(-1,0,0)),this.add(s);const o=new qn(Wp,jp,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Z(0,1,0)),this.add(o);const a=new qn(Wp,jp,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Z(0,-1,0)),this.add(a);const l=new qn(Wp,jp,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Z(0,0,1)),this.add(l);const c=new qn(Wp,jp,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Z(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,d=e.getRenderTarget(),u=e.toneMapping,f=e.xr.enabled;e.toneMapping=kl,e.xr.enabled=!1;const h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(d),e.toneMapping=u,e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}}class nx extends Mr{constructor(e,t,r,i,s,o,a,l,c,d){e=e!==void 0?e:[],t=t!==void 0?t:Jd,super(e,t,r,i,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class iq extends Kn{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new nx(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:lr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new yf(5,5,5),s=new Gr({name:"CubemapFromEquirect",uniforms:w0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ns,blending:Ti});s.uniforms.tEquirect.value=t;const o=new Vr(i,s),a=t.minFilter;return t.minFilter===Rc&&(t.minFilter=lr),new rq(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const WC=new Z,cSe=new Z,uSe=new go;class yd{constructor(e=new Z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=WC.subVectors(r,t).cross(cSe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(WC),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||uSe.getNormalMatrix(e),i=this.coplanarPoint(WC).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const qp=new vf,xb=new Z;class FA{constructor(e=new yd,t=new yd,r=new yd,i=new yd,s=new yd,o=new yd){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],d=r[6],u=r[7],f=r[8],h=r[9],g=r[10],v=r[11],x=r[12],y=r[13],_=r[14],b=r[15];return t[0].setComponents(a-i,u-l,v-f,b-x).normalize(),t[1].setComponents(a+i,u+l,v+f,b+x).normalize(),t[2].setComponents(a+s,u+c,v+h,b+y).normalize(),t[3].setComponents(a-s,u-c,v-h,b-y).normalize(),t[4].setComponents(a-o,u-d,v-g,b-_).normalize(),t[5].setComponents(a+o,u+d,v+g,b+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),qp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(qp)}intersectsSprite(e){return qp.center.set(0,0,0),qp.radius=.7071067811865476,qp.applyMatrix4(e.matrixWorld),this.intersectsSphere(qp)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(xb.x=i.normal.x>0?e.max.x:e.min.x,xb.y=i.normal.y>0?e.max.y:e.min.y,xb.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(xb)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function sq(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function dSe(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,d){const u=c.array,f=c.usage,h=n.createBuffer();n.bindBuffer(d,h),n.bufferData(d,u,f),c.onUploadCallback();let g;if(u instanceof Float32Array)g=5126;else if(u instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(u instanceof Int16Array)g=5122;else if(u instanceof Uint32Array)g=5125;else if(u instanceof Int32Array)g=5124;else if(u instanceof Int8Array)g=5120;else if(u instanceof Uint8Array)g=5121;else if(u instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:g,bytesPerElement:u.BYTES_PER_ELEMENT,version:c.version}}function s(c,d,u){const f=d.array,h=d.updateRange;n.bindBuffer(u,c),h.count===-1?n.bufferSubData(u,0,f):(t?n.bufferSubData(u,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):n.bufferSubData(u,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d&&(n.deleteBuffer(d.buffer),r.delete(c))}function l(c,d){if(c.isGLBufferAttribute){const f=r.get(c);(!f||f.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u===void 0?r.set(c,i(c,d)):u.version<c.version&&(s(u.buffer,c,d),u.version=c.version)}return{get:o,remove:a,update:l}}class eg extends Jt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,d=l+1,u=e/a,f=t/l,h=[],g=[],v=[],x=[];for(let y=0;y<d;y++){const _=y*f-o;for(let b=0;b<c;b++){const A=b*u-s;g.push(A,-_,0),v.push(0,0,1),x.push(b/a),x.push(1-y/l)}}for(let y=0;y<l;y++)for(let _=0;_<a;_++){const b=_+c*y,A=_+c*(y+1),E=_+1+c*(y+1),k=_+1+c*y;h.push(b,A,k),h.push(A,E,k)}this.setIndex(h),this.setAttribute("position",new St(g,3)),this.setAttribute("normal",new St(v,3)),this.setAttribute("uv",new St(x,2))}static fromJSON(e){return new eg(e.width,e.height,e.widthSegments,e.heightSegments)}}var fSe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,hSe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,pSe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,mSe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,gSe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,vSe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,ySe="vec3 transformed = vec3( position );",xSe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,_Se=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,bSe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,wSe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,SSe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,ASe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ESe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,MSe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,CSe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,TSe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,kSe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,RSe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,PSe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,ISe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,LSe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,OSe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,NSe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,DSe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,BSe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,FSe="gl_FragColor = linearToOutputTexel( gl_FragColor );",zSe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,VSe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,USe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,HSe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,GSe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,$Se=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,WSe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,jSe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,qSe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,YSe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,XSe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,KSe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,ZSe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,JSe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,QSe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,e2e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,t2e=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,n2e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,r2e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,i2e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,s2e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,o2e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,a2e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,l2e=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,c2e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,u2e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,d2e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,f2e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,h2e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,p2e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,m2e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,g2e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,v2e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,y2e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,x2e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,_2e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,b2e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,w2e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,S2e=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,A2e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,E2e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,M2e=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,C2e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,T2e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,k2e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,R2e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,P2e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,I2e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,L2e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,O2e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,N2e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,D2e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,B2e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,F2e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,z2e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,V2e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,U2e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,H2e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,G2e=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,$2e=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,W2e=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,j2e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,q2e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Y2e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,X2e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,K2e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Z2e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,J2e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Q2e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,eAe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tAe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,nAe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,rAe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,iAe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,sAe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,oAe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,aAe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,lAe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,cAe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const uAe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,dAe=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,fAe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,hAe=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,pAe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,mAe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,gAe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,vAe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,yAe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,xAe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,_Ae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bAe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wAe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,SAe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AAe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,EAe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MAe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,CAe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TAe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,kAe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,RAe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PAe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IAe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,LAe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OAe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NAe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DAe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,BAe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,FAe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zAe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,VAe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,UAe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ln={alphamap_fragment:fSe,alphamap_pars_fragment:hSe,alphatest_fragment:pSe,alphatest_pars_fragment:mSe,aomap_fragment:gSe,aomap_pars_fragment:vSe,begin_vertex:ySe,beginnormal_vertex:xSe,bsdfs:_Se,iridescence_fragment:bSe,bumpmap_pars_fragment:wSe,clipping_planes_fragment:SSe,clipping_planes_pars_fragment:ASe,clipping_planes_pars_vertex:ESe,clipping_planes_vertex:MSe,color_fragment:CSe,color_pars_fragment:TSe,color_pars_vertex:kSe,color_vertex:RSe,common:PSe,cube_uv_reflection_fragment:ISe,defaultnormal_vertex:LSe,displacementmap_pars_vertex:OSe,displacementmap_vertex:NSe,emissivemap_fragment:DSe,emissivemap_pars_fragment:BSe,encodings_fragment:FSe,encodings_pars_fragment:zSe,envmap_fragment:VSe,envmap_common_pars_fragment:USe,envmap_pars_fragment:HSe,envmap_pars_vertex:GSe,envmap_physical_pars_fragment:t2e,envmap_vertex:$Se,fog_vertex:WSe,fog_pars_vertex:jSe,fog_fragment:qSe,fog_pars_fragment:YSe,gradientmap_pars_fragment:XSe,lightmap_fragment:KSe,lightmap_pars_fragment:ZSe,lights_lambert_fragment:JSe,lights_lambert_pars_fragment:QSe,lights_pars_begin:e2e,lights_toon_fragment:n2e,lights_toon_pars_fragment:r2e,lights_phong_fragment:i2e,lights_phong_pars_fragment:s2e,lights_physical_fragment:o2e,lights_physical_pars_fragment:a2e,lights_fragment_begin:l2e,lights_fragment_maps:c2e,lights_fragment_end:u2e,logdepthbuf_fragment:d2e,logdepthbuf_pars_fragment:f2e,logdepthbuf_pars_vertex:h2e,logdepthbuf_vertex:p2e,map_fragment:m2e,map_pars_fragment:g2e,map_particle_fragment:v2e,map_particle_pars_fragment:y2e,metalnessmap_fragment:x2e,metalnessmap_pars_fragment:_2e,morphcolor_vertex:b2e,morphnormal_vertex:w2e,morphtarget_pars_vertex:S2e,morphtarget_vertex:A2e,normal_fragment_begin:E2e,normal_fragment_maps:M2e,normal_pars_fragment:C2e,normal_pars_vertex:T2e,normal_vertex:k2e,normalmap_pars_fragment:R2e,clearcoat_normal_fragment_begin:P2e,clearcoat_normal_fragment_maps:I2e,clearcoat_pars_fragment:L2e,iridescence_pars_fragment:O2e,output_fragment:N2e,packing:D2e,premultiplied_alpha_fragment:B2e,project_vertex:F2e,dithering_fragment:z2e,dithering_pars_fragment:V2e,roughnessmap_fragment:U2e,roughnessmap_pars_fragment:H2e,shadowmap_pars_fragment:G2e,shadowmap_pars_vertex:$2e,shadowmap_vertex:W2e,shadowmask_pars_fragment:j2e,skinbase_vertex:q2e,skinning_pars_vertex:Y2e,skinning_vertex:X2e,skinnormal_vertex:K2e,specularmap_fragment:Z2e,specularmap_pars_fragment:J2e,tonemapping_fragment:Q2e,tonemapping_pars_fragment:eAe,transmission_fragment:tAe,transmission_pars_fragment:nAe,uv_pars_fragment:rAe,uv_pars_vertex:iAe,uv_vertex:sAe,uv2_pars_fragment:oAe,uv2_pars_vertex:aAe,uv2_vertex:lAe,worldpos_vertex:cAe,background_vert:uAe,background_frag:dAe,cube_vert:fAe,cube_frag:hAe,depth_vert:pAe,depth_frag:mAe,distanceRGBA_vert:gAe,distanceRGBA_frag:vAe,equirect_vert:yAe,equirect_frag:xAe,linedashed_vert:_Ae,linedashed_frag:bAe,meshbasic_vert:wAe,meshbasic_frag:SAe,meshlambert_vert:AAe,meshlambert_frag:EAe,meshmatcap_vert:MAe,meshmatcap_frag:CAe,meshnormal_vert:TAe,meshnormal_frag:kAe,meshphong_vert:RAe,meshphong_frag:PAe,meshphysical_vert:IAe,meshphysical_frag:LAe,meshtoon_vert:OAe,meshtoon_frag:NAe,points_vert:DAe,points_frag:BAe,shadow_vert:FAe,shadow_frag:zAe,sprite_vert:VAe,sprite_frag:UAe},ot={common:{diffuse:{value:new We(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new go},uv2Transform:{value:new go},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Le(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new We(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new We(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new go}},sprite:{diffuse:{value:new We(16777215)},opacity:{value:1},center:{value:new Le(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new go}}},yl={basic:{uniforms:bs([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.fog]),vertexShader:ln.meshbasic_vert,fragmentShader:ln.meshbasic_frag},lambert:{uniforms:bs([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,ot.lights,{emissive:{value:new We(0)}}]),vertexShader:ln.meshlambert_vert,fragmentShader:ln.meshlambert_frag},phong:{uniforms:bs([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,ot.lights,{emissive:{value:new We(0)},specular:{value:new We(1118481)},shininess:{value:30}}]),vertexShader:ln.meshphong_vert,fragmentShader:ln.meshphong_frag},standard:{uniforms:bs([ot.common,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.roughnessmap,ot.metalnessmap,ot.fog,ot.lights,{emissive:{value:new We(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag},toon:{uniforms:bs([ot.common,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.gradientmap,ot.fog,ot.lights,{emissive:{value:new We(0)}}]),vertexShader:ln.meshtoon_vert,fragmentShader:ln.meshtoon_frag},matcap:{uniforms:bs([ot.common,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,{matcap:{value:null}}]),vertexShader:ln.meshmatcap_vert,fragmentShader:ln.meshmatcap_frag},points:{uniforms:bs([ot.points,ot.fog]),vertexShader:ln.points_vert,fragmentShader:ln.points_frag},dashed:{uniforms:bs([ot.common,ot.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ln.linedashed_vert,fragmentShader:ln.linedashed_frag},depth:{uniforms:bs([ot.common,ot.displacementmap]),vertexShader:ln.depth_vert,fragmentShader:ln.depth_frag},normal:{uniforms:bs([ot.common,ot.bumpmap,ot.normalmap,ot.displacementmap,{opacity:{value:1}}]),vertexShader:ln.meshnormal_vert,fragmentShader:ln.meshnormal_frag},sprite:{uniforms:bs([ot.sprite,ot.fog]),vertexShader:ln.sprite_vert,fragmentShader:ln.sprite_frag},background:{uniforms:{uvTransform:{value:new go},t2D:{value:null}},vertexShader:ln.background_vert,fragmentShader:ln.background_frag},cube:{uniforms:bs([ot.envmap,{opacity:{value:1}}]),vertexShader:ln.cube_vert,fragmentShader:ln.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ln.equirect_vert,fragmentShader:ln.equirect_frag},distanceRGBA:{uniforms:bs([ot.common,ot.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ln.distanceRGBA_vert,fragmentShader:ln.distanceRGBA_frag},shadow:{uniforms:bs([ot.lights,ot.fog,{color:{value:new We(0)},opacity:{value:1}}]),vertexShader:ln.shadow_vert,fragmentShader:ln.shadow_frag}};yl.physical={uniforms:bs([yl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Le(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new We(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new We(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new We(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag};function HAe(n,e,t,r,i,s){const o=new We(0);let a=i===!0?0:1,l,c,d=null,u=0,f=null;function h(v,x){let y=!1,_=x.isScene===!0?x.background:null;_&&_.isTexture&&(_=e.get(_));const b=n.xr,A=b.getSession&&b.getSession();A&&A.environmentBlendMode==="additive"&&(_=null),_===null?g(o,a):_&&_.isColor&&(g(_,1),y=!0),(n.autoClear||y)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===Z0)?(c===void 0&&(c=new Vr(new yf(1,1,1),new Gr({name:"BackgroundCubeMaterial",uniforms:w0(yl.cube.uniforms),vertexShader:yl.cube.vertexShader,fragmentShader:yl.cube.fragmentShader,side:ns,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(E,k,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=_,c.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,(d!==_||u!==_.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,d=_,u=_.version,f=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null)):_&&_.isTexture&&(l===void 0&&(l=new Vr(new eg(2,2),new Gr({name:"BackgroundMaterial",uniforms:w0(yl.background.uniforms),vertexShader:yl.background.vertexShader,fragmentShader:yl.background.fragmentShader,side:Au,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=_,_.matrixAutoUpdate===!0&&_.updateMatrix(),l.material.uniforms.uvTransform.value.copy(_.matrix),(d!==_||u!==_.version||f!==n.toneMapping)&&(l.material.needsUpdate=!0,d=_,u=_.version,f=n.toneMapping),l.layers.enableAll(),v.unshift(l,l.geometry,l.material,0,0,null))}function g(v,x){t.buffers.color.setClear(v.r,v.g,v.b,x,s)}return{getClearColor:function(){return o},setClearColor:function(v,x=1){o.set(v),a=x,g(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(v){a=v,g(o,a)},render:h}}function GAe(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let c=l,d=!1;function u(S,I,D,$,N){let G=!1;if(o){const j=v($,D,I);c!==j&&(c=j,h(c.object)),G=y(S,$,D,N),G&&_(S,$,D,N)}else{const j=I.wireframe===!0;(c.geometry!==$.id||c.program!==D.id||c.wireframe!==j)&&(c.geometry=$.id,c.program=D.id,c.wireframe=j,G=!0)}N!==null&&t.update(N,34963),(G||d)&&(d=!1,C(S,I,D,$),N!==null&&n.bindBuffer(34963,t.get(N).buffer))}function f(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function h(S){return r.isWebGL2?n.bindVertexArray(S):s.bindVertexArrayOES(S)}function g(S){return r.isWebGL2?n.deleteVertexArray(S):s.deleteVertexArrayOES(S)}function v(S,I,D){const $=D.wireframe===!0;let N=a[S.id];N===void 0&&(N={},a[S.id]=N);let G=N[I.id];G===void 0&&(G={},N[I.id]=G);let j=G[$];return j===void 0&&(j=x(f()),G[$]=j),j}function x(S){const I=[],D=[],$=[];for(let N=0;N<i;N++)I[N]=0,D[N]=0,$[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:D,attributeDivisors:$,object:S,attributes:{},index:null}}function y(S,I,D,$){const N=c.attributes,G=I.attributes;let j=0;const W=D.getAttributes();for(const R in W)if(W[R].location>=0){const Ae=N[R];let z=G[R];if(z===void 0&&(R==="instanceMatrix"&&S.instanceMatrix&&(z=S.instanceMatrix),R==="instanceColor"&&S.instanceColor&&(z=S.instanceColor)),Ae===void 0||Ae.attribute!==z||z&&Ae.data!==z.data)return!0;j++}return c.attributesNum!==j||c.index!==$}function _(S,I,D,$){const N={},G=I.attributes;let j=0;const W=D.getAttributes();for(const R in W)if(W[R].location>=0){let Ae=G[R];Ae===void 0&&(R==="instanceMatrix"&&S.instanceMatrix&&(Ae=S.instanceMatrix),R==="instanceColor"&&S.instanceColor&&(Ae=S.instanceColor));const z={};z.attribute=Ae,Ae&&Ae.data&&(z.data=Ae.data),N[R]=z,j++}c.attributes=N,c.attributesNum=j,c.index=$}function b(){const S=c.newAttributes;for(let I=0,D=S.length;I<D;I++)S[I]=0}function A(S){E(S,0)}function E(S,I){const D=c.newAttributes,$=c.enabledAttributes,N=c.attributeDivisors;D[S]=1,$[S]===0&&(n.enableVertexAttribArray(S),$[S]=1),N[S]!==I&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](S,I),N[S]=I)}function k(){const S=c.newAttributes,I=c.enabledAttributes;for(let D=0,$=I.length;D<$;D++)I[D]!==S[D]&&(n.disableVertexAttribArray(D),I[D]=0)}function P(S,I,D,$,N,G){r.isWebGL2===!0&&(D===5124||D===5125)?n.vertexAttribIPointer(S,I,D,N,G):n.vertexAttribPointer(S,I,D,$,N,G)}function C(S,I,D,$){if(r.isWebGL2===!1&&(S.isInstancedMesh||$.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const N=$.attributes,G=D.getAttributes(),j=I.defaultAttributeValues;for(const W in G){const R=G[W];if(R.location>=0){let Y=N[W];if(Y===void 0&&(W==="instanceMatrix"&&S.instanceMatrix&&(Y=S.instanceMatrix),W==="instanceColor"&&S.instanceColor&&(Y=S.instanceColor)),Y!==void 0){const Ae=Y.normalized,z=Y.itemSize,Q=t.get(Y);if(Q===void 0)continue;const ve=Q.buffer,ge=Q.type,Re=Q.bytesPerElement;if(Y.isInterleavedBufferAttribute){const Oe=Y.data,Me=Oe.stride,X=Y.offset;if(Oe.isInstancedInterleavedBuffer){for(let ee=0;ee<R.locationSize;ee++)E(R.location+ee,Oe.meshPerAttribute);S.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=Oe.meshPerAttribute*Oe.count)}else for(let ee=0;ee<R.locationSize;ee++)A(R.location+ee);n.bindBuffer(34962,ve);for(let ee=0;ee<R.locationSize;ee++)P(R.location+ee,z/R.locationSize,ge,Ae,Me*Re,(X+z/R.locationSize*ee)*Re)}else{if(Y.isInstancedBufferAttribute){for(let Oe=0;Oe<R.locationSize;Oe++)E(R.location+Oe,Y.meshPerAttribute);S.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let Oe=0;Oe<R.locationSize;Oe++)A(R.location+Oe);n.bindBuffer(34962,ve);for(let Oe=0;Oe<R.locationSize;Oe++)P(R.location+Oe,z/R.locationSize,ge,Ae,z*Re,z/R.locationSize*Oe*Re)}}else if(j!==void 0){const Ae=j[W];if(Ae!==void 0)switch(Ae.length){case 2:n.vertexAttrib2fv(R.location,Ae);break;case 3:n.vertexAttrib3fv(R.location,Ae);break;case 4:n.vertexAttrib4fv(R.location,Ae);break;default:n.vertexAttrib1fv(R.location,Ae)}}}}k()}function O(){J();for(const S in a){const I=a[S];for(const D in I){const $=I[D];for(const N in $)g($[N].object),delete $[N];delete I[D]}delete a[S]}}function U(S){if(a[S.id]===void 0)return;const I=a[S.id];for(const D in I){const $=I[D];for(const N in $)g($[N].object),delete $[N];delete I[D]}delete a[S.id]}function K(S){for(const I in a){const D=a[I];if(D[S.id]===void 0)continue;const $=D[S.id];for(const N in $)g($[N].object),delete $[N];delete D[S.id]}}function J(){F(),d=!0,c!==l&&(c=l,h(c.object))}function F(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:J,resetDefaultState:F,dispose:O,releaseStatesOfGeometry:U,releaseStatesOfProgram:K,initAttributes:b,enableAttribute:A,disableUnusedAttributes:k}}function $Ae(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,d){n.drawArrays(s,c,d),t.update(d,s,1)}function l(c,d,u){if(u===0)return;let f,h;if(i)f=n,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](s,c,d,u),t.update(d,s,u)}this.setMode=o,this.render=a,this.renderInstances=l}function WAe(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(P){if(P==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,u=n.getParameter(34930),f=n.getParameter(35660),h=n.getParameter(3379),g=n.getParameter(34076),v=n.getParameter(34921),x=n.getParameter(36347),y=n.getParameter(36348),_=n.getParameter(36349),b=f>0,A=o||e.has("OES_texture_float"),E=b&&A,k=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:u,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:x,maxVaryings:y,maxFragmentUniforms:_,vertexTextures:b,floatFragmentTextures:A,floatVertexTextures:E,maxSamples:k}}function jAe(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new yd,a=new go,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,f,h){const g=u.length!==0||f||r!==0||i;return i=f,t=d(u,h,0),r=u.length,g},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1,c()},this.setState=function(u,f,h){const g=u.clippingPlanes,v=u.clipIntersection,x=u.clipShadows,y=n.get(u);if(!i||g===null||g.length===0||s&&!x)s?d(null):c();else{const _=s?0:r,b=_*4;let A=y.clippingState||null;l.value=A,A=d(g,f,b,h);for(let E=0;E!==b;++E)A[E]=t[E];y.clippingState=A,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(u,f,h,g){const v=u!==null?u.length:0;let x=null;if(v!==0){if(x=l.value,g!==!0||x===null){const y=h+v*4,_=f.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<y)&&(x=new Float32Array(y));for(let b=0,A=h;b!==v;++b,A+=4)o.copy(u[b]).applyMatrix4(_,a),o.normal.toArray(x,A),x[A+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,x}}function qAe(n){let e=new WeakMap;function t(o,a){return a===t1?o.mapping=Jd:a===n1&&(o.mapping=Qd),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===t1||a===n1)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new iq(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Rl extends Q0{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Mm=4,jF=[.125,.215,.35,.446,.526,.582],ch=20,jC=new Rl,qF=new We;let qC=null;const th=(1+Math.sqrt(5))/2,Yp=1/th,YF=[new Z(1,1,1),new Z(-1,1,1),new Z(1,1,-1),new Z(-1,1,-1),new Z(0,th,Yp),new Z(0,th,-Yp),new Z(Yp,0,th),new Z(-Yp,0,th),new Z(th,Yp,0),new Z(-th,Yp,0)];class P5{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){qC=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ZF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=KF(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(qC),e.scissorTest=!1,_b(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Jd||e.mapping===Qd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),qC=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:lr,minFilter:lr,generateMipmaps:!1,type:Gh,format:qo,encoding:Ga,depthBuffer:!1},i=XF(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=XF(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=YAe(s)),this._blurMaterial=XAe(s,e,t)}return i}_compileMaterial(e){const t=new Vr(this._lodPlanes[0],e);this._renderer.compile(t,jC)}_sceneToCubeUV(e,t,r,i){const a=new qn(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,u=d.autoClear,f=d.toneMapping;d.getClearColor(qF),d.toneMapping=kl,d.autoClear=!1;const h=new gn({name:"PMREM.Background",side:ns,depthWrite:!1,depthTest:!1}),g=new Vr(new yf,h);let v=!1;const x=e.background;x?x.isColor&&(h.color.copy(x),e.background=null,v=!0):(h.color.copy(qF),v=!0);for(let y=0;y<6;y++){const _=y%3;_===0?(a.up.set(0,l[y],0),a.lookAt(c[y],0,0)):_===1?(a.up.set(0,0,l[y]),a.lookAt(0,c[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,c[y]));const b=this._cubeSize;_b(i,_*b,y>2?b:0,b,b),d.setRenderTarget(i),v&&d.render(g,a),d.render(e,a)}g.geometry.dispose(),g.material.dispose(),d.toneMapping=f,d.autoClear=u,e.background=x}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Jd||e.mapping===Qd;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=ZF()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=KF());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Vr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;_b(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,jC)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=YF[(i-1)%YF.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,u=new Vr(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*h):2*Math.PI/(2*ch-1),v=s/g,x=isFinite(s)?1+Math.floor(d*v):ch;x>ch&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${ch}`);const y=[];let _=0;for(let P=0;P<ch;++P){const C=P/v,O=Math.exp(-C*C/2);y.push(O),P===0?_+=O:P<x&&(_+=2*O)}for(let P=0;P<y.length;P++)y[P]=y[P]/_;f.envMap.value=e.texture,f.samples.value=x,f.weights.value=y,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:b}=this;f.dTheta.value=g,f.mipInt.value=b-r;const A=this._sizeLods[i],E=3*A*(i>b-Mm?i-b+Mm:0),k=4*(this._cubeSize-A);_b(t,E,k,3*A,2*A),l.setRenderTarget(t),l.render(u,jC)}}function YAe(n){const e=[],t=[],r=[];let i=n;const s=n-Mm+1+jF.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Mm?l=jF[o-n+Mm-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),d=-c,u=1+c,f=[d,d,u,d,u,u,d,d,u,u,d,u],h=6,g=6,v=3,x=2,y=1,_=new Float32Array(v*g*h),b=new Float32Array(x*g*h),A=new Float32Array(y*g*h);for(let k=0;k<h;k++){const P=k%3*2/3-1,C=k>2?0:-1,O=[P,C,0,P+2/3,C,0,P+2/3,C+1,0,P,C,0,P+2/3,C+1,0,P,C+1,0];_.set(O,v*g*k),b.set(f,x*g*k);const U=[k,k,k,k,k,k];A.set(U,y*g*k)}const E=new Jt;E.setAttribute("position",new bn(_,v)),E.setAttribute("uv",new bn(b,x)),E.setAttribute("faceIndex",new bn(A,y)),e.push(E),i>Mm&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function XF(n,e,t){const r=new Kn(n,e,t);return r.texture.mapping=Z0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function _b(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function XAe(n,e,t){const r=new Float32Array(ch),i=new Z(0,1,0);return new Gr({name:"SphericalGaussianBlur",defines:{n:ch,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:J4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ti,depthTest:!1,depthWrite:!1})}function KF(){return new Gr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:J4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ti,depthTest:!1,depthWrite:!1})}function ZF(){return new Gr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:J4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ti,depthTest:!1,depthWrite:!1})}function J4(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function KAe(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===t1||l===n1,d=l===Jd||l===Qd;if(c||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let u=e.get(a);return t===null&&(t=new P5(n)),u=c?t.fromEquirectangular(a,u):t.fromCubemap(a,u),e.set(a,u),u.texture}else{if(e.has(a))return e.get(a).texture;{const u=a.image;if(c&&u&&u.height>0||d&&u&&i(u)){t===null&&(t=new P5(n));const f=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function ZAe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function JAe(n,e,t,r){const i={},s=new WeakMap;function o(u){const f=u.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);f.removeEventListener("dispose",o),delete i[f.id];const h=s.get(f);h&&(e.remove(h),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function a(u,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,t.memory.geometries++),f}function l(u){const f=u.attributes;for(const g in f)e.update(f[g],34962);const h=u.morphAttributes;for(const g in h){const v=h[g];for(let x=0,y=v.length;x<y;x++)e.update(v[x],34962)}}function c(u){const f=[],h=u.index,g=u.attributes.position;let v=0;if(h!==null){const _=h.array;v=h.version;for(let b=0,A=_.length;b<A;b+=3){const E=_[b+0],k=_[b+1],P=_[b+2];f.push(E,k,k,P,P,E)}}else{const _=g.array;v=g.version;for(let b=0,A=_.length/3-1;b<A;b+=3){const E=b+0,k=b+1,P=b+2;f.push(E,k,k,P,P,E)}}const x=new(tq(f)?K4:X4)(f,1);x.version=v;const y=s.get(u);y&&e.remove(y),s.set(u,x)}function d(u){const f=s.get(u);if(f){const h=u.index;h!==null&&f.version<h.version&&c(u)}else c(u);return s.get(u)}return{get:a,update:l,getWireframeAttribute:d}}function QAe(n,e,t,r){const i=r.isWebGL2;let s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function d(f,h){n.drawElements(s,h,a,f*l),t.update(h,s,1)}function u(f,h,g){if(g===0)return;let v,x;if(i)v=n,x="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[x](s,h,a,f*l,g),t.update(h,s,g)}this.setMode=o,this.setIndex=c,this.render=d,this.renderInstances=u}function eEe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function tEe(n,e){return n[0]-e[0]}function nEe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function rEe(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Mn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,d,u,f){const h=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,x=v!==void 0?v.length:0;let y=s.get(d);if(y===void 0||y.count!==x){let D=function(){S.dispose(),s.delete(d),d.removeEventListener("dispose",D)};var g=D;y!==void 0&&y.texture.dispose();const A=d.morphAttributes.position!==void 0,E=d.morphAttributes.normal!==void 0,k=d.morphAttributes.color!==void 0,P=d.morphAttributes.position||[],C=d.morphAttributes.normal||[],O=d.morphAttributes.color||[];let U=0;A===!0&&(U=1),E===!0&&(U=2),k===!0&&(U=3);let K=d.attributes.position.count*U,J=1;K>e.maxTextureSize&&(J=Math.ceil(K/e.maxTextureSize),K=e.maxTextureSize);const F=new Float32Array(K*J*4*x),S=new ex(F,K,J,x);S.type=uc,S.needsUpdate=!0;const I=U*4;for(let $=0;$<x;$++){const N=P[$],G=C[$],j=O[$],W=K*J*4*$;for(let R=0;R<N.count;R++){const Y=R*I;A===!0&&(o.fromBufferAttribute(N,R),F[W+Y+0]=o.x,F[W+Y+1]=o.y,F[W+Y+2]=o.z,F[W+Y+3]=0),E===!0&&(o.fromBufferAttribute(G,R),F[W+Y+4]=o.x,F[W+Y+5]=o.y,F[W+Y+6]=o.z,F[W+Y+7]=0),k===!0&&(o.fromBufferAttribute(j,R),F[W+Y+8]=o.x,F[W+Y+9]=o.y,F[W+Y+10]=o.z,F[W+Y+11]=j.itemSize===4?o.w:1)}}y={count:x,texture:S,size:new Le(K,J)},s.set(d,y),d.addEventListener("dispose",D)}let _=0;for(let A=0;A<h.length;A++)_+=h[A];const b=d.morphTargetsRelative?1:1-_;f.getUniforms().setValue(n,"morphTargetBaseInfluence",b),f.getUniforms().setValue(n,"morphTargetInfluences",h),f.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const v=h===void 0?0:h.length;let x=r[d.id];if(x===void 0||x.length!==v){x=[];for(let E=0;E<v;E++)x[E]=[E,0];r[d.id]=x}for(let E=0;E<v;E++){const k=x[E];k[0]=E,k[1]=h[E]}x.sort(nEe);for(let E=0;E<8;E++)E<v&&x[E][1]?(a[E][0]=x[E][0],a[E][1]=x[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(tEe);const y=d.morphAttributes.position,_=d.morphAttributes.normal;let b=0;for(let E=0;E<8;E++){const k=a[E],P=k[0],C=k[1];P!==Number.MAX_SAFE_INTEGER&&C?(y&&d.getAttribute("morphTarget"+E)!==y[P]&&d.setAttribute("morphTarget"+E,y[P]),_&&d.getAttribute("morphNormal"+E)!==_[P]&&d.setAttribute("morphNormal"+E,_[P]),i[E]=C,b+=C):(y&&d.hasAttribute("morphTarget"+E)===!0&&d.deleteAttribute("morphTarget"+E),_&&d.hasAttribute("morphNormal"+E)===!0&&d.deleteAttribute("morphNormal"+E),i[E]=0)}const A=d.morphTargetsRelative?1:1-b;f.getUniforms().setValue(n,"morphTargetBaseInfluence",A),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function iEe(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,d=l.geometry,u=e.get(l,d);return i.get(u)!==c&&(e.update(u),i.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),u}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const oq=new Mr,aq=new ex,lq=new BA,cq=new nx,JF=[],QF=[],ez=new Float32Array(16),tz=new Float32Array(9),nz=new Float32Array(4);function tg(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=JF[i];if(s===void 0&&(s=new Float32Array(i),JF[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Zs(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Js(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function zA(n,e){let t=QF[e];t===void 0&&(t=new Int32Array(e),QF[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function sEe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function oEe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Zs(t,e))return;n.uniform2fv(this.addr,e),Js(t,e)}}function aEe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Zs(t,e))return;n.uniform3fv(this.addr,e),Js(t,e)}}function lEe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Zs(t,e))return;n.uniform4fv(this.addr,e),Js(t,e)}}function cEe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Zs(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Js(t,e)}else{if(Zs(t,r))return;nz.set(r),n.uniformMatrix2fv(this.addr,!1,nz),Js(t,r)}}function uEe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Zs(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Js(t,e)}else{if(Zs(t,r))return;tz.set(r),n.uniformMatrix3fv(this.addr,!1,tz),Js(t,r)}}function dEe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Zs(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Js(t,e)}else{if(Zs(t,r))return;ez.set(r),n.uniformMatrix4fv(this.addr,!1,ez),Js(t,r)}}function fEe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function hEe(n,e){const t=this.cache;Zs(t,e)||(n.uniform2iv(this.addr,e),Js(t,e))}function pEe(n,e){const t=this.cache;Zs(t,e)||(n.uniform3iv(this.addr,e),Js(t,e))}function mEe(n,e){const t=this.cache;Zs(t,e)||(n.uniform4iv(this.addr,e),Js(t,e))}function gEe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function vEe(n,e){const t=this.cache;Zs(t,e)||(n.uniform2uiv(this.addr,e),Js(t,e))}function yEe(n,e){const t=this.cache;Zs(t,e)||(n.uniform3uiv(this.addr,e),Js(t,e))}function xEe(n,e){const t=this.cache;Zs(t,e)||(n.uniform4uiv(this.addr,e),Js(t,e))}function _Ee(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||oq,i)}function bEe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||lq,i)}function wEe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||cq,i)}function SEe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||aq,i)}function AEe(n){switch(n){case 5126:return sEe;case 35664:return oEe;case 35665:return aEe;case 35666:return lEe;case 35674:return cEe;case 35675:return uEe;case 35676:return dEe;case 5124:case 35670:return fEe;case 35667:case 35671:return hEe;case 35668:case 35672:return pEe;case 35669:case 35673:return mEe;case 5125:return gEe;case 36294:return vEe;case 36295:return yEe;case 36296:return xEe;case 35678:case 36198:case 36298:case 36306:case 35682:return _Ee;case 35679:case 36299:case 36307:return bEe;case 35680:case 36300:case 36308:case 36293:return wEe;case 36289:case 36303:case 36311:case 36292:return SEe}}function EEe(n,e){n.uniform1fv(this.addr,e)}function MEe(n,e){const t=tg(e,this.size,2);n.uniform2fv(this.addr,t)}function CEe(n,e){const t=tg(e,this.size,3);n.uniform3fv(this.addr,t)}function TEe(n,e){const t=tg(e,this.size,4);n.uniform4fv(this.addr,t)}function kEe(n,e){const t=tg(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function REe(n,e){const t=tg(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function PEe(n,e){const t=tg(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function IEe(n,e){n.uniform1iv(this.addr,e)}function LEe(n,e){n.uniform2iv(this.addr,e)}function OEe(n,e){n.uniform3iv(this.addr,e)}function NEe(n,e){n.uniform4iv(this.addr,e)}function DEe(n,e){n.uniform1uiv(this.addr,e)}function BEe(n,e){n.uniform2uiv(this.addr,e)}function FEe(n,e){n.uniform3uiv(this.addr,e)}function zEe(n,e){n.uniform4uiv(this.addr,e)}function VEe(n,e,t){const r=e.length,i=zA(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2D(e[s]||oq,i[s])}function UEe(n,e,t){const r=e.length,i=zA(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture3D(e[s]||lq,i[s])}function HEe(n,e,t){const r=e.length,i=zA(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTextureCube(e[s]||cq,i[s])}function GEe(n,e,t){const r=e.length,i=zA(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||aq,i[s])}function $Ee(n){switch(n){case 5126:return EEe;case 35664:return MEe;case 35665:return CEe;case 35666:return TEe;case 35674:return kEe;case 35675:return REe;case 35676:return PEe;case 5124:case 35670:return IEe;case 35667:case 35671:return LEe;case 35668:case 35672:return OEe;case 35669:case 35673:return NEe;case 5125:return DEe;case 36294:return BEe;case 36295:return FEe;case 36296:return zEe;case 35678:case 36198:case 36298:case 36306:case 35682:return VEe;case 35679:case 36299:case 36307:return UEe;case 35680:case 36300:case 36308:case 36293:return HEe;case 36289:case 36303:case 36311:case 36292:return GEe}}class WEe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=AEe(t.type)}}class jEe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=$Ee(t.type)}}class qEe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const YC=/(\w+)(\])?(\[|\.)?/g;function rz(n,e){n.seq.push(e),n.map[e.id]=e}function YEe(n,e,t){const r=n.name,i=r.length;for(YC.lastIndex=0;;){const s=YC.exec(r),o=YC.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){rz(t,c===void 0?new WEe(a,n,e):new jEe(a,n,e));break}else{let u=t.map[a];u===void 0&&(u=new qEe(a),rz(t,u)),t=u}}}class Dw{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);YEe(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function iz(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let XEe=0;function KEe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function ZEe(n){switch(n){case Ga:return["Linear","( value )"];case It:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function sz(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+KEe(n.getShaderSource(e),o)}else return i}function JEe(n,e){const t=ZEe(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function QEe(n,e){let t;switch(e){case kj:t="Linear";break;case Rj:t="Reinhard";break;case Pj:t="OptimizedCineon";break;case G4:t="ACESFilmic";break;case Ij:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function eMe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Iv).join(`
`)}function tMe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function nMe(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Iv(n){return n!==""}function oz(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function az(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const rMe=/^[ \t]*#include +<([\w\d./]+)>/gm;function I5(n){return n.replace(rMe,iMe)}function iMe(n,e){const t=ln[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return I5(t)}const sMe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function lz(n){return n.replace(sMe,oMe)}function oMe(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function cz(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function aMe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===z4?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===V4?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Am&&(e="SHADOWMAP_TYPE_VSM"),e}function lMe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Jd:case Qd:e="ENVMAP_TYPE_CUBE";break;case Z0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function cMe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Qd:e="ENVMAP_MODE_REFRACTION";break}return e}function uMe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Q1:e="ENVMAP_BLENDING_MULTIPLY";break;case Cj:e="ENVMAP_BLENDING_MIX";break;case Tj:e="ENVMAP_BLENDING_ADD";break}return e}function dMe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function fMe(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=aMe(t),c=lMe(t),d=cMe(t),u=uMe(t),f=dMe(t),h=t.isWebGL2?"":eMe(t),g=tMe(s),v=i.createProgram();let x,y,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[g].filter(Iv).join(`
`),x.length>0&&(x+=`
`),y=[h,g].filter(Iv).join(`
`),y.length>0&&(y+=`
`)):(x=[cz(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Iv).join(`
`),y=[h,cz(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+u:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==kl?"#define TONE_MAPPING":"",t.toneMapping!==kl?ln.tonemapping_pars_fragment:"",t.toneMapping!==kl?QEe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ln.encodings_pars_fragment,JEe("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Iv).join(`
`)),o=I5(o),o=oz(o,t),o=az(o,t),a=I5(a),a=oz(a,t),a=az(a,t),o=lz(o),a=lz(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,y=["#define varying in",t.glslVersion===k5?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===k5?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const b=_+x+o,A=_+y+a,E=iz(i,35633,b),k=iz(i,35632,A);if(i.attachShader(v,E),i.attachShader(v,k),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const O=i.getProgramInfoLog(v).trim(),U=i.getShaderInfoLog(E).trim(),K=i.getShaderInfoLog(k).trim();let J=!0,F=!0;if(i.getProgramParameter(v,35714)===!1){J=!1;const S=sz(i,E,"vertex"),I=sz(i,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+O+`
`+S+`
`+I)}else O!==""?console.warn("THREE.WebGLProgram: Program Info Log:",O):(U===""||K==="")&&(F=!1);F&&(this.diagnostics={runnable:J,programLog:O,vertexShader:{log:U,prefix:x},fragmentShader:{log:K,prefix:y}})}i.deleteShader(E),i.deleteShader(k);let P;this.getUniforms=function(){return P===void 0&&(P=new Dw(i,v)),P};let C;return this.getAttributes=function(){return C===void 0&&(C=nMe(i,v)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=XEe++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=k,this}let hMe=0;class pMe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new mMe(e),t.set(e,r)),r}}class mMe{constructor(e){this.id=hMe++,this.code=e,this.usedTimes=0}}function gMe(n,e,t,r,i,s,o){const a=new Ph,l=new pMe,c=[],d=i.isWebGL2,u=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(C,O,U,K,J){const F=K.fog,S=J.geometry,I=C.isMeshStandardMaterial?K.environment:null,D=(C.isMeshStandardMaterial?t:e).get(C.envMap||I),$=D&&D.mapping===Z0?D.image.height:null,N=g[C.type];C.precision!==null&&(h=i.getMaxPrecision(C.precision),h!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",h,"instead."));const G=S.morphAttributes.position||S.morphAttributes.normal||S.morphAttributes.color,j=G!==void 0?G.length:0;let W=0;S.morphAttributes.position!==void 0&&(W=1),S.morphAttributes.normal!==void 0&&(W=2),S.morphAttributes.color!==void 0&&(W=3);let R,Y,Ae,z;if(N){const Me=yl[N];R=Me.vertexShader,Y=Me.fragmentShader}else R=C.vertexShader,Y=C.fragmentShader,l.update(C),Ae=l.getVertexShaderID(C),z=l.getFragmentShaderID(C);const Q=n.getRenderTarget(),ve=C.alphaTest>0,ge=C.clearcoat>0,Re=C.iridescence>0;return{isWebGL2:d,shaderID:N,shaderName:C.type,vertexShader:R,fragmentShader:Y,defines:C.defines,customVertexShaderID:Ae,customFragmentShaderID:z,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:h,instancing:J.isInstancedMesh===!0,instancingColor:J.isInstancedMesh===!0&&J.instanceColor!==null,supportsVertexTextures:f,outputEncoding:Q===null?n.outputEncoding:Q.isXRRenderTarget===!0?Q.texture.encoding:Ga,map:!!C.map,matcap:!!C.matcap,envMap:!!D,envMapMode:D&&D.mapping,envMapCubeUVHeight:$,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===Jj,tangentSpaceNormalMap:C.normalMapType===Nu,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===It,clearcoat:ge,clearcoatMap:ge&&!!C.clearcoatMap,clearcoatRoughnessMap:ge&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:ge&&!!C.clearcoatNormalMap,iridescence:Re,iridescenceMap:Re&&!!C.iridescenceMap,iridescenceThicknessMap:Re&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===Th,alphaMap:!!C.alphaMap,alphaTest:ve,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!S.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!S.attributes.color&&S.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.iridescenceMap||!!C.iridescenceThicknessMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!F,useFog:C.fog===!0,fogExp2:F&&F.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:u,skinning:J.isSkinnedMesh===!0,morphTargets:S.morphAttributes.position!==void 0,morphNormals:S.morphAttributes.normal!==void 0,morphColors:S.morphAttributes.color!==void 0,morphTargetsCount:j,morphTextureStride:W,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:kl,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===an,flipSided:C.side===ns,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function x(C){const O=[];if(C.shaderID?O.push(C.shaderID):(O.push(C.customVertexShaderID),O.push(C.customFragmentShaderID)),C.defines!==void 0)for(const U in C.defines)O.push(U),O.push(C.defines[U]);return C.isRawShaderMaterial===!1&&(y(O,C),_(O,C),O.push(n.outputEncoding)),O.push(C.customProgramCacheKey),O.join()}function y(C,O){C.push(O.precision),C.push(O.outputEncoding),C.push(O.envMapMode),C.push(O.envMapCubeUVHeight),C.push(O.combine),C.push(O.vertexUvs),C.push(O.fogExp2),C.push(O.sizeAttenuation),C.push(O.morphTargetsCount),C.push(O.morphAttributeCount),C.push(O.numDirLights),C.push(O.numPointLights),C.push(O.numSpotLights),C.push(O.numSpotLightMaps),C.push(O.numHemiLights),C.push(O.numRectAreaLights),C.push(O.numDirLightShadows),C.push(O.numPointLightShadows),C.push(O.numSpotLightShadows),C.push(O.numSpotLightShadowsWithMaps),C.push(O.shadowMapType),C.push(O.toneMapping),C.push(O.numClippingPlanes),C.push(O.numClipIntersection),C.push(O.depthPacking)}function _(C,O){a.disableAll(),O.isWebGL2&&a.enable(0),O.supportsVertexTextures&&a.enable(1),O.instancing&&a.enable(2),O.instancingColor&&a.enable(3),O.map&&a.enable(4),O.matcap&&a.enable(5),O.envMap&&a.enable(6),O.lightMap&&a.enable(7),O.aoMap&&a.enable(8),O.emissiveMap&&a.enable(9),O.bumpMap&&a.enable(10),O.normalMap&&a.enable(11),O.objectSpaceNormalMap&&a.enable(12),O.tangentSpaceNormalMap&&a.enable(13),O.clearcoat&&a.enable(14),O.clearcoatMap&&a.enable(15),O.clearcoatRoughnessMap&&a.enable(16),O.clearcoatNormalMap&&a.enable(17),O.iridescence&&a.enable(18),O.iridescenceMap&&a.enable(19),O.iridescenceThicknessMap&&a.enable(20),O.displacementMap&&a.enable(21),O.specularMap&&a.enable(22),O.roughnessMap&&a.enable(23),O.metalnessMap&&a.enable(24),O.gradientMap&&a.enable(25),O.alphaMap&&a.enable(26),O.alphaTest&&a.enable(27),O.vertexColors&&a.enable(28),O.vertexAlphas&&a.enable(29),O.vertexUvs&&a.enable(30),O.vertexTangents&&a.enable(31),O.uvsVertexOnly&&a.enable(32),C.push(a.mask),a.disableAll(),O.fog&&a.enable(0),O.useFog&&a.enable(1),O.flatShading&&a.enable(2),O.logarithmicDepthBuffer&&a.enable(3),O.skinning&&a.enable(4),O.morphTargets&&a.enable(5),O.morphNormals&&a.enable(6),O.morphColors&&a.enable(7),O.premultipliedAlpha&&a.enable(8),O.shadowMapEnabled&&a.enable(9),O.physicallyCorrectLights&&a.enable(10),O.doubleSided&&a.enable(11),O.flipSided&&a.enable(12),O.useDepthPacking&&a.enable(13),O.dithering&&a.enable(14),O.specularIntensityMap&&a.enable(15),O.specularColorMap&&a.enable(16),O.transmission&&a.enable(17),O.transmissionMap&&a.enable(18),O.thicknessMap&&a.enable(19),O.sheen&&a.enable(20),O.sheenColorMap&&a.enable(21),O.sheenRoughnessMap&&a.enable(22),O.decodeVideoTexture&&a.enable(23),O.opaque&&a.enable(24),C.push(a.mask)}function b(C){const O=g[C.type];let U;if(O){const K=yl[O];U=Z4.clone(K.uniforms)}else U=C.uniforms;return U}function A(C,O){let U;for(let K=0,J=c.length;K<J;K++){const F=c[K];if(F.cacheKey===O){U=F,++U.usedTimes;break}}return U===void 0&&(U=new fMe(n,O,C,s),c.push(U)),U}function E(C){if(--C.usedTimes===0){const O=c.indexOf(C);c[O]=c[c.length-1],c.pop(),C.destroy()}}function k(C){l.remove(C)}function P(){l.dispose()}return{getParameters:v,getProgramCacheKey:x,getUniforms:b,acquireProgram:A,releaseProgram:E,releaseShaderCache:k,programs:c,dispose:P}}function vMe(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function yMe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function uz(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function dz(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(u,f,h,g,v,x){let y=n[e];return y===void 0?(y={id:u.id,object:u,geometry:f,material:h,groupOrder:g,renderOrder:u.renderOrder,z:v,group:x},n[e]=y):(y.id=u.id,y.object=u,y.geometry=f,y.material=h,y.groupOrder=g,y.renderOrder=u.renderOrder,y.z=v,y.group=x),e++,y}function a(u,f,h,g,v,x){const y=o(u,f,h,g,v,x);h.transmission>0?r.push(y):h.transparent===!0?i.push(y):t.push(y)}function l(u,f,h,g,v,x){const y=o(u,f,h,g,v,x);h.transmission>0?r.unshift(y):h.transparent===!0?i.unshift(y):t.unshift(y)}function c(u,f){t.length>1&&t.sort(u||yMe),r.length>1&&r.sort(f||uz),i.length>1&&i.sort(f||uz)}function d(){for(let u=e,f=n.length;u<f;u++){const h=n[u];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:d,sort:c}}function xMe(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new dz,n.set(r,[o])):i>=s.length?(o=new dz,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function _Me(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Z,color:new We};break;case"SpotLight":t={position:new Z,direction:new Z,color:new We,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Z,color:new We,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Z,skyColor:new We,groundColor:new We};break;case"RectAreaLight":t={color:new We,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return n[e.id]=t,t}}}function bMe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let wMe=0;function SMe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function AMe(n,e){const t=new _Me,r=bMe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)i.probe.push(new Z);const s=new Z,o=new Wt,a=new Wt;function l(d,u){let f=0,h=0,g=0;for(let K=0;K<9;K++)i.probe[K].set(0,0,0);let v=0,x=0,y=0,_=0,b=0,A=0,E=0,k=0,P=0,C=0;d.sort(SMe);const O=u!==!0?Math.PI:1;for(let K=0,J=d.length;K<J;K++){const F=d[K],S=F.color,I=F.intensity,D=F.distance,$=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)f+=S.r*I*O,h+=S.g*I*O,g+=S.b*I*O;else if(F.isLightProbe)for(let N=0;N<9;N++)i.probe[N].addScaledVector(F.sh.coefficients[N],I);else if(F.isDirectionalLight){const N=t.get(F);if(N.color.copy(F.color).multiplyScalar(F.intensity*O),F.castShadow){const G=F.shadow,j=r.get(F);j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,i.directionalShadow[v]=j,i.directionalShadowMap[v]=$,i.directionalShadowMatrix[v]=F.shadow.matrix,A++}i.directional[v]=N,v++}else if(F.isSpotLight){const N=t.get(F);N.position.setFromMatrixPosition(F.matrixWorld),N.color.copy(S).multiplyScalar(I*O),N.distance=D,N.coneCos=Math.cos(F.angle),N.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),N.decay=F.decay,i.spot[y]=N;const G=F.shadow;if(F.map&&(i.spotLightMap[P]=F.map,P++,G.updateMatrices(F),F.castShadow&&C++),i.spotLightMatrix[y]=G.matrix,F.castShadow){const j=r.get(F);j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,i.spotShadow[y]=j,i.spotShadowMap[y]=$,k++}y++}else if(F.isRectAreaLight){const N=t.get(F);N.color.copy(S).multiplyScalar(I),N.halfWidth.set(F.width*.5,0,0),N.halfHeight.set(0,F.height*.5,0),i.rectArea[_]=N,_++}else if(F.isPointLight){const N=t.get(F);if(N.color.copy(F.color).multiplyScalar(F.intensity*O),N.distance=F.distance,N.decay=F.decay,F.castShadow){const G=F.shadow,j=r.get(F);j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,j.shadowCameraNear=G.camera.near,j.shadowCameraFar=G.camera.far,i.pointShadow[x]=j,i.pointShadowMap[x]=$,i.pointShadowMatrix[x]=F.shadow.matrix,E++}i.point[x]=N,x++}else if(F.isHemisphereLight){const N=t.get(F);N.skyColor.copy(F.color).multiplyScalar(I*O),N.groundColor.copy(F.groundColor).multiplyScalar(I*O),i.hemi[b]=N,b++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ot.LTC_FLOAT_1,i.rectAreaLTC2=ot.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=ot.LTC_HALF_1,i.rectAreaLTC2=ot.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=h,i.ambient[2]=g;const U=i.hash;(U.directionalLength!==v||U.pointLength!==x||U.spotLength!==y||U.rectAreaLength!==_||U.hemiLength!==b||U.numDirectionalShadows!==A||U.numPointShadows!==E||U.numSpotShadows!==k||U.numSpotMaps!==P)&&(i.directional.length=v,i.spot.length=y,i.rectArea.length=_,i.point.length=x,i.hemi.length=b,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=k,i.spotShadowMap.length=k,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=E,i.spotLightMatrix.length=k+P-C,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=C,U.directionalLength=v,U.pointLength=x,U.spotLength=y,U.rectAreaLength=_,U.hemiLength=b,U.numDirectionalShadows=A,U.numPointShadows=E,U.numSpotShadows=k,U.numSpotMaps=P,i.version=wMe++)}function c(d,u){let f=0,h=0,g=0,v=0,x=0;const y=u.matrixWorldInverse;for(let _=0,b=d.length;_<b;_++){const A=d[_];if(A.isDirectionalLight){const E=i.directional[f];E.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(y),f++}else if(A.isSpotLight){const E=i.spot[g];E.position.setFromMatrixPosition(A.matrixWorld),E.position.applyMatrix4(y),E.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(y),g++}else if(A.isRectAreaLight){const E=i.rectArea[v];E.position.setFromMatrixPosition(A.matrixWorld),E.position.applyMatrix4(y),a.identity(),o.copy(A.matrixWorld),o.premultiply(y),a.extractRotation(o),E.halfWidth.set(A.width*.5,0,0),E.halfHeight.set(0,A.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),v++}else if(A.isPointLight){const E=i.point[h];E.position.setFromMatrixPosition(A.matrixWorld),E.position.applyMatrix4(y),h++}else if(A.isHemisphereLight){const E=i.hemi[x];E.direction.setFromMatrixPosition(A.matrixWorld),E.direction.transformDirection(y),x++}}}return{setup:l,setupView:c,state:i}}function fz(n,e){const t=new AMe(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(u){r.push(u)}function a(u){i.push(u)}function l(u){t.setup(r,u)}function c(u){t.setupView(r,u)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function EMe(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new fz(n,e),t.set(s,[l])):o>=a.length?(l=new fz(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class VA extends Kr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=gf,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Q4 extends Kr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Z,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const MMe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,CMe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function TMe(n,e,t){let r=new FA;const i=new Le,s=new Le,o=new Mn,a=new VA({depthPacking:o1}),l=new Q4,c={},d=t.maxTextureSize,u={0:ns,1:Au,2:an},f=new Gr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Le},radius:{value:4}},vertexShader:MMe,fragmentShader:CMe}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const g=new Jt;g.setAttribute("position",new bn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Vr(g,f),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=z4,this.render=function(A,E,k){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||A.length===0)return;const P=n.getRenderTarget(),C=n.getActiveCubeFace(),O=n.getActiveMipmapLevel(),U=n.state;U.setBlending(Ti),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);for(let K=0,J=A.length;K<J;K++){const F=A[K],S=F.shadow;if(S===void 0){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(S.autoUpdate===!1&&S.needsUpdate===!1)continue;i.copy(S.mapSize);const I=S.getFrameExtents();if(i.multiply(I),s.copy(S.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/I.x),i.x=s.x*I.x,S.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/I.y),i.y=s.y*I.y,S.mapSize.y=s.y)),S.map===null){const $=this.type!==Am?{minFilter:$n,magFilter:$n}:{};S.map=new Kn(i.x,i.y,$),S.map.texture.name=F.name+".shadowMap",S.camera.updateProjectionMatrix()}n.setRenderTarget(S.map),n.clear();const D=S.getViewportCount();for(let $=0;$<D;$++){const N=S.getViewport($);o.set(s.x*N.x,s.y*N.y,s.x*N.z,s.y*N.w),U.viewport(o),S.updateMatrices(F,$),r=S.getFrustum(),b(E,k,S.camera,F,this.type)}S.isPointLightShadow!==!0&&this.type===Am&&y(S,k),S.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(P,C,O)};function y(A,E){const k=e.update(v);f.defines.VSM_SAMPLES!==A.blurSamples&&(f.defines.VSM_SAMPLES=A.blurSamples,h.defines.VSM_SAMPLES=A.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Kn(i.x,i.y)),f.uniforms.shadow_pass.value=A.map.texture,f.uniforms.resolution.value=A.mapSize,f.uniforms.radius.value=A.radius,n.setRenderTarget(A.mapPass),n.clear(),n.renderBufferDirect(E,null,k,f,v,null),h.uniforms.shadow_pass.value=A.mapPass.texture,h.uniforms.resolution.value=A.mapSize,h.uniforms.radius.value=A.radius,n.setRenderTarget(A.map),n.clear(),n.renderBufferDirect(E,null,k,h,v,null)}function _(A,E,k,P,C,O){let U=null;const K=k.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(K!==void 0?U=K:U=k.isPointLight===!0?l:a,n.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0){const J=U.uuid,F=E.uuid;let S=c[J];S===void 0&&(S={},c[J]=S);let I=S[F];I===void 0&&(I=U.clone(),S[F]=I),U=I}return U.visible=E.visible,U.wireframe=E.wireframe,O===Am?U.side=E.shadowSide!==null?E.shadowSide:E.side:U.side=E.shadowSide!==null?E.shadowSide:u[E.side],U.alphaMap=E.alphaMap,U.alphaTest=E.alphaTest,U.clipShadows=E.clipShadows,U.clippingPlanes=E.clippingPlanes,U.clipIntersection=E.clipIntersection,U.displacementMap=E.displacementMap,U.displacementScale=E.displacementScale,U.displacementBias=E.displacementBias,U.wireframeLinewidth=E.wireframeLinewidth,U.linewidth=E.linewidth,k.isPointLight===!0&&U.isMeshDistanceMaterial===!0&&(U.referencePosition.setFromMatrixPosition(k.matrixWorld),U.nearDistance=P,U.farDistance=C),U}function b(A,E,k,P,C){if(A.visible===!1)return;if(A.layers.test(E.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&C===Am)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,A.matrixWorld);const K=e.update(A),J=A.material;if(Array.isArray(J)){const F=K.groups;for(let S=0,I=F.length;S<I;S++){const D=F[S],$=J[D.materialIndex];if($&&$.visible){const N=_(A,$,P,k.near,k.far,C);n.renderBufferDirect(k,null,K,N,A,D)}}}else if(J.visible){const F=_(A,J,P,k.near,k.far,C);n.renderBufferDirect(k,null,K,F,A,null)}}const U=A.children;for(let K=0,J=U.length;K<J;K++)b(U[K],E,k,P,C)}}function kMe(n,e,t){const r=t.isWebGL2;function i(){let ce=!1;const $e=new Mn;let Ee=null;const Je=new Mn(0,0,0,0);return{setMask:function(He){Ee!==He&&!ce&&(n.colorMask(He,He,He,He),Ee=He)},setLocked:function(He){ce=He},setClear:function(He,gt,Hn,Ct,sn){sn===!0&&(He*=Ct,gt*=Ct,Hn*=Ct),$e.set(He,gt,Hn,Ct),Je.equals($e)===!1&&(n.clearColor(He,gt,Hn,Ct),Je.copy($e))},reset:function(){ce=!1,Ee=null,Je.set(-1,0,0,0)}}}function s(){let ce=!1,$e=null,Ee=null,Je=null;return{setTest:function(He){He?ve(2929):ge(2929)},setMask:function(He){$e!==He&&!ce&&(n.depthMask(He),$e=He)},setFunc:function(He){if(Ee!==He){if(He)switch(He){case _j:n.depthFunc(512);break;case bj:n.depthFunc(519);break;case wj:n.depthFunc(513);break;case i2:n.depthFunc(515);break;case Sj:n.depthFunc(514);break;case Aj:n.depthFunc(518);break;case Ej:n.depthFunc(516);break;case Mj:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Ee=He}},setLocked:function(He){ce=He},setClear:function(He){Je!==He&&(n.clearDepth(He),Je=He)},reset:function(){ce=!1,$e=null,Ee=null,Je=null}}}function o(){let ce=!1,$e=null,Ee=null,Je=null,He=null,gt=null,Hn=null,Ct=null,sn=null;return{setTest:function(Sn){ce||(Sn?ve(2960):ge(2960))},setMask:function(Sn){$e!==Sn&&!ce&&(n.stencilMask(Sn),$e=Sn)},setFunc:function(Sn,tn,jt){(Ee!==Sn||Je!==tn||He!==jt)&&(n.stencilFunc(Sn,tn,jt),Ee=Sn,Je=tn,He=jt)},setOp:function(Sn,tn,jt){(gt!==Sn||Hn!==tn||Ct!==jt)&&(n.stencilOp(Sn,tn,jt),gt=Sn,Hn=tn,Ct=jt)},setLocked:function(Sn){ce=Sn},setClear:function(Sn){sn!==Sn&&(n.clearStencil(Sn),sn=Sn)},reset:function(){ce=!1,$e=null,Ee=null,Je=null,He=null,gt=null,Hn=null,Ct=null,sn=null}}}const a=new i,l=new s,c=new o,d=new WeakMap,u=new WeakMap;let f={},h={},g=new WeakMap,v=[],x=null,y=!1,_=null,b=null,A=null,E=null,k=null,P=null,C=null,O=!1,U=null,K=null,J=null,F=null,S=null;const I=n.getParameter(35661);let D=!1,$=0;const N=n.getParameter(7938);N.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(N)[1]),D=$>=1):N.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),D=$>=2);let G=null,j={};const W=n.getParameter(3088),R=n.getParameter(2978),Y=new Mn().fromArray(W),Ae=new Mn().fromArray(R);function z(ce,$e,Ee){const Je=new Uint8Array(4),He=n.createTexture();n.bindTexture(ce,He),n.texParameteri(ce,10241,9728),n.texParameteri(ce,10240,9728);for(let gt=0;gt<Ee;gt++)n.texImage2D($e+gt,0,6408,1,1,0,6408,5121,Je);return He}const Q={};Q[3553]=z(3553,3553,1),Q[34067]=z(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ve(2929),l.setFunc(i2),Ce(!1),we(r5),ve(2884),ie(Ti);function ve(ce){f[ce]!==!0&&(n.enable(ce),f[ce]=!0)}function ge(ce){f[ce]!==!1&&(n.disable(ce),f[ce]=!1)}function Re(ce,$e){return h[ce]!==$e?(n.bindFramebuffer(ce,$e),h[ce]=$e,r&&(ce===36009&&(h[36160]=$e),ce===36160&&(h[36009]=$e)),!0):!1}function Oe(ce,$e){let Ee=v,Je=!1;if(ce)if(Ee=g.get($e),Ee===void 0&&(Ee=[],g.set($e,Ee)),ce.isWebGLMultipleRenderTargets){const He=ce.texture;if(Ee.length!==He.length||Ee[0]!==36064){for(let gt=0,Hn=He.length;gt<Hn;gt++)Ee[gt]=36064+gt;Ee.length=He.length,Je=!0}}else Ee[0]!==36064&&(Ee[0]=36064,Je=!0);else Ee[0]!==1029&&(Ee[0]=1029,Je=!0);Je&&(t.isWebGL2?n.drawBuffers(Ee):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ee))}function Me(ce){return x!==ce?(n.useProgram(ce),x=ce,!0):!1}const X={[lh]:32774,[cj]:32778,[uj]:32779};if(r)X[o5]=32775,X[a5]=32776;else{const ce=e.get("EXT_blend_minmax");ce!==null&&(X[o5]=ce.MIN_EXT,X[a5]=ce.MAX_EXT)}const ee={[dj]:0,[fj]:1,[hj]:768,[U4]:770,[xj]:776,[vj]:774,[mj]:772,[pj]:769,[H4]:771,[yj]:775,[gj]:773};function ie(ce,$e,Ee,Je,He,gt,Hn,Ct){if(ce===Ti){y===!0&&(ge(3042),y=!1);return}if(y===!1&&(ve(3042),y=!0),ce!==lj){if(ce!==_||Ct!==O){if((b!==lh||k!==lh)&&(n.blendEquation(32774),b=lh,k=lh),Ct)switch(ce){case Th:n.blendFuncSeparate(1,771,1,771);break;case r2:n.blendFunc(1,1);break;case i5:n.blendFuncSeparate(0,769,0,1);break;case s5:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case Th:n.blendFuncSeparate(770,771,1,771);break;case r2:n.blendFunc(770,1);break;case i5:n.blendFuncSeparate(0,769,0,1);break;case s5:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}A=null,E=null,P=null,C=null,_=ce,O=Ct}return}He=He||$e,gt=gt||Ee,Hn=Hn||Je,($e!==b||He!==k)&&(n.blendEquationSeparate(X[$e],X[He]),b=$e,k=He),(Ee!==A||Je!==E||gt!==P||Hn!==C)&&(n.blendFuncSeparate(ee[Ee],ee[Je],ee[gt],ee[Hn]),A=Ee,E=Je,P=gt,C=Hn),_=ce,O=null}function fe(ce,$e){ce.side===an?ge(2884):ve(2884);let Ee=ce.side===ns;$e&&(Ee=!Ee),Ce(Ee),ce.blending===Th&&ce.transparent===!1?ie(Ti):ie(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.premultipliedAlpha),l.setFunc(ce.depthFunc),l.setTest(ce.depthTest),l.setMask(ce.depthWrite),a.setMask(ce.colorWrite);const Je=ce.stencilWrite;c.setTest(Je),Je&&(c.setMask(ce.stencilWriteMask),c.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),c.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),Ze(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?ve(32926):ge(32926)}function Ce(ce){U!==ce&&(ce?n.frontFace(2304):n.frontFace(2305),U=ce)}function we(ce){ce!==oj?(ve(2884),ce!==K&&(ce===r5?n.cullFace(1029):ce===aj?n.cullFace(1028):n.cullFace(1032))):ge(2884),K=ce}function Ne(ce){ce!==J&&(D&&n.lineWidth(ce),J=ce)}function Ze(ce,$e,Ee){ce?(ve(32823),(F!==$e||S!==Ee)&&(n.polygonOffset($e,Ee),F=$e,S=Ee)):ge(32823)}function nt(ce){ce?ve(3089):ge(3089)}function ht(ce){ce===void 0&&(ce=33984+I-1),G!==ce&&(n.activeTexture(ce),G=ce)}function se(ce,$e){G===null&&ht();let Ee=j[G];Ee===void 0&&(Ee={type:void 0,texture:void 0},j[G]=Ee),(Ee.type!==ce||Ee.texture!==$e)&&(n.bindTexture(ce,$e||Q[ce]),Ee.type=ce,Ee.texture=$e)}function q(){const ce=j[G];ce!==void 0&&ce.type!==void 0&&(n.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function le(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ze(){try{n.texSubImage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Be(){try{n.texSubImage3D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ue(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function mt(){try{n.texStorage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function be(){try{n.texStorage3D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Xe(){try{n.texImage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function tt(){try{n.texImage3D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ae(ce){Y.equals(ce)===!1&&(n.scissor(ce.x,ce.y,ce.z,ce.w),Y.copy(ce))}function xe(ce){Ae.equals(ce)===!1&&(n.viewport(ce.x,ce.y,ce.z,ce.w),Ae.copy(ce))}function je(ce,$e){let Ee=u.get($e);Ee===void 0&&(Ee=new WeakMap,u.set($e,Ee));let Je=Ee.get(ce);Je===void 0&&(Je=n.getUniformBlockIndex($e,ce.name),Ee.set(ce,Je))}function qe(ce,$e){const Je=u.get($e).get(ce);d.get(ce)!==Je&&(n.uniformBlockBinding($e,Je,ce.__bindingPointIndex),d.set(ce,Je))}function st(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},G=null,j={},h={},g=new WeakMap,v=[],x=null,y=!1,_=null,b=null,A=null,E=null,k=null,P=null,C=null,O=!1,U=null,K=null,J=null,F=null,S=null,Y.set(0,0,n.canvas.width,n.canvas.height),Ae.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ve,disable:ge,bindFramebuffer:Re,drawBuffers:Oe,useProgram:Me,setBlending:ie,setMaterial:fe,setFlipSided:Ce,setCullFace:we,setLineWidth:Ne,setPolygonOffset:Ze,setScissorTest:nt,activeTexture:ht,bindTexture:se,unbindTexture:q,compressedTexImage2D:le,texImage2D:Xe,texImage3D:tt,updateUBOMapping:je,uniformBlockBinding:qe,texStorage2D:mt,texStorage3D:be,texSubImage2D:ze,texSubImage3D:Be,compressedTexSubImage2D:Ue,scissor:ae,viewport:xe,reset:st}}function RMe(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,d=i.maxTextureSize,u=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const x=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(se,q){return y?new OffscreenCanvas(se,q):c1("canvas")}function b(se,q,le,ze){let Be=1;if((se.width>ze||se.height>ze)&&(Be=ze/Math.max(se.width,se.height)),Be<1||q===!0)if(typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&se instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&se instanceof ImageBitmap){const Ue=q?o2:Math.floor,mt=Ue(Be*se.width),be=Ue(Be*se.height);v===void 0&&(v=_(mt,be));const Xe=le?_(mt,be):v;return Xe.width=mt,Xe.height=be,Xe.getContext("2d").drawImage(se,0,0,mt,be),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+se.width+"x"+se.height+") to ("+mt+"x"+be+")."),Xe}else return"data"in se&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+se.width+"x"+se.height+")."),se;return se}function A(se){return R5(se.width)&&R5(se.height)}function E(se){return a?!1:se.wrapS!==Ms||se.wrapT!==Ms||se.minFilter!==$n&&se.minFilter!==lr}function k(se,q){return se.generateMipmaps&&q&&se.minFilter!==$n&&se.minFilter!==lr}function P(se){n.generateMipmap(se)}function C(se,q,le,ze,Be=!1){if(a===!1)return q;if(se!==null){if(n[se]!==void 0)return n[se];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+se+"'")}let Ue=q;return q===6403&&(le===5126&&(Ue=33326),le===5131&&(Ue=33325),le===5121&&(Ue=33321)),q===33319&&(le===5126&&(Ue=33328),le===5131&&(Ue=33327),le===5121&&(Ue=33323)),q===6408&&(le===5126&&(Ue=34836),le===5131&&(Ue=34842),le===5121&&(Ue=ze===It&&Be===!1?35907:32856),le===32819&&(Ue=32854),le===32820&&(Ue=32855)),(Ue===33325||Ue===33326||Ue===33327||Ue===33328||Ue===34842||Ue===34836)&&e.get("EXT_color_buffer_float"),Ue}function O(se,q,le){return k(se,le)===!0||se.isFramebufferTexture&&se.minFilter!==$n&&se.minFilter!==lr?Math.log2(Math.max(q.width,q.height))+1:se.mipmaps!==void 0&&se.mipmaps.length>0?se.mipmaps.length:se.isCompressedTexture&&Array.isArray(se.image)?q.mipmaps.length:1}function U(se){return se===$n||se===r1||se===i1?9728:9729}function K(se){const q=se.target;q.removeEventListener("dispose",K),F(q),q.isVideoTexture&&g.delete(q)}function J(se){const q=se.target;q.removeEventListener("dispose",J),I(q)}function F(se){const q=r.get(se);if(q.__webglInit===void 0)return;const le=se.source,ze=x.get(le);if(ze){const Be=ze[q.__cacheKey];Be.usedTimes--,Be.usedTimes===0&&S(se),Object.keys(ze).length===0&&x.delete(le)}r.remove(se)}function S(se){const q=r.get(se);n.deleteTexture(q.__webglTexture);const le=se.source,ze=x.get(le);delete ze[q.__cacheKey],o.memory.textures--}function I(se){const q=se.texture,le=r.get(se),ze=r.get(q);if(ze.__webglTexture!==void 0&&(n.deleteTexture(ze.__webglTexture),o.memory.textures--),se.depthTexture&&se.depthTexture.dispose(),se.isWebGLCubeRenderTarget)for(let Be=0;Be<6;Be++)n.deleteFramebuffer(le.__webglFramebuffer[Be]),le.__webglDepthbuffer&&n.deleteRenderbuffer(le.__webglDepthbuffer[Be]);else{if(n.deleteFramebuffer(le.__webglFramebuffer),le.__webglDepthbuffer&&n.deleteRenderbuffer(le.__webglDepthbuffer),le.__webglMultisampledFramebuffer&&n.deleteFramebuffer(le.__webglMultisampledFramebuffer),le.__webglColorRenderbuffer)for(let Be=0;Be<le.__webglColorRenderbuffer.length;Be++)le.__webglColorRenderbuffer[Be]&&n.deleteRenderbuffer(le.__webglColorRenderbuffer[Be]);le.__webglDepthRenderbuffer&&n.deleteRenderbuffer(le.__webglDepthRenderbuffer)}if(se.isWebGLMultipleRenderTargets)for(let Be=0,Ue=q.length;Be<Ue;Be++){const mt=r.get(q[Be]);mt.__webglTexture&&(n.deleteTexture(mt.__webglTexture),o.memory.textures--),r.remove(q[Be])}r.remove(q),r.remove(se)}let D=0;function $(){D=0}function N(){const se=D;return se>=l&&console.warn("THREE.WebGLTextures: Trying to use "+se+" texture units while this GPU supports only "+l),D+=1,se}function G(se){const q=[];return q.push(se.wrapS),q.push(se.wrapT),q.push(se.magFilter),q.push(se.minFilter),q.push(se.anisotropy),q.push(se.internalFormat),q.push(se.format),q.push(se.type),q.push(se.generateMipmaps),q.push(se.premultiplyAlpha),q.push(se.flipY),q.push(se.unpackAlignment),q.push(se.encoding),q.join()}function j(se,q){const le=r.get(se);if(se.isVideoTexture&&nt(se),se.isRenderTargetTexture===!1&&se.version>0&&le.__version!==se.version){const ze=se.image;if(ze===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ze.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ge(le,se,q);return}}t.activeTexture(33984+q),t.bindTexture(3553,le.__webglTexture)}function W(se,q){const le=r.get(se);if(se.version>0&&le.__version!==se.version){ge(le,se,q);return}t.activeTexture(33984+q),t.bindTexture(35866,le.__webglTexture)}function R(se,q){const le=r.get(se);if(se.version>0&&le.__version!==se.version){ge(le,se,q);return}t.activeTexture(33984+q),t.bindTexture(32879,le.__webglTexture)}function Y(se,q){const le=r.get(se);if(se.version>0&&le.__version!==se.version){Re(le,se,q);return}t.activeTexture(33984+q),t.bindTexture(34067,le.__webglTexture)}const Ae={[Ol]:10497,[Ms]:33071,[_0]:33648},z={[$n]:9728,[r1]:9984,[i1]:9986,[lr]:9729,[OA]:9985,[Rc]:9987};function Q(se,q,le){if(le?(n.texParameteri(se,10242,Ae[q.wrapS]),n.texParameteri(se,10243,Ae[q.wrapT]),(se===32879||se===35866)&&n.texParameteri(se,32882,Ae[q.wrapR]),n.texParameteri(se,10240,z[q.magFilter]),n.texParameteri(se,10241,z[q.minFilter])):(n.texParameteri(se,10242,33071),n.texParameteri(se,10243,33071),(se===32879||se===35866)&&n.texParameteri(se,32882,33071),(q.wrapS!==Ms||q.wrapT!==Ms)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(se,10240,U(q.magFilter)),n.texParameteri(se,10241,U(q.minFilter)),q.minFilter!==$n&&q.minFilter!==lr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ze=e.get("EXT_texture_filter_anisotropic");if(q.type===uc&&e.has("OES_texture_float_linear")===!1||a===!1&&q.type===Gh&&e.has("OES_texture_half_float_linear")===!1)return;(q.anisotropy>1||r.get(q).__currentAnisotropy)&&(n.texParameterf(se,ze.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,i.getMaxAnisotropy())),r.get(q).__currentAnisotropy=q.anisotropy)}}function ve(se,q){let le=!1;se.__webglInit===void 0&&(se.__webglInit=!0,q.addEventListener("dispose",K));const ze=q.source;let Be=x.get(ze);Be===void 0&&(Be={},x.set(ze,Be));const Ue=G(q);if(Ue!==se.__cacheKey){Be[Ue]===void 0&&(Be[Ue]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,le=!0),Be[Ue].usedTimes++;const mt=Be[se.__cacheKey];mt!==void 0&&(Be[se.__cacheKey].usedTimes--,mt.usedTimes===0&&S(q)),se.__cacheKey=Ue,se.__webglTexture=Be[Ue].texture}return le}function ge(se,q,le){let ze=3553;q.isDataArrayTexture&&(ze=35866),q.isData3DTexture&&(ze=32879);const Be=ve(se,q),Ue=q.source;if(t.activeTexture(33984+le),t.bindTexture(ze,se.__webglTexture),Ue.version!==Ue.__currentVersion||Be===!0){n.pixelStorei(37440,q.flipY),n.pixelStorei(37441,q.premultiplyAlpha),n.pixelStorei(3317,q.unpackAlignment),n.pixelStorei(37443,0);const mt=E(q)&&A(q.image)===!1;let be=b(q.image,mt,!1,d);be=ht(q,be);const Xe=A(be)||a,tt=s.convert(q.format,q.encoding);let ae=s.convert(q.type),xe=C(q.internalFormat,tt,ae,q.encoding,q.isVideoTexture);Q(ze,q,Xe);let je;const qe=q.mipmaps,st=a&&q.isVideoTexture!==!0,ce=Ue.__currentVersion===void 0||Be===!0,$e=O(q,be,Xe);if(q.isDepthTexture)xe=6402,a?q.type===uc?xe=36012:q.type===du?xe=33190:q.type===Hd?xe=35056:xe=33189:q.type===uc&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),q.format===Gd&&xe===6402&&q.type!==$4&&q.type!==du&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),q.type=du,ae=s.convert(q.type)),q.format===ef&&xe===6402&&(xe=34041,q.type!==Hd&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),q.type=Hd,ae=s.convert(q.type))),ce&&(st?t.texStorage2D(3553,1,xe,be.width,be.height):t.texImage2D(3553,0,xe,be.width,be.height,0,tt,ae,null));else if(q.isDataTexture)if(qe.length>0&&Xe){st&&ce&&t.texStorage2D(3553,$e,xe,qe[0].width,qe[0].height);for(let Ee=0,Je=qe.length;Ee<Je;Ee++)je=qe[Ee],st?t.texSubImage2D(3553,Ee,0,0,je.width,je.height,tt,ae,je.data):t.texImage2D(3553,Ee,xe,je.width,je.height,0,tt,ae,je.data);q.generateMipmaps=!1}else st?(ce&&t.texStorage2D(3553,$e,xe,be.width,be.height),t.texSubImage2D(3553,0,0,0,be.width,be.height,tt,ae,be.data)):t.texImage2D(3553,0,xe,be.width,be.height,0,tt,ae,be.data);else if(q.isCompressedTexture){st&&ce&&t.texStorage2D(3553,$e,xe,qe[0].width,qe[0].height);for(let Ee=0,Je=qe.length;Ee<Je;Ee++)je=qe[Ee],q.format!==qo?tt!==null?st?t.compressedTexSubImage2D(3553,Ee,0,0,je.width,je.height,tt,je.data):t.compressedTexImage2D(3553,Ee,xe,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):st?t.texSubImage2D(3553,Ee,0,0,je.width,je.height,tt,ae,je.data):t.texImage2D(3553,Ee,xe,je.width,je.height,0,tt,ae,je.data)}else if(q.isDataArrayTexture)st?(ce&&t.texStorage3D(35866,$e,xe,be.width,be.height,be.depth),t.texSubImage3D(35866,0,0,0,0,be.width,be.height,be.depth,tt,ae,be.data)):t.texImage3D(35866,0,xe,be.width,be.height,be.depth,0,tt,ae,be.data);else if(q.isData3DTexture)st?(ce&&t.texStorage3D(32879,$e,xe,be.width,be.height,be.depth),t.texSubImage3D(32879,0,0,0,0,be.width,be.height,be.depth,tt,ae,be.data)):t.texImage3D(32879,0,xe,be.width,be.height,be.depth,0,tt,ae,be.data);else if(q.isFramebufferTexture){if(ce)if(st)t.texStorage2D(3553,$e,xe,be.width,be.height);else{let Ee=be.width,Je=be.height;for(let He=0;He<$e;He++)t.texImage2D(3553,He,xe,Ee,Je,0,tt,ae,null),Ee>>=1,Je>>=1}}else if(qe.length>0&&Xe){st&&ce&&t.texStorage2D(3553,$e,xe,qe[0].width,qe[0].height);for(let Ee=0,Je=qe.length;Ee<Je;Ee++)je=qe[Ee],st?t.texSubImage2D(3553,Ee,0,0,tt,ae,je):t.texImage2D(3553,Ee,xe,tt,ae,je);q.generateMipmaps=!1}else st?(ce&&t.texStorage2D(3553,$e,xe,be.width,be.height),t.texSubImage2D(3553,0,0,0,tt,ae,be)):t.texImage2D(3553,0,xe,tt,ae,be);k(q,Xe)&&P(ze),Ue.__currentVersion=Ue.version,q.onUpdate&&q.onUpdate(q)}se.__version=q.version}function Re(se,q,le){if(q.image.length!==6)return;const ze=ve(se,q),Be=q.source;if(t.activeTexture(33984+le),t.bindTexture(34067,se.__webglTexture),Be.version!==Be.__currentVersion||ze===!0){n.pixelStorei(37440,q.flipY),n.pixelStorei(37441,q.premultiplyAlpha),n.pixelStorei(3317,q.unpackAlignment),n.pixelStorei(37443,0);const Ue=q.isCompressedTexture||q.image[0].isCompressedTexture,mt=q.image[0]&&q.image[0].isDataTexture,be=[];for(let Ee=0;Ee<6;Ee++)!Ue&&!mt?be[Ee]=b(q.image[Ee],!1,!0,c):be[Ee]=mt?q.image[Ee].image:q.image[Ee],be[Ee]=ht(q,be[Ee]);const Xe=be[0],tt=A(Xe)||a,ae=s.convert(q.format,q.encoding),xe=s.convert(q.type),je=C(q.internalFormat,ae,xe,q.encoding),qe=a&&q.isVideoTexture!==!0,st=Be.__currentVersion===void 0||ze===!0;let ce=O(q,Xe,tt);Q(34067,q,tt);let $e;if(Ue){qe&&st&&t.texStorage2D(34067,ce,je,Xe.width,Xe.height);for(let Ee=0;Ee<6;Ee++){$e=be[Ee].mipmaps;for(let Je=0;Je<$e.length;Je++){const He=$e[Je];q.format!==qo?ae!==null?qe?t.compressedTexSubImage2D(34069+Ee,Je,0,0,He.width,He.height,ae,He.data):t.compressedTexImage2D(34069+Ee,Je,je,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):qe?t.texSubImage2D(34069+Ee,Je,0,0,He.width,He.height,ae,xe,He.data):t.texImage2D(34069+Ee,Je,je,He.width,He.height,0,ae,xe,He.data)}}}else{$e=q.mipmaps,qe&&st&&($e.length>0&&ce++,t.texStorage2D(34067,ce,je,be[0].width,be[0].height));for(let Ee=0;Ee<6;Ee++)if(mt){qe?t.texSubImage2D(34069+Ee,0,0,0,be[Ee].width,be[Ee].height,ae,xe,be[Ee].data):t.texImage2D(34069+Ee,0,je,be[Ee].width,be[Ee].height,0,ae,xe,be[Ee].data);for(let Je=0;Je<$e.length;Je++){const gt=$e[Je].image[Ee].image;qe?t.texSubImage2D(34069+Ee,Je+1,0,0,gt.width,gt.height,ae,xe,gt.data):t.texImage2D(34069+Ee,Je+1,je,gt.width,gt.height,0,ae,xe,gt.data)}}else{qe?t.texSubImage2D(34069+Ee,0,0,0,ae,xe,be[Ee]):t.texImage2D(34069+Ee,0,je,ae,xe,be[Ee]);for(let Je=0;Je<$e.length;Je++){const He=$e[Je];qe?t.texSubImage2D(34069+Ee,Je+1,0,0,ae,xe,He.image[Ee]):t.texImage2D(34069+Ee,Je+1,je,ae,xe,He.image[Ee])}}}k(q,tt)&&P(34067),Be.__currentVersion=Be.version,q.onUpdate&&q.onUpdate(q)}se.__version=q.version}function Oe(se,q,le,ze,Be){const Ue=s.convert(le.format,le.encoding),mt=s.convert(le.type),be=C(le.internalFormat,Ue,mt,le.encoding);r.get(q).__hasExternalTextures||(Be===32879||Be===35866?t.texImage3D(Be,0,be,q.width,q.height,q.depth,0,Ue,mt,null):t.texImage2D(Be,0,be,q.width,q.height,0,Ue,mt,null)),t.bindFramebuffer(36160,se),Ze(q)?f.framebufferTexture2DMultisampleEXT(36160,ze,Be,r.get(le).__webglTexture,0,Ne(q)):n.framebufferTexture2D(36160,ze,Be,r.get(le).__webglTexture,0),t.bindFramebuffer(36160,null)}function Me(se,q,le){if(n.bindRenderbuffer(36161,se),q.depthBuffer&&!q.stencilBuffer){let ze=33189;if(le||Ze(q)){const Be=q.depthTexture;Be&&Be.isDepthTexture&&(Be.type===uc?ze=36012:Be.type===du&&(ze=33190));const Ue=Ne(q);Ze(q)?f.renderbufferStorageMultisampleEXT(36161,Ue,ze,q.width,q.height):n.renderbufferStorageMultisample(36161,Ue,ze,q.width,q.height)}else n.renderbufferStorage(36161,ze,q.width,q.height);n.framebufferRenderbuffer(36160,36096,36161,se)}else if(q.depthBuffer&&q.stencilBuffer){const ze=Ne(q);le&&Ze(q)===!1?n.renderbufferStorageMultisample(36161,ze,35056,q.width,q.height):Ze(q)?f.renderbufferStorageMultisampleEXT(36161,ze,35056,q.width,q.height):n.renderbufferStorage(36161,34041,q.width,q.height),n.framebufferRenderbuffer(36160,33306,36161,se)}else{const ze=q.isWebGLMultipleRenderTargets===!0?q.texture:[q.texture];for(let Be=0;Be<ze.length;Be++){const Ue=ze[Be],mt=s.convert(Ue.format,Ue.encoding),be=s.convert(Ue.type),Xe=C(Ue.internalFormat,mt,be,Ue.encoding),tt=Ne(q);le&&Ze(q)===!1?n.renderbufferStorageMultisample(36161,tt,Xe,q.width,q.height):Ze(q)?f.renderbufferStorageMultisampleEXT(36161,tt,Xe,q.width,q.height):n.renderbufferStorage(36161,Xe,q.width,q.height)}}n.bindRenderbuffer(36161,null)}function X(se,q){if(q&&q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,se),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(q.depthTexture).__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),j(q.depthTexture,0);const ze=r.get(q.depthTexture).__webglTexture,Be=Ne(q);if(q.depthTexture.format===Gd)Ze(q)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,ze,0,Be):n.framebufferTexture2D(36160,36096,3553,ze,0);else if(q.depthTexture.format===ef)Ze(q)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,ze,0,Be):n.framebufferTexture2D(36160,33306,3553,ze,0);else throw new Error("Unknown depthTexture format")}function ee(se){const q=r.get(se),le=se.isWebGLCubeRenderTarget===!0;if(se.depthTexture&&!q.__autoAllocateDepthBuffer){if(le)throw new Error("target.depthTexture not supported in Cube render targets");X(q.__webglFramebuffer,se)}else if(le){q.__webglDepthbuffer=[];for(let ze=0;ze<6;ze++)t.bindFramebuffer(36160,q.__webglFramebuffer[ze]),q.__webglDepthbuffer[ze]=n.createRenderbuffer(),Me(q.__webglDepthbuffer[ze],se,!1)}else t.bindFramebuffer(36160,q.__webglFramebuffer),q.__webglDepthbuffer=n.createRenderbuffer(),Me(q.__webglDepthbuffer,se,!1);t.bindFramebuffer(36160,null)}function ie(se,q,le){const ze=r.get(se);q!==void 0&&Oe(ze.__webglFramebuffer,se,se.texture,36064,3553),le!==void 0&&ee(se)}function fe(se){const q=se.texture,le=r.get(se),ze=r.get(q);se.addEventListener("dispose",J),se.isWebGLMultipleRenderTargets!==!0&&(ze.__webglTexture===void 0&&(ze.__webglTexture=n.createTexture()),ze.__version=q.version,o.memory.textures++);const Be=se.isWebGLCubeRenderTarget===!0,Ue=se.isWebGLMultipleRenderTargets===!0,mt=A(se)||a;if(Be){le.__webglFramebuffer=[];for(let be=0;be<6;be++)le.__webglFramebuffer[be]=n.createFramebuffer()}else{if(le.__webglFramebuffer=n.createFramebuffer(),Ue)if(i.drawBuffers){const be=se.texture;for(let Xe=0,tt=be.length;Xe<tt;Xe++){const ae=r.get(be[Xe]);ae.__webglTexture===void 0&&(ae.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&se.samples>0&&Ze(se)===!1){const be=Ue?q:[q];le.__webglMultisampledFramebuffer=n.createFramebuffer(),le.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,le.__webglMultisampledFramebuffer);for(let Xe=0;Xe<be.length;Xe++){const tt=be[Xe];le.__webglColorRenderbuffer[Xe]=n.createRenderbuffer(),n.bindRenderbuffer(36161,le.__webglColorRenderbuffer[Xe]);const ae=s.convert(tt.format,tt.encoding),xe=s.convert(tt.type),je=C(tt.internalFormat,ae,xe,tt.encoding),qe=Ne(se);n.renderbufferStorageMultisample(36161,qe,je,se.width,se.height),n.framebufferRenderbuffer(36160,36064+Xe,36161,le.__webglColorRenderbuffer[Xe])}n.bindRenderbuffer(36161,null),se.depthBuffer&&(le.__webglDepthRenderbuffer=n.createRenderbuffer(),Me(le.__webglDepthRenderbuffer,se,!0)),t.bindFramebuffer(36160,null)}}if(Be){t.bindTexture(34067,ze.__webglTexture),Q(34067,q,mt);for(let be=0;be<6;be++)Oe(le.__webglFramebuffer[be],se,q,36064,34069+be);k(q,mt)&&P(34067),t.unbindTexture()}else if(Ue){const be=se.texture;for(let Xe=0,tt=be.length;Xe<tt;Xe++){const ae=be[Xe],xe=r.get(ae);t.bindTexture(3553,xe.__webglTexture),Q(3553,ae,mt),Oe(le.__webglFramebuffer,se,ae,36064+Xe,3553),k(ae,mt)&&P(3553)}t.unbindTexture()}else{let be=3553;(se.isWebGL3DRenderTarget||se.isWebGLArrayRenderTarget)&&(a?be=se.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(be,ze.__webglTexture),Q(be,q,mt),Oe(le.__webglFramebuffer,se,q,36064,be),k(q,mt)&&P(be),t.unbindTexture()}se.depthBuffer&&ee(se)}function Ce(se){const q=A(se)||a,le=se.isWebGLMultipleRenderTargets===!0?se.texture:[se.texture];for(let ze=0,Be=le.length;ze<Be;ze++){const Ue=le[ze];if(k(Ue,q)){const mt=se.isWebGLCubeRenderTarget?34067:3553,be=r.get(Ue).__webglTexture;t.bindTexture(mt,be),P(mt),t.unbindTexture()}}}function we(se){if(a&&se.samples>0&&Ze(se)===!1){const q=se.isWebGLMultipleRenderTargets?se.texture:[se.texture],le=se.width,ze=se.height;let Be=16384;const Ue=[],mt=se.stencilBuffer?33306:36096,be=r.get(se),Xe=se.isWebGLMultipleRenderTargets===!0;if(Xe)for(let tt=0;tt<q.length;tt++)t.bindFramebuffer(36160,be.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+tt,36161,null),t.bindFramebuffer(36160,be.__webglFramebuffer),n.framebufferTexture2D(36009,36064+tt,3553,null,0);t.bindFramebuffer(36008,be.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,be.__webglFramebuffer);for(let tt=0;tt<q.length;tt++){Ue.push(36064+tt),se.depthBuffer&&Ue.push(mt);const ae=be.__ignoreDepthValues!==void 0?be.__ignoreDepthValues:!1;if(ae===!1&&(se.depthBuffer&&(Be|=256),se.stencilBuffer&&(Be|=1024)),Xe&&n.framebufferRenderbuffer(36008,36064,36161,be.__webglColorRenderbuffer[tt]),ae===!0&&(n.invalidateFramebuffer(36008,[mt]),n.invalidateFramebuffer(36009,[mt])),Xe){const xe=r.get(q[tt]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,xe,0)}n.blitFramebuffer(0,0,le,ze,0,0,le,ze,Be,9728),h&&n.invalidateFramebuffer(36008,Ue)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Xe)for(let tt=0;tt<q.length;tt++){t.bindFramebuffer(36160,be.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+tt,36161,be.__webglColorRenderbuffer[tt]);const ae=r.get(q[tt]).__webglTexture;t.bindFramebuffer(36160,be.__webglFramebuffer),n.framebufferTexture2D(36009,36064+tt,3553,ae,0)}t.bindFramebuffer(36009,be.__webglMultisampledFramebuffer)}}function Ne(se){return Math.min(u,se.samples)}function Ze(se){const q=r.get(se);return a&&se.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&q.__useRenderToTexture!==!1}function nt(se){const q=o.render.frame;g.get(se)!==q&&(g.set(se,q),se.update())}function ht(se,q){const le=se.encoding,ze=se.format,Be=se.type;return se.isCompressedTexture===!0||se.isVideoTexture===!0||se.format===s2||le!==Ga&&(le===It?a===!1?e.has("EXT_sRGB")===!0&&ze===qo?(se.format=s2,se.minFilter=lr,se.generateMipmaps=!1):q=Y4.sRGBToLinear(q):(ze!==qo||Be!==$i)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",le)),q}this.allocateTextureUnit=N,this.resetTextureUnits=$,this.setTexture2D=j,this.setTexture2DArray=W,this.setTexture3D=R,this.setTextureCube=Y,this.rebindTextures=ie,this.setupRenderTarget=fe,this.updateRenderTargetMipmap=Ce,this.updateMultisampleRenderTarget=we,this.setupDepthRenderbuffer=ee,this.setupFrameBufferTexture=Oe,this.useMultisampledRTT=Ze}function uq(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===$i)return 5121;if(s===Dj)return 32819;if(s===Bj)return 32820;if(s===Lj)return 5120;if(s===Oj)return 5122;if(s===$4)return 5123;if(s===Nj)return 5124;if(s===du)return 5125;if(s===uc)return 5126;if(s===Gh)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Fj)return 6406;if(s===qo)return 6408;if(s===Vj)return 6409;if(s===Uj)return 6410;if(s===Gd)return 6402;if(s===ef)return 34041;if(s===Hj)return 6403;if(s===zj)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===s2)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Gj)return 36244;if(s===$j)return 33319;if(s===Wj)return 33320;if(s===jj)return 36249;if(s===kw||s===Rw||s===Pw||s===Iw)if(o===It)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===kw)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Rw)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Pw)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Iw)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===kw)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Rw)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Pw)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Iw)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===l5||s===c5||s===u5||s===d5)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===l5)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===c5)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===u5)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===d5)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===qj)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===f5||s===h5)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===f5)return o===It?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===h5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===p5||s===m5||s===g5||s===v5||s===y5||s===x5||s===_5||s===b5||s===w5||s===S5||s===A5||s===E5||s===M5||s===C5)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===p5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===m5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===g5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===v5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===y5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===x5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===_5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===b5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===w5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===S5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===A5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===E5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===M5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===C5)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===T5)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===T5)return o===It?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Hd?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class dq extends qn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class dc extends In{constructor(){super(),this.isGroup=!0,this.type="Group"}}const PMe={type:"move"};class XC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new dc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new dc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new dc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const x=t.getJointPose(v,r);if(c.joints[v.jointName]===void 0){const _=new dc;_.matrixAutoUpdate=!1,_.visible=!1,c.joints[v.jointName]=_,c.add(_)}const y=c.joints[v.jointName];x!==null&&(y.matrix.fromArray(x.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.jointRadius=x.radius),y.visible=x!==null}const d=c.joints["index-finger-tip"],u=c.joints["thumb-tip"],f=d.position.distanceTo(u.position),h=.02,g=.005;c.inputState.pinching&&f>h+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(PMe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class eI extends Mr{constructor(e,t,r,i,s,o,a,l,c,d){if(d=d!==void 0?d:Gd,d!==Gd&&d!==ef)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===Gd&&(r=du),r===void 0&&d===ef&&(r=Hd),super(null,i,s,o,a,l,d,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:$n,this.minFilter=l!==void 0?l:$n,this.flipY=!1,this.generateMipmaps=!1}}class IMe extends ca{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,d=null,u=null,f=null,h=null;const g=t.getContextAttributes();let v=null,x=null;const y=[],_=[],b=new qn;b.layers.enable(1),b.viewport=new Mn;const A=new qn;A.layers.enable(2),A.viewport=new Mn;const E=[b,A],k=new dq;k.layers.enable(1),k.layers.enable(2);let P=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let j=y[G];return j===void 0&&(j=new XC,y[G]=j),j.getTargetRaySpace()},this.getControllerGrip=function(G){let j=y[G];return j===void 0&&(j=new XC,y[G]=j),j.getGripSpace()},this.getHand=function(G){let j=y[G];return j===void 0&&(j=new XC,y[G]=j),j.getHandSpace()};function O(G){const j=_.indexOf(G.inputSource);if(j===-1)return;const W=y[j];W!==void 0&&W.dispatchEvent({type:G.type,data:G.inputSource})}function U(){i.removeEventListener("select",O),i.removeEventListener("selectstart",O),i.removeEventListener("selectend",O),i.removeEventListener("squeeze",O),i.removeEventListener("squeezestart",O),i.removeEventListener("squeezeend",O),i.removeEventListener("end",U),i.removeEventListener("inputsourceschange",K);for(let G=0;G<y.length;G++){const j=_[G];j!==null&&(_[G]=null,y[G].disconnect(j))}P=null,C=null,e.setRenderTarget(v),f=null,u=null,d=null,i=null,x=null,N.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){s=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){a=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(G){l=G},this.getBaseLayer=function(){return u!==null?u:f},this.getBinding=function(){return d},this.getFrame=function(){return h},this.getSession=function(){return i},this.setSession=async function(G){if(i=G,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",O),i.addEventListener("selectstart",O),i.addEventListener("selectend",O),i.addEventListener("squeeze",O),i.addEventListener("squeezestart",O),i.addEventListener("squeezeend",O),i.addEventListener("end",U),i.addEventListener("inputsourceschange",K),g.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const j={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(i,t,j),i.updateRenderState({baseLayer:f}),x=new Kn(f.framebufferWidth,f.framebufferHeight,{format:qo,type:$i,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let j=null,W=null,R=null;g.depth&&(R=g.stencil?35056:33190,j=g.stencil?ef:Gd,W=g.stencil?Hd:du);const Y={colorFormat:32856,depthFormat:R,scaleFactor:s};d=new XRWebGLBinding(i,t),u=d.createProjectionLayer(Y),i.updateRenderState({layers:[u]}),x=new Kn(u.textureWidth,u.textureHeight,{format:qo,type:$i,depthTexture:new eI(u.textureWidth,u.textureHeight,W,void 0,void 0,void 0,void 0,void 0,void 0,j),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const Ae=e.properties.get(x);Ae.__ignoreDepthValues=u.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),N.setContext(i),N.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function K(G){for(let j=0;j<G.removed.length;j++){const W=G.removed[j],R=_.indexOf(W);R>=0&&(_[R]=null,y[R].dispatchEvent({type:"disconnected",data:W}))}for(let j=0;j<G.added.length;j++){const W=G.added[j];let R=_.indexOf(W);if(R===-1){for(let Ae=0;Ae<y.length;Ae++)if(Ae>=_.length){_.push(W),R=Ae;break}else if(_[Ae]===null){_[Ae]=W,R=Ae;break}if(R===-1)break}const Y=y[R];Y&&Y.dispatchEvent({type:"connected",data:W})}}const J=new Z,F=new Z;function S(G,j,W){J.setFromMatrixPosition(j.matrixWorld),F.setFromMatrixPosition(W.matrixWorld);const R=J.distanceTo(F),Y=j.projectionMatrix.elements,Ae=W.projectionMatrix.elements,z=Y[14]/(Y[10]-1),Q=Y[14]/(Y[10]+1),ve=(Y[9]+1)/Y[5],ge=(Y[9]-1)/Y[5],Re=(Y[8]-1)/Y[0],Oe=(Ae[8]+1)/Ae[0],Me=z*Re,X=z*Oe,ee=R/(-Re+Oe),ie=ee*-Re;j.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(ie),G.translateZ(ee),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const fe=z+ee,Ce=Q+ee,we=Me-ie,Ne=X+(R-ie),Ze=ve*Q/Ce*fe,nt=ge*Q/Ce*fe;G.projectionMatrix.makePerspective(we,Ne,Ze,nt,fe,Ce)}function I(G,j){j===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(j.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(i===null)return;k.near=A.near=b.near=G.near,k.far=A.far=b.far=G.far,(P!==k.near||C!==k.far)&&(i.updateRenderState({depthNear:k.near,depthFar:k.far}),P=k.near,C=k.far);const j=G.parent,W=k.cameras;I(k,j);for(let Y=0;Y<W.length;Y++)I(W[Y],j);k.matrixWorld.decompose(k.position,k.quaternion,k.scale),G.matrix.copy(k.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale);const R=G.children;for(let Y=0,Ae=R.length;Y<Ae;Y++)R[Y].updateMatrixWorld(!0);W.length===2?S(k,b,A):k.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return k},this.getFoveation=function(){if(u!==null)return u.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(G){u!==null&&(u.fixedFoveation=G),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=G)};let D=null;function $(G,j){if(c=j.getViewerPose(l||o),h=j,c!==null){const W=c.views;f!==null&&(e.setRenderTargetFramebuffer(x,f.framebuffer),e.setRenderTarget(x));let R=!1;W.length!==k.cameras.length&&(k.cameras.length=0,R=!0);for(let Y=0;Y<W.length;Y++){const Ae=W[Y];let z=null;if(f!==null)z=f.getViewport(Ae);else{const ve=d.getViewSubImage(u,Ae);z=ve.viewport,Y===0&&(e.setRenderTargetTextures(x,ve.colorTexture,u.ignoreDepthValues?void 0:ve.depthStencilTexture),e.setRenderTarget(x))}let Q=E[Y];Q===void 0&&(Q=new qn,Q.layers.enable(Y),Q.viewport=new Mn,E[Y]=Q),Q.matrix.fromArray(Ae.transform.matrix),Q.projectionMatrix.fromArray(Ae.projectionMatrix),Q.viewport.set(z.x,z.y,z.width,z.height),Y===0&&k.matrix.copy(Q.matrix),R===!0&&k.cameras.push(Q)}}for(let W=0;W<y.length;W++){const R=_[W],Y=y[W];R!==null&&Y!==void 0&&Y.update(R,j,l||o)}D&&D(G,j),h=null}const N=new sq;N.setAnimationLoop($),this.setAnimationLoop=function(G){D=G},this.dispose=function(){}}}function LMe(n,e){function t(v,x){v.fogColor.value.copy(x.color),x.isFog?(v.fogNear.value=x.near,v.fogFar.value=x.far):x.isFogExp2&&(v.fogDensity.value=x.density)}function r(v,x,y,_,b){x.isMeshBasicMaterial||x.isMeshLambertMaterial?i(v,x):x.isMeshToonMaterial?(i(v,x),d(v,x)):x.isMeshPhongMaterial?(i(v,x),c(v,x)):x.isMeshStandardMaterial?(i(v,x),u(v,x),x.isMeshPhysicalMaterial&&f(v,x,b)):x.isMeshMatcapMaterial?(i(v,x),h(v,x)):x.isMeshDepthMaterial?i(v,x):x.isMeshDistanceMaterial?(i(v,x),g(v,x)):x.isMeshNormalMaterial?i(v,x):x.isLineBasicMaterial?(s(v,x),x.isLineDashedMaterial&&o(v,x)):x.isPointsMaterial?a(v,x,y,_):x.isSpriteMaterial?l(v,x):x.isShadowMaterial?(v.color.value.copy(x.color),v.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function i(v,x){v.opacity.value=x.opacity,x.color&&v.diffuse.value.copy(x.color),x.emissive&&v.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.bumpMap&&(v.bumpMap.value=x.bumpMap,v.bumpScale.value=x.bumpScale,x.side===ns&&(v.bumpScale.value*=-1)),x.displacementMap&&(v.displacementMap.value=x.displacementMap,v.displacementScale.value=x.displacementScale,v.displacementBias.value=x.displacementBias),x.emissiveMap&&(v.emissiveMap.value=x.emissiveMap),x.normalMap&&(v.normalMap.value=x.normalMap,v.normalScale.value.copy(x.normalScale),x.side===ns&&v.normalScale.value.negate()),x.specularMap&&(v.specularMap.value=x.specularMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);const y=e.get(x).envMap;if(y&&(v.envMap.value=y,v.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=x.reflectivity,v.ior.value=x.ior,v.refractionRatio.value=x.refractionRatio),x.lightMap){v.lightMap.value=x.lightMap;const A=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=x.lightMapIntensity*A}x.aoMap&&(v.aoMap.value=x.aoMap,v.aoMapIntensity.value=x.aoMapIntensity);let _;x.map?_=x.map:x.specularMap?_=x.specularMap:x.displacementMap?_=x.displacementMap:x.normalMap?_=x.normalMap:x.bumpMap?_=x.bumpMap:x.roughnessMap?_=x.roughnessMap:x.metalnessMap?_=x.metalnessMap:x.alphaMap?_=x.alphaMap:x.emissiveMap?_=x.emissiveMap:x.clearcoatMap?_=x.clearcoatMap:x.clearcoatNormalMap?_=x.clearcoatNormalMap:x.clearcoatRoughnessMap?_=x.clearcoatRoughnessMap:x.iridescenceMap?_=x.iridescenceMap:x.iridescenceThicknessMap?_=x.iridescenceThicknessMap:x.specularIntensityMap?_=x.specularIntensityMap:x.specularColorMap?_=x.specularColorMap:x.transmissionMap?_=x.transmissionMap:x.thicknessMap?_=x.thicknessMap:x.sheenColorMap?_=x.sheenColorMap:x.sheenRoughnessMap&&(_=x.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix));let b;x.aoMap?b=x.aoMap:x.lightMap&&(b=x.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),v.uv2Transform.value.copy(b.matrix))}function s(v,x){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity}function o(v,x){v.dashSize.value=x.dashSize,v.totalSize.value=x.dashSize+x.gapSize,v.scale.value=x.scale}function a(v,x,y,_){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity,v.size.value=x.size*y,v.scale.value=_*.5,x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);let b;x.map?b=x.map:x.alphaMap&&(b=x.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),v.uvTransform.value.copy(b.matrix))}function l(v,x){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity,v.rotation.value=x.rotation,x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);let y;x.map?y=x.map:x.alphaMap&&(y=x.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),v.uvTransform.value.copy(y.matrix))}function c(v,x){v.specular.value.copy(x.specular),v.shininess.value=Math.max(x.shininess,1e-4)}function d(v,x){x.gradientMap&&(v.gradientMap.value=x.gradientMap)}function u(v,x){v.roughness.value=x.roughness,v.metalness.value=x.metalness,x.roughnessMap&&(v.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(v.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(v.envMapIntensity.value=x.envMapIntensity)}function f(v,x,y){v.ior.value=x.ior,x.sheen>0&&(v.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),v.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(v.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(v.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(v.clearcoat.value=x.clearcoat,v.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(v.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),v.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===ns&&v.clearcoatNormalScale.value.negate())),x.iridescence>0&&(v.iridescence.value=x.iridescence,v.iridescenceIOR.value=x.iridescenceIOR,v.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(v.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(v.transmission.value=x.transmission,v.transmissionSamplerMap.value=y.texture,v.transmissionSamplerSize.value.set(y.width,y.height),x.transmissionMap&&(v.transmissionMap.value=x.transmissionMap),v.thickness.value=x.thickness,x.thicknessMap&&(v.thicknessMap.value=x.thicknessMap),v.attenuationDistance.value=x.attenuationDistance,v.attenuationColor.value.copy(x.attenuationColor)),v.specularIntensity.value=x.specularIntensity,v.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(v.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(v.specularColorMap.value=x.specularColorMap)}function h(v,x){x.matcap&&(v.matcap.value=x.matcap)}function g(v,x){v.referencePosition.value.copy(x.referencePosition),v.nearDistance.value=x.nearDistance,v.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function OMe(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,b){const A=b.program;r.uniformBlockBinding(_,A)}function c(_,b){let A=i[_.id];A===void 0&&(g(_),A=d(_),i[_.id]=A,_.addEventListener("dispose",x));const E=b.program;r.updateUBOMapping(_,E);const k=e.render.frame;s[_.id]!==k&&(f(_),s[_.id]=k)}function d(_){const b=u();_.__bindingPointIndex=b;const A=n.createBuffer(),E=_.__size,k=_.usage;return n.bindBuffer(35345,A),n.bufferData(35345,E,k),n.bindBuffer(35345,null),n.bindBufferBase(35345,b,A),A}function u(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(_){const b=i[_.id],A=_.uniforms,E=_.__cache;n.bindBuffer(35345,b);for(let k=0,P=A.length;k<P;k++){const C=A[k];if(h(C,k,E)===!0){const O=C.value,U=C.__offset;typeof O=="number"?(C.__data[0]=O,n.bufferSubData(35345,U,C.__data)):(C.value.isMatrix3?(C.__data[0]=C.value.elements[0],C.__data[1]=C.value.elements[1],C.__data[2]=C.value.elements[2],C.__data[3]=C.value.elements[0],C.__data[4]=C.value.elements[3],C.__data[5]=C.value.elements[4],C.__data[6]=C.value.elements[5],C.__data[7]=C.value.elements[0],C.__data[8]=C.value.elements[6],C.__data[9]=C.value.elements[7],C.__data[10]=C.value.elements[8],C.__data[11]=C.value.elements[0]):O.toArray(C.__data),n.bufferSubData(35345,U,C.__data))}}n.bindBuffer(35345,null)}function h(_,b,A){const E=_.value;if(A[b]===void 0)return typeof E=="number"?A[b]=E:A[b]=E.clone(),!0;if(typeof E=="number"){if(A[b]!==E)return A[b]=E,!0}else{const k=A[b];if(k.equals(E)===!1)return k.copy(E),!0}return!1}function g(_){const b=_.uniforms;let A=0;const E=16;let k=0;for(let P=0,C=b.length;P<C;P++){const O=b[P],U=v(O);if(O.__data=new Float32Array(U.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=A,P>0){k=A%E;const K=E-k;k!==0&&K-U.boundary<0&&(A+=E-k,O.__offset=A)}A+=U.storage}return k=A%E,k>0&&(A+=E-k),_.__size=A,_.__cache={},this}function v(_){const b=_.value,A={boundary:0,storage:0};return typeof b=="number"?(A.boundary=4,A.storage=4):b.isVector2?(A.boundary=8,A.storage=8):b.isVector3||b.isColor?(A.boundary=16,A.storage=12):b.isVector4?(A.boundary=16,A.storage=16):b.isMatrix3?(A.boundary=48,A.storage=48):b.isMatrix4?(A.boundary=64,A.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),A}function x(_){const b=_.target;b.removeEventListener("dispose",x);const A=o.indexOf(b.__bindingPointIndex);o.splice(A,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function y(){for(const _ in i)n.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:c,dispose:y}}function NMe(){const n=c1("canvas");return n.style.display="block",n}function tI(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:NMe(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d;t!==null?d=t.getContextAttributes().alpha:d=n.alpha!==void 0?n.alpha:!1;let u=null,f=null;const h=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ga,this.physicallyCorrectLights=!1,this.toneMapping=kl,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const v=this;let x=!1,y=0,_=0,b=null,A=-1,E=null;const k=new Mn,P=new Mn;let C=null,O=e.width,U=e.height,K=1,J=null,F=null;const S=new Mn(0,0,O,U),I=new Mn(0,0,O,U);let D=!1;const $=new FA;let N=!1,G=!1,j=null;const W=new Wt,R=new Le,Y=new Z,Ae={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function z(){return b===null?K:1}let Q=t;function ve(ne,he){for(let ke=0;ke<ne.length;ke++){const _e=ne[ke],Ie=e.getContext(_e,he);if(Ie!==null)return Ie}return null}try{const ne={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Ou}`),e.addEventListener("webglcontextlost",je,!1),e.addEventListener("webglcontextrestored",qe,!1),e.addEventListener("webglcontextcreationerror",st,!1),Q===null){const he=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&he.shift(),Q=ve(he,ne),Q===null)throw ve(he)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Q.getShaderPrecisionFormat===void 0&&(Q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ne){throw console.error("THREE.WebGLRenderer: "+ne.message),ne}let ge,Re,Oe,Me,X,ee,ie,fe,Ce,we,Ne,Ze,nt,ht,se,q,le,ze,Be,Ue,mt,be,Xe,tt;function ae(){ge=new ZAe(Q),Re=new WAe(Q,ge,n),ge.init(Re),be=new uq(Q,ge,Re),Oe=new kMe(Q,ge,Re),Me=new eEe,X=new vMe,ee=new RMe(Q,ge,Oe,X,Re,be,Me),ie=new qAe(v),fe=new KAe(v),Ce=new dSe(Q,Re),Xe=new GAe(Q,ge,Ce,Re),we=new JAe(Q,Ce,Me,Xe),Ne=new iEe(Q,we,Ce,Me),Be=new rEe(Q,Re,ee),q=new jAe(X),Ze=new gMe(v,ie,fe,ge,Re,Xe,q),nt=new LMe(v,X),ht=new xMe,se=new EMe(ge,Re),ze=new HAe(v,ie,Oe,Ne,d,o),le=new TMe(v,Ne,Re),tt=new OMe(Q,Me,Re,Oe),Ue=new $Ae(Q,ge,Me,Re),mt=new QAe(Q,ge,Me,Re),Me.programs=Ze.programs,v.capabilities=Re,v.extensions=ge,v.properties=X,v.renderLists=ht,v.shadowMap=le,v.state=Oe,v.info=Me}ae();const xe=new IMe(v,Q);this.xr=xe,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const ne=ge.get("WEBGL_lose_context");ne&&ne.loseContext()},this.forceContextRestore=function(){const ne=ge.get("WEBGL_lose_context");ne&&ne.restoreContext()},this.getPixelRatio=function(){return K},this.setPixelRatio=function(ne){ne!==void 0&&(K=ne,this.setSize(O,U,!1))},this.getSize=function(ne){return ne.set(O,U)},this.setSize=function(ne,he,ke){if(xe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=ne,U=he,e.width=Math.floor(ne*K),e.height=Math.floor(he*K),ke!==!1&&(e.style.width=ne+"px",e.style.height=he+"px"),this.setViewport(0,0,ne,he)},this.getDrawingBufferSize=function(ne){return ne.set(O*K,U*K).floor()},this.setDrawingBufferSize=function(ne,he,ke){O=ne,U=he,K=ke,e.width=Math.floor(ne*ke),e.height=Math.floor(he*ke),this.setViewport(0,0,ne,he)},this.getCurrentViewport=function(ne){return ne.copy(k)},this.getViewport=function(ne){return ne.copy(S)},this.setViewport=function(ne,he,ke,_e){ne.isVector4?S.set(ne.x,ne.y,ne.z,ne.w):S.set(ne,he,ke,_e),Oe.viewport(k.copy(S).multiplyScalar(K).floor())},this.getScissor=function(ne){return ne.copy(I)},this.setScissor=function(ne,he,ke,_e){ne.isVector4?I.set(ne.x,ne.y,ne.z,ne.w):I.set(ne,he,ke,_e),Oe.scissor(P.copy(I).multiplyScalar(K).floor())},this.getScissorTest=function(){return D},this.setScissorTest=function(ne){Oe.setScissorTest(D=ne)},this.setOpaqueSort=function(ne){J=ne},this.setTransparentSort=function(ne){F=ne},this.getClearColor=function(ne){return ne.copy(ze.getClearColor())},this.setClearColor=function(){ze.setClearColor.apply(ze,arguments)},this.getClearAlpha=function(){return ze.getClearAlpha()},this.setClearAlpha=function(){ze.setClearAlpha.apply(ze,arguments)},this.clear=function(ne=!0,he=!0,ke=!0){let _e=0;ne&&(_e|=16384),he&&(_e|=256),ke&&(_e|=1024),Q.clear(_e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",je,!1),e.removeEventListener("webglcontextrestored",qe,!1),e.removeEventListener("webglcontextcreationerror",st,!1),ht.dispose(),se.dispose(),X.dispose(),ie.dispose(),fe.dispose(),Ne.dispose(),Xe.dispose(),tt.dispose(),Ze.dispose(),xe.dispose(),xe.removeEventListener("sessionstart",gt),xe.removeEventListener("sessionend",Hn),j&&(j.dispose(),j=null),Ct.stop()};function je(ne){ne.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function qe(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const ne=Me.autoReset,he=le.enabled,ke=le.autoUpdate,_e=le.needsUpdate,Ie=le.type;ae(),Me.autoReset=ne,le.enabled=he,le.autoUpdate=ke,le.needsUpdate=_e,le.type=Ie}function st(ne){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ne.statusMessage)}function ce(ne){const he=ne.target;he.removeEventListener("dispose",ce),$e(he)}function $e(ne){Ee(ne),X.remove(ne)}function Ee(ne){const he=X.get(ne).programs;he!==void 0&&(he.forEach(function(ke){Ze.releaseProgram(ke)}),ne.isShaderMaterial&&Ze.releaseShaderCache(ne))}this.renderBufferDirect=function(ne,he,ke,_e,Ie,it){he===null&&(he=Ae);const Pt=Ie.isMesh&&Ie.matrixWorld.determinant()<0,ct=To(ne,he,ke,_e,Ie);Oe.setMaterial(_e,Pt);let ut=ke.index;const qt=ke.attributes.position;if(ut===null){if(qt===void 0||qt.count===0)return}else if(ut.count===0)return;let Vt=1;_e.wireframe===!0&&(ut=we.getWireframeAttribute(ke),Vt=2),Xe.setup(Ie,_e,ct,ke,ut);let Ut,xn=Ue;ut!==null&&(Ut=Ce.get(ut),xn=mt,xn.setIndex(Ut));const li=ut!==null?ut.count:qt.count,us=ke.drawRange.start*Vt,ro=ke.drawRange.count*Vt,Tr=it!==null?it.start*Vt:0,Gt=it!==null?it.count*Vt:1/0,ds=Math.max(us,Tr),Tn=Math.min(li,us+ro,Tr+Gt)-1,Jr=Math.max(0,Tn-ds+1);if(Jr!==0){if(Ie.isMesh)_e.wireframe===!0?(Oe.setLineWidth(_e.wireframeLinewidth*z()),xn.setMode(1)):xn.setMode(4);else if(Ie.isLine){let Ri=_e.linewidth;Ri===void 0&&(Ri=1),Oe.setLineWidth(Ri*z()),Ie.isLineSegments?xn.setMode(1):Ie.isLineLoop?xn.setMode(2):xn.setMode(3)}else Ie.isPoints?xn.setMode(0):Ie.isSprite&&xn.setMode(4);if(Ie.isInstancedMesh)xn.renderInstances(ds,Jr,Ie.count);else if(ke.isInstancedBufferGeometry){const Ri=Math.min(ke.instanceCount,ke._maxInstanceCount);xn.renderInstances(ds,Jr,Ri)}else xn.render(ds,Jr)}},this.compile=function(ne,he){function ke(_e,Ie,it){_e.transparent===!0&&_e.side===an?(_e.side=ns,_e.needsUpdate=!0,Qt(_e,Ie,it),_e.side=Au,_e.needsUpdate=!0,Qt(_e,Ie,it),_e.side=an):Qt(_e,Ie,it)}f=se.get(ne),f.init(),g.push(f),ne.traverseVisible(function(_e){_e.isLight&&_e.layers.test(he.layers)&&(f.pushLight(_e),_e.castShadow&&f.pushShadow(_e))}),f.setupLights(v.physicallyCorrectLights),ne.traverse(function(_e){const Ie=_e.material;if(Ie)if(Array.isArray(Ie))for(let it=0;it<Ie.length;it++){const Pt=Ie[it];ke(Pt,ne,_e)}else ke(Ie,ne,_e)}),g.pop(),f=null};let Je=null;function He(ne){Je&&Je(ne)}function gt(){Ct.stop()}function Hn(){Ct.start()}const Ct=new sq;Ct.setAnimationLoop(He),typeof self<"u"&&Ct.setContext(self),this.setAnimationLoop=function(ne){Je=ne,xe.setAnimationLoop(ne),ne===null?Ct.stop():Ct.start()},xe.addEventListener("sessionstart",gt),xe.addEventListener("sessionend",Hn),this.render=function(ne,he){if(he!==void 0&&he.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),he.parent===null&&he.matrixWorldAutoUpdate===!0&&he.updateMatrixWorld(),xe.enabled===!0&&xe.isPresenting===!0&&(xe.cameraAutoUpdate===!0&&xe.updateCamera(he),he=xe.getCamera()),ne.isScene===!0&&ne.onBeforeRender(v,ne,he,b),f=se.get(ne,g.length),f.init(),g.push(f),W.multiplyMatrices(he.projectionMatrix,he.matrixWorldInverse),$.setFromProjectionMatrix(W),G=this.localClippingEnabled,N=q.init(this.clippingPlanes,G,he),u=ht.get(ne,h.length),u.init(),h.push(u),sn(ne,he,0,v.sortObjects),u.finish(),v.sortObjects===!0&&u.sort(J,F),N===!0&&q.beginShadows();const ke=f.state.shadowsArray;if(le.render(ke,ne,he),N===!0&&q.endShadows(),this.info.autoReset===!0&&this.info.reset(),ze.render(u,ne),f.setupLights(v.physicallyCorrectLights),he.isArrayCamera){const _e=he.cameras;for(let Ie=0,it=_e.length;Ie<it;Ie++){const Pt=_e[Ie];Sn(u,ne,Pt,Pt.viewport)}}else Sn(u,ne,he);b!==null&&(ee.updateMultisampleRenderTarget(b),ee.updateRenderTargetMipmap(b)),ne.isScene===!0&&ne.onAfterRender(v,ne,he),Xe.resetDefaultState(),A=-1,E=null,g.pop(),g.length>0?f=g[g.length-1]:f=null,h.pop(),h.length>0?u=h[h.length-1]:u=null};function sn(ne,he,ke,_e){if(ne.visible===!1)return;if(ne.layers.test(he.layers)){if(ne.isGroup)ke=ne.renderOrder;else if(ne.isLOD)ne.autoUpdate===!0&&ne.update(he);else if(ne.isLight)f.pushLight(ne),ne.castShadow&&f.pushShadow(ne);else if(ne.isSprite){if(!ne.frustumCulled||$.intersectsSprite(ne)){_e&&Y.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(W);const Pt=Ne.update(ne),ct=ne.material;ct.visible&&u.push(ne,Pt,ct,ke,Y.z,null)}}else if((ne.isMesh||ne.isLine||ne.isPoints)&&(ne.isSkinnedMesh&&ne.skeleton.frame!==Me.render.frame&&(ne.skeleton.update(),ne.skeleton.frame=Me.render.frame),!ne.frustumCulled||$.intersectsObject(ne))){_e&&Y.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(W);const Pt=Ne.update(ne),ct=ne.material;if(Array.isArray(ct)){const ut=Pt.groups;for(let qt=0,Vt=ut.length;qt<Vt;qt++){const Ut=ut[qt],xn=ct[Ut.materialIndex];xn&&xn.visible&&u.push(ne,Pt,xn,ke,Y.z,Ut)}}else ct.visible&&u.push(ne,Pt,ct,ke,Y.z,null)}}const it=ne.children;for(let Pt=0,ct=it.length;Pt<ct;Pt++)sn(it[Pt],he,ke,_e)}function Sn(ne,he,ke,_e){const Ie=ne.opaque,it=ne.transmissive,Pt=ne.transparent;f.setupLightsView(ke),it.length>0&&tn(Ie,he,ke),_e&&Oe.viewport(k.copy(_e)),Ie.length>0&&jt(Ie,he,ke),it.length>0&&jt(it,he,ke),Pt.length>0&&jt(Pt,he,ke),Oe.buffers.depth.setTest(!0),Oe.buffers.depth.setMask(!0),Oe.buffers.color.setMask(!0),Oe.setPolygonOffset(!1)}function tn(ne,he,ke){const _e=Re.isWebGL2;j===null&&(j=new Kn(1,1,{generateMipmaps:!0,type:ge.has("EXT_color_buffer_half_float")?Gh:$i,minFilter:Rc,samples:_e&&s===!0?4:0})),v.getDrawingBufferSize(R),_e?j.setSize(R.x,R.y):j.setSize(o2(R.x),o2(R.y));const Ie=v.getRenderTarget();v.setRenderTarget(j),v.clear();const it=v.toneMapping;v.toneMapping=kl,jt(ne,he,ke),v.toneMapping=it,ee.updateMultisampleRenderTarget(j),ee.updateRenderTargetMipmap(j),v.setRenderTarget(Ie)}function jt(ne,he,ke){const _e=he.isScene===!0?he.overrideMaterial:null;for(let Ie=0,it=ne.length;Ie<it;Ie++){const Pt=ne[Ie],ct=Pt.object,ut=Pt.geometry,qt=_e===null?Pt.material:_e,Vt=Pt.group;ct.layers.test(ke.layers)&&no(ct,he,ke,ut,qt,Vt)}}function no(ne,he,ke,_e,Ie,it){ne.onBeforeRender(v,he,ke,_e,Ie,it),ne.modelViewMatrix.multiplyMatrices(ke.matrixWorldInverse,ne.matrixWorld),ne.normalMatrix.getNormalMatrix(ne.modelViewMatrix),Ie.onBeforeRender(v,he,ke,_e,ne,it),Ie.transparent===!0&&Ie.side===an?(Ie.side=ns,Ie.needsUpdate=!0,v.renderBufferDirect(ke,he,_e,Ie,ne,it),Ie.side=Au,Ie.needsUpdate=!0,v.renderBufferDirect(ke,he,_e,Ie,ne,it),Ie.side=an):v.renderBufferDirect(ke,he,_e,Ie,ne,it),ne.onAfterRender(v,he,ke,_e,Ie,it)}function Qt(ne,he,ke){he.isScene!==!0&&(he=Ae);const _e=X.get(ne),Ie=f.state.lights,it=f.state.shadowsArray,Pt=Ie.state.version,ct=Ze.getParameters(ne,Ie.state,it,he,ke),ut=Ze.getProgramCacheKey(ct);let qt=_e.programs;_e.environment=ne.isMeshStandardMaterial?he.environment:null,_e.fog=he.fog,_e.envMap=(ne.isMeshStandardMaterial?fe:ie).get(ne.envMap||_e.environment),qt===void 0&&(ne.addEventListener("dispose",ce),qt=new Map,_e.programs=qt);let Vt=qt.get(ut);if(Vt!==void 0){if(_e.currentProgram===Vt&&_e.lightsStateVersion===Pt)return Ln(ne,ct),Vt}else ct.uniforms=Ze.getUniforms(ne),ne.onBuild(ke,ct,v),ne.onBeforeCompile(ct,v),Vt=Ze.acquireProgram(ct,ut),qt.set(ut,Vt),_e.uniforms=ct.uniforms;const Ut=_e.uniforms;(!ne.isShaderMaterial&&!ne.isRawShaderMaterial||ne.clipping===!0)&&(Ut.clippingPlanes=q.uniform),Ln(ne,ct),_e.needsLights=Cn(ne),_e.lightsStateVersion=Pt,_e.needsLights&&(Ut.ambientLightColor.value=Ie.state.ambient,Ut.lightProbe.value=Ie.state.probe,Ut.directionalLights.value=Ie.state.directional,Ut.directionalLightShadows.value=Ie.state.directionalShadow,Ut.spotLights.value=Ie.state.spot,Ut.spotLightShadows.value=Ie.state.spotShadow,Ut.rectAreaLights.value=Ie.state.rectArea,Ut.ltc_1.value=Ie.state.rectAreaLTC1,Ut.ltc_2.value=Ie.state.rectAreaLTC2,Ut.pointLights.value=Ie.state.point,Ut.pointLightShadows.value=Ie.state.pointShadow,Ut.hemisphereLights.value=Ie.state.hemi,Ut.directionalShadowMap.value=Ie.state.directionalShadowMap,Ut.directionalShadowMatrix.value=Ie.state.directionalShadowMatrix,Ut.spotShadowMap.value=Ie.state.spotShadowMap,Ut.spotLightMatrix.value=Ie.state.spotLightMatrix,Ut.spotLightMap.value=Ie.state.spotLightMap,Ut.pointShadowMap.value=Ie.state.pointShadowMap,Ut.pointShadowMatrix.value=Ie.state.pointShadowMatrix);const xn=Vt.getUniforms(),li=Dw.seqWithValue(xn.seq,Ut);return _e.currentProgram=Vt,_e.uniformsList=li,Vt}function Ln(ne,he){const ke=X.get(ne);ke.outputEncoding=he.outputEncoding,ke.instancing=he.instancing,ke.skinning=he.skinning,ke.morphTargets=he.morphTargets,ke.morphNormals=he.morphNormals,ke.morphColors=he.morphColors,ke.morphTargetsCount=he.morphTargetsCount,ke.numClippingPlanes=he.numClippingPlanes,ke.numIntersection=he.numClipIntersection,ke.vertexAlphas=he.vertexAlphas,ke.vertexTangents=he.vertexTangents,ke.toneMapping=he.toneMapping}function To(ne,he,ke,_e,Ie){he.isScene!==!0&&(he=Ae),ee.resetTextureUnits();const it=he.fog,Pt=_e.isMeshStandardMaterial?he.environment:null,ct=b===null?v.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:Ga,ut=(_e.isMeshStandardMaterial?fe:ie).get(_e.envMap||Pt),qt=_e.vertexColors===!0&&!!ke.attributes.color&&ke.attributes.color.itemSize===4,Vt=!!_e.normalMap&&!!ke.attributes.tangent,Ut=!!ke.morphAttributes.position,xn=!!ke.morphAttributes.normal,li=!!ke.morphAttributes.color,us=_e.toneMapped?v.toneMapping:kl,ro=ke.morphAttributes.position||ke.morphAttributes.normal||ke.morphAttributes.color,Tr=ro!==void 0?ro.length:0,Gt=X.get(_e),ds=f.state.lights;if(N===!0&&(G===!0||ne!==E)){const fn=ne===E&&_e.id===A;q.setState(_e,ne,fn)}let Tn=!1;_e.version===Gt.__version?(Gt.needsLights&&Gt.lightsStateVersion!==ds.state.version||Gt.outputEncoding!==ct||Ie.isInstancedMesh&&Gt.instancing===!1||!Ie.isInstancedMesh&&Gt.instancing===!0||Ie.isSkinnedMesh&&Gt.skinning===!1||!Ie.isSkinnedMesh&&Gt.skinning===!0||Gt.envMap!==ut||_e.fog===!0&&Gt.fog!==it||Gt.numClippingPlanes!==void 0&&(Gt.numClippingPlanes!==q.numPlanes||Gt.numIntersection!==q.numIntersection)||Gt.vertexAlphas!==qt||Gt.vertexTangents!==Vt||Gt.morphTargets!==Ut||Gt.morphNormals!==xn||Gt.morphColors!==li||Gt.toneMapping!==us||Re.isWebGL2===!0&&Gt.morphTargetsCount!==Tr)&&(Tn=!0):(Tn=!0,Gt.__version=_e.version);let Jr=Gt.currentProgram;Tn===!0&&(Jr=Qt(_e,he,Ie));let Ri=!1,Pi=!1,Ii=!1;const zt=Jr.getUniforms(),nn=Gt.uniforms;if(Oe.useProgram(Jr.program)&&(Ri=!0,Pi=!0,Ii=!0),_e.id!==A&&(A=_e.id,Pi=!0),Ri||E!==ne){if(zt.setValue(Q,"projectionMatrix",ne.projectionMatrix),Re.logarithmicDepthBuffer&&zt.setValue(Q,"logDepthBufFC",2/(Math.log(ne.far+1)/Math.LN2)),E!==ne&&(E=ne,Pi=!0,Ii=!0),_e.isShaderMaterial||_e.isMeshPhongMaterial||_e.isMeshToonMaterial||_e.isMeshStandardMaterial||_e.envMap){const fn=zt.map.cameraPosition;fn!==void 0&&fn.setValue(Q,Y.setFromMatrixPosition(ne.matrixWorld))}(_e.isMeshPhongMaterial||_e.isMeshToonMaterial||_e.isMeshLambertMaterial||_e.isMeshBasicMaterial||_e.isMeshStandardMaterial||_e.isShaderMaterial)&&zt.setValue(Q,"isOrthographic",ne.isOrthographicCamera===!0),(_e.isMeshPhongMaterial||_e.isMeshToonMaterial||_e.isMeshLambertMaterial||_e.isMeshBasicMaterial||_e.isMeshStandardMaterial||_e.isShaderMaterial||_e.isShadowMaterial||Ie.isSkinnedMesh)&&zt.setValue(Q,"viewMatrix",ne.matrixWorldInverse)}if(Ie.isSkinnedMesh){zt.setOptional(Q,Ie,"bindMatrix"),zt.setOptional(Q,Ie,"bindMatrixInverse");const fn=Ie.skeleton;fn&&(Re.floatVertexTextures?(fn.boneTexture===null&&fn.computeBoneTexture(),zt.setValue(Q,"boneTexture",fn.boneTexture,ee),zt.setValue(Q,"boneTextureSize",fn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Li=ke.morphAttributes;if((Li.position!==void 0||Li.normal!==void 0||Li.color!==void 0&&Re.isWebGL2===!0)&&Be.update(Ie,ke,_e,Jr),(Pi||Gt.receiveShadow!==Ie.receiveShadow)&&(Gt.receiveShadow=Ie.receiveShadow,zt.setValue(Q,"receiveShadow",Ie.receiveShadow)),_e.isMeshGouraudMaterial&&_e.envMap!==null&&(nn.envMap.value=ut,nn.flipEnvMap.value=ut.isCubeTexture&&ut.isRenderTargetTexture===!1?-1:1),Pi&&(zt.setValue(Q,"toneMappingExposure",v.toneMappingExposure),Gt.needsLights&&On(nn,Ii),it&&_e.fog===!0&&nt.refreshFogUniforms(nn,it),nt.refreshMaterialUniforms(nn,_e,K,U,j),Dw.upload(Q,Gt.uniformsList,nn,ee)),_e.isShaderMaterial&&_e.uniformsNeedUpdate===!0&&(Dw.upload(Q,Gt.uniformsList,nn,ee),_e.uniformsNeedUpdate=!1),_e.isSpriteMaterial&&zt.setValue(Q,"center",Ie.center),zt.setValue(Q,"modelViewMatrix",Ie.modelViewMatrix),zt.setValue(Q,"normalMatrix",Ie.normalMatrix),zt.setValue(Q,"modelMatrix",Ie.matrixWorld),_e.isShaderMaterial||_e.isRawShaderMaterial){const fn=_e.uniformsGroups;for(let ci=0,Xa=fn.length;ci<Xa;ci++)if(Re.isWebGL2){const Ka=fn[ci];tt.update(Ka,Jr),tt.bind(Ka,Jr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Jr}function On(ne,he){ne.ambientLightColor.needsUpdate=he,ne.lightProbe.needsUpdate=he,ne.directionalLights.needsUpdate=he,ne.directionalLightShadows.needsUpdate=he,ne.pointLights.needsUpdate=he,ne.pointLightShadows.needsUpdate=he,ne.spotLights.needsUpdate=he,ne.spotLightShadows.needsUpdate=he,ne.rectAreaLights.needsUpdate=he,ne.hemisphereLights.needsUpdate=he}function Cn(ne){return ne.isMeshLambertMaterial||ne.isMeshToonMaterial||ne.isMeshPhongMaterial||ne.isMeshStandardMaterial||ne.isShadowMaterial||ne.isShaderMaterial&&ne.lights===!0}this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(ne,he,ke){X.get(ne.texture).__webglTexture=he,X.get(ne.depthTexture).__webglTexture=ke;const _e=X.get(ne);_e.__hasExternalTextures=!0,_e.__hasExternalTextures&&(_e.__autoAllocateDepthBuffer=ke===void 0,_e.__autoAllocateDepthBuffer||ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),_e.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ne,he){const ke=X.get(ne);ke.__webglFramebuffer=he,ke.__useDefaultFramebuffer=he===void 0},this.setRenderTarget=function(ne,he=0,ke=0){b=ne,y=he,_=ke;let _e=!0;if(ne){const ut=X.get(ne);ut.__useDefaultFramebuffer!==void 0?(Oe.bindFramebuffer(36160,null),_e=!1):ut.__webglFramebuffer===void 0?ee.setupRenderTarget(ne):ut.__hasExternalTextures&&ee.rebindTextures(ne,X.get(ne.texture).__webglTexture,X.get(ne.depthTexture).__webglTexture)}let Ie=null,it=!1,Pt=!1;if(ne){const ut=ne.texture;(ut.isData3DTexture||ut.isDataArrayTexture)&&(Pt=!0);const qt=X.get(ne).__webglFramebuffer;ne.isWebGLCubeRenderTarget?(Ie=qt[he],it=!0):Re.isWebGL2&&ne.samples>0&&ee.useMultisampledRTT(ne)===!1?Ie=X.get(ne).__webglMultisampledFramebuffer:Ie=qt,k.copy(ne.viewport),P.copy(ne.scissor),C=ne.scissorTest}else k.copy(S).multiplyScalar(K).floor(),P.copy(I).multiplyScalar(K).floor(),C=D;if(Oe.bindFramebuffer(36160,Ie)&&Re.drawBuffers&&_e&&Oe.drawBuffers(ne,Ie),Oe.viewport(k),Oe.scissor(P),Oe.setScissorTest(C),it){const ut=X.get(ne.texture);Q.framebufferTexture2D(36160,36064,34069+he,ut.__webglTexture,ke)}else if(Pt){const ut=X.get(ne.texture),qt=he||0;Q.framebufferTextureLayer(36160,36064,ut.__webglTexture,ke||0,qt)}A=-1},this.readRenderTargetPixels=function(ne,he,ke,_e,Ie,it,Pt){if(!(ne&&ne.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ct=X.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&Pt!==void 0&&(ct=ct[Pt]),ct){Oe.bindFramebuffer(36160,ct);try{const ut=ne.texture,qt=ut.format,Vt=ut.type;if(qt!==qo&&be.convert(qt)!==Q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ut=Vt===Gh&&(ge.has("EXT_color_buffer_half_float")||Re.isWebGL2&&ge.has("EXT_color_buffer_float"));if(Vt!==$i&&be.convert(Vt)!==Q.getParameter(35738)&&!(Vt===uc&&(Re.isWebGL2||ge.has("OES_texture_float")||ge.has("WEBGL_color_buffer_float")))&&!Ut){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}he>=0&&he<=ne.width-_e&&ke>=0&&ke<=ne.height-Ie&&Q.readPixels(he,ke,_e,Ie,be.convert(qt),be.convert(Vt),it)}finally{const ut=b!==null?X.get(b).__webglFramebuffer:null;Oe.bindFramebuffer(36160,ut)}}},this.copyFramebufferToTexture=function(ne,he,ke=0){const _e=Math.pow(2,-ke),Ie=Math.floor(he.image.width*_e),it=Math.floor(he.image.height*_e);ee.setTexture2D(he,0),Q.copyTexSubImage2D(3553,ke,0,0,ne.x,ne.y,Ie,it),Oe.unbindTexture()},this.copyTextureToTexture=function(ne,he,ke,_e=0){const Ie=he.image.width,it=he.image.height,Pt=be.convert(ke.format),ct=be.convert(ke.type);ee.setTexture2D(ke,0),Q.pixelStorei(37440,ke.flipY),Q.pixelStorei(37441,ke.premultiplyAlpha),Q.pixelStorei(3317,ke.unpackAlignment),he.isDataTexture?Q.texSubImage2D(3553,_e,ne.x,ne.y,Ie,it,Pt,ct,he.image.data):he.isCompressedTexture?Q.compressedTexSubImage2D(3553,_e,ne.x,ne.y,he.mipmaps[0].width,he.mipmaps[0].height,Pt,he.mipmaps[0].data):Q.texSubImage2D(3553,_e,ne.x,ne.y,Pt,ct,he.image),_e===0&&ke.generateMipmaps&&Q.generateMipmap(3553),Oe.unbindTexture()},this.copyTextureToTexture3D=function(ne,he,ke,_e,Ie=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const it=ne.max.x-ne.min.x+1,Pt=ne.max.y-ne.min.y+1,ct=ne.max.z-ne.min.z+1,ut=be.convert(_e.format),qt=be.convert(_e.type);let Vt;if(_e.isData3DTexture)ee.setTexture3D(_e,0),Vt=32879;else if(_e.isDataArrayTexture)ee.setTexture2DArray(_e,0),Vt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(37440,_e.flipY),Q.pixelStorei(37441,_e.premultiplyAlpha),Q.pixelStorei(3317,_e.unpackAlignment);const Ut=Q.getParameter(3314),xn=Q.getParameter(32878),li=Q.getParameter(3316),us=Q.getParameter(3315),ro=Q.getParameter(32877),Tr=ke.isCompressedTexture?ke.mipmaps[0]:ke.image;Q.pixelStorei(3314,Tr.width),Q.pixelStorei(32878,Tr.height),Q.pixelStorei(3316,ne.min.x),Q.pixelStorei(3315,ne.min.y),Q.pixelStorei(32877,ne.min.z),ke.isDataTexture||ke.isData3DTexture?Q.texSubImage3D(Vt,Ie,he.x,he.y,he.z,it,Pt,ct,ut,qt,Tr.data):ke.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Q.compressedTexSubImage3D(Vt,Ie,he.x,he.y,he.z,it,Pt,ct,ut,Tr.data)):Q.texSubImage3D(Vt,Ie,he.x,he.y,he.z,it,Pt,ct,ut,qt,Tr),Q.pixelStorei(3314,Ut),Q.pixelStorei(32878,xn),Q.pixelStorei(3316,li),Q.pixelStorei(3315,us),Q.pixelStorei(32877,ro),Ie===0&&_e.generateMipmaps&&Q.generateMipmap(Vt),Oe.unbindTexture()},this.initTexture=function(ne){ne.isCubeTexture?ee.setTextureCube(ne,0):ne.isData3DTexture?ee.setTexture3D(ne,0):ne.isDataArrayTexture?ee.setTexture2DArray(ne,0):ee.setTexture2D(ne,0),Oe.unbindTexture()},this.resetState=function(){y=0,_=0,b=null,Oe.reset(),Xe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class fq extends tI{}fq.prototype.isWebGL1Renderer=!0;class UA{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new We(e),this.density=t}clone(){return new UA(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class HA{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new We(e),this.near=t,this.far=r}clone(){return new HA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class u1 extends In{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class rx{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=a1,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Jo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Jo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Jo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Us=new Z;class tf{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Us.fromBufferAttribute(this,t),Us.applyMatrix4(e),this.setXYZ(t,Us.x,Us.y,Us.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Us.fromBufferAttribute(this,t),Us.applyNormalMatrix(e),this.setXYZ(t,Us.x,Us.y,Us.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Us.fromBufferAttribute(this,t),Us.transformDirection(e),this.setXYZ(t,Us.x,Us.y,Us.z);return this}setX(e,t){return this.normalized&&(t=ar(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ar(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ar(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ar(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=fu(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=fu(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=fu(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=fu(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ar(t,this.array),r=ar(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ar(t,this.array),r=ar(r,this.array),i=ar(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=ar(t,this.array),r=ar(r,this.array),i=ar(i,this.array),s=ar(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new bn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new tf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class nI extends Kr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new We(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Xp;const iv=new Z,Kp=new Z,Zp=new Z,Jp=new Le,sv=new Le,hq=new Wt,bb=new Z,ov=new Z,wb=new Z,hz=new Le,KC=new Le,pz=new Le;class pq extends In{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Xp===void 0){Xp=new Jt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new rx(t,5);Xp.setIndex([0,1,2,0,2,3]),Xp.setAttribute("position",new tf(r,3,0,!1)),Xp.setAttribute("uv",new tf(r,2,3,!1))}this.geometry=Xp,this.material=e!==void 0?e:new nI,this.center=new Le(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Kp.setFromMatrixScale(this.matrixWorld),hq.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Zp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Kp.multiplyScalar(-Zp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Sb(bb.set(-.5,-.5,0),Zp,o,Kp,i,s),Sb(ov.set(.5,-.5,0),Zp,o,Kp,i,s),Sb(wb.set(.5,.5,0),Zp,o,Kp,i,s),hz.set(0,0),KC.set(1,0),pz.set(1,1);let a=e.ray.intersectTriangle(bb,ov,wb,!1,iv);if(a===null&&(Sb(ov.set(-.5,.5,0),Zp,o,Kp,i,s),KC.set(0,1),a=e.ray.intersectTriangle(bb,wb,ov,!1,iv),a===null))return;const l=e.ray.origin.distanceTo(iv);l<e.near||l>e.far||t.push({distance:l,point:iv.clone(),uv:La.getUV(iv,bb,ov,wb,hz,KC,pz,new Le),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Sb(n,e,t,r,i,s){Jp.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(sv.x=s*Jp.x-i*Jp.y,sv.y=i*Jp.x+s*Jp.y):sv.copy(Jp),n.copy(e),n.x+=sv.x,n.y+=sv.y,n.applyMatrix4(hq)}const Ab=new Z,mz=new Z;class mq extends In{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Ab.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Ab);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ab.setFromMatrixPosition(e.matrixWorld),mz.setFromMatrixPosition(this.matrixWorld);const r=Ab.distanceTo(mz)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const gz=new Z,vz=new Mn,yz=new Mn,DMe=new Z,xz=new Wt;class GA extends Vr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Wt,this.bindMatrixInverse=new Wt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Mn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;vz.fromBufferAttribute(i.attributes.skinIndex,e),yz.fromBufferAttribute(i.attributes.skinWeight,e),gz.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=yz.getComponent(s);if(o!==0){const a=vz.getComponent(s);xz.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(DMe.copy(gz).applyMatrix4(xz),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class $A extends In{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Zm extends Mr{constructor(e=null,t=1,r=1,i,s,o,a,l,c=$n,d=$n,u,f){super(null,o,a,l,c,d,i,s,u,f),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _z=new Wt,BMe=new Wt;class ix{constructor(e=[],t=[]){this.uuid=Jo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Wt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Wt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:BMe;_z.multiplyMatrices(a,t[s]),_z.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new ix(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=eq(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Zm(t,e,e,qo,uc);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new $A),this.bones.push(o),this.boneInverses.push(new Wt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class S0 extends bn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const bz=new Wt,wz=new Wt,Eb=[],av=new Vr;class gq extends Vr{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new S0(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(av.geometry=this.geometry,av.material=this.material,av.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,bz),wz.multiplyMatrices(r,bz),av.matrixWorld=wz,av.raycast(e,Eb);for(let o=0,a=Eb.length;o<a;o++){const l=Eb[o];l.instanceId=s,l.object=this,t.push(l)}Eb.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new S0(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Os extends Kr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new We(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Sz=new Z,Az=new Z,Ez=new Wt,ZC=new tx,Mb=new vf;class Eu extends In{constructor(e=new Jt,t=new Os){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)Sz.fromBufferAttribute(t,i-1),Az.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=Sz.distanceTo(Az);e.setAttribute("lineDistance",new St(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Mb.copy(r.boundingSphere),Mb.applyMatrix4(i),Mb.radius+=s,e.ray.intersectsSphere(Mb)===!1)return;Ez.copy(i).invert(),ZC.copy(e.ray).applyMatrix4(Ez);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new Z,d=new Z,u=new Z,f=new Z,h=this.isLineSegments?2:1,g=r.index,x=r.attributes.position;if(g!==null){const y=Math.max(0,o.start),_=Math.min(g.count,o.start+o.count);for(let b=y,A=_-1;b<A;b+=h){const E=g.getX(b),k=g.getX(b+1);if(c.fromBufferAttribute(x,E),d.fromBufferAttribute(x,k),ZC.distanceSqToSegment(c,d,f,u)>l)continue;f.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(f);C<e.near||C>e.far||t.push({distance:C,point:u.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let b=y,A=_-1;b<A;b+=h){if(c.fromBufferAttribute(x,b),d.fromBufferAttribute(x,b+1),ZC.distanceSqToSegment(c,d,f,u)>l)continue;f.applyMatrix4(this.matrixWorld);const k=e.ray.origin.distanceTo(f);k<e.near||k>e.far||t.push({distance:k,point:u.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const Mz=new Z,Cz=new Z;class Fl extends Eu{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)Mz.fromBufferAttribute(t,i),Cz.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Mz.distanceTo(Cz);e.setAttribute("lineDistance",new St(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class rI extends Eu{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class WA extends Kr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new We(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Tz=new Wt,L5=new tx,Cb=new vf,Tb=new Z;class iI extends In{constructor(e=new Jt,t=new WA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Cb.copy(r.boundingSphere),Cb.applyMatrix4(i),Cb.radius+=s,e.ray.intersectsSphere(Cb)===!1)return;Tz.copy(i).invert(),L5.copy(e.ray).applyMatrix4(Tz);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,u=r.attributes.position;if(c!==null){const f=Math.max(0,o.start),h=Math.min(c.count,o.start+o.count);for(let g=f,v=h;g<v;g++){const x=c.getX(g);Tb.fromBufferAttribute(u,x),kz(Tb,x,l,i,e,t,this)}}else{const f=Math.max(0,o.start),h=Math.min(u.count,o.start+o.count);for(let g=f,v=h;g<v;g++)Tb.fromBufferAttribute(u,g),kz(Tb,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function kz(n,e,t,r,i,s,o){const a=L5.distanceSqToPoint(n);if(a<t){const l=new Z;L5.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class FMe extends Mr{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:lr,this.magFilter=s!==void 0?s:lr,this.generateMipmaps=!1;const d=this;function u(){d.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class zMe extends Mr{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=$n,this.minFilter=$n,this.generateMipmaps=!1,this.needsUpdate=!0}}class vq extends Mr{constructor(e,t,r,i,s,o,a,l,c,d,u,f){super(null,o,a,l,c,d,i,s,u,f),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class VMe extends Mr{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class zl{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const d=r[i],f=r[i+1]-d,h=(o-d)/f;return(i+h)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Le:new Z);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new Z,i=[],s=[],o=[],a=new Z,l=new Wt;for(let h=0;h<=e;h++){const g=h/e;i[h]=this.getTangentAt(g,new Z)}s[0]=new Z,o[0]=new Z;let c=Number.MAX_VALUE;const d=Math.abs(i[0].x),u=Math.abs(i[0].y),f=Math.abs(i[0].z);d<=c&&(c=d,r.set(1,0,0)),u<=c&&(c=u,r.set(0,1,0)),f<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let h=1;h<=e;h++){if(s[h]=s[h-1].clone(),o[h]=o[h-1].clone(),a.crossVectors(i[h-1],i[h]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(si(i[h-1].dot(i[h]),-1,1));s[h].applyMatrix4(l.makeRotationAxis(a,g))}o[h].crossVectors(i[h],s[h])}if(t===!0){let h=Math.acos(si(s[0].dot(s[e]),-1,1));h/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(h=-h);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],h*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class jA extends zl{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Le,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),u=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*d-h*u+this.aX,c=f*u+h*d+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class yq extends jA{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function sI(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,u){let f=(o-s)/c-(a-s)/(c+d)+(a-o)/d,h=(a-o)/d-(l-o)/(d+u)+(l-a)/u;f*=d,h*=d,i(o,a,f,h)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const kb=new Z,JC=new sI,QC=new sI,eT=new sI;class xq extends zl{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Z){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=i[(a-1)%s]:(kb.subVectors(i[0],i[1]).add(i[0]),c=kb);const u=i[a%s],f=i[(a+1)%s];if(this.closed||a+2<s?d=i[(a+2)%s]:(kb.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=kb),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(u),h),v=Math.pow(u.distanceToSquared(f),h),x=Math.pow(f.distanceToSquared(d),h);v<1e-4&&(v=1),g<1e-4&&(g=v),x<1e-4&&(x=v),JC.initNonuniformCatmullRom(c.x,u.x,f.x,d.x,g,v,x),QC.initNonuniformCatmullRom(c.y,u.y,f.y,d.y,g,v,x),eT.initNonuniformCatmullRom(c.z,u.z,f.z,d.z,g,v,x)}else this.curveType==="catmullrom"&&(JC.initCatmullRom(c.x,u.x,f.x,d.x,this.tension),QC.initCatmullRom(c.y,u.y,f.y,d.y,this.tension),eT.initCatmullRom(c.z,u.z,f.z,d.z,this.tension));return r.set(JC.calc(l),QC.calc(l),eT.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Z().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Rz(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function UMe(n,e){const t=1-n;return t*t*e}function HMe(n,e){return 2*(1-n)*n*e}function GMe(n,e){return n*n*e}function ly(n,e,t,r){return UMe(n,e)+HMe(n,t)+GMe(n,r)}function $Me(n,e){const t=1-n;return t*t*t*e}function WMe(n,e){const t=1-n;return 3*t*t*n*e}function jMe(n,e){return 3*(1-n)*n*n*e}function qMe(n,e){return n*n*n*e}function cy(n,e,t,r,i){return $Me(n,e)+WMe(n,t)+jMe(n,r)+qMe(n,i)}class oI extends zl{constructor(e=new Le,t=new Le,r=new Le,i=new Le){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Le){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(cy(e,i.x,s.x,o.x,a.x),cy(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class _q extends zl{constructor(e=new Z,t=new Z,r=new Z,i=new Z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Z){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(cy(e,i.x,s.x,o.x,a.x),cy(e,i.y,s.y,o.y,a.y),cy(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class qA extends zl{constructor(e=new Le,t=new Le){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Le){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Le;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bq extends zl{constructor(e=new Z,t=new Z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Z){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aI extends zl{constructor(e=new Le,t=new Le,r=new Le){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Le){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(ly(e,i.x,s.x,o.x),ly(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lI extends zl{constructor(e=new Z,t=new Z,r=new Z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Z){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(ly(e,i.x,s.x,o.x),ly(e,i.y,s.y,o.y),ly(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cI extends zl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Le){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],d=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return r.set(Rz(a,l.x,c.x,d.x,u.x),Rz(a,l.y,c.y,d.y,u.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Le().fromArray(i))}return this}}var uI=Object.freeze({__proto__:null,ArcCurve:yq,CatmullRomCurve3:xq,CubicBezierCurve:oI,CubicBezierCurve3:_q,EllipseCurve:jA,LineCurve:qA,LineCurve3:bq,QuadraticBezierCurve:aI,QuadraticBezierCurve3:lI,SplineCurve:cI});class wq extends zl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new qA(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];r&&r.equals(d)||(t.push(d),r=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new uI[i.type]().fromJSON(i))}return this}}class d1 extends wq{constructor(e){super(),this.type="Path",this.currentPoint=new Le,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new qA(this.currentPoint.clone(),new Le(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new aI(this.currentPoint.clone(),new Le(e,t),new Le(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new oI(this.currentPoint.clone(),new Le(e,t),new Le(r,i),new Le(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new cI(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new jA(e,t,r,i,s,o,a,l);if(this.curves.length>0){const u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ng extends Jt{constructor(e=[new Le(0,-.5),new Le(.5,0),new Le(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=si(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/t,u=new Z,f=new Le,h=new Z,g=new Z,v=new Z;let x=0,y=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,y=e[_+1].y-e[_].y,h.x=y*1,h.y=-x,h.z=y*0,v.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:x=e[_+1].x-e[_].x,y=e[_+1].y-e[_].y,h.x=y*1,h.y=-x,h.z=y*0,g.copy(h),h.x+=v.x,h.y+=v.y,h.z+=v.z,h.normalize(),l.push(h.x,h.y,h.z),v.copy(g)}for(let _=0;_<=t;_++){const b=r+_*d*i,A=Math.sin(b),E=Math.cos(b);for(let k=0;k<=e.length-1;k++){u.x=e[k].x*A,u.y=e[k].y,u.z=e[k].x*E,o.push(u.x,u.y,u.z),f.x=_/t,f.y=k/(e.length-1),a.push(f.x,f.y);const P=l[3*k+0]*A,C=l[3*k+1],O=l[3*k+0]*E;c.push(P,C,O)}}for(let _=0;_<t;_++)for(let b=0;b<e.length-1;b++){const A=b+_*e.length,E=A,k=A+e.length,P=A+e.length+1,C=A+1;s.push(E,k,C),s.push(P,C,k)}this.setIndex(s),this.setAttribute("position",new St(o,3)),this.setAttribute("uv",new St(a,2)),this.setAttribute("normal",new St(c,3))}static fromJSON(e){return new ng(e.points,e.segments,e.phiStart,e.phiLength)}}class sx extends ng{constructor(e=1,t=1,r=4,i=8){const s=new d1;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new sx(e.radius,e.length,e.capSegments,e.radialSegments)}}class ox extends Jt{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new Z,d=new Le;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let u=0,f=3;u<=t;u++,f+=3){const h=r+u/t*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[f]/e+1)/2,d.y=(o[f+1]/e+1)/2,l.push(d.x,d.y)}for(let u=1;u<=t;u++)s.push(u,u+1,0);this.setIndex(s),this.setAttribute("position",new St(o,3)),this.setAttribute("normal",new St(a,3)),this.setAttribute("uv",new St(l,2))}static fromJSON(e){return new ox(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class tp extends Jt{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const d=[],u=[],f=[],h=[];let g=0;const v=[],x=r/2;let y=0;_(),o===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(d),this.setAttribute("position",new St(u,3)),this.setAttribute("normal",new St(f,3)),this.setAttribute("uv",new St(h,2));function _(){const A=new Z,E=new Z;let k=0;const P=(t-e)/r;for(let C=0;C<=s;C++){const O=[],U=C/s,K=U*(t-e)+e;for(let J=0;J<=i;J++){const F=J/i,S=F*l+a,I=Math.sin(S),D=Math.cos(S);E.x=K*I,E.y=-U*r+x,E.z=K*D,u.push(E.x,E.y,E.z),A.set(I,P,D).normalize(),f.push(A.x,A.y,A.z),h.push(F,1-U),O.push(g++)}v.push(O)}for(let C=0;C<i;C++)for(let O=0;O<s;O++){const U=v[O][C],K=v[O+1][C],J=v[O+1][C+1],F=v[O][C+1];d.push(U,K,F),d.push(K,J,F),k+=6}c.addGroup(y,k,0),y+=k}function b(A){const E=g,k=new Le,P=new Z;let C=0;const O=A===!0?e:t,U=A===!0?1:-1;for(let J=1;J<=i;J++)u.push(0,x*U,0),f.push(0,U,0),h.push(.5,.5),g++;const K=g;for(let J=0;J<=i;J++){const S=J/i*l+a,I=Math.cos(S),D=Math.sin(S);P.x=O*D,P.y=x*U,P.z=O*I,u.push(P.x,P.y,P.z),f.push(0,U,0),k.x=I*.5+.5,k.y=D*.5*U+.5,h.push(k.x,k.y),g++}for(let J=0;J<i;J++){const F=E+J,S=K+J;A===!0?d.push(S,S+1,F):d.push(S+1,S,F),C+=3}c.addGroup(y,C,A===!0?1:2),y+=C}}static fromJSON(e){return new tp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ax extends tp{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new ax(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Du extends Jt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),d(),this.setAttribute("position",new St(s,3)),this.setAttribute("normal",new St(s.slice(),3)),this.setAttribute("uv",new St(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const b=new Z,A=new Z,E=new Z;for(let k=0;k<t.length;k+=3)h(t[k+0],b),h(t[k+1],A),h(t[k+2],E),l(b,A,E,_)}function l(_,b,A,E){const k=E+1,P=[];for(let C=0;C<=k;C++){P[C]=[];const O=_.clone().lerp(A,C/k),U=b.clone().lerp(A,C/k),K=k-C;for(let J=0;J<=K;J++)J===0&&C===k?P[C][J]=O:P[C][J]=O.clone().lerp(U,J/K)}for(let C=0;C<k;C++)for(let O=0;O<2*(k-C)-1;O++){const U=Math.floor(O/2);O%2===0?(f(P[C][U+1]),f(P[C+1][U]),f(P[C][U])):(f(P[C][U+1]),f(P[C+1][U+1]),f(P[C+1][U]))}}function c(_){const b=new Z;for(let A=0;A<s.length;A+=3)b.x=s[A+0],b.y=s[A+1],b.z=s[A+2],b.normalize().multiplyScalar(_),s[A+0]=b.x,s[A+1]=b.y,s[A+2]=b.z}function d(){const _=new Z;for(let b=0;b<s.length;b+=3){_.x=s[b+0],_.y=s[b+1],_.z=s[b+2];const A=x(_)/2/Math.PI+.5,E=y(_)/Math.PI+.5;o.push(A,1-E)}g(),u()}function u(){for(let _=0;_<o.length;_+=6){const b=o[_+0],A=o[_+2],E=o[_+4],k=Math.max(b,A,E),P=Math.min(b,A,E);k>.9&&P<.1&&(b<.2&&(o[_+0]+=1),A<.2&&(o[_+2]+=1),E<.2&&(o[_+4]+=1))}}function f(_){s.push(_.x,_.y,_.z)}function h(_,b){const A=_*3;b.x=e[A+0],b.y=e[A+1],b.z=e[A+2]}function g(){const _=new Z,b=new Z,A=new Z,E=new Z,k=new Le,P=new Le,C=new Le;for(let O=0,U=0;O<s.length;O+=9,U+=6){_.set(s[O+0],s[O+1],s[O+2]),b.set(s[O+3],s[O+4],s[O+5]),A.set(s[O+6],s[O+7],s[O+8]),k.set(o[U+0],o[U+1]),P.set(o[U+2],o[U+3]),C.set(o[U+4],o[U+5]),E.copy(_).add(b).add(A).divideScalar(3);const K=x(E);v(k,U+0,_,K),v(P,U+2,b,K),v(C,U+4,A,K)}}function v(_,b,A,E){E<0&&_.x===1&&(o[b]=_.x-1),A.x===0&&A.z===0&&(o[b]=E/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function y(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new Du(e.vertices,e.indices,e.radius,e.details)}}class lx extends Du{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new lx(e.radius,e.detail)}}const Rb=new Z,Pb=new Z,tT=new Z,Ib=new La;class Sq extends Jt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(kh*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],u=new Array(3),f={},h=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:v,b:x,c:y}=Ib;if(v.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),y.fromBufferAttribute(a,c[2]),Ib.getNormal(tT),u[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,u[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,u[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(u[0]===u[1]||u[1]===u[2]||u[2]===u[0]))for(let _=0;_<3;_++){const b=(_+1)%3,A=u[_],E=u[b],k=Ib[d[_]],P=Ib[d[b]],C=`${A}_${E}`,O=`${E}_${A}`;O in f&&f[O]?(tT.dot(f[O].normal)<=s&&(h.push(k.x,k.y,k.z),h.push(P.x,P.y,P.z)),f[O]=null):C in f||(f[C]={index0:c[_],index1:c[b],normal:tT.clone()})}}for(const g in f)if(f[g]){const{index0:v,index1:x}=f[g];Rb.fromBufferAttribute(a,v),Pb.fromBufferAttribute(a,x),h.push(Rb.x,Rb.y,Rb.z),h.push(Pb.x,Pb.y,Pb.z)}this.setAttribute("position",new St(h,3))}}}class Ih extends d1{constructor(e){super(e),this.uuid=Jo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new d1().fromJSON(i))}return this}}const YMe={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=Aq(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,d,u,f,h;if(r&&(s=QMe(n,e,s,t)),n.length>80*t){a=c=n[0],l=d=n[1];for(let g=t;g<i;g+=t)u=n[g],f=n[g+1],u<a&&(a=u),f<l&&(l=f),u>c&&(c=u),f>d&&(d=f);h=Math.max(c-a,d-l),h=h!==0?1/h:0}return f1(s,o,t,a,l,h),o}};function Aq(n,e,t,r,i){let s,o;if(i===uCe(n,e,t,r)>0)for(s=e;s<t;s+=r)o=Pz(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=Pz(s,n[s],n[s+1],o);return o&&YA(o,o.next)&&(p1(o),o=o.next),o}function nf(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(YA(t,t.next)||Br(t.prev,t,t.next)===0)){if(p1(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function f1(n,e,t,r,i,s,o){if(!n)return;!o&&s&&iCe(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?KMe(n,r,i,s):XMe(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),p1(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=ZMe(nf(n),e,t),f1(n,e,t,r,i,s,2)):o===2&&JMe(n,e,t,r,i,s):f1(nf(n),e,t,r,i,s,1);break}}}function XMe(n){const e=n.prev,t=n,r=n.next;if(Br(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(Cm(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&Br(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function KMe(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Br(i,s,o)>=0)return!1;const a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,c=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,d=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,u=O5(a,l,e,t,r),f=O5(c,d,e,t,r);let h=n.prevZ,g=n.nextZ;for(;h&&h.z>=u&&g&&g.z<=f;){if(h!==n.prev&&h!==n.next&&Cm(i.x,i.y,s.x,s.y,o.x,o.y,h.x,h.y)&&Br(h.prev,h,h.next)>=0||(h=h.prevZ,g!==n.prev&&g!==n.next&&Cm(i.x,i.y,s.x,s.y,o.x,o.y,g.x,g.y)&&Br(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;h&&h.z>=u;){if(h!==n.prev&&h!==n.next&&Cm(i.x,i.y,s.x,s.y,o.x,o.y,h.x,h.y)&&Br(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;g&&g.z<=f;){if(g!==n.prev&&g!==n.next&&Cm(i.x,i.y,s.x,s.y,o.x,o.y,g.x,g.y)&&Br(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function ZMe(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!YA(i,s)&&Eq(i,r,r.next,s)&&h1(i,s)&&h1(s,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(s.i/t),p1(r),p1(r.next),r=n=s),r=r.next}while(r!==n);return nf(r)}function JMe(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&aCe(o,a)){let l=Mq(o,a);o=nf(o,o.next),l=nf(l,l.next),f1(o,e,t,r,i,s),f1(l,e,t,r,i,s);return}a=a.next}o=o.next}while(o!==n)}function QMe(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=Aq(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(oCe(c));for(i.sort(eCe),s=0;s<i.length;s++)tCe(i[s],t),t=nf(t,t.next);return t}function eCe(n,e){return n.x-e.x}function tCe(n,e){if(e=nCe(n,e),e){const t=Mq(e,n);nf(e,e.next),nf(t,t.next)}}function nCe(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,o;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const f=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=r&&f>s){if(s=f,f===r){if(i===t.y)return t;if(i===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(r===s)return o;const a=o,l=o.x,c=o.y;let d=1/0,u;t=o;do r>=t.x&&t.x>=l&&r!==t.x&&Cm(i<c?r:s,i,l,c,i<c?s:r,i,t.x,t.y)&&(u=Math.abs(i-t.y)/(r-t.x),h1(t,n)&&(u<d||u===d&&(t.x>o.x||t.x===o.x&&rCe(o,t)))&&(o=t,d=u)),t=t.next;while(t!==a);return o}function rCe(n,e){return Br(n.prev,n,e.prev)<0&&Br(e.next,n,n.next)<0}function iCe(n,e,t,r){let i=n;do i.z===null&&(i.z=O5(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,sCe(i)}function sCe(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function O5(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function oCe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Cm(n,e,t,r,i,s,o,a){return(i-o)*(e-a)-(n-o)*(s-a)>=0&&(n-o)*(r-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(i-o)*(r-a)>=0}function aCe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!lCe(n,e)&&(h1(n,e)&&h1(e,n)&&cCe(n,e)&&(Br(n.prev,n,e.prev)||Br(n,e.prev,e))||YA(n,e)&&Br(n.prev,n,n.next)>0&&Br(e.prev,e,e.next)>0)}function Br(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function YA(n,e){return n.x===e.x&&n.y===e.y}function Eq(n,e,t,r){const i=Ob(Br(n,e,t)),s=Ob(Br(n,e,r)),o=Ob(Br(t,r,n)),a=Ob(Br(t,r,e));return!!(i!==s&&o!==a||i===0&&Lb(n,t,e)||s===0&&Lb(n,r,e)||o===0&&Lb(t,n,r)||a===0&&Lb(t,e,r))}function Lb(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ob(n){return n>0?1:n<0?-1:0}function lCe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Eq(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function h1(n,e){return Br(n.prev,n,n.next)<0?Br(n,e,n.next)>=0&&Br(n,n.prev,e)>=0:Br(n,e,n.prev)<0||Br(n,n.next,e)<0}function cCe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function Mq(n,e){const t=new N5(n.i,n.x,n.y),r=new N5(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function Pz(n,e,t,r){const i=new N5(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function p1(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function N5(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function uCe(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class vc{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return vc.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];Iz(e),Lz(r,e);let o=e.length;t.forEach(Iz);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,Lz(r,t[l]);const a=YMe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function Iz(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function Lz(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class rg extends Jt{constructor(e=new Ih([new Le(.5,.5),new Le(-.5,.5),new Le(-.5,-.5),new Le(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new St(i,3)),this.setAttribute("uv",new St(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,u=t.depth!==void 0?t.depth:1;let f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,h=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:h-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const y=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:dCe;let b,A=!1,E,k,P,C;y&&(b=y.getSpacedPoints(d),A=!0,f=!1,E=y.computeFrenetFrames(d,!1),k=new Z,P=new Z,C=new Z),f||(x=0,h=0,g=0,v=0);const O=a.extractPoints(c);let U=O.shape;const K=O.holes;if(!vc.isClockWise(U)){U=U.reverse();for(let X=0,ee=K.length;X<ee;X++){const ie=K[X];vc.isClockWise(ie)&&(K[X]=ie.reverse())}}const F=vc.triangulateShape(U,K),S=U;for(let X=0,ee=K.length;X<ee;X++){const ie=K[X];U=U.concat(ie)}function I(X,ee,ie){return ee||console.error("THREE.ExtrudeGeometry: vec does not exist"),ee.clone().multiplyScalar(ie).add(X)}const D=U.length,$=F.length;function N(X,ee,ie){let fe,Ce,we;const Ne=X.x-ee.x,Ze=X.y-ee.y,nt=ie.x-X.x,ht=ie.y-X.y,se=Ne*Ne+Ze*Ze,q=Ne*ht-Ze*nt;if(Math.abs(q)>Number.EPSILON){const le=Math.sqrt(se),ze=Math.sqrt(nt*nt+ht*ht),Be=ee.x-Ze/le,Ue=ee.y+Ne/le,mt=ie.x-ht/ze,be=ie.y+nt/ze,Xe=((mt-Be)*ht-(be-Ue)*nt)/(Ne*ht-Ze*nt);fe=Be+Ne*Xe-X.x,Ce=Ue+Ze*Xe-X.y;const tt=fe*fe+Ce*Ce;if(tt<=2)return new Le(fe,Ce);we=Math.sqrt(tt/2)}else{let le=!1;Ne>Number.EPSILON?nt>Number.EPSILON&&(le=!0):Ne<-Number.EPSILON?nt<-Number.EPSILON&&(le=!0):Math.sign(Ze)===Math.sign(ht)&&(le=!0),le?(fe=-Ze,Ce=Ne,we=Math.sqrt(se)):(fe=Ne,Ce=Ze,we=Math.sqrt(se/2))}return new Le(fe/we,Ce/we)}const G=[];for(let X=0,ee=S.length,ie=ee-1,fe=X+1;X<ee;X++,ie++,fe++)ie===ee&&(ie=0),fe===ee&&(fe=0),G[X]=N(S[X],S[ie],S[fe]);const j=[];let W,R=G.concat();for(let X=0,ee=K.length;X<ee;X++){const ie=K[X];W=[];for(let fe=0,Ce=ie.length,we=Ce-1,Ne=fe+1;fe<Ce;fe++,we++,Ne++)we===Ce&&(we=0),Ne===Ce&&(Ne=0),W[fe]=N(ie[fe],ie[we],ie[Ne]);j.push(W),R=R.concat(W)}for(let X=0;X<x;X++){const ee=X/x,ie=h*Math.cos(ee*Math.PI/2),fe=g*Math.sin(ee*Math.PI/2)+v;for(let Ce=0,we=S.length;Ce<we;Ce++){const Ne=I(S[Ce],G[Ce],fe);ve(Ne.x,Ne.y,-ie)}for(let Ce=0,we=K.length;Ce<we;Ce++){const Ne=K[Ce];W=j[Ce];for(let Ze=0,nt=Ne.length;Ze<nt;Ze++){const ht=I(Ne[Ze],W[Ze],fe);ve(ht.x,ht.y,-ie)}}}const Y=g+v;for(let X=0;X<D;X++){const ee=f?I(U[X],R[X],Y):U[X];A?(P.copy(E.normals[0]).multiplyScalar(ee.x),k.copy(E.binormals[0]).multiplyScalar(ee.y),C.copy(b[0]).add(P).add(k),ve(C.x,C.y,C.z)):ve(ee.x,ee.y,0)}for(let X=1;X<=d;X++)for(let ee=0;ee<D;ee++){const ie=f?I(U[ee],R[ee],Y):U[ee];A?(P.copy(E.normals[X]).multiplyScalar(ie.x),k.copy(E.binormals[X]).multiplyScalar(ie.y),C.copy(b[X]).add(P).add(k),ve(C.x,C.y,C.z)):ve(ie.x,ie.y,u/d*X)}for(let X=x-1;X>=0;X--){const ee=X/x,ie=h*Math.cos(ee*Math.PI/2),fe=g*Math.sin(ee*Math.PI/2)+v;for(let Ce=0,we=S.length;Ce<we;Ce++){const Ne=I(S[Ce],G[Ce],fe);ve(Ne.x,Ne.y,u+ie)}for(let Ce=0,we=K.length;Ce<we;Ce++){const Ne=K[Ce];W=j[Ce];for(let Ze=0,nt=Ne.length;Ze<nt;Ze++){const ht=I(Ne[Ze],W[Ze],fe);A?ve(ht.x,ht.y+b[d-1].y,b[d-1].x+ie):ve(ht.x,ht.y,u+ie)}}}Ae(),z();function Ae(){const X=i.length/3;if(f){let ee=0,ie=D*ee;for(let fe=0;fe<$;fe++){const Ce=F[fe];ge(Ce[2]+ie,Ce[1]+ie,Ce[0]+ie)}ee=d+x*2,ie=D*ee;for(let fe=0;fe<$;fe++){const Ce=F[fe];ge(Ce[0]+ie,Ce[1]+ie,Ce[2]+ie)}}else{for(let ee=0;ee<$;ee++){const ie=F[ee];ge(ie[2],ie[1],ie[0])}for(let ee=0;ee<$;ee++){const ie=F[ee];ge(ie[0]+D*d,ie[1]+D*d,ie[2]+D*d)}}r.addGroup(X,i.length/3-X,0)}function z(){const X=i.length/3;let ee=0;Q(S,ee),ee+=S.length;for(let ie=0,fe=K.length;ie<fe;ie++){const Ce=K[ie];Q(Ce,ee),ee+=Ce.length}r.addGroup(X,i.length/3-X,1)}function Q(X,ee){let ie=X.length;for(;--ie>=0;){const fe=ie;let Ce=ie-1;Ce<0&&(Ce=X.length-1);for(let we=0,Ne=d+x*2;we<Ne;we++){const Ze=D*we,nt=D*(we+1),ht=ee+fe+Ze,se=ee+Ce+Ze,q=ee+Ce+nt,le=ee+fe+nt;Re(ht,se,q,le)}}}function ve(X,ee,ie){l.push(X),l.push(ee),l.push(ie)}function ge(X,ee,ie){Oe(X),Oe(ee),Oe(ie);const fe=i.length/3,Ce=_.generateTopUV(r,i,fe-3,fe-2,fe-1);Me(Ce[0]),Me(Ce[1]),Me(Ce[2])}function Re(X,ee,ie,fe){Oe(X),Oe(ee),Oe(fe),Oe(ee),Oe(ie),Oe(fe);const Ce=i.length/3,we=_.generateSideWallUV(r,i,Ce-6,Ce-3,Ce-2,Ce-1);Me(we[0]),Me(we[1]),Me(we[3]),Me(we[1]),Me(we[2]),Me(we[3])}function Oe(X){i.push(l[X*3+0]),i.push(l[X*3+1]),i.push(l[X*3+2])}function Me(X){s.push(X.x),s.push(X.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return fCe(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new uI[i.type]().fromJSON(i)),new rg(r,e.options)}}const dCe={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],d=e[i*3+1];return[new Le(s,o),new Le(a,l),new Le(c,d)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],d=e[r*3+1],u=e[r*3+2],f=e[i*3],h=e[i*3+1],g=e[i*3+2],v=e[s*3],x=e[s*3+1],y=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new Le(o,1-l),new Le(c,1-u),new Le(f,1-g),new Le(v,1-y)]:[new Le(a,1-l),new Le(d,1-u),new Le(h,1-g),new Le(x,1-y)]}};function fCe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class cx extends Du{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new cx(e.radius,e.detail)}}class ig extends Du{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ig(e.radius,e.detail)}}class ux extends Jt{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],d=[];let u=e;const f=(t-e)/i,h=new Z,g=new Le;for(let v=0;v<=i;v++){for(let x=0;x<=r;x++){const y=s+x/r*o;h.x=u*Math.cos(y),h.y=u*Math.sin(y),l.push(h.x,h.y,h.z),c.push(0,0,1),g.x=(h.x/t+1)/2,g.y=(h.y/t+1)/2,d.push(g.x,g.y)}u+=f}for(let v=0;v<i;v++){const x=v*(r+1);for(let y=0;y<r;y++){const _=y+x,b=_,A=_+r+1,E=_+r+2,k=_+1;a.push(b,A,k),a.push(A,E,k)}}this.setIndex(a),this.setAttribute("position",new St(l,3)),this.setAttribute("normal",new St(c,3)),this.setAttribute("uv",new St(d,2))}static fromJSON(e){return new ux(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class dx extends Jt{constructor(e=new Ih([new Le(0,.5),new Le(-.5,-.5),new Le(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new St(i,3)),this.setAttribute("normal",new St(s,3)),this.setAttribute("uv",new St(o,2));function c(d){const u=i.length/3,f=d.extractPoints(t);let h=f.shape;const g=f.holes;vc.isClockWise(h)===!1&&(h=h.reverse());for(let x=0,y=g.length;x<y;x++){const _=g[x];vc.isClockWise(_)===!0&&(g[x]=_.reverse())}const v=vc.triangulateShape(h,g);for(let x=0,y=g.length;x<y;x++){const _=g[x];h=h.concat(_)}for(let x=0,y=h.length;x<y;x++){const _=h[x];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,y=v.length;x<y;x++){const _=v[x],b=_[0]+u,A=_[1]+u,E=_[2]+u;r.push(b,A,E),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return hCe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new dx(r,e.curveSegments)}}function hCe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class sg extends Jt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const d=[],u=new Z,f=new Z,h=[],g=[],v=[],x=[];for(let y=0;y<=r;y++){const _=[],b=y/r;let A=0;y==0&&o==0?A=.5/t:y==r&&l==Math.PI&&(A=-.5/t);for(let E=0;E<=t;E++){const k=E/t;u.x=-e*Math.cos(i+k*s)*Math.sin(o+b*a),u.y=e*Math.cos(o+b*a),u.z=e*Math.sin(i+k*s)*Math.sin(o+b*a),g.push(u.x,u.y,u.z),f.copy(u).normalize(),v.push(f.x,f.y,f.z),x.push(k+A,1-b),_.push(c++)}d.push(_)}for(let y=0;y<r;y++)for(let _=0;_<t;_++){const b=d[y][_+1],A=d[y][_],E=d[y+1][_],k=d[y+1][_+1];(y!==0||o>0)&&h.push(b,A,k),(y!==r-1||l<Math.PI)&&h.push(A,E,k)}this.setIndex(h),this.setAttribute("position",new St(g,3)),this.setAttribute("normal",new St(v,3)),this.setAttribute("uv",new St(x,2))}static fromJSON(e){return new sg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class fx extends Du{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new fx(e.radius,e.detail)}}class hx extends Jt{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],d=new Z,u=new Z,f=new Z;for(let h=0;h<=r;h++)for(let g=0;g<=i;g++){const v=g/i*s,x=h/r*Math.PI*2;u.x=(e+t*Math.cos(x))*Math.cos(v),u.y=(e+t*Math.cos(x))*Math.sin(v),u.z=t*Math.sin(x),a.push(u.x,u.y,u.z),d.x=e*Math.cos(v),d.y=e*Math.sin(v),f.subVectors(u,d).normalize(),l.push(f.x,f.y,f.z),c.push(g/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let g=1;g<=i;g++){const v=(i+1)*h+g-1,x=(i+1)*(h-1)+g-1,y=(i+1)*(h-1)+g,_=(i+1)*h+g;o.push(v,x,_),o.push(x,y,_)}this.setIndex(o),this.setAttribute("position",new St(a,3)),this.setAttribute("normal",new St(l,3)),this.setAttribute("uv",new St(c,2))}static fromJSON(e){return new hx(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class px extends Jt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],d=[],u=new Z,f=new Z,h=new Z,g=new Z,v=new Z,x=new Z,y=new Z;for(let b=0;b<=r;++b){const A=b/r*s*Math.PI*2;_(A,s,o,e,h),_(A+.01,s,o,e,g),x.subVectors(g,h),y.addVectors(g,h),v.crossVectors(x,y),y.crossVectors(v,x),v.normalize(),y.normalize();for(let E=0;E<=i;++E){const k=E/i*Math.PI*2,P=-t*Math.cos(k),C=t*Math.sin(k);u.x=h.x+(P*y.x+C*v.x),u.y=h.y+(P*y.y+C*v.y),u.z=h.z+(P*y.z+C*v.z),l.push(u.x,u.y,u.z),f.subVectors(u,h).normalize(),c.push(f.x,f.y,f.z),d.push(b/r),d.push(E/i)}}for(let b=1;b<=r;b++)for(let A=1;A<=i;A++){const E=(i+1)*(b-1)+(A-1),k=(i+1)*b+(A-1),P=(i+1)*b+A,C=(i+1)*(b-1)+A;a.push(E,k,C),a.push(k,P,C)}this.setIndex(a),this.setAttribute("position",new St(l,3)),this.setAttribute("normal",new St(c,3)),this.setAttribute("uv",new St(d,2));function _(b,A,E,k,P){const C=Math.cos(b),O=Math.sin(b),U=E/A*b,K=Math.cos(U);P.x=k*(2+K)*.5*C,P.y=k*(2+K)*O*.5,P.z=k*Math.sin(U)*.5}}static fromJSON(e){return new px(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class mx extends Jt{constructor(e=new lI(new Z(-1,-1,0),new Z(-1,1,0),new Z(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Z,l=new Z,c=new Le;let d=new Z;const u=[],f=[],h=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new St(u,3)),this.setAttribute("normal",new St(f,3)),this.setAttribute("uv",new St(h,2));function v(){for(let b=0;b<t;b++)x(b);x(s===!1?t:0),_(),y()}function x(b){d=e.getPointAt(b/t,d);const A=o.normals[b],E=o.binormals[b];for(let k=0;k<=i;k++){const P=k/i*Math.PI*2,C=Math.sin(P),O=-Math.cos(P);l.x=O*A.x+C*E.x,l.y=O*A.y+C*E.y,l.z=O*A.z+C*E.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=d.x+r*l.x,a.y=d.y+r*l.y,a.z=d.z+r*l.z,u.push(a.x,a.y,a.z)}}function y(){for(let b=1;b<=t;b++)for(let A=1;A<=i;A++){const E=(i+1)*(b-1)+(A-1),k=(i+1)*b+(A-1),P=(i+1)*b+A,C=(i+1)*(b-1)+A;g.push(E,k,C),g.push(k,P,C)}}function _(){for(let b=0;b<=t;b++)for(let A=0;A<=i;A++)c.x=b/t,c.y=A/i,h.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new mx(new uI[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Cq extends Jt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new Z,s=new Z;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const u=l[c],f=u.start,h=u.count;for(let g=f,v=f+h;g<v;g+=3)for(let x=0;x<3;x++){const y=a.getX(g+x),_=a.getX(g+(x+1)%3);i.fromBufferAttribute(o,y),s.fromBufferAttribute(o,_),Oz(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,u=3*a+(c+1)%3;i.fromBufferAttribute(o,d),s.fromBufferAttribute(o,u),Oz(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new St(t,3))}}}function Oz(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var Nz=Object.freeze({__proto__:null,BoxGeometry:yf,CapsuleGeometry:sx,CircleGeometry:ox,ConeGeometry:ax,CylinderGeometry:tp,DodecahedronGeometry:lx,EdgesGeometry:Sq,ExtrudeGeometry:rg,IcosahedronGeometry:cx,LatheGeometry:ng,OctahedronGeometry:ig,PlaneGeometry:eg,PolyhedronGeometry:Du,RingGeometry:ux,ShapeGeometry:dx,SphereGeometry:sg,TetrahedronGeometry:fx,TorusGeometry:hx,TorusKnotGeometry:px,TubeGeometry:mx,WireframeGeometry:Cq});class Tq extends Kr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new We(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class kq extends Gr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class As extends Kr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new We(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Bu extends As{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return si(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new We(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new We(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new We(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Rq extends Kr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new We(16777215),this.specular=new We(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Q1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Pq extends Kr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new We(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class dI extends Kr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Iq extends Kr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Q1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fI extends Kr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new We(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Lq extends Os{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ta(n,e,t){return hI(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function _h(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function hI(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Oq(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function D5(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function pI(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function pCe(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),u=[],f=[];for(let h=0;h<c.times.length;++h){const g=c.times[h]*i;if(!(g<t||g>=r)){u.push(c.times[h]);for(let v=0;v<d;++v)f.push(c.values[h*d+v])}}u.length!==0&&(c.times=_h(u,c.times.constructor),c.values=_h(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function mCe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(c===void 0)continue;let d=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=u/3);let f=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const y=d,_=u-d;v=Ta(a.values,y,_)}else if(s>=a.times[g]){const y=g*u+d,_=y+u-d;v=Ta(a.values,y,_)}else{const y=a.createInterpolant(),_=d,b=u-d;y.evaluate(s),v=Ta(y.resultBuffer,_,b)}l==="quaternion"&&new ss().fromArray(v).normalize().conjugate().toArray(v);const x=c.times.length;for(let y=0;y<x;++y){const _=y*h+f;if(l==="quaternion")ss.multiplyQuaternionsFlat(c.values,_,v,0,c.values,_);else{const b=h-f*2;for(let A=0;A<b;++A)c.values[_+A]-=v[A]}}}return n.blendMode=W4,n}var gCe=Object.freeze({__proto__:null,arraySlice:Ta,convertArray:_h,isTypedArray:hI,getKeyframeOrder:Oq,sortedArray:D5,flattenJSON:pI,subclip:pCe,makeClipAdditive:mCe});class og{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Nq extends og{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:vh,endingEnd:vh}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case yh:s=e,a=2*t-r;break;case s1:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case yh:o=e,l=2*r-t;break;case s1:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,d=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,u=this._offsetNext,f=this._weightPrev,h=this._weightNext,g=(r-t)/(i-t),v=g*g,x=v*g,y=-f*x+2*f*v-f*g,_=(1+f)*x+(-1.5-2*f)*v+(-.5+f)*g+1,b=(-1-h)*x+(1.5+h)*v+.5*g,A=h*x-h*v;for(let E=0;E!==a;++E)s[E]=y*o[d+E]+_*o[c+E]+b*o[l+E]+A*o[u+E];return s}}class mI extends og{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(r-t)/(i-t),u=1-d;for(let f=0;f!==a;++f)s[f]=o[c+f]*u+o[l+f]*d;return s}}class Dq extends og{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Vl{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=_h(t,this.TimeBufferType),this.values=_h(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:_h(e.times,Array),values:_h(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Dq(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new mI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Nq(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case b0:t=this.InterpolantFactoryMethodDiscrete;break;case $h:t=this.InterpolantFactoryMethodLinear;break;case Lw:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return b0;case this.InterpolantFactoryMethodLinear:return $h;case this.InterpolantFactoryMethodSmooth:return Lw}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ta(r,s,o),this.values=Ta(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&hI(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Ta(this.times),t=Ta(this.values),r=this.getValueSize(),i=this.getInterpolation()===Lw,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(i)l=!0;else{const u=a*r,f=u-r,h=u+r;for(let g=0;g!==r;++g){const v=t[u+g];if(v!==t[f+g]||v!==t[h+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const u=a*r,f=o*r;for(let h=0;h!==r;++h)t[f+h]=t[u+h]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Ta(e,0,o),this.values=Ta(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Ta(this.times,0),t=Ta(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Vl.prototype.TimeBufferType=Float32Array;Vl.prototype.ValueBufferType=Float32Array;Vl.prototype.DefaultInterpolation=$h;class np extends Vl{}np.prototype.ValueTypeName="bool";np.prototype.ValueBufferType=Array;np.prototype.DefaultInterpolation=b0;np.prototype.InterpolantFactoryMethodLinear=void 0;np.prototype.InterpolantFactoryMethodSmooth=void 0;class gI extends Vl{}gI.prototype.ValueTypeName="color";class A0 extends Vl{}A0.prototype.ValueTypeName="number";class Bq extends og{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let d=c+a;c!==d;c+=4)ss.slerpFlat(s,0,o,c-a,o,c,l);return s}}class rf extends Vl{InterpolantFactoryMethodLinear(e){return new Bq(this.times,this.values,this.getValueSize(),e)}}rf.prototype.ValueTypeName="quaternion";rf.prototype.DefaultInterpolation=$h;rf.prototype.InterpolantFactoryMethodSmooth=void 0;class rp extends Vl{}rp.prototype.ValueTypeName="string";rp.prototype.ValueBufferType=Array;rp.prototype.DefaultInterpolation=b0;rp.prototype.InterpolantFactoryMethodLinear=void 0;rp.prototype.InterpolantFactoryMethodSmooth=void 0;class E0 extends Vl{}E0.prototype.ValueTypeName="vector";class M0{constructor(e,t=-1,r,i=NA){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Jo(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(yCe(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Vl.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=Oq(l);l=D5(l,1,d),c=D5(c,1,d),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new A0(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const u=d[1];let f=i[u];f||(i[u]=f=[]),f.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(u,f,h,g,v){if(h.length!==0){const x=[],y=[];pI(h,x,y,g),x.length!==0&&v.push(new u(f,x,y))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let u=0;u<c.length;u++){const f=c[u].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let g;for(g=0;g<f.length;g++)if(f[g].morphTargets)for(let v=0;v<f[g].morphTargets.length;v++)h[f[g].morphTargets[v]]=-1;for(const v in h){const x=[],y=[];for(let _=0;_!==f[g].morphTargets.length;++_){const b=f[g];x.push(b.time),y.push(b.morphTarget===v?1:0)}i.push(new A0(".morphTargetInfluence["+v+"]",x,y))}l=h.length*o}else{const h=".bones["+t[u].name+"]";r(E0,h+".position",f,"pos",i),r(rf,h+".quaternion",f,"rot",i),r(E0,h+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function vCe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return A0;case"vector":case"vector2":case"vector3":case"vector4":return E0;case"color":return gI;case"quaternion":return rf;case"bool":case"boolean":return np;case"string":return rp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function yCe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=vCe(n.type);if(n.times===void 0){const t=[],r=[];pI(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Wh={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class vI{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(d){a++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,u){return c.push(d,u),this},this.removeHandler=function(d){const u=c.indexOf(d);return u!==-1&&c.splice(u,2),this},this.getHandler=function(d){for(let u=0,f=c.length;u<f;u+=2){const h=c[u],g=c[u+1];if(h.global&&(h.lastIndex=0),h.test(d))return g}return null}}}const Fq=new vI;class Ns{constructor(e){this.manager=e!==void 0?e:Fq,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const qc={};class xCe extends Error{constructor(e,t){super(e),this.response=t}}class Qs extends Ns{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Wh.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(qc[e]!==void 0){qc[e].push({onLoad:t,onProgress:r,onError:i});return}qc[e]=[],qc[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=qc[e],u=c.body.getReader(),f=c.headers.get("Content-Length"),h=f?parseInt(f):0,g=h!==0;let v=0;const x=new ReadableStream({start(y){_();function _(){u.read().then(({done:b,value:A})=>{if(b)y.close();else{v+=A.byteLength;const E=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:h});for(let k=0,P=d.length;k<P;k++){const C=d[k];C.onProgress&&C.onProgress(E)}y.enqueue(A),_()}})}}});return new Response(x)}else throw new xCe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const u=/charset="?([^;"\s]*)"?/i.exec(a),f=u&&u[1]?u[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(g=>h.decode(g))}}}).then(c=>{Wh.add(e,c);const d=qc[e];delete qc[e];for(let u=0,f=d.length;u<f;u++){const h=d[u];h.onLoad&&h.onLoad(c)}}).catch(c=>{const d=qc[e];if(d===void 0)throw this.manager.itemError(e),c;delete qc[e];for(let u=0,f=d.length;u<f;u++){const h=d[u];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class _Ce extends Ns{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Qs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=M0.parse(e[r]);t.push(i)}return t}}class bCe extends Ns{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new vq,l=new Qs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(u){l.load(e[u],function(f){const h=s.parse(f,!0);o[u]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(a.minFilter=lr),a.image=o,a.format=h.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let u=0,f=e.length;u<f;++u)d(u);else l.load(e,function(u){const f=s.parse(u,!0);if(f.isCubemap){const h=f.mipmaps.length/f.mipmapCount;for(let g=0;g<h;g++){o[g]={mipmaps:[]};for(let v=0;v<f.mipmapCount;v++)o[g].mipmaps.push(f.mipmaps[g*f.mipmapCount+v]),o[g].format=f.format,o[g].width=f.width,o[g].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=lr),a.format=f.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class C0 extends Ns{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Wh.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=c1("img");function l(){d(),Wh.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(u){d(),i&&i(u),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class zq extends Ns{constructor(e){super(e)}load(e,t,r,i){const s=new nx,o=new C0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class wCe extends Ns{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Zm,a=new Qs(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Ms,o.wrapT=c.wrapT!==void 0?c.wrapT:Ms,o.magFilter=c.magFilter!==void 0?c.magFilter:lr,o.minFilter=c.minFilter!==void 0?c.minFilter:lr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Rc),c.mipmapCount===1&&(o.minFilter=lr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class yI extends Ns{constructor(e){super(e)}load(e,t,r,i){const s=new Mr,o=new C0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class xf extends In{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new We(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class Vq extends xf{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(In.DefaultUp),this.updateMatrix(),this.groundColor=new We(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Dz=new Wt,Bz=new Z,Fz=new Z;class xI{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Le(512,512),this.map=null,this.mapPass=null,this.matrix=new Wt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new FA,this._frameExtents=new Le(1,1),this._viewportCount=1,this._viewports=[new Mn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;Bz.setFromMatrixPosition(e.matrixWorld),t.position.copy(Bz),Fz.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Fz),t.updateMatrixWorld(),Dz.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Dz),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class SCe extends xI{constructor(){super(new qn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=l1*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class _I extends xf{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(In.DefaultUp),this.updateMatrix(),this.target=new In,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new SCe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const zz=new Wt,lv=new Z,nT=new Z;class ACe extends xI{constructor(){super(new qn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Le(4,2),this._viewportCount=6,this._viewports=[new Mn(2,1,1,1),new Mn(0,1,1,1),new Mn(3,1,1,1),new Mn(1,1,1,1),new Mn(3,0,1,1),new Mn(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),lv.setFromMatrixPosition(e.matrixWorld),r.position.copy(lv),nT.copy(r.position),nT.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(nT),r.updateMatrixWorld(),i.makeTranslation(-lv.x,-lv.y,-lv.z),zz.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zz)}}class gx extends xf{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new ACe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ECe extends xI{constructor(){super(new Rl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class bI extends xf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(In.DefaultUp),this.updateMatrix(),this.target=new In,this.shadow=new ECe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class wI extends xf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Uq extends xf{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Hq{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class XA extends xf{constructor(e=new Hq,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class KA extends Ns{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Qs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=KA.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new We().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new We().setHex(o.value);break;case"v2":i.uniforms[s].value=new Le().fromArray(o.value);break;case"v3":i.uniforms[s].value=new Z().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Mn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new go().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Wt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Le().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Le().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:Tq,SpriteMaterial:nI,RawShaderMaterial:kq,ShaderMaterial:Gr,PointsMaterial:WA,MeshPhysicalMaterial:Bu,MeshStandardMaterial:As,MeshPhongMaterial:Rq,MeshToonMaterial:Pq,MeshNormalMaterial:dI,MeshLambertMaterial:Iq,MeshDepthMaterial:VA,MeshDistanceMaterial:Q4,MeshBasicMaterial:gn,MeshMatcapMaterial:fI,LineDashedMaterial:Lq,LineBasicMaterial:Os,Material:Kr};return new t[e]}}class yc{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Gq extends Jt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class $q extends Ns{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Qs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(h,g){if(t[g]!==void 0)return t[g];const x=h.interleavedBuffers[g],y=s(h,x.buffer),_=Em(x.type,y),b=new rx(_,x.stride);return b.uuid=x.uuid,t[g]=b,b}function s(h,g){if(r[g]!==void 0)return r[g];const x=h.arrayBuffers[g],y=new Uint32Array(x).buffer;return r[g]=y,y}const o=e.isInstancedBufferGeometry?new Gq:new Jt,a=e.data.index;if(a!==void 0){const h=Em(a.type,a.array);o.setIndex(new bn(h,1))}const l=e.data.attributes;for(const h in l){const g=l[h];let v;if(g.isInterleavedBufferAttribute){const x=i(e.data,g.data);v=new tf(x,g.itemSize,g.offset,g.normalized)}else{const x=Em(g.type,g.array),y=g.isInstancedBufferAttribute?S0:bn;v=new y(x,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(h,v)}const c=e.data.morphAttributes;if(c)for(const h in c){const g=c[h],v=[];for(let x=0,y=g.length;x<y;x++){const _=g[x];let b;if(_.isInterleavedBufferAttribute){const A=i(e.data,_.data);b=new tf(A,_.itemSize,_.offset,_.normalized)}else{const A=Em(_.type,_.array);b=new bn(A,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),v.push(b)}o.morphAttributes[h]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(u!==void 0)for(let h=0,g=u.length;h!==g;++h){const v=u[h];o.addGroup(v.start,v.count,v.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const h=new Z;f.center!==void 0&&h.fromArray(f.center),o.boundingSphere=new vf(h,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class MCe extends Ns{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?yc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Qs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(u){i!==void 0&&i(u),console.error("THREE:ObjectLoader: Can't parse "+e+".",u.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?yc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Qs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),t!==void 0){let u=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){u=!0;break}u===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Ih().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new ix().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new $q;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in Nz?a=Nz[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new KA;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=M0.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(d)}else return l.data?{data:Em(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new vI(t);s=new C0(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const u=e[c],f=u.url;if(Array.isArray(f)){const h=[];for(let g=0,v=f.length;g<v;g++){const x=f[g],y=a(x);y!==null&&(y instanceof HTMLImageElement?h.push(y):h.push(new Zm(y.data,y.width,y.height)))}i[u.uuid]=new xh(h)}else{const h=a(u.url);i[u.uuid]=new xh(h)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Em(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new C0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let u=0,f=c.length;u<f;u++){const h=c[u],g=await s(h);g!==null&&(g instanceof HTMLImageElement?d.push(g):d.push(new Zm(g.data,g.width,g.height)))}r[l.uuid]=new xh(d)}else{const d=await s(l.url);r[l.uuid]=new xh(d)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let d;Array.isArray(c)?(d=new nx,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new Zm:d=new Mr,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=r(a.mapping,CCe)),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=r(a.wrap[0],Vz),d.wrapT=r(a.wrap[1],Vz)),a.format!==void 0&&(d.format=a.format),a.type!==void 0&&(d.type=a.type),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=r(a.minFilter,Uz)),a.magFilter!==void 0&&(d.magFilter=r(a.magFilter,Uz)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),i[a.uuid]=d}return i}parseObject(e,t,r,i,s){let o;function a(f){return t[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),t[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const h=[];for(let g=0,v=f.length;g<v;g++){const x=f[g];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),h.push(r[x])}return h}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let d,u;switch(e.type){case"Scene":o=new u1,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new We(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new HA(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new UA(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new qn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Rl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new wI(e.color,e.intensity);break;case"DirectionalLight":o=new bI(e.color,e.intensity);break;case"PointLight":o=new gx(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Uq(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new _I(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Vq(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new XA().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),u=l(e.material),o=new GA(d,u),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),u=l(e.material),o=new Vr(d,u);break;case"InstancedMesh":d=a(e.geometry),u=l(e.material);const f=e.count,h=e.instanceMatrix,g=e.instanceColor;o=new gq(d,u,f),o.instanceMatrix=new S0(new Float32Array(h.array),16),g!==void 0&&(o.instanceColor=new S0(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new mq;break;case"Line":o=new Eu(a(e.geometry),l(e.material));break;case"LineLoop":o=new rI(a(e.geometry),l(e.material));break;case"LineSegments":o=new Fl(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new iI(a(e.geometry),l(e.material));break;case"Sprite":o=new pq(l(e.material));break;case"Group":o=new dc;break;case"Bone":o=new $A;break;default:o=new In}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let h=0;h<f.length;h++)o.add(this.parseObject(f[h],t,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let h=0;h<f.length;h++){const g=f[h];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let h=0;h<f.length;h++){const g=f[h],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const CCe={UVMapping:LA,CubeReflectionMapping:Jd,CubeRefractionMapping:Qd,EquirectangularReflectionMapping:t1,EquirectangularRefractionMapping:n1,CubeUVReflectionMapping:Z0},Vz={RepeatWrapping:Ol,ClampToEdgeWrapping:Ms,MirroredRepeatWrapping:_0},Uz={NearestFilter:$n,NearestMipmapNearestFilter:r1,NearestMipmapLinearFilter:i1,LinearFilter:lr,LinearMipmapNearestFilter:OA,LinearMipmapLinearFilter:Rc};class Wq extends Ns{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Wh.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Wh.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Nb;const SI={getContext:function(){return Nb===void 0&&(Nb=new(window.AudioContext||window.webkitAudioContext)),Nb},setContext:function(n){Nb=n}};class TCe extends Ns{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Qs(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);SI.getContext().decodeAudioData(l,function(d){t(d)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class kCe extends XA{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new We().set(e),s=new We().set(t),o=new Z(i.r,i.g,i.b),a=new Z(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class RCe extends XA{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new We().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const Hz=new Wt,Gz=new Wt,Hf=new Wt;class PCe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new qn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new qn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Hf.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(kh*t.fov*.5)/t.zoom;let a,l;Gz.elements[12]=-i,Hz.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Hf.elements[0]=2*t.near/(l-a),Hf.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Hf),a=-o*t.aspect-s,l=o*t.aspect-s,Hf.elements[0]=2*t.near/(l-a),Hf.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Hf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Gz),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Hz)}}class AI{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=$z(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=$z();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function $z(){return(typeof performance>"u"?Date:performance).now()}const Gf=new Z,Wz=new ss,ICe=new Z,$f=new Z;class LCe extends In{constructor(){super(),this.type="AudioListener",this.context=SI.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new AI}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Gf,Wz,ICe),$f.set(0,0,-1).applyQuaternion(Wz),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Gf.x,i),t.positionY.linearRampToValueAtTime(Gf.y,i),t.positionZ.linearRampToValueAtTime(Gf.z,i),t.forwardX.linearRampToValueAtTime($f.x,i),t.forwardY.linearRampToValueAtTime($f.y,i),t.forwardZ.linearRampToValueAtTime($f.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Gf.x,Gf.y,Gf.z),t.setOrientation($f.x,$f.y,$f.z,r.x,r.y,r.z)}}let jq=class extends In{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const Wf=new Z,jz=new ss,OCe=new Z,jf=new Z;class NCe extends jq{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Wf,jz,OCe),jf.set(0,0,1).applyQuaternion(jz);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Wf.x,r),t.positionY.linearRampToValueAtTime(Wf.y,r),t.positionZ.linearRampToValueAtTime(Wf.z,r),t.orientationX.linearRampToValueAtTime(jf.x,r),t.orientationY.linearRampToValueAtTime(jf.y,r),t.orientationZ.linearRampToValueAtTime(jf.z,r)}else t.setPosition(Wf.x,Wf.y,Wf.z),t.setOrientation(jf.x,jf.y,jf.z)}}class DCe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class qq{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){ss.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;ss.multiplyQuaternionsFlat(e,o,e,t,e,r),ss.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const EI="\\[\\]\\.:\\/",BCe=new RegExp("["+EI+"]","g"),MI="[^"+EI+"]",FCe="[^"+EI.replace("\\.","")+"]",zCe=/((?:WC+[\/:])*)/.source.replace("WC",MI),VCe=/(WCOD+)?/.source.replace("WCOD",FCe),UCe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",MI),HCe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",MI),GCe=new RegExp("^"+zCe+VCe+UCe+HCe+"$"),$Ce=["material","materials","bones","map"];class WCe{constructor(e,t,r){const i=r||An.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class An{constructor(e,t,r){this.path=t,this.parsedPath=r||An.parseTrackName(t),this.node=An.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new An.Composite(e,t,r):new An(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(BCe,"")}static parseTrackName(e){const t=GCe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);$Ce.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=An.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}An.Composite=WCe;An.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};An.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};An.prototype.GetterByBindingType=[An.prototype._getValue_direct,An.prototype._getValue_array,An.prototype._getValue_arrayElement,An.prototype._getValue_toArray];An.prototype.SetterByBindingTypeAndVersioning=[[An.prototype._setValue_direct,An.prototype._setValue_direct_setNeedsUpdate,An.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[An.prototype._setValue_array,An.prototype._setValue_array_setNeedsUpdate,An.prototype._setValue_array_setMatrixWorldNeedsUpdate],[An.prototype._setValue_arrayElement,An.prototype._setValue_arrayElement_setNeedsUpdate,An.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[An.prototype._setValue_fromArray,An.prototype._setValue_fromArray_setNeedsUpdate,An.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class jCe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Jo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,u=arguments.length;d!==u;++d){const f=arguments[d],h=f.uuid;let g=t[h];if(g===void 0){g=l++,t[h]=g,e.push(f);for(let v=0,x=o;v!==x;++v)s[v].push(new An(f,r[v],i[v]))}else if(g<c){a=e[g];const v=--c,x=e[v];t[x.uuid]=g,e[g]=x,t[h]=v,e[v]=f;for(let y=0,_=o;y!==_;++y){const b=s[y],A=b[v];let E=b[g];b[g]=A,E===void 0&&(E=new An(f,r[y],i[y])),b[v]=E}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=t[c];if(d!==void 0&&d>=s){const u=s++,f=e[u];t[f.uuid]=d,e[d]=f,t[c]=u,e[u]=l;for(let h=0,g=i;h!==g;++h){const v=r[h],x=v[u],y=v[d];v[d]=x,v[u]=y}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,u=t[d];if(u!==void 0)if(delete t[d],u<s){const f=--s,h=e[f],g=--o,v=e[g];t[h.uuid]=u,e[u]=h,t[v.uuid]=f,e[f]=v,e.pop();for(let x=0,y=i;x!==y;++x){const _=r[x],b=_[f],A=_[g];_[u]=b,_[f]=A,_.pop()}}else{const f=--o,h=e[f];f>0&&(t[h.uuid]=u),e[u]=h,e.pop();for(let g=0,v=i;g!==v;++g){const x=r[g];x[u]=x[f],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,u=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(u);for(let f=d,h=l.length;f!==h;++f){const g=l[f];u[f]=new An(g,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class qCe{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:vh,endingEnd:vh};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Xj,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case W4:for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case NA:default:for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(o),c[d].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===Kj;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===Yj){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=yh,i.endingEnd=yh):(e?i.endingStart=this.zeroSlopeAtStart?yh:vh:i.endingStart=s1,t?i.endingEnd=this.zeroSlopeAtEnd?yh:vh:i.endingEnd=s1)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const YCe=new Float32Array(1);class ZA extends ca{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let u=0;u!==s;++u){const f=i[u],h=f.name;let g=d[h];if(g!==void 0)++g.referenceCount,o[u]=g;else{if(g=o[u],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,h));continue}const v=t&&t._propertyBindings[u].binding.parsedPath;g=new qq(An.create(r,h,v),f.ValueTypeName,f.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,h),o[u]=g}a[u].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const u=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete u[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new mI(new Float32Array(2),new Float32Array(2),1,YCe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?M0.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=NA),l!==void 0){const u=l.actionByRoot[s];if(u!==void 0&&u.blendMode===r)return u;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new qCe(this,o,t,r);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?M0.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,u=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=d,t[d]=u,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class rt{constructor(e){this.value=e}clone(){return new rt(this.value.clone===void 0?this.value:this.value.clone())}}let XCe=0;class KCe extends ca{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:XCe++}),this.name="",this.usage=a1,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class ZCe extends rx{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class JCe{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}let CI=class{constructor(e,t,r=0,i=1/0){this.ray=new tx(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Ph,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return B5(e,this,r,t),r.sort(qz),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)B5(e[i],this,r,t);return r.sort(qz),r}};function qz(n,e){return n.distance-e.distance}function B5(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)B5(i[s],e,t,!0)}}class a2{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(si(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class QCe{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const Yz=new Le;class eTe{constructor(e=new Le(1/0,1/0),t=new Le(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Yz.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Yz.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Xz=new Z,Db=new Z;class tTe{constructor(e=new Z,t=new Z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Xz.subVectors(e,this.start),Db.subVectors(this.end,this.start);const r=Db.dot(Db);let s=Db.dot(Xz)/r;return t&&(s=si(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Kz=new Z;class nTe extends In{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new Jt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new St(i,3));const s=new Os({fog:!1,toneMapped:!1});this.cone=new Fl(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Kz.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Kz),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ad=new Z,Bb=new Wt,rT=new Wt;class rTe extends Fl{constructor(e){const t=Yq(e),r=new Jt,i=[],s=[],o=new We(0,0,1),a=new We(0,1,0);for(let c=0;c<t.length;c++){const d=t[c];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new St(i,3)),r.setAttribute("color",new St(s,3));const l=new Os({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");rT.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Bb.multiplyMatrices(rT,a.matrixWorld),ad.setFromMatrixPosition(Bb),i.setXYZ(o,ad.x,ad.y,ad.z),Bb.multiplyMatrices(rT,a.parent.matrixWorld),ad.setFromMatrixPosition(Bb),i.setXYZ(o+1,ad.x,ad.y,ad.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function Yq(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,Yq(n.children[t]));return e}class Xq extends Vr{constructor(e,t,r){const i=new sg(t,4,2),s=new gn({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const iTe=new Z,Zz=new We,Jz=new We;class sTe extends In{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new ig(t);i.rotateY(Math.PI*.5),this.material=new gn({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new bn(o,3)),this.add(new Vr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Zz.copy(this.light.color),Jz.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?Zz:Jz;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(iTe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class oTe extends Fl{constructor(e=10,t=10,r=4473924,i=8947848){r=new We(r),i=new We(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let f=0,h=0,g=-a;f<=t;f++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=f===s?r:i;v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3,v.toArray(c,h),h+=3}const d=new Jt;d.setAttribute("position",new St(l,3)),d.setAttribute("color",new St(c,3));const u=new Os({vertexColors:!0,toneMapped:!1});super(d,u),this.type="GridHelper"}}class aTe extends Fl{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new We(s),o=new We(o);const a=[],l=[];if(t>1)for(let u=0;u<t;u++){const f=u/t*(Math.PI*2),h=Math.sin(f)*e,g=Math.cos(f)*e;a.push(0,0,0),a.push(h,0,g);const v=u&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let u=0;u<r;u++){const f=u&1?s:o,h=e-e/r*u;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),x=Math.sin(v)*h,y=Math.cos(v)*h;a.push(x,0,y),l.push(f.r,f.g,f.b),v=(g+1)/i*(Math.PI*2),x=Math.sin(v)*h,y=Math.cos(v)*h,a.push(x,0,y),l.push(f.r,f.g,f.b)}}const c=new Jt;c.setAttribute("position",new St(a,3)),c.setAttribute("color",new St(l,3));const d=new Os({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}}const Qz=new Z,Fb=new Z,e8=new Z;class lTe extends In{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new Jt;i.setAttribute("position",new St([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Os({fog:!1,toneMapped:!1});this.lightPlane=new Eu(i,s),this.add(this.lightPlane),i=new Jt,i.setAttribute("position",new St([0,0,0,0,0,1],3)),this.targetLine=new Eu(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){Qz.setFromMatrixPosition(this.light.matrixWorld),Fb.setFromMatrixPosition(this.light.target.matrixWorld),e8.subVectors(Fb,Qz),this.lightPlane.lookAt(Fb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Fb),this.targetLine.scale.z=e8.length()}}const zb=new Z,Wr=new Q0;class cTe extends Fl{constructor(e){const t=new Jt,r=new Os({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new St(i,3)),t.setAttribute("color",new St(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new We(16755200),d=new We(16711680),u=new We(43775),f=new We(16777215),h=new We(3355443);this.setColors(c,d,u,f,h)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Wr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ti("c",t,e,Wr,0,0,-1),ti("t",t,e,Wr,0,0,1),ti("n1",t,e,Wr,-r,-i,-1),ti("n2",t,e,Wr,r,-i,-1),ti("n3",t,e,Wr,-r,i,-1),ti("n4",t,e,Wr,r,i,-1),ti("f1",t,e,Wr,-r,-i,1),ti("f2",t,e,Wr,r,-i,1),ti("f3",t,e,Wr,-r,i,1),ti("f4",t,e,Wr,r,i,1),ti("u1",t,e,Wr,r*.7,i*1.1,-1),ti("u2",t,e,Wr,-r*.7,i*1.1,-1),ti("u3",t,e,Wr,0,i*2,-1),ti("cf1",t,e,Wr,-r,0,1),ti("cf2",t,e,Wr,r,0,1),ti("cf3",t,e,Wr,0,-i,1),ti("cf4",t,e,Wr,0,i,1),ti("cn1",t,e,Wr,-r,0,-1),ti("cn2",t,e,Wr,r,0,-1),ti("cn3",t,e,Wr,0,-i,-1),ti("cn4",t,e,Wr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ti(n,e,t,r,i,s,o){zb.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],zb.x,zb.y,zb.z)}}const Vb=new Da;class uTe extends Fl{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Jt;s.setIndex(new bn(r,1)),s.setAttribute("position",new bn(i,3)),super(s,new Os({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Vb.setFromObject(this.object),Vb.isEmpty())return;const t=Vb.min,r=Vb.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}}class dTe extends Fl{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Jt;s.setIndex(new bn(r,1)),s.setAttribute("position",new St(i,3)),super(s,new Os({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class fTe extends Eu{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Jt;o.setAttribute("position",new St(s,3)),o.computeBoundingSphere(),super(o,new Os({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Jt;l.setAttribute("position",new St(a,3)),l.computeBoundingSphere(),this.add(new Vr(l,new gn({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}}const t8=new Z;let Ub,iT;class hTe extends In{constructor(e=new Z(0,0,1),t=new Z(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Ub===void 0&&(Ub=new Jt,Ub.setAttribute("position",new St([0,0,0,0,1,0],3)),iT=new tp(0,.5,1,5,1),iT.translate(0,-.5,0)),this.position.copy(t),this.line=new Eu(Ub,new Os({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Vr(iT,new gn({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{t8.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(t8,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class pTe extends Fl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Jt;i.setAttribute("position",new St(t,3)),i.setAttribute("color",new St(r,3));const s=new Os({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new We,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Kq{constructor(){this.type="ShapePath",this.color=new We,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new d1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(y){const _=[];for(let b=0,A=y.length;b<A;b++){const E=y[b],k=new Ih;k.curves=E.curves,_.push(k)}return _}function r(y,_){const b=_.length;let A=!1;for(let E=b-1,k=0;k<b;E=k++){let P=_[E],C=_[k],O=C.x-P.x,U=C.y-P.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(P=_[k],O=-O,C=_[E],U=-U),y.y<P.y||y.y>C.y)continue;if(y.y===P.y){if(y.x===P.x)return!0}else{const K=U*(y.x-P.x)-O*(y.y-P.y);if(K===0)return!0;if(K<0)continue;A=!A}}else{if(y.y!==P.y)continue;if(C.x<=y.x&&y.x<=P.x||P.x<=y.x&&y.x<=C.x)return!0}}return A}const i=vc.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Ih,l.curves=a.curves,c.push(l),c;let d=!i(s[0].getPoints());d=e?!d:d;const u=[],f=[];let h=[],g=0,v;f[g]=void 0,h[g]=[];for(let y=0,_=s.length;y<_;y++)a=s[y],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!d&&f[g]&&g++,f[g]={s:new Ih,p:v},f[g].s.curves=a.curves,d&&g++,h[g]=[]):h[g].push({h:a,p:v[0]});if(!f[0])return t(s);if(f.length>1){let y=!1,_=0;for(let b=0,A=f.length;b<A;b++)u[b]=[];for(let b=0,A=f.length;b<A;b++){const E=h[b];for(let k=0;k<E.length;k++){const P=E[k];let C=!0;for(let O=0;O<f.length;O++)r(P.p,f[O].p)&&(b!==O&&_++,C?(C=!1,u[O].push(P)):y=!0);C&&u[b].push(P)}}_>0&&y===!1&&(h=u)}let x;for(let y=0,_=f.length;y<_;y++){l=f[y].s,c.push(l),x=h[y];for(let b=0,A=x.length;b<A;b++)l.holes.push(x[b].h)}return c}}const ou=mTe();function mTe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function gTe(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=si(n,-65504,65504),ou.floatView[0]=n;const e=ou.uint32View[0],t=e>>23&511;return ou.baseTable[t]+((e&8388607)>>ou.shiftTable[t])}function vTe(n){const e=n>>10;return ou.uint32View[0]=ou.mantissaTable[ou.offsetTable[e]+(n&1023)]+ou.exponentTable[e],ou.floatView[0]}var yTe=Object.freeze({__proto__:null,toHalfFloat:gTe,fromHalfFloat:vTe});function xTe(){console.error("THREE.ImmediateRenderObject has been removed.")}class Zq extends Kn{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class _Te extends ex{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class bTe extends BA{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}class wTe extends yf{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class STe extends sx{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class ATe extends ox{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class ETe extends ax{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class MTe extends tp{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class CTe extends lx{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class TTe extends rg{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class kTe extends cx{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class RTe extends ng{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class PTe extends ig{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class ITe extends eg{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class LTe extends Du{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class OTe extends ux{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class NTe extends dx{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class DTe extends sg{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class BTe extends fx{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class FTe extends hx{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class zTe extends px{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class VTe extends mx{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ou}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ou);const l2=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:G4,AddEquation:lh,AddOperation:Tj,AdditiveAnimationBlendMode:W4,AdditiveBlending:r2,AlphaFormat:Fj,AlwaysDepth:bj,AlwaysStencilFunc:Qj,AmbientLight:wI,AmbientLightProbe:RCe,AnimationClip:M0,AnimationLoader:_Ce,AnimationMixer:ZA,AnimationObjectGroup:jCe,AnimationUtils:gCe,ArcCurve:yq,ArrayCamera:dq,ArrowHelper:hTe,Audio:jq,AudioAnalyser:DCe,AudioContext:SI,AudioListener:LCe,AudioLoader:TCe,AxesHelper:pTe,BackSide:ns,BasicDepthPacking:gf,BasicShadowMap:Xbe,Bone:$A,BooleanKeyframeTrack:np,Box2:eTe,Box3:Da,Box3Helper:dTe,BoxBufferGeometry:wTe,BoxGeometry:yf,BoxHelper:uTe,BufferAttribute:bn,BufferGeometry:Jt,BufferGeometryLoader:$q,ByteType:Lj,Cache:Wh,Camera:Q0,CameraHelper:cTe,CanvasTexture:VMe,CapsuleBufferGeometry:STe,CapsuleGeometry:sx,CatmullRomCurve3:xq,CineonToneMapping:Pj,CircleBufferGeometry:ATe,CircleGeometry:ox,ClampToEdgeWrapping:Ms,Clock:AI,Color:We,ColorKeyframeTrack:gI,ColorManagement:Sa,CompressedTexture:vq,CompressedTextureLoader:bCe,ConeBufferGeometry:ETe,ConeGeometry:ax,CubeCamera:rq,CubeReflectionMapping:Jd,CubeRefractionMapping:Qd,CubeTexture:nx,CubeTextureLoader:zq,CubeUVReflectionMapping:Z0,CubicBezierCurve:oI,CubicBezierCurve3:_q,CubicInterpolant:Nq,CullFaceBack:r5,CullFaceFront:aj,CullFaceFrontBack:Ybe,CullFaceNone:oj,Curve:zl,CurvePath:wq,CustomBlending:lj,CustomToneMapping:Ij,CylinderBufferGeometry:MTe,CylinderGeometry:tp,Cylindrical:QCe,Data3DTexture:BA,DataArrayTexture:ex,DataTexture:Zm,DataTexture2DArray:_Te,DataTexture3D:bTe,DataTextureLoader:wCe,DataUtils:yTe,DecrementStencilOp:swe,DecrementWrapStencilOp:awe,DefaultLoadingManager:Fq,DepthFormat:Gd,DepthStencilFormat:ef,DepthTexture:eI,DirectionalLight:bI,DirectionalLightHelper:lTe,DiscreteInterpolant:Dq,DodecahedronBufferGeometry:CTe,DodecahedronGeometry:lx,DoubleSide:an,DstAlphaFactor:mj,DstColorFactor:vj,DynamicCopyUsage:wwe,DynamicDrawUsage:gwe,DynamicReadUsage:xwe,EdgesGeometry:Sq,EllipseCurve:jA,EqualDepth:Sj,EqualStencilFunc:dwe,EquirectangularReflectionMapping:t1,EquirectangularRefractionMapping:n1,Euler:J0,EventDispatcher:ca,ExtrudeBufferGeometry:TTe,ExtrudeGeometry:rg,FileLoader:Qs,Float16BufferAttribute:nSe,Float32BufferAttribute:St,Float64BufferAttribute:rSe,FloatType:uc,Fog:HA,FogExp2:UA,FramebufferTexture:zMe,FrontSide:Au,Frustum:FA,GLBufferAttribute:JCe,GLSL1:Awe,GLSL3:k5,GreaterDepth:Ej,GreaterEqualDepth:Aj,GreaterEqualStencilFunc:mwe,GreaterStencilFunc:hwe,GridHelper:oTe,Group:dc,HalfFloatType:Gh,HemisphereLight:Vq,HemisphereLightHelper:sTe,HemisphereLightProbe:kCe,IcosahedronBufferGeometry:kTe,IcosahedronGeometry:cx,ImageBitmapLoader:Wq,ImageLoader:C0,ImageUtils:Y4,ImmediateRenderObject:xTe,IncrementStencilOp:iwe,IncrementWrapStencilOp:owe,InstancedBufferAttribute:S0,InstancedBufferGeometry:Gq,InstancedInterleavedBuffer:ZCe,InstancedMesh:gq,Int16BufferAttribute:eSe,Int32BufferAttribute:tSe,Int8BufferAttribute:Zwe,IntType:Nj,InterleavedBuffer:rx,InterleavedBufferAttribute:tf,Interpolant:og,InterpolateDiscrete:b0,InterpolateLinear:$h,InterpolateSmooth:Lw,InvertStencilOp:lwe,KeepStencilOp:Ow,KeyframeTrack:Vl,LOD:mq,LatheBufferGeometry:RTe,LatheGeometry:ng,Layers:Ph,LessDepth:wj,LessEqualDepth:i2,LessEqualStencilFunc:fwe,LessStencilFunc:uwe,Light:xf,LightProbe:XA,Line:Eu,Line3:tTe,LineBasicMaterial:Os,LineCurve:qA,LineCurve3:bq,LineDashedMaterial:Lq,LineLoop:rI,LineSegments:Fl,LinearEncoding:Ga,LinearFilter:lr,LinearInterpolant:mI,LinearMipMapLinearFilter:Qbe,LinearMipMapNearestFilter:Jbe,LinearMipmapLinearFilter:Rc,LinearMipmapNearestFilter:OA,LinearSRGBColorSpace:Td,LinearToneMapping:kj,Loader:Ns,LoaderUtils:yc,LoadingManager:vI,LoopOnce:Yj,LoopPingPong:Kj,LoopRepeat:Xj,LuminanceAlphaFormat:Uj,LuminanceFormat:Vj,MOUSE:Qf,Material:Kr,MaterialLoader:KA,MathUtils:DA,Matrix3:go,Matrix4:Wt,MaxEquation:a5,Mesh:Vr,MeshBasicMaterial:gn,MeshDepthMaterial:VA,MeshDistanceMaterial:Q4,MeshLambertMaterial:Iq,MeshMatcapMaterial:fI,MeshNormalMaterial:dI,MeshPhongMaterial:Rq,MeshPhysicalMaterial:Bu,MeshStandardMaterial:As,MeshToonMaterial:Pq,MinEquation:o5,MirroredRepeatWrapping:_0,MixOperation:Cj,MultiplyBlending:s5,MultiplyOperation:Q1,NearestFilter:$n,NearestMipMapLinearFilter:Zbe,NearestMipMapNearestFilter:Kbe,NearestMipmapLinearFilter:i1,NearestMipmapNearestFilter:r1,NeverDepth:_j,NeverStencilFunc:cwe,NoBlending:Ti,NoColorSpace:twe,NoToneMapping:kl,NormalAnimationBlendMode:NA,NormalBlending:Th,NotEqualDepth:Mj,NotEqualStencilFunc:pwe,NumberKeyframeTrack:A0,Object3D:In,ObjectLoader:MCe,ObjectSpaceNormalMap:Jj,OctahedronBufferGeometry:PTe,OctahedronGeometry:ig,OneFactor:fj,OneMinusDstAlphaFactor:gj,OneMinusDstColorFactor:yj,OneMinusSrcAlphaFactor:H4,OneMinusSrcColorFactor:pj,OrthographicCamera:Rl,PCFShadowMap:z4,PCFSoftShadowMap:V4,PMREMGenerator:P5,Path:d1,PerspectiveCamera:qn,Plane:yd,PlaneBufferGeometry:ITe,PlaneGeometry:eg,PlaneHelper:fTe,PointLight:gx,PointLightHelper:Xq,Points:iI,PointsMaterial:WA,PolarGridHelper:aTe,PolyhedronBufferGeometry:LTe,PolyhedronGeometry:Du,PositionalAudio:NCe,PropertyBinding:An,PropertyMixer:qq,QuadraticBezierCurve:aI,QuadraticBezierCurve3:lI,Quaternion:ss,QuaternionKeyframeTrack:rf,QuaternionLinearInterpolant:Bq,REVISION:Ou,RGBADepthPacking:o1,RGBAFormat:qo,RGBAIntegerFormat:jj,RGBA_ASTC_10x10_Format:E5,RGBA_ASTC_10x5_Format:w5,RGBA_ASTC_10x6_Format:S5,RGBA_ASTC_10x8_Format:A5,RGBA_ASTC_12x10_Format:M5,RGBA_ASTC_12x12_Format:C5,RGBA_ASTC_4x4_Format:p5,RGBA_ASTC_5x4_Format:m5,RGBA_ASTC_5x5_Format:g5,RGBA_ASTC_6x5_Format:v5,RGBA_ASTC_6x6_Format:y5,RGBA_ASTC_8x5_Format:x5,RGBA_ASTC_8x6_Format:_5,RGBA_ASTC_8x8_Format:b5,RGBA_BPTC_Format:T5,RGBA_ETC2_EAC_Format:h5,RGBA_PVRTC_2BPPV1_Format:d5,RGBA_PVRTC_4BPPV1_Format:u5,RGBA_S3TC_DXT1_Format:Rw,RGBA_S3TC_DXT3_Format:Pw,RGBA_S3TC_DXT5_Format:Iw,RGBFormat:zj,RGB_ETC1_Format:qj,RGB_ETC2_Format:f5,RGB_PVRTC_2BPPV1_Format:c5,RGB_PVRTC_4BPPV1_Format:l5,RGB_S3TC_DXT1_Format:kw,RGFormat:$j,RGIntegerFormat:Wj,RawShaderMaterial:kq,Ray:tx,Raycaster:CI,RectAreaLight:Uq,RedFormat:Hj,RedIntegerFormat:Gj,ReinhardToneMapping:Rj,RepeatWrapping:Ol,ReplaceStencilOp:rwe,ReverseSubtractEquation:uj,RingBufferGeometry:OTe,RingGeometry:ux,SRGBColorSpace:Jl,Scene:u1,ShaderChunk:ln,ShaderLib:yl,ShaderMaterial:Gr,ShadowMaterial:Tq,Shape:Ih,ShapeBufferGeometry:NTe,ShapeGeometry:dx,ShapePath:Kq,ShapeUtils:vc,ShortType:Oj,Skeleton:ix,SkeletonHelper:rTe,SkinnedMesh:GA,Source:xh,Sphere:vf,SphereBufferGeometry:DTe,SphereGeometry:sg,Spherical:a2,SphericalHarmonics3:Hq,SplineCurve:cI,SpotLight:_I,SpotLightHelper:nTe,Sprite:pq,SpriteMaterial:nI,SrcAlphaFactor:U4,SrcAlphaSaturateFactor:xj,SrcColorFactor:hj,StaticCopyUsage:bwe,StaticDrawUsage:a1,StaticReadUsage:ywe,StereoCamera:PCe,StreamCopyUsage:Swe,StreamDrawUsage:vwe,StreamReadUsage:_we,StringKeyframeTrack:rp,SubtractEquation:cj,SubtractiveBlending:i5,TOUCH:eh,TangentSpaceNormalMap:Nu,TetrahedronBufferGeometry:BTe,TetrahedronGeometry:fx,Texture:Mr,TextureLoader:yI,TorusBufferGeometry:FTe,TorusGeometry:hx,TorusKnotBufferGeometry:zTe,TorusKnotGeometry:px,Triangle:La,TriangleFanDrawMode:j4,TriangleStripDrawMode:Zj,TrianglesDrawMode:ewe,TubeBufferGeometry:VTe,TubeGeometry:mx,UVMapping:LA,Uint16BufferAttribute:X4,Uint32BufferAttribute:K4,Uint8BufferAttribute:Jwe,Uint8ClampedBufferAttribute:Qwe,Uniform:rt,UniformsGroup:KCe,UniformsLib:ot,UniformsUtils:Z4,UnsignedByteType:$i,UnsignedInt248Type:Hd,UnsignedIntType:du,UnsignedShort4444Type:Dj,UnsignedShort5551Type:Bj,UnsignedShortType:$4,VSMShadowMap:Am,Vector2:Le,Vector3:Z,Vector4:Mn,VectorKeyframeTrack:E0,VideoTexture:FMe,WebGL1Renderer:fq,WebGL3DRenderTarget:Uwe,WebGLArrayRenderTarget:Vwe,WebGLCubeRenderTarget:iq,WebGLMultipleRenderTargets:Hwe,WebGLMultisampleRenderTarget:Zq,WebGLRenderTarget:Kn,WebGLRenderer:tI,WebGLUtils:uq,WireframeGeometry:Cq,WrapAroundEnding:s1,ZeroCurvatureEnding:vh,ZeroFactor:dj,ZeroSlopeEnding:yh,ZeroStencilOp:nwe,_SRGBAFormat:s2,sRGBEncoding:It},Symbol.toStringTag,{value:"Module"}));var kd={},UTe={get exports(){return kd},set exports(n){kd=n}},ip={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ip.ConcurrentRoot=1;ip.ContinuousEventPriority=4;ip.DefaultEventPriority=16;ip.DiscreteEventPriority=1;ip.IdleEventPriority=536870912;ip.LegacyRoot=0;(function(n){n.exports=ip})(UTe);var F5={},HTe={get exports(){return F5},set exports(n){F5=n}},m1={},GTe={get exports(){return m1},set exports(n){m1=n}},Jq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,G){var j=N.length;N.push(G);e:for(;0<j;){var W=j-1>>>1,R=N[W];if(0<i(R,G))N[W]=G,N[j]=R,j=W;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var G=N[0],j=N.pop();if(j!==G){N[0]=j;e:for(var W=0,R=N.length,Y=R>>>1;W<Y;){var Ae=2*(W+1)-1,z=N[Ae],Q=Ae+1,ve=N[Q];if(0>i(z,j))Q<R&&0>i(ve,z)?(N[W]=ve,N[Q]=j,W=Q):(N[W]=z,N[Ae]=j,W=Ae);else if(Q<R&&0>i(ve,j))N[W]=ve,N[Q]=j,W=Q;else break e}}return G}function i(N,G){var j=N.sortIndex-G.sortIndex;return j!==0?j:N.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,f=3,h=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var G=t(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=N)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(c)}}function A(N){if(v=!1,b(N),!g)if(t(l)!==null)g=!0,D(E);else{var G=t(c);G!==null&&$(A,G.startTime-N)}}function E(N,G){g=!1,v&&(v=!1,y(C),C=-1),h=!0;var j=f;try{for(b(G),u=t(l);u!==null&&(!(u.expirationTime>G)||N&&!K());){var W=u.callback;if(typeof W=="function"){u.callback=null,f=u.priorityLevel;var R=W(u.expirationTime<=G);G=n.unstable_now(),typeof R=="function"?u.callback=R:u===t(l)&&r(l),b(G)}else r(l);u=t(l)}if(u!==null)var Y=!0;else{var Ae=t(c);Ae!==null&&$(A,Ae.startTime-G),Y=!1}return Y}finally{u=null,f=j,h=!1}}var k=!1,P=null,C=-1,O=5,U=-1;function K(){return!(n.unstable_now()-U<O)}function J(){if(P!==null){var N=n.unstable_now();U=N;var G=!0;try{G=P(!0,N)}finally{G?F():(k=!1,P=null)}}else k=!1}var F;if(typeof _=="function")F=function(){_(J)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,I=S.port2;S.port1.onmessage=J,F=function(){I.postMessage(null)}}else F=function(){x(J,0)};function D(N){P=N,k||(k=!0,F())}function $(N,G){C=x(function(){N(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){g||h||(g=!0,D(E))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var j=f;f=G;try{return N()}finally{f=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,G){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=f;f=N;try{return G()}finally{f=j}},n.unstable_scheduleCallback=function(N,G,j){var W=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?W+j:W):j=W,N){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=j+R,N={id:d++,callback:G,priorityLevel:N,startTime:j,expirationTime:R,sortIndex:-1},j>W?(N.sortIndex=j,e(c,N),t(l)===null&&N===t(c)&&(v?(y(C),C=-1):v=!0,$(A,j-W))):(N.sortIndex=R,e(l,N),g||h||(g=!0,D(E))),N},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(N){var G=f;return function(){var j=f;f=G;try{return N.apply(this,arguments)}finally{f=j}}}})(Jq);(function(n){n.exports=Jq})(GTe);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $Te=function(e){var t={},r=T,i=m1,s=Object.assign;function o(p){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+p,w=1;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),E=Symbol.iterator;function k(p){return p===null||typeof p!="object"?null:(p=E&&p[E]||p["@@iterator"],typeof p=="function"?p:null)}function P(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case d:return"Fragment";case c:return"Portal";case f:return"Profiler";case u:return"StrictMode";case x:return"Suspense";case y:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case g:return(p.displayName||"Context")+".Consumer";case h:return(p._context.displayName||"Context")+".Provider";case v:var m=p.render;return p=p.displayName,p||(p=m.displayName||m.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case _:return m=p.displayName||null,m!==null?m:P(p.type)||"Memo";case b:m=p._payload,p=p._init;try{return P(p(m))}catch{}}return null}function C(p){var m=p.type;switch(p.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=m.render,p=p.displayName||p.name||"",m.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(m);case 8:return m===u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function O(p){var m=p,w=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,m.flags&4098&&(w=m.return),p=m.return;while(p)}return m.tag===3?w:null}function U(p){if(O(p)!==p)throw Error(o(188))}function K(p){var m=p.alternate;if(!m){if(m=O(p),m===null)throw Error(o(188));return m!==p?null:p}for(var w=p,M=m;;){var L=w.return;if(L===null)break;var V=L.alternate;if(V===null){if(M=L.return,M!==null){w=M;continue}break}if(L.child===V.child){for(V=L.child;V;){if(V===w)return U(L),p;if(V===M)return U(L),m;V=V.sibling}throw Error(o(188))}if(w.return!==M.return)w=L,M=V;else{for(var oe=!1,pe=L.child;pe;){if(pe===w){oe=!0,w=L,M=V;break}if(pe===M){oe=!0,M=L,w=V;break}pe=pe.sibling}if(!oe){for(pe=V.child;pe;){if(pe===w){oe=!0,w=V,M=L;break}if(pe===M){oe=!0,M=V,w=L;break}pe=pe.sibling}if(!oe)throw Error(o(189))}}if(w.alternate!==M)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?p:m}function J(p){return p=K(p),p!==null?F(p):null}function F(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var m=F(p);if(m!==null)return m;p=p.sibling}return null}function S(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var m=S(p);if(m!==null)return m}p=p.sibling}return null}var I=Array.isArray,D=e.getPublicInstance,$=e.getRootHostContext,N=e.getChildHostContext,G=e.prepareForCommit,j=e.resetAfterCommit,W=e.createInstance,R=e.appendInitialChild,Y=e.finalizeInitialChildren,Ae=e.prepareUpdate,z=e.shouldSetTextContent,Q=e.createTextInstance,ve=e.scheduleTimeout,ge=e.cancelTimeout,Re=e.noTimeout,Oe=e.isPrimaryRenderer,Me=e.supportsMutation,X=e.supportsPersistence,ee=e.supportsHydration,ie=e.getInstanceFromNode,fe=e.preparePortalMount,Ce=e.getCurrentEventPriority,we=e.detachDeletedInstance,Ne=e.supportsMicrotasks,Ze=e.scheduleMicrotask,nt=e.supportsTestSelectors,ht=e.findFiberRoot,se=e.getBoundingRect,q=e.getTextContent,le=e.isHiddenSubtree,ze=e.matchAccessibilityRole,Be=e.setFocusIfFocusable,Ue=e.setupIntersectionObserver,mt=e.appendChild,be=e.appendChildToContainer,Xe=e.commitTextUpdate,tt=e.commitMount,ae=e.commitUpdate,xe=e.insertBefore,je=e.insertInContainerBefore,qe=e.removeChild,st=e.removeChildFromContainer,ce=e.resetTextContent,$e=e.hideInstance,Ee=e.hideTextInstance,Je=e.unhideInstance,He=e.unhideTextInstance,gt=e.clearContainer,Hn=e.cloneInstance,Ct=e.createContainerChildSet,sn=e.appendChildToContainerChildSet,Sn=e.finalizeContainerChildren,tn=e.replaceContainerChildren,jt=e.cloneHiddenInstance,no=e.cloneHiddenTextInstance,Qt=e.canHydrateInstance,Ln=e.canHydrateTextInstance,To=e.canHydrateSuspenseInstance,On=e.isSuspenseInstancePending,Cn=e.isSuspenseInstanceFallback,ne=e.registerSuspenseInstanceRetry,he=e.getNextHydratableSibling,ke=e.getFirstHydratableChild,_e=e.getFirstHydratableChildWithinContainer,Ie=e.getFirstHydratableChildWithinSuspenseInstance,it=e.hydrateInstance,Pt=e.hydrateTextInstance,ct=e.hydrateSuspenseInstance,ut=e.getNextHydratableInstanceAfterSuspenseInstance,qt=e.commitHydratedContainer,Vt=e.commitHydratedSuspenseInstance,Ut=e.clearSuspenseBoundary,xn=e.clearSuspenseBoundaryFromContainer,li=e.shouldDeleteUnhydratedTailInstances,us=e.didNotMatchHydratedContainerTextInstance,ro=e.didNotMatchHydratedTextInstance,Tr;function Gt(p){if(Tr===void 0)try{throw Error()}catch(w){var m=w.stack.trim().match(/\n( *(at )?)/);Tr=m&&m[1]||""}return`
`+Tr+p}var ds=!1;function Tn(p,m){if(!p||ds)return"";ds=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Qe){var M=Qe}Reflect.construct(p,[],m)}else{try{m.call()}catch(Qe){M=Qe}p.call(m.prototype)}else{try{throw Error()}catch(Qe){M=Qe}p()}}catch(Qe){if(Qe&&M&&typeof Qe.stack=="string"){for(var L=Qe.stack.split(`
`),V=M.stack.split(`
`),oe=L.length-1,pe=V.length-1;1<=oe&&0<=pe&&L[oe]!==V[pe];)pe--;for(;1<=oe&&0<=pe;oe--,pe--)if(L[oe]!==V[pe]){if(oe!==1||pe!==1)do if(oe--,pe--,0>pe||L[oe]!==V[pe]){var Fe=`
`+L[oe].replace(" at new "," at ");return p.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",p.displayName)),Fe}while(1<=oe&&0<=pe);break}}}finally{ds=!1,Error.prepareStackTrace=w}return(p=p?p.displayName||p.name:"")?Gt(p):""}var Jr=Object.prototype.hasOwnProperty,Ri=[],Pi=-1;function Ii(p){return{current:p}}function zt(p){0>Pi||(p.current=Ri[Pi],Ri[Pi]=null,Pi--)}function nn(p,m){Pi++,Ri[Pi]=p.current,p.current=m}var Li={},fn=Ii(Li),ci=Ii(!1),Xa=Li;function Ka(p,m){var w=p.type.contextTypes;if(!w)return Li;var M=p.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===m)return M.__reactInternalMemoizedMaskedChildContext;var L={},V;for(V in w)L[V]=m[V];return M&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=m,p.__reactInternalMemoizedMaskedChildContext=L),L}function fs(p){return p=p.childContextTypes,p!=null}function cp(){zt(ci),zt(fn)}function Mx(p,m,w){if(fn.current!==Li)throw Error(o(168));nn(fn,m),nn(ci,w)}function Cx(p,m,w){var M=p.stateNode;if(m=m.childContextTypes,typeof M.getChildContext!="function")return w;M=M.getChildContext();for(var L in M)if(!(L in m))throw Error(o(108,C(p)||"Unknown",L));return s({},w,M)}function Ic(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Li,Xa=fn.current,nn(fn,p),nn(ci,ci.current),!0}function up(p,m,w){var M=p.stateNode;if(!M)throw Error(o(169));w?(p=Cx(p,m,Xa),M.__reactInternalMemoizedMergedChildContext=p,zt(ci),zt(fn),nn(fn,p)):zt(ci),nn(ci,w)}var ko=Math.clz32?Math.clz32:gE,mE=Math.log,Tx=Math.LN2;function gE(p){return p>>>=0,p===0?32:31-(mE(p)/Tx|0)|0}var dp=64,fp=4194304;function Vu(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function hp(p,m){var w=p.pendingLanes;if(w===0)return 0;var M=0,L=p.suspendedLanes,V=p.pingedLanes,oe=w&268435455;if(oe!==0){var pe=oe&~L;pe!==0?M=Vu(pe):(V&=oe,V!==0&&(M=Vu(V)))}else oe=w&~L,oe!==0?M=Vu(oe):V!==0&&(M=Vu(V));if(M===0)return 0;if(m!==0&&m!==M&&!(m&L)&&(L=M&-M,V=m&-m,L>=V||L===16&&(V&4194240)!==0))return m;if(M&4&&(M|=w&16),m=p.entangledLanes,m!==0)for(p=p.entanglements,m&=M;0<m;)w=31-ko(m),L=1<<w,M|=p[w],m&=~L;return M}function vE(p,m){switch(p){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yE(p,m){for(var w=p.suspendedLanes,M=p.pingedLanes,L=p.expirationTimes,V=p.pendingLanes;0<V;){var oe=31-ko(V),pe=1<<oe,Fe=L[oe];Fe===-1?(!(pe&w)||pe&M)&&(L[oe]=vE(pe,m)):Fe<=m&&(p.expiredLanes|=pe),V&=~pe}}function wf(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function yg(p){for(var m=[],w=0;31>w;w++)m.push(p);return m}function Sf(p,m,w){p.pendingLanes|=m,m!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,m=31-ko(m),p[m]=w}function xE(p,m){var w=p.pendingLanes&~m;p.pendingLanes=m,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=m,p.mutableReadLanes&=m,p.entangledLanes&=m,m=p.entanglements;var M=p.eventTimes;for(p=p.expirationTimes;0<w;){var L=31-ko(w),V=1<<L;m[L]=0,M[L]=-1,p[L]=-1,w&=~V}}function Uu(p,m){var w=p.entangledLanes|=m;for(p=p.entanglements;w;){var M=31-ko(w),L=1<<M;L&m|p[M]&m&&(p[M]|=m),w&=~L}}var hn=0;function pp(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var Af=i.unstable_scheduleCallback,kx=i.unstable_cancelCallback,Rx=i.unstable_shouldYield,xg=i.unstable_requestPaint,Qr=i.unstable_now,Za=i.unstable_ImmediatePriority,Ef=i.unstable_UserBlockingPriority,_g=i.unstable_NormalPriority,Px=i.unstable_IdlePriority,mp=null,Ro=null;function _E(p){if(Ro&&typeof Ro.onCommitFiberRoot=="function")try{Ro.onCommitFiberRoot(mp,p,void 0,(p.current.flags&128)===128)}catch{}}function bE(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var Po=typeof Object.is=="function"?Object.is:bE,Ja=null,re=!1,de=!1;function Pe(p){Ja===null?Ja=[p]:Ja.push(p)}function pt(p){re=!0,Pe(p)}function Ht(){if(!de&&Ja!==null){de=!0;var p=0,m=hn;try{var w=Ja;for(hn=1;p<w.length;p++){var M=w[p];do M=M(!0);while(M!==null)}Ja=null,re=!1}catch(L){throw Ja!==null&&(Ja=Ja.slice(p+1)),Af(Za,Ht),L}finally{hn=m,de=!1}}return null}var Wn=a.ReactCurrentBatchConfig;function jn(p,m){if(Po(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var w=Object.keys(p),M=Object.keys(m);if(w.length!==M.length)return!1;for(M=0;M<w.length;M++){var L=w[M];if(!Jr.call(m,L)||!Po(p[L],m[L]))return!1}return!0}function un(p){switch(p.tag){case 5:return Gt(p.type);case 16:return Gt("Lazy");case 13:return Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 2:case 15:return p=Tn(p.type,!1),p;case 11:return p=Tn(p.type.render,!1),p;case 1:return p=Tn(p.type,!0),p;default:return""}}function pn(p,m){if(p&&p.defaultProps){m=s({},m),p=p.defaultProps;for(var w in p)m[w]===void 0&&(m[w]=p[w]);return m}return m}var Yi=Ii(null),Oi=null,fa=null,Mf=null;function Cf(){Mf=fa=Oi=null}function bg(p,m,w){Oe?(nn(Yi,m._currentValue),m._currentValue=w):(nn(Yi,m._currentValue2),m._currentValue2=w)}function wE(p){var m=Yi.current;zt(Yi),Oe?p._currentValue=m:p._currentValue2=m}function SE(p,m,w){for(;p!==null;){var M=p.alternate;if((p.childLanes&m)!==m?(p.childLanes|=m,M!==null&&(M.childLanes|=m)):M!==null&&(M.childLanes&m)!==m&&(M.childLanes|=m),p===w)break;p=p.return}}function gp(p,m){Oi=p,Mf=fa=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&m&&(Oo=!0),p.firstContext=null)}function ha(p){var m=Oe?p._currentValue:p._currentValue2;if(Mf!==p)if(p={context:p,memoizedValue:m,next:null},fa===null){if(Oi===null)throw Error(o(308));fa=p,Oi.dependencies={lanes:0,firstContext:p}}else fa=fa.next=p;return m}var Ul=null,Hu=!1;function AE(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yL(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Lc(p,m){return{eventTime:p,lane:m,tag:0,payload:null,callback:null,next:null}}function Gu(p,m){var w=p.updateQueue;w!==null&&(w=w.shared,ui!==null&&p.mode&1&&!(on&2)?(p=w.interleaved,p===null?(m.next=m,Ul===null?Ul=[w]:Ul.push(w)):(m.next=p.next,p.next=m),w.interleaved=m):(p=w.pending,p===null?m.next=m:(m.next=p.next,p.next=m),w.pending=m))}function Ix(p,m,w){if(m=m.updateQueue,m!==null&&(m=m.shared,(w&4194240)!==0)){var M=m.lanes;M&=p.pendingLanes,w|=M,m.lanes=w,Uu(p,w)}}function xL(p,m){var w=p.updateQueue,M=p.alternate;if(M!==null&&(M=M.updateQueue,w===M)){var L=null,V=null;if(w=w.firstBaseUpdate,w!==null){do{var oe={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};V===null?L=V=oe:V=V.next=oe,w=w.next}while(w!==null);V===null?L=V=m:V=V.next=m}else L=V=m;w={baseState:M.baseState,firstBaseUpdate:L,lastBaseUpdate:V,shared:M.shared,effects:M.effects},p.updateQueue=w;return}p=w.lastBaseUpdate,p===null?w.firstBaseUpdate=m:p.next=m,w.lastBaseUpdate=m}function Lx(p,m,w,M){var L=p.updateQueue;Hu=!1;var V=L.firstBaseUpdate,oe=L.lastBaseUpdate,pe=L.shared.pending;if(pe!==null){L.shared.pending=null;var Fe=pe,Qe=Fe.next;Fe.next=null,oe===null?V=Qe:oe.next=Qe,oe=Fe;var yt=p.alternate;yt!==null&&(yt=yt.updateQueue,pe=yt.lastBaseUpdate,pe!==oe&&(pe===null?yt.firstBaseUpdate=Qe:pe.next=Qe,yt.lastBaseUpdate=Fe))}if(V!==null){var Yt=L.baseState;oe=0,yt=Qe=Fe=null,pe=V;do{var Lt=pe.lane,sr=pe.eventTime;if((M&Lt)===Lt){yt!==null&&(yt=yt.next={eventTime:sr,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var Rt=p,gs=pe;switch(Lt=m,sr=w,gs.tag){case 1:if(Rt=gs.payload,typeof Rt=="function"){Yt=Rt.call(sr,Yt,Lt);break e}Yt=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=gs.payload,Lt=typeof Rt=="function"?Rt.call(sr,Yt,Lt):Rt,Lt==null)break e;Yt=s({},Yt,Lt);break e;case 2:Hu=!0}}pe.callback!==null&&pe.lane!==0&&(p.flags|=64,Lt=L.effects,Lt===null?L.effects=[pe]:Lt.push(pe))}else sr={eventTime:sr,lane:Lt,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},yt===null?(Qe=yt=sr,Fe=Yt):yt=yt.next=sr,oe|=Lt;if(pe=pe.next,pe===null){if(pe=L.shared.pending,pe===null)break;Lt=pe,pe=Lt.next,Lt.next=null,L.lastBaseUpdate=Lt,L.shared.pending=null}}while(1);if(yt===null&&(Fe=Yt),L.baseState=Fe,L.firstBaseUpdate=Qe,L.lastBaseUpdate=yt,m=L.shared.interleaved,m!==null){L=m;do oe|=L.lane,L=L.next;while(L!==m)}else V===null&&(L.shared.lanes=0);Ep|=oe,p.lanes=oe,p.memoizedState=Yt}}function _L(p,m,w){if(p=m.effects,m.effects=null,p!==null)for(m=0;m<p.length;m++){var M=p[m],L=M.callback;if(L!==null){if(M.callback=null,M=w,typeof L!="function")throw Error(o(191,L));L.call(M)}}}var bL=new r.Component().refs;function EE(p,m,w,M){m=p.memoizedState,w=w(M,m),w=w==null?m:s({},m,w),p.memoizedState=w,p.lanes===0&&(p.updateQueue.baseState=w)}var Ox={isMounted:function(p){return(p=p._reactInternals)?O(p)===p:!1},enqueueSetState:function(p,m,w){p=p._reactInternals;var M=Fs(),L=ju(p),V=Lc(M,L);V.payload=m,w!=null&&(V.callback=w),Gu(p,V),m=ya(p,L,M),m!==null&&Ix(m,p,L)},enqueueReplaceState:function(p,m,w){p=p._reactInternals;var M=Fs(),L=ju(p),V=Lc(M,L);V.tag=1,V.payload=m,w!=null&&(V.callback=w),Gu(p,V),m=ya(p,L,M),m!==null&&Ix(m,p,L)},enqueueForceUpdate:function(p,m){p=p._reactInternals;var w=Fs(),M=ju(p),L=Lc(w,M);L.tag=2,m!=null&&(L.callback=m),Gu(p,L),m=ya(p,M,w),m!==null&&Ix(m,p,M)}};function wL(p,m,w,M,L,V,oe){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(M,V,oe):m.prototype&&m.prototype.isPureReactComponent?!jn(w,M)||!jn(L,V):!0}function SL(p,m,w){var M=!1,L=Li,V=m.contextType;return typeof V=="object"&&V!==null?V=ha(V):(L=fs(m)?Xa:fn.current,M=m.contextTypes,V=(M=M!=null)?Ka(p,L):Li),m=new m(w,V),p.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ox,p.stateNode=m,m._reactInternals=p,M&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=L,p.__reactInternalMemoizedMaskedChildContext=V),m}function AL(p,m,w,M){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(w,M),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(w,M),m.state!==p&&Ox.enqueueReplaceState(m,m.state,null)}function ME(p,m,w,M){var L=p.stateNode;L.props=w,L.state=p.memoizedState,L.refs=bL,AE(p);var V=m.contextType;typeof V=="object"&&V!==null?L.context=ha(V):(V=fs(m)?Xa:fn.current,L.context=Ka(p,V)),L.state=p.memoizedState,V=m.getDerivedStateFromProps,typeof V=="function"&&(EE(p,m,V,w),L.state=p.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(m=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),m!==L.state&&Ox.enqueueReplaceState(L,L.state,null),Lx(p,w,L,M),L.state=p.memoizedState),typeof L.componentDidMount=="function"&&(p.flags|=4194308)}var vp=[],yp=0,Nx=null,Dx=0,pa=[],ma=0,Tf=null,Oc=1,Nc="";function kf(p,m){vp[yp++]=Dx,vp[yp++]=Nx,Nx=p,Dx=m}function EL(p,m,w){pa[ma++]=Oc,pa[ma++]=Nc,pa[ma++]=Tf,Tf=p;var M=Oc;p=Nc;var L=32-ko(M)-1;M&=~(1<<L),w+=1;var V=32-ko(m)+L;if(30<V){var oe=L-L%5;V=(M&(1<<oe)-1).toString(32),M>>=oe,L-=oe,Oc=1<<32-ko(m)+L|w<<L|M,Nc=V+p}else Oc=1<<V|w<<L|M,Nc=p}function CE(p){p.return!==null&&(kf(p,1),EL(p,1,0))}function TE(p){for(;p===Nx;)Nx=vp[--yp],vp[yp]=null,Dx=vp[--yp],vp[yp]=null;for(;p===Tf;)Tf=pa[--ma],pa[ma]=null,Nc=pa[--ma],pa[ma]=null,Oc=pa[--ma],pa[ma]=null}var Io=null,Lo=null,wr=!1,wg=!1,Qa=null;function ML(p,m){var w=xa(5,null,null,0);w.elementType="DELETED",w.stateNode=m,w.return=p,m=p.deletions,m===null?(p.deletions=[w],p.flags|=16):m.push(w)}function CL(p,m){switch(p.tag){case 5:return m=Qt(m,p.type,p.pendingProps),m!==null?(p.stateNode=m,Io=p,Lo=ke(m),!0):!1;case 6:return m=Ln(m,p.pendingProps),m!==null?(p.stateNode=m,Io=p,Lo=null,!0):!1;case 13:if(m=To(m),m!==null){var w=Tf!==null?{id:Oc,overflow:Nc}:null;return p.memoizedState={dehydrated:m,treeContext:w,retryLane:1073741824},w=xa(18,null,null,0),w.stateNode=m,w.return=p,p.child=w,Io=p,Lo=null,!0}return!1;default:return!1}}function kE(p){return(p.mode&1)!==0&&(p.flags&128)===0}function RE(p){if(wr){var m=Lo;if(m){var w=m;if(!CL(p,m)){if(kE(p))throw Error(o(418));m=he(w);var M=Io;m&&CL(p,m)?ML(M,w):(p.flags=p.flags&-4097|2,wr=!1,Io=p)}}else{if(kE(p))throw Error(o(418));p.flags=p.flags&-4097|2,wr=!1,Io=p}}}function TL(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Io=p}function Sg(p){if(!ee||p!==Io)return!1;if(!wr)return TL(p),wr=!0,!1;if(p.tag!==3&&(p.tag!==5||li(p.type)&&!z(p.type,p.memoizedProps))){var m=Lo;if(m){if(kE(p)){for(p=Lo;p;)p=he(p);throw Error(o(418))}for(;m;)ML(p,m),m=he(m)}}if(TL(p),p.tag===13){if(!ee)throw Error(o(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));Lo=ut(p)}else Lo=Io?he(p.stateNode):null;return!0}function xp(){ee&&(Lo=Io=null,wg=wr=!1)}function PE(p){Qa===null?Qa=[p]:Qa.push(p)}function Ag(p,m,w){if(p=w.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var M=w.stateNode}if(!M)throw Error(o(147,p));var L=M,V=""+p;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===V?m.ref:(m=function(oe){var pe=L.refs;pe===bL&&(pe=L.refs={}),oe===null?delete pe[V]:pe[V]=oe},m._stringRef=V,m)}if(typeof p!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,p))}return p}function Bx(p,m){throw p=Object.prototype.toString.call(m),Error(o(31,p==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":p))}function kL(p){var m=p._init;return m(p._payload)}function RL(p){function m(Te,ye){if(p){var De=Te.deletions;De===null?(Te.deletions=[ye],Te.flags|=16):De.push(ye)}}function w(Te,ye){if(!p)return null;for(;ye!==null;)m(Te,ye),ye=ye.sibling;return null}function M(Te,ye){for(Te=new Map;ye!==null;)ye.key!==null?Te.set(ye.key,ye):Te.set(ye.index,ye),ye=ye.sibling;return Te}function L(Te,ye){return Te=Yu(Te,ye),Te.index=0,Te.sibling=null,Te}function V(Te,ye,De){return Te.index=De,p?(De=Te.alternate,De!==null?(De=De.index,De<ye?(Te.flags|=2,ye):De):(Te.flags|=2,ye)):(Te.flags|=1048576,ye)}function oe(Te){return p&&Te.alternate===null&&(Te.flags|=2),Te}function pe(Te,ye,De,dt){return ye===null||ye.tag!==6?(ye=pM(De,Te.mode,dt),ye.return=Te,ye):(ye=L(ye,De),ye.return=Te,ye)}function Fe(Te,ye,De,dt){var Tt=De.type;return Tt===d?yt(Te,ye,De.props.children,dt,De.key):ye!==null&&(ye.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===b&&kL(Tt)===ye.type)?(dt=L(ye,De.props),dt.ref=Ag(Te,ye,De),dt.return=Te,dt):(dt=p_(De.type,De.key,De.props,null,Te.mode,dt),dt.ref=Ag(Te,ye,De),dt.return=Te,dt)}function Qe(Te,ye,De,dt){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==De.containerInfo||ye.stateNode.implementation!==De.implementation?(ye=mM(De,Te.mode,dt),ye.return=Te,ye):(ye=L(ye,De.children||[]),ye.return=Te,ye)}function yt(Te,ye,De,dt,Tt){return ye===null||ye.tag!==7?(ye=Df(De,Te.mode,dt,Tt),ye.return=Te,ye):(ye=L(ye,De),ye.return=Te,ye)}function Yt(Te,ye,De){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=pM(""+ye,Te.mode,De),ye.return=Te,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case l:return De=p_(ye.type,ye.key,ye.props,null,Te.mode,De),De.ref=Ag(Te,null,ye),De.return=Te,De;case c:return ye=mM(ye,Te.mode,De),ye.return=Te,ye;case b:var dt=ye._init;return Yt(Te,dt(ye._payload),De)}if(I(ye)||k(ye))return ye=Df(ye,Te.mode,De,null),ye.return=Te,ye;Bx(Te,ye)}return null}function Lt(Te,ye,De,dt){var Tt=ye!==null?ye.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Tt!==null?null:pe(Te,ye,""+De,dt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case l:return De.key===Tt?Fe(Te,ye,De,dt):null;case c:return De.key===Tt?Qe(Te,ye,De,dt):null;case b:return Tt=De._init,Lt(Te,ye,Tt(De._payload),dt)}if(I(De)||k(De))return Tt!==null?null:yt(Te,ye,De,dt,null);Bx(Te,De)}return null}function sr(Te,ye,De,dt,Tt){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return Te=Te.get(De)||null,pe(ye,Te,""+dt,Tt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case l:return Te=Te.get(dt.key===null?De:dt.key)||null,Fe(ye,Te,dt,Tt);case c:return Te=Te.get(dt.key===null?De:dt.key)||null,Qe(ye,Te,dt,Tt);case b:var rn=dt._init;return sr(Te,ye,De,rn(dt._payload),Tt)}if(I(dt)||k(dt))return Te=Te.get(De)||null,yt(ye,Te,dt,Tt,null);Bx(ye,dt)}return null}function Rt(Te,ye,De,dt){for(var Tt=null,rn=null,Xt=ye,Nn=ye=0,Di=null;Xt!==null&&Nn<De.length;Nn++){Xt.index>Nn?(Di=Xt,Xt=null):Di=Xt.sibling;var Dn=Lt(Te,Xt,De[Nn],dt);if(Dn===null){Xt===null&&(Xt=Di);break}p&&Xt&&Dn.alternate===null&&m(Te,Xt),ye=V(Dn,ye,Nn),rn===null?Tt=Dn:rn.sibling=Dn,rn=Dn,Xt=Di}if(Nn===De.length)return w(Te,Xt),wr&&kf(Te,Nn),Tt;if(Xt===null){for(;Nn<De.length;Nn++)Xt=Yt(Te,De[Nn],dt),Xt!==null&&(ye=V(Xt,ye,Nn),rn===null?Tt=Xt:rn.sibling=Xt,rn=Xt);return wr&&kf(Te,Nn),Tt}for(Xt=M(Te,Xt);Nn<De.length;Nn++)Di=sr(Xt,Te,Nn,De[Nn],dt),Di!==null&&(p&&Di.alternate!==null&&Xt.delete(Di.key===null?Nn:Di.key),ye=V(Di,ye,Nn),rn===null?Tt=Di:rn.sibling=Di,rn=Di);return p&&Xt.forEach(function(Xu){return m(Te,Xu)}),wr&&kf(Te,Nn),Tt}function gs(Te,ye,De,dt){var Tt=k(De);if(typeof Tt!="function")throw Error(o(150));if(De=Tt.call(De),De==null)throw Error(o(151));for(var rn=Tt=null,Xt=ye,Nn=ye=0,Di=null,Dn=De.next();Xt!==null&&!Dn.done;Nn++,Dn=De.next()){Xt.index>Nn?(Di=Xt,Xt=null):Di=Xt.sibling;var Xu=Lt(Te,Xt,Dn.value,dt);if(Xu===null){Xt===null&&(Xt=Di);break}p&&Xt&&Xu.alternate===null&&m(Te,Xt),ye=V(Xu,ye,Nn),rn===null?Tt=Xu:rn.sibling=Xu,rn=Xu,Xt=Di}if(Dn.done)return w(Te,Xt),wr&&kf(Te,Nn),Tt;if(Xt===null){for(;!Dn.done;Nn++,Dn=De.next())Dn=Yt(Te,Dn.value,dt),Dn!==null&&(ye=V(Dn,ye,Nn),rn===null?Tt=Dn:rn.sibling=Dn,rn=Dn);return wr&&kf(Te,Nn),Tt}for(Xt=M(Te,Xt);!Dn.done;Nn++,Dn=De.next())Dn=sr(Xt,Te,Nn,Dn.value,dt),Dn!==null&&(p&&Dn.alternate!==null&&Xt.delete(Dn.key===null?Nn:Dn.key),ye=V(Dn,ye,Nn),rn===null?Tt=Dn:rn.sibling=Dn,rn=Dn);return p&&Xt.forEach(function(WZ){return m(Te,WZ)}),wr&&kf(Te,Nn),Tt}function _a(Te,ye,De,dt){if(typeof De=="object"&&De!==null&&De.type===d&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case l:e:{for(var Tt=De.key,rn=ye;rn!==null;){if(rn.key===Tt){if(Tt=De.type,Tt===d){if(rn.tag===7){w(Te,rn.sibling),ye=L(rn,De.props.children),ye.return=Te,Te=ye;break e}}else if(rn.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===b&&kL(Tt)===rn.type){w(Te,rn.sibling),ye=L(rn,De.props),ye.ref=Ag(Te,rn,De),ye.return=Te,Te=ye;break e}w(Te,rn);break}else m(Te,rn);rn=rn.sibling}De.type===d?(ye=Df(De.props.children,Te.mode,dt,De.key),ye.return=Te,Te=ye):(dt=p_(De.type,De.key,De.props,null,Te.mode,dt),dt.ref=Ag(Te,ye,De),dt.return=Te,Te=dt)}return oe(Te);case c:e:{for(rn=De.key;ye!==null;){if(ye.key===rn)if(ye.tag===4&&ye.stateNode.containerInfo===De.containerInfo&&ye.stateNode.implementation===De.implementation){w(Te,ye.sibling),ye=L(ye,De.children||[]),ye.return=Te,Te=ye;break e}else{w(Te,ye);break}else m(Te,ye);ye=ye.sibling}ye=mM(De,Te.mode,dt),ye.return=Te,Te=ye}return oe(Te);case b:return rn=De._init,_a(Te,ye,rn(De._payload),dt)}if(I(De))return Rt(Te,ye,De,dt);if(k(De))return gs(Te,ye,De,dt);Bx(Te,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,ye!==null&&ye.tag===6?(w(Te,ye.sibling),ye=L(ye,De),ye.return=Te,Te=ye):(w(Te,ye),ye=pM(De,Te.mode,dt),ye.return=Te,Te=ye),oe(Te)):w(Te,ye)}return _a}var _p=RL(!0),PL=RL(!1),Eg={},ga=Ii(Eg),Mg=Ii(Eg),bp=Ii(Eg);function Hl(p){if(p===Eg)throw Error(o(174));return p}function IE(p,m){nn(bp,m),nn(Mg,p),nn(ga,Eg),p=$(m),zt(ga),nn(ga,p)}function wp(){zt(ga),zt(Mg),zt(bp)}function IL(p){var m=Hl(bp.current),w=Hl(ga.current);m=N(w,p.type,m),w!==m&&(nn(Mg,p),nn(ga,m))}function LE(p){Mg.current===p&&(zt(ga),zt(Mg))}var kr=Ii(0);function Fx(p){for(var m=p;m!==null;){if(m.tag===13){var w=m.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||On(w)||Cn(w)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var OE=[];function NE(){for(var p=0;p<OE.length;p++){var m=OE[p];Oe?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}OE.length=0}var zx=a.ReactCurrentDispatcher,va=a.ReactCurrentBatchConfig,Sp=0,$r=null,hs=null,Ni=null,Vx=!1,Cg=!1,Tg=0,gZ=0;function ps(){throw Error(o(321))}function DE(p,m){if(m===null)return!1;for(var w=0;w<m.length&&w<p.length;w++)if(!Po(p[w],m[w]))return!1;return!0}function BE(p,m,w,M,L,V){if(Sp=V,$r=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,zx.current=p===null||p.memoizedState===null?_Z:bZ,p=w(M,L),Cg){V=0;do{if(Cg=!1,Tg=0,25<=V)throw Error(o(301));V+=1,Ni=hs=null,m.updateQueue=null,zx.current=wZ,p=w(M,L)}while(Cg)}if(zx.current=Wx,m=hs!==null&&hs.next!==null,Sp=0,Ni=hs=$r=null,Vx=!1,m)throw Error(o(300));return p}function FE(){var p=Tg!==0;return Tg=0,p}function Dc(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ni===null?$r.memoizedState=Ni=p:Ni=Ni.next=p,Ni}function Gl(){if(hs===null){var p=$r.alternate;p=p!==null?p.memoizedState:null}else p=hs.next;var m=Ni===null?$r.memoizedState:Ni.next;if(m!==null)Ni=m,hs=p;else{if(p===null)throw Error(o(310));hs=p,p={memoizedState:hs.memoizedState,baseState:hs.baseState,baseQueue:hs.baseQueue,queue:hs.queue,next:null},Ni===null?$r.memoizedState=Ni=p:Ni=Ni.next=p}return Ni}function Rf(p,m){return typeof m=="function"?m(p):m}function Ux(p){var m=Gl(),w=m.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=p;var M=hs,L=M.baseQueue,V=w.pending;if(V!==null){if(L!==null){var oe=L.next;L.next=V.next,V.next=oe}M.baseQueue=L=V,w.pending=null}if(L!==null){V=L.next,M=M.baseState;var pe=oe=null,Fe=null,Qe=V;do{var yt=Qe.lane;if((Sp&yt)===yt)Fe!==null&&(Fe=Fe.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),M=Qe.hasEagerState?Qe.eagerState:p(M,Qe.action);else{var Yt={lane:yt,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};Fe===null?(pe=Fe=Yt,oe=M):Fe=Fe.next=Yt,$r.lanes|=yt,Ep|=yt}Qe=Qe.next}while(Qe!==null&&Qe!==V);Fe===null?oe=M:Fe.next=pe,Po(M,m.memoizedState)||(Oo=!0),m.memoizedState=M,m.baseState=oe,m.baseQueue=Fe,w.lastRenderedState=M}if(p=w.interleaved,p!==null){L=p;do V=L.lane,$r.lanes|=V,Ep|=V,L=L.next;while(L!==p)}else L===null&&(w.lanes=0);return[m.memoizedState,w.dispatch]}function Hx(p){var m=Gl(),w=m.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=p;var M=w.dispatch,L=w.pending,V=m.memoizedState;if(L!==null){w.pending=null;var oe=L=L.next;do V=p(V,oe.action),oe=oe.next;while(oe!==L);Po(V,m.memoizedState)||(Oo=!0),m.memoizedState=V,m.baseQueue===null&&(m.baseState=V),w.lastRenderedState=V}return[V,M]}function LL(){}function OL(p,m){var w=$r,M=Gl(),L=m(),V=!Po(M.memoizedState,L);if(V&&(M.memoizedState=L,Oo=!0),M=M.queue,Rg(BL.bind(null,w,M,p),[p]),M.getSnapshot!==m||V||Ni!==null&&Ni.memoizedState.tag&1){if(w.flags|=2048,kg(9,DL.bind(null,w,M,L,m),void 0,null),ui===null)throw Error(o(349));Sp&30||NL(w,m,L)}return L}function NL(p,m,w){p.flags|=16384,p={getSnapshot:m,value:w},m=$r.updateQueue,m===null?(m={lastEffect:null,stores:null},$r.updateQueue=m,m.stores=[p]):(w=m.stores,w===null?m.stores=[p]:w.push(p))}function DL(p,m,w,M){m.value=w,m.getSnapshot=M,FL(m)&&ya(p,1,-1)}function BL(p,m,w){return w(function(){FL(m)&&ya(p,1,-1)})}function FL(p){var m=p.getSnapshot;p=p.value;try{var w=m();return!Po(p,w)}catch{return!0}}function zE(p){var m=Dc();return typeof p=="function"&&(p=p()),m.memoizedState=m.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:p},m.queue=p,p=p.dispatch=xZ.bind(null,$r,p),[m.memoizedState,p]}function kg(p,m,w,M){return p={tag:p,create:m,destroy:w,deps:M,next:null},m=$r.updateQueue,m===null?(m={lastEffect:null,stores:null},$r.updateQueue=m,m.lastEffect=p.next=p):(w=m.lastEffect,w===null?m.lastEffect=p.next=p:(M=w.next,w.next=p,p.next=M,m.lastEffect=p)),p}function zL(){return Gl().memoizedState}function Gx(p,m,w,M){var L=Dc();$r.flags|=p,L.memoizedState=kg(1|m,w,void 0,M===void 0?null:M)}function $x(p,m,w,M){var L=Gl();M=M===void 0?null:M;var V=void 0;if(hs!==null){var oe=hs.memoizedState;if(V=oe.destroy,M!==null&&DE(M,oe.deps)){L.memoizedState=kg(m,w,V,M);return}}$r.flags|=p,L.memoizedState=kg(1|m,w,V,M)}function VE(p,m){return Gx(8390656,8,p,m)}function Rg(p,m){return $x(2048,8,p,m)}function VL(p,m){return $x(4,2,p,m)}function UL(p,m){return $x(4,4,p,m)}function HL(p,m){if(typeof m=="function")return p=p(),m(p),function(){m(null)};if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function GL(p,m,w){return w=w!=null?w.concat([p]):null,$x(4,4,HL.bind(null,m,p),w)}function UE(){}function $L(p,m){var w=Gl();m=m===void 0?null:m;var M=w.memoizedState;return M!==null&&m!==null&&DE(m,M[1])?M[0]:(w.memoizedState=[p,m],p)}function WL(p,m){var w=Gl();m=m===void 0?null:m;var M=w.memoizedState;return M!==null&&m!==null&&DE(m,M[1])?M[0]:(p=p(),w.memoizedState=[p,m],p)}function vZ(p,m){var w=hn;hn=w!==0&&4>w?w:4,p(!0);var M=va.transition;va.transition={};try{p(!1),m()}finally{hn=w,va.transition=M}}function jL(){return Gl().memoizedState}function yZ(p,m,w){var M=ju(p);w={lane:M,action:w,hasEagerState:!1,eagerState:null,next:null},qL(p)?YL(m,w):(XL(p,m,w),w=Fs(),p=ya(p,M,w),p!==null&&KL(p,m,M))}function xZ(p,m,w){var M=ju(p),L={lane:M,action:w,hasEagerState:!1,eagerState:null,next:null};if(qL(p))YL(m,L);else{XL(p,m,L);var V=p.alternate;if(p.lanes===0&&(V===null||V.lanes===0)&&(V=m.lastRenderedReducer,V!==null))try{var oe=m.lastRenderedState,pe=V(oe,w);if(L.hasEagerState=!0,L.eagerState=pe,Po(pe,oe))return}catch{}finally{}w=Fs(),p=ya(p,M,w),p!==null&&KL(p,m,M)}}function qL(p){var m=p.alternate;return p===$r||m!==null&&m===$r}function YL(p,m){Cg=Vx=!0;var w=p.pending;w===null?m.next=m:(m.next=w.next,w.next=m),p.pending=m}function XL(p,m,w){ui!==null&&p.mode&1&&!(on&2)?(p=m.interleaved,p===null?(w.next=w,Ul===null?Ul=[m]:Ul.push(m)):(w.next=p.next,p.next=w),m.interleaved=w):(p=m.pending,p===null?w.next=w:(w.next=p.next,p.next=w),m.pending=w)}function KL(p,m,w){if(w&4194240){var M=m.lanes;M&=p.pendingLanes,w|=M,m.lanes=w,Uu(p,w)}}var Wx={readContext:ha,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},_Z={readContext:ha,useCallback:function(p,m){return Dc().memoizedState=[p,m===void 0?null:m],p},useContext:ha,useEffect:VE,useImperativeHandle:function(p,m,w){return w=w!=null?w.concat([p]):null,Gx(4194308,4,HL.bind(null,m,p),w)},useLayoutEffect:function(p,m){return Gx(4194308,4,p,m)},useInsertionEffect:function(p,m){return Gx(4,2,p,m)},useMemo:function(p,m){var w=Dc();return m=m===void 0?null:m,p=p(),w.memoizedState=[p,m],p},useReducer:function(p,m,w){var M=Dc();return m=w!==void 0?w(m):m,M.memoizedState=M.baseState=m,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:m},M.queue=p,p=p.dispatch=yZ.bind(null,$r,p),[M.memoizedState,p]},useRef:function(p){var m=Dc();return p={current:p},m.memoizedState=p},useState:zE,useDebugValue:UE,useDeferredValue:function(p){var m=zE(p),w=m[0],M=m[1];return VE(function(){var L=va.transition;va.transition={};try{M(p)}finally{va.transition=L}},[p]),w},useTransition:function(){var p=zE(!1),m=p[0];return p=vZ.bind(null,p[1]),Dc().memoizedState=p,[m,p]},useMutableSource:function(){},useSyncExternalStore:function(p,m,w){var M=$r,L=Dc();if(wr){if(w===void 0)throw Error(o(407));w=w()}else{if(w=m(),ui===null)throw Error(o(349));Sp&30||NL(M,m,w)}L.memoizedState=w;var V={value:w,getSnapshot:m};return L.queue=V,VE(BL.bind(null,M,V,p),[p]),M.flags|=2048,kg(9,DL.bind(null,M,V,w,m),void 0,null),w},useId:function(){var p=Dc(),m=ui.identifierPrefix;if(wr){var w=Nc,M=Oc;w=(M&~(1<<32-ko(M)-1)).toString(32)+w,m=":"+m+"R"+w,w=Tg++,0<w&&(m+="H"+w.toString(32)),m+=":"}else w=gZ++,m=":"+m+"r"+w.toString(32)+":";return p.memoizedState=m},unstable_isNewReconciler:!1},bZ={readContext:ha,useCallback:$L,useContext:ha,useEffect:Rg,useImperativeHandle:GL,useInsertionEffect:VL,useLayoutEffect:UL,useMemo:WL,useReducer:Ux,useRef:zL,useState:function(){return Ux(Rf)},useDebugValue:UE,useDeferredValue:function(p){var m=Ux(Rf),w=m[0],M=m[1];return Rg(function(){var L=va.transition;va.transition={};try{M(p)}finally{va.transition=L}},[p]),w},useTransition:function(){var p=Ux(Rf)[0],m=Gl().memoizedState;return[p,m]},useMutableSource:LL,useSyncExternalStore:OL,useId:jL,unstable_isNewReconciler:!1},wZ={readContext:ha,useCallback:$L,useContext:ha,useEffect:Rg,useImperativeHandle:GL,useInsertionEffect:VL,useLayoutEffect:UL,useMemo:WL,useReducer:Hx,useRef:zL,useState:function(){return Hx(Rf)},useDebugValue:UE,useDeferredValue:function(p){var m=Hx(Rf),w=m[0],M=m[1];return Rg(function(){var L=va.transition;va.transition={};try{M(p)}finally{va.transition=L}},[p]),w},useTransition:function(){var p=Hx(Rf)[0],m=Gl().memoizedState;return[p,m]},useMutableSource:LL,useSyncExternalStore:OL,useId:jL,unstable_isNewReconciler:!1};function HE(p,m){try{var w="",M=m;do w+=un(M),M=M.return;while(M);var L=w}catch(V){L=`
Error generating stack: `+V.message+`
`+V.stack}return{value:p,source:m,stack:L}}function GE(p,m){try{console.error(m.value)}catch(w){setTimeout(function(){throw w})}}var SZ=typeof WeakMap=="function"?WeakMap:Map;function ZL(p,m,w){w=Lc(-1,w),w.tag=3,w.payload={element:null};var M=m.value;return w.callback=function(){a_||(a_=!0,aM=M),GE(p,m)},w}function JL(p,m,w){w=Lc(-1,w),w.tag=3;var M=p.type.getDerivedStateFromError;if(typeof M=="function"){var L=m.value;w.payload=function(){return M(L)},w.callback=function(){GE(p,m)}}var V=p.stateNode;return V!==null&&typeof V.componentDidCatch=="function"&&(w.callback=function(){GE(p,m),typeof M!="function"&&($u===null?$u=new Set([this]):$u.add(this));var oe=m.stack;this.componentDidCatch(m.value,{componentStack:oe!==null?oe:""})}),w}function QL(p,m,w){var M=p.pingCache;if(M===null){M=p.pingCache=new SZ;var L=new Set;M.set(m,L)}else L=M.get(m),L===void 0&&(L=new Set,M.set(m,L));L.has(w)||(L.add(w),p=BZ.bind(null,p,m,w),m.then(p,p))}function eO(p){do{var m;if((m=p.tag===13)&&(m=p.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return p;p=p.return}while(p!==null);return null}function tO(p,m,w,M,L){return p.mode&1?(p.flags|=65536,p.lanes=L,p):(p===m?p.flags|=65536:(p.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(m=Lc(-1,1),m.tag=2,Gu(w,m))),w.lanes|=1),p)}function $l(p){p.flags|=4}function nO(p,m){if(p!==null&&p.child===m.child)return!0;if(m.flags&16)return!1;for(p=m.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var Pg,Ig,jx,qx;if(Me)Pg=function(p,m){for(var w=m.child;w!==null;){if(w.tag===5||w.tag===6)R(p,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===m)break;for(;w.sibling===null;){if(w.return===null||w.return===m)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Ig=function(){},jx=function(p,m,w,M,L){if(p=p.memoizedProps,p!==M){var V=m.stateNode,oe=Hl(ga.current);w=Ae(V,w,p,M,L,oe),(m.updateQueue=w)&&$l(m)}},qx=function(p,m,w,M){w!==M&&$l(m)};else if(X){Pg=function(p,m,w,M){for(var L=m.child;L!==null;){if(L.tag===5){var V=L.stateNode;w&&M&&(V=jt(V,L.type,L.memoizedProps,L)),R(p,V)}else if(L.tag===6)V=L.stateNode,w&&M&&(V=no(V,L.memoizedProps,L)),R(p,V);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)V=L.child,V!==null&&(V.return=L),Pg(p,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===m)break;for(;L.sibling===null;){if(L.return===null||L.return===m)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};var rO=function(p,m,w,M){for(var L=m.child;L!==null;){if(L.tag===5){var V=L.stateNode;w&&M&&(V=jt(V,L.type,L.memoizedProps,L)),sn(p,V)}else if(L.tag===6)V=L.stateNode,w&&M&&(V=no(V,L.memoizedProps,L)),sn(p,V);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)V=L.child,V!==null&&(V.return=L),rO(p,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===m)break;for(;L.sibling===null;){if(L.return===null||L.return===m)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};Ig=function(p,m){var w=m.stateNode;if(!nO(p,m)){p=w.containerInfo;var M=Ct(p);rO(M,m,!1,!1),w.pendingChildren=M,$l(m),Sn(p,M)}},jx=function(p,m,w,M,L){var V=p.stateNode,oe=p.memoizedProps;if((p=nO(p,m))&&oe===M)m.stateNode=V;else{var pe=m.stateNode,Fe=Hl(ga.current),Qe=null;oe!==M&&(Qe=Ae(pe,w,oe,M,L,Fe)),p&&Qe===null?m.stateNode=V:(V=Hn(V,Qe,w,oe,M,m,p,pe),Y(V,w,M,L,Fe)&&$l(m),m.stateNode=V,p?$l(m):Pg(V,m,!1,!1))}},qx=function(p,m,w,M){w!==M?(p=Hl(bp.current),w=Hl(ga.current),m.stateNode=Q(M,p,w,m),$l(m)):m.stateNode=p.stateNode}}else Ig=function(){},jx=function(){},qx=function(){};function Lg(p,m){if(!wr)switch(p.tailMode){case"hidden":m=p.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?p.tail=null:w.sibling=null;break;case"collapsed":w=p.tail;for(var M=null;w!==null;)w.alternate!==null&&(M=w),w=w.sibling;M===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:M.sibling=null}}function ms(p){var m=p.alternate!==null&&p.alternate.child===p.child,w=0,M=0;if(m)for(var L=p.child;L!==null;)w|=L.lanes|L.childLanes,M|=L.subtreeFlags&14680064,M|=L.flags&14680064,L.return=p,L=L.sibling;else for(L=p.child;L!==null;)w|=L.lanes|L.childLanes,M|=L.subtreeFlags,M|=L.flags,L.return=p,L=L.sibling;return p.subtreeFlags|=M,p.childLanes=w,m}function AZ(p,m,w){var M=m.pendingProps;switch(TE(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ms(m),null;case 1:return fs(m.type)&&cp(),ms(m),null;case 3:return M=m.stateNode,wp(),zt(ci),zt(fn),NE(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(p===null||p.child===null)&&(Sg(m)?$l(m):p===null||p.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,Qa!==null&&(uM(Qa),Qa=null))),Ig(p,m),ms(m),null;case 5:LE(m),w=Hl(bp.current);var L=m.type;if(p!==null&&m.stateNode!=null)jx(p,m,L,M,w),p.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!M){if(m.stateNode===null)throw Error(o(166));return ms(m),null}if(p=Hl(ga.current),Sg(m)){if(!ee)throw Error(o(175));p=it(m.stateNode,m.type,m.memoizedProps,w,p,m,!wg),m.updateQueue=p,p!==null&&$l(m)}else{var V=W(L,M,w,p,m);Pg(V,m,!1,!1),m.stateNode=V,Y(V,L,M,w,p)&&$l(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return ms(m),null;case 6:if(p&&m.stateNode!=null)qx(p,m,p.memoizedProps,M);else{if(typeof M!="string"&&m.stateNode===null)throw Error(o(166));if(p=Hl(bp.current),w=Hl(ga.current),Sg(m)){if(!ee)throw Error(o(176));if(p=m.stateNode,M=m.memoizedProps,(w=Pt(p,M,m,!wg))&&(L=Io,L!==null))switch(V=(L.mode&1)!==0,L.tag){case 3:us(L.stateNode.containerInfo,p,M,V);break;case 5:ro(L.type,L.memoizedProps,L.stateNode,p,M,V)}w&&$l(m)}else m.stateNode=Q(M,p,w,m)}return ms(m),null;case 13:if(zt(kr),M=m.memoizedState,wr&&Lo!==null&&m.mode&1&&!(m.flags&128)){for(p=Lo;p;)p=he(p);return xp(),m.flags|=98560,m}if(M!==null&&M.dehydrated!==null){if(M=Sg(m),p===null){if(!M)throw Error(o(318));if(!ee)throw Error(o(344));if(p=m.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));ct(p,m)}else xp(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return ms(m),null}return Qa!==null&&(uM(Qa),Qa=null),m.flags&128?(m.lanes=w,m):(M=M!==null,w=!1,p===null?Sg(m):w=p.memoizedState!==null,M&&!w&&(m.child.flags|=8192,m.mode&1&&(p===null||kr.current&1?wi===0&&(wi=3):fM())),m.updateQueue!==null&&(m.flags|=4),ms(m),null);case 4:return wp(),Ig(p,m),p===null&&fe(m.stateNode.containerInfo),ms(m),null;case 10:return wE(m.type._context),ms(m),null;case 17:return fs(m.type)&&cp(),ms(m),null;case 19:if(zt(kr),L=m.memoizedState,L===null)return ms(m),null;if(M=(m.flags&128)!==0,V=L.rendering,V===null)if(M)Lg(L,!1);else{if(wi!==0||p!==null&&p.flags&128)for(p=m.child;p!==null;){if(V=Fx(p),V!==null){for(m.flags|=128,Lg(L,!1),p=V.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),m.subtreeFlags=0,p=w,M=m.child;M!==null;)w=M,L=p,w.flags&=14680066,V=w.alternate,V===null?(w.childLanes=0,w.lanes=L,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=V.childLanes,w.lanes=V.lanes,w.child=V.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=V.memoizedProps,w.memoizedState=V.memoizedState,w.updateQueue=V.updateQueue,w.type=V.type,L=V.dependencies,w.dependencies=L===null?null:{lanes:L.lanes,firstContext:L.firstContext}),M=M.sibling;return nn(kr,kr.current&1|2),m.child}p=p.sibling}L.tail!==null&&Qr()>oM&&(m.flags|=128,M=!0,Lg(L,!1),m.lanes=4194304)}else{if(!M)if(p=Fx(V),p!==null){if(m.flags|=128,M=!0,p=p.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),Lg(L,!0),L.tail===null&&L.tailMode==="hidden"&&!V.alternate&&!wr)return ms(m),null}else 2*Qr()-L.renderingStartTime>oM&&w!==1073741824&&(m.flags|=128,M=!0,Lg(L,!1),m.lanes=4194304);L.isBackwards?(V.sibling=m.child,m.child=V):(p=L.last,p!==null?p.sibling=V:m.child=V,L.last=V)}return L.tail!==null?(m=L.tail,L.rendering=m,L.tail=m.sibling,L.renderingStartTime=Qr(),m.sibling=null,p=kr.current,nn(kr,M?p&1|2:p&1),m):(ms(m),null);case 22:case 23:return dM(),M=m.memoizedState!==null,p!==null&&p.memoizedState!==null!==M&&(m.flags|=8192),M&&m.mode&1?No&1073741824&&(ms(m),Me&&m.subtreeFlags&6&&(m.flags|=8192)):ms(m),null;case 24:return null;case 25:return null}throw Error(o(156,m.tag))}var EZ=a.ReactCurrentOwner,Oo=!1;function Bs(p,m,w,M){m.child=p===null?PL(m,null,w,M):_p(m,p.child,w,M)}function iO(p,m,w,M,L){w=w.render;var V=m.ref;return gp(m,L),M=BE(p,m,w,M,V,L),w=FE(),p!==null&&!Oo?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~L,Bc(p,m,L)):(wr&&w&&CE(m),m.flags|=1,Bs(p,m,M,L),m.child)}function sO(p,m,w,M,L){if(p===null){var V=w.type;return typeof V=="function"&&!hM(V)&&V.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(m.tag=15,m.type=V,oO(p,m,V,M,L)):(p=p_(w.type,null,M,m,m.mode,L),p.ref=m.ref,p.return=m,m.child=p)}if(V=p.child,!(p.lanes&L)){var oe=V.memoizedProps;if(w=w.compare,w=w!==null?w:jn,w(oe,M)&&p.ref===m.ref)return Bc(p,m,L)}return m.flags|=1,p=Yu(V,M),p.ref=m.ref,p.return=m,m.child=p}function oO(p,m,w,M,L){if(p!==null&&jn(p.memoizedProps,M)&&p.ref===m.ref)if(Oo=!1,(p.lanes&L)!==0)p.flags&131072&&(Oo=!0);else return m.lanes=p.lanes,Bc(p,m,L);return $E(p,m,w,M,L)}function aO(p,m,w){var M=m.pendingProps,L=M.children,V=p!==null?p.memoizedState:null;if(M.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},nn(Ap,No),No|=w;else if(w&1073741824)m.memoizedState={baseLanes:0,cachePool:null},M=V!==null?V.baseLanes:w,nn(Ap,No),No|=M;else return p=V!==null?V.baseLanes|w:w,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:p,cachePool:null},m.updateQueue=null,nn(Ap,No),No|=p,null;else V!==null?(M=V.baseLanes|w,m.memoizedState=null):M=w,nn(Ap,No),No|=M;return Bs(p,m,L,w),m.child}function lO(p,m){var w=m.ref;(p===null&&w!==null||p!==null&&p.ref!==w)&&(m.flags|=512,m.flags|=2097152)}function $E(p,m,w,M,L){var V=fs(w)?Xa:fn.current;return V=Ka(m,V),gp(m,L),w=BE(p,m,w,M,V,L),M=FE(),p!==null&&!Oo?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~L,Bc(p,m,L)):(wr&&M&&CE(m),m.flags|=1,Bs(p,m,w,L),m.child)}function cO(p,m,w,M,L){if(fs(w)){var V=!0;Ic(m)}else V=!1;if(gp(m,L),m.stateNode===null)p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),SL(m,w,M),ME(m,w,M,L),M=!0;else if(p===null){var oe=m.stateNode,pe=m.memoizedProps;oe.props=pe;var Fe=oe.context,Qe=w.contextType;typeof Qe=="object"&&Qe!==null?Qe=ha(Qe):(Qe=fs(w)?Xa:fn.current,Qe=Ka(m,Qe));var yt=w.getDerivedStateFromProps,Yt=typeof yt=="function"||typeof oe.getSnapshotBeforeUpdate=="function";Yt||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(pe!==M||Fe!==Qe)&&AL(m,oe,M,Qe),Hu=!1;var Lt=m.memoizedState;oe.state=Lt,Lx(m,M,oe,L),Fe=m.memoizedState,pe!==M||Lt!==Fe||ci.current||Hu?(typeof yt=="function"&&(EE(m,w,yt,M),Fe=m.memoizedState),(pe=Hu||wL(m,w,pe,M,Lt,Fe,Qe))?(Yt||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount()),typeof oe.componentDidMount=="function"&&(m.flags|=4194308)):(typeof oe.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=M,m.memoizedState=Fe),oe.props=M,oe.state=Fe,oe.context=Qe,M=pe):(typeof oe.componentDidMount=="function"&&(m.flags|=4194308),M=!1)}else{oe=m.stateNode,yL(p,m),pe=m.memoizedProps,Qe=m.type===m.elementType?pe:pn(m.type,pe),oe.props=Qe,Yt=m.pendingProps,Lt=oe.context,Fe=w.contextType,typeof Fe=="object"&&Fe!==null?Fe=ha(Fe):(Fe=fs(w)?Xa:fn.current,Fe=Ka(m,Fe));var sr=w.getDerivedStateFromProps;(yt=typeof sr=="function"||typeof oe.getSnapshotBeforeUpdate=="function")||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(pe!==Yt||Lt!==Fe)&&AL(m,oe,M,Fe),Hu=!1,Lt=m.memoizedState,oe.state=Lt,Lx(m,M,oe,L);var Rt=m.memoizedState;pe!==Yt||Lt!==Rt||ci.current||Hu?(typeof sr=="function"&&(EE(m,w,sr,M),Rt=m.memoizedState),(Qe=Hu||wL(m,w,Qe,M,Lt,Rt,Fe)||!1)?(yt||typeof oe.UNSAFE_componentWillUpdate!="function"&&typeof oe.componentWillUpdate!="function"||(typeof oe.componentWillUpdate=="function"&&oe.componentWillUpdate(M,Rt,Fe),typeof oe.UNSAFE_componentWillUpdate=="function"&&oe.UNSAFE_componentWillUpdate(M,Rt,Fe)),typeof oe.componentDidUpdate=="function"&&(m.flags|=4),typeof oe.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof oe.componentDidUpdate!="function"||pe===p.memoizedProps&&Lt===p.memoizedState||(m.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||pe===p.memoizedProps&&Lt===p.memoizedState||(m.flags|=1024),m.memoizedProps=M,m.memoizedState=Rt),oe.props=M,oe.state=Rt,oe.context=Fe,M=Qe):(typeof oe.componentDidUpdate!="function"||pe===p.memoizedProps&&Lt===p.memoizedState||(m.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||pe===p.memoizedProps&&Lt===p.memoizedState||(m.flags|=1024),M=!1)}return WE(p,m,w,M,V,L)}function WE(p,m,w,M,L,V){lO(p,m);var oe=(m.flags&128)!==0;if(!M&&!oe)return L&&up(m,w,!1),Bc(p,m,V);M=m.stateNode,EZ.current=m;var pe=oe&&typeof w.getDerivedStateFromError!="function"?null:M.render();return m.flags|=1,p!==null&&oe?(m.child=_p(m,p.child,null,V),m.child=_p(m,null,pe,V)):Bs(p,m,pe,V),m.memoizedState=M.state,L&&up(m,w,!0),m.child}function uO(p){var m=p.stateNode;m.pendingContext?Mx(p,m.pendingContext,m.pendingContext!==m.context):m.context&&Mx(p,m.context,!1),IE(p,m.containerInfo)}function dO(p,m,w,M,L){return xp(),PE(L),m.flags|=256,Bs(p,m,w,M),m.child}var Yx={dehydrated:null,treeContext:null,retryLane:0};function Xx(p){return{baseLanes:p,cachePool:null}}function fO(p,m,w){var M=m.pendingProps,L=kr.current,V=!1,oe=(m.flags&128)!==0,pe;if((pe=oe)||(pe=p!==null&&p.memoizedState===null?!1:(L&2)!==0),pe?(V=!0,m.flags&=-129):(p===null||p.memoizedState!==null)&&(L|=1),nn(kr,L&1),p===null)return RE(m),p=m.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(m.mode&1?Cn(p)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(L=M.children,p=M.fallback,V?(M=m.mode,V=m.child,L={mode:"hidden",children:L},!(M&1)&&V!==null?(V.childLanes=0,V.pendingProps=L):V=m_(L,M,0,null),p=Df(p,M,w,null),V.return=m,p.return=m,V.sibling=p,m.child=V,m.child.memoizedState=Xx(w),m.memoizedState=Yx,p):jE(m,L));if(L=p.memoizedState,L!==null){if(pe=L.dehydrated,pe!==null){if(oe)return m.flags&256?(m.flags&=-257,Kx(p,m,w,Error(o(422)))):m.memoizedState!==null?(m.child=p.child,m.flags|=128,null):(V=M.fallback,L=m.mode,M=m_({mode:"visible",children:M.children},L,0,null),V=Df(V,L,w,null),V.flags|=2,M.return=m,V.return=m,M.sibling=V,m.child=M,m.mode&1&&_p(m,p.child,null,w),m.child.memoizedState=Xx(w),m.memoizedState=Yx,V);if(!(m.mode&1))m=Kx(p,m,w,null);else if(Cn(pe))m=Kx(p,m,w,Error(o(419)));else if(M=(w&p.childLanes)!==0,Oo||M){if(M=ui,M!==null){switch(w&-w){case 4:V=2;break;case 16:V=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:V=32;break;case 536870912:V=268435456;break;default:V=0}M=V&(M.suspendedLanes|w)?0:V,M!==0&&M!==L.retryLane&&(L.retryLane=M,ya(p,M,-1))}fM(),m=Kx(p,m,w,Error(o(421)))}else On(pe)?(m.flags|=128,m.child=p.child,m=FZ.bind(null,p),ne(pe,m),m=null):(w=L.treeContext,ee&&(Lo=Ie(pe),Io=m,wr=!0,Qa=null,wg=!1,w!==null&&(pa[ma++]=Oc,pa[ma++]=Nc,pa[ma++]=Tf,Oc=w.id,Nc=w.overflow,Tf=m)),m=jE(m,m.pendingProps.children),m.flags|=4096);return m}return V?(M=pO(p,m,M.children,M.fallback,w),V=m.child,L=p.child.memoizedState,V.memoizedState=L===null?Xx(w):{baseLanes:L.baseLanes|w,cachePool:null},V.childLanes=p.childLanes&~w,m.memoizedState=Yx,M):(w=hO(p,m,M.children,w),m.memoizedState=null,w)}return V?(M=pO(p,m,M.children,M.fallback,w),V=m.child,L=p.child.memoizedState,V.memoizedState=L===null?Xx(w):{baseLanes:L.baseLanes|w,cachePool:null},V.childLanes=p.childLanes&~w,m.memoizedState=Yx,M):(w=hO(p,m,M.children,w),m.memoizedState=null,w)}function jE(p,m){return m=m_({mode:"visible",children:m},p.mode,0,null),m.return=p,p.child=m}function hO(p,m,w,M){var L=p.child;return p=L.sibling,w=Yu(L,{mode:"visible",children:w}),!(m.mode&1)&&(w.lanes=M),w.return=m,w.sibling=null,p!==null&&(M=m.deletions,M===null?(m.deletions=[p],m.flags|=16):M.push(p)),m.child=w}function pO(p,m,w,M,L){var V=m.mode;p=p.child;var oe=p.sibling,pe={mode:"hidden",children:w};return!(V&1)&&m.child!==p?(w=m.child,w.childLanes=0,w.pendingProps=pe,m.deletions=null):(w=Yu(p,pe),w.subtreeFlags=p.subtreeFlags&14680064),oe!==null?M=Yu(oe,M):(M=Df(M,V,L,null),M.flags|=2),M.return=m,w.return=m,w.sibling=M,m.child=w,M}function Kx(p,m,w,M){return M!==null&&PE(M),_p(m,p.child,null,w),p=jE(m,m.pendingProps.children),p.flags|=2,m.memoizedState=null,p}function mO(p,m,w){p.lanes|=m;var M=p.alternate;M!==null&&(M.lanes|=m),SE(p.return,m,w)}function qE(p,m,w,M,L){var V=p.memoizedState;V===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:M,tail:w,tailMode:L}:(V.isBackwards=m,V.rendering=null,V.renderingStartTime=0,V.last=M,V.tail=w,V.tailMode=L)}function gO(p,m,w){var M=m.pendingProps,L=M.revealOrder,V=M.tail;if(Bs(p,m,M.children,w),M=kr.current,M&2)M=M&1|2,m.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&mO(p,w,m);else if(p.tag===19)mO(p,w,m);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}M&=1}if(nn(kr,M),!(m.mode&1))m.memoizedState=null;else switch(L){case"forwards":for(w=m.child,L=null;w!==null;)p=w.alternate,p!==null&&Fx(p)===null&&(L=w),w=w.sibling;w=L,w===null?(L=m.child,m.child=null):(L=w.sibling,w.sibling=null),qE(m,!1,L,w,V);break;case"backwards":for(w=null,L=m.child,m.child=null;L!==null;){if(p=L.alternate,p!==null&&Fx(p)===null){m.child=L;break}p=L.sibling,L.sibling=w,w=L,L=p}qE(m,!0,w,null,V);break;case"together":qE(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Bc(p,m,w){if(p!==null&&(m.dependencies=p.dependencies),Ep|=m.lanes,!(w&m.childLanes))return null;if(p!==null&&m.child!==p.child)throw Error(o(153));if(m.child!==null){for(p=m.child,w=Yu(p,p.pendingProps),m.child=w,w.return=m;p.sibling!==null;)p=p.sibling,w=w.sibling=Yu(p,p.pendingProps),w.return=m;w.sibling=null}return m.child}function MZ(p,m,w){switch(m.tag){case 3:uO(m),xp();break;case 5:IL(m);break;case 1:fs(m.type)&&Ic(m);break;case 4:IE(m,m.stateNode.containerInfo);break;case 10:bg(m,m.type._context,m.memoizedProps.value);break;case 13:var M=m.memoizedState;if(M!==null)return M.dehydrated!==null?(nn(kr,kr.current&1),m.flags|=128,null):w&m.child.childLanes?fO(p,m,w):(nn(kr,kr.current&1),p=Bc(p,m,w),p!==null?p.sibling:null);nn(kr,kr.current&1);break;case 19:if(M=(w&m.childLanes)!==0,p.flags&128){if(M)return gO(p,m,w);m.flags|=128}var L=m.memoizedState;if(L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),nn(kr,kr.current),M)break;return null;case 22:case 23:return m.lanes=0,aO(p,m,w)}return Bc(p,m,w)}function CZ(p,m){switch(TE(m),m.tag){case 1:return fs(m.type)&&cp(),p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 3:return wp(),zt(ci),zt(fn),NE(),p=m.flags,p&65536&&!(p&128)?(m.flags=p&-65537|128,m):null;case 5:return LE(m),null;case 13:if(zt(kr),p=m.memoizedState,p!==null&&p.dehydrated!==null){if(m.alternate===null)throw Error(o(340));xp()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 19:return zt(kr),null;case 4:return wp(),null;case 10:return wE(m.type._context),null;case 22:case 23:return dM(),null;case 24:return null;default:return null}}var Zx=!1,Pf=!1,TZ=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Jx(p,m){var w=p.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(M){oo(p,m,M)}else w.current=null}function YE(p,m,w){try{w()}catch(M){oo(p,m,M)}}var vO=!1;function kZ(p,m){for(G(p.containerInfo),lt=m;lt!==null;)if(p=lt,m=p.child,(p.subtreeFlags&1028)!==0&&m!==null)m.return=p,lt=m;else for(;lt!==null;){p=lt;try{var w=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var M=w.memoizedProps,L=w.memoizedState,V=p.stateNode,oe=V.getSnapshotBeforeUpdate(p.elementType===p.type?M:pn(p.type,M),L);V.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:Me&&gt(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(pe){oo(p,p.return,pe)}if(m=p.sibling,m!==null){m.return=p.return,lt=m;break}lt=p.return}return w=vO,vO=!1,w}function If(p,m,w){var M=m.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var L=M=M.next;do{if((L.tag&p)===p){var V=L.destroy;L.destroy=void 0,V!==void 0&&YE(m,w,V)}L=L.next}while(L!==M)}}function Og(p,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var w=m=m.next;do{if((w.tag&p)===p){var M=w.create;w.destroy=M()}w=w.next}while(w!==m)}}function XE(p){var m=p.ref;if(m!==null){var w=p.stateNode;switch(p.tag){case 5:p=D(w);break;default:p=w}typeof m=="function"?m(p):m.current=p}}function yO(p,m,w){if(Ro&&typeof Ro.onCommitFiberUnmount=="function")try{Ro.onCommitFiberUnmount(mp,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(p=m.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var M=p=p.next;do{var L=M,V=L.destroy;L=L.tag,V!==void 0&&(L&2||L&4)&&YE(m,w,V),M=M.next}while(M!==p)}break;case 1:if(Jx(m,w),p=m.stateNode,typeof p.componentWillUnmount=="function")try{p.props=m.memoizedProps,p.state=m.memoizedState,p.componentWillUnmount()}catch(oe){oo(m,w,oe)}break;case 5:Jx(m,w);break;case 4:Me?AO(p,m,w):X&&X&&(m=m.stateNode.containerInfo,w=Ct(m),tn(m,w))}}function xO(p,m,w){for(var M=m;;)if(yO(p,M,w),M.child===null||Me&&M.tag===4){if(M===m)break;for(;M.sibling===null;){if(M.return===null||M.return===m)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function _O(p){var m=p.alternate;m!==null&&(p.alternate=null,_O(m)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(m=p.stateNode,m!==null&&we(m)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function bO(p){return p.tag===5||p.tag===3||p.tag===4}function wO(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||bO(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function SO(p){if(Me){e:{for(var m=p.return;m!==null;){if(bO(m))break e;m=m.return}throw Error(o(160))}var w=m;switch(w.tag){case 5:m=w.stateNode,w.flags&32&&(ce(m),w.flags&=-33),w=wO(p),ZE(p,w,m);break;case 3:case 4:m=w.stateNode.containerInfo,w=wO(p),KE(p,w,m);break;default:throw Error(o(161))}}}function KE(p,m,w){var M=p.tag;if(M===5||M===6)p=p.stateNode,m?je(w,p,m):be(w,p);else if(M!==4&&(p=p.child,p!==null))for(KE(p,m,w),p=p.sibling;p!==null;)KE(p,m,w),p=p.sibling}function ZE(p,m,w){var M=p.tag;if(M===5||M===6)p=p.stateNode,m?xe(w,p,m):mt(w,p);else if(M!==4&&(p=p.child,p!==null))for(ZE(p,m,w),p=p.sibling;p!==null;)ZE(p,m,w),p=p.sibling}function AO(p,m,w){for(var M=m,L=!1,V,oe;;){if(!L){L=M.return;e:for(;;){if(L===null)throw Error(o(160));switch(V=L.stateNode,L.tag){case 5:oe=!1;break e;case 3:V=V.containerInfo,oe=!0;break e;case 4:V=V.containerInfo,oe=!0;break e}L=L.return}L=!0}if(M.tag===5||M.tag===6)xO(p,M,w),oe?st(V,M.stateNode):qe(V,M.stateNode);else if(M.tag===18)oe?xn(V,M.stateNode):Ut(V,M.stateNode);else if(M.tag===4){if(M.child!==null){V=M.stateNode.containerInfo,oe=!0,M.child.return=M,M=M.child;continue}}else if(yO(p,M,w),M.child!==null){M.child.return=M,M=M.child;continue}if(M===m)break;for(;M.sibling===null;){if(M.return===null||M.return===m)return;M=M.return,M.tag===4&&(L=!1)}M.sibling.return=M.return,M=M.sibling}}function JE(p,m){if(Me){switch(m.tag){case 0:case 11:case 14:case 15:If(3,m,m.return),Og(3,m),If(5,m,m.return);return;case 1:return;case 5:var w=m.stateNode;if(w!=null){var M=m.memoizedProps;p=p!==null?p.memoizedProps:M;var L=m.type,V=m.updateQueue;m.updateQueue=null,V!==null&&ae(w,V,L,p,M,m)}return;case 6:if(m.stateNode===null)throw Error(o(162));w=m.memoizedProps,Xe(m.stateNode,p!==null?p.memoizedProps:w,w);return;case 3:ee&&p!==null&&p.memoizedState.isDehydrated&&qt(m.stateNode.containerInfo);return;case 12:return;case 13:Qx(m);return;case 19:Qx(m);return;case 17:return}throw Error(o(163))}switch(m.tag){case 0:case 11:case 14:case 15:If(3,m,m.return),Og(3,m),If(5,m,m.return);return;case 12:return;case 13:Qx(m);return;case 19:Qx(m);return;case 3:ee&&p!==null&&p.memoizedState.isDehydrated&&qt(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(X){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,tn(m.containerInfo,m.pendingChildren);break e}throw Error(o(163))}}function Qx(p){var m=p.updateQueue;if(m!==null){p.updateQueue=null;var w=p.stateNode;w===null&&(w=p.stateNode=new TZ),m.forEach(function(M){var L=zZ.bind(null,p,M);w.has(M)||(w.add(M),M.then(L,L))})}}function RZ(p,m){for(lt=m;lt!==null;){m=lt;var w=m.deletions;if(w!==null)for(var M=0;M<w.length;M++){var L=w[M];try{var V=p;Me?AO(V,L,m):xO(V,L,m);var oe=L.alternate;oe!==null&&(oe.return=null),L.return=null}catch(Tt){oo(L,m,Tt)}}if(w=m.child,m.subtreeFlags&12854&&w!==null)w.return=m,lt=w;else for(;lt!==null;){m=lt;try{var pe=m.flags;if(pe&32&&Me&&ce(m.stateNode),pe&512){var Fe=m.alternate;if(Fe!==null){var Qe=Fe.ref;Qe!==null&&(typeof Qe=="function"?Qe(null):Qe.current=null)}}if(pe&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var yt=m.alternate;(yt===null||yt.memoizedState===null)&&(sM=Qr())}break;case 22:var Yt=m.memoizedState!==null,Lt=m.alternate,sr=Lt!==null&&Lt.memoizedState!==null;if(w=m,Me){e:if(M=w,L=Yt,V=null,Me)for(var Rt=M;;){if(Rt.tag===5){if(V===null){V=Rt;var gs=Rt.stateNode;L?$e(gs):Je(Rt.stateNode,Rt.memoizedProps)}}else if(Rt.tag===6){if(V===null){var _a=Rt.stateNode;L?Ee(_a):He(_a,Rt.memoizedProps)}}else if((Rt.tag!==22&&Rt.tag!==23||Rt.memoizedState===null||Rt===M)&&Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}if(Rt===M)break;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===M)break e;V===Rt&&(V=null),Rt=Rt.return}V===Rt&&(V=null),Rt.sibling.return=Rt.return,Rt=Rt.sibling}}if(Yt&&!sr&&w.mode&1){lt=w;for(var Te=w.child;Te!==null;){for(w=lt=Te;lt!==null;){M=lt;var ye=M.child;switch(M.tag){case 0:case 11:case 14:case 15:If(4,M,M.return);break;case 1:Jx(M,M.return);var De=M.stateNode;if(typeof De.componentWillUnmount=="function"){var dt=M.return;try{De.props=M.memoizedProps,De.state=M.memoizedState,De.componentWillUnmount()}catch(Tt){oo(M,dt,Tt)}}break;case 5:Jx(M,M.return);break;case 22:if(M.memoizedState!==null){CO(w);continue}}ye!==null?(ye.return=M,lt=ye):CO(w)}Te=Te.sibling}}}switch(pe&4102){case 2:SO(m),m.flags&=-3;break;case 6:SO(m),m.flags&=-3,JE(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,JE(m.alternate,m);break;case 4:JE(m.alternate,m)}}catch(Tt){oo(m,m.return,Tt)}if(w=m.sibling,w!==null){w.return=m.return,lt=w;break}lt=m.return}}}function PZ(p,m,w){lt=p,EO(p)}function EO(p,m,w){for(var M=(p.mode&1)!==0;lt!==null;){var L=lt,V=L.child;if(L.tag===22&&M){var oe=L.memoizedState!==null||Zx;if(!oe){var pe=L.alternate,Fe=pe!==null&&pe.memoizedState!==null||Pf;pe=Zx;var Qe=Pf;if(Zx=oe,(Pf=Fe)&&!Qe)for(lt=L;lt!==null;)oe=lt,Fe=oe.child,oe.tag===22&&oe.memoizedState!==null?TO(L):Fe!==null?(Fe.return=oe,lt=Fe):TO(L);for(;V!==null;)lt=V,EO(V),V=V.sibling;lt=L,Zx=pe,Pf=Qe}MO(p)}else L.subtreeFlags&8772&&V!==null?(V.return=L,lt=V):MO(p)}}function MO(p){for(;lt!==null;){var m=lt;if(m.flags&8772){var w=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:Pf||Og(5,m);break;case 1:var M=m.stateNode;if(m.flags&4&&!Pf)if(w===null)M.componentDidMount();else{var L=m.elementType===m.type?w.memoizedProps:pn(m.type,w.memoizedProps);M.componentDidUpdate(L,w.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var V=m.updateQueue;V!==null&&_L(m,V,M);break;case 3:var oe=m.updateQueue;if(oe!==null){if(w=null,m.child!==null)switch(m.child.tag){case 5:w=D(m.child.stateNode);break;case 1:w=m.child.stateNode}_L(m,oe,w)}break;case 5:var pe=m.stateNode;w===null&&m.flags&4&&tt(pe,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(ee&&m.memoizedState===null){var Fe=m.alternate;if(Fe!==null){var Qe=Fe.memoizedState;if(Qe!==null){var yt=Qe.dehydrated;yt!==null&&Vt(yt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Pf||m.flags&512&&XE(m)}catch(Yt){oo(m,m.return,Yt)}}if(m===p){lt=null;break}if(w=m.sibling,w!==null){w.return=m.return,lt=w;break}lt=m.return}}function CO(p){for(;lt!==null;){var m=lt;if(m===p){lt=null;break}var w=m.sibling;if(w!==null){w.return=m.return,lt=w;break}lt=m.return}}function TO(p){for(;lt!==null;){var m=lt;try{switch(m.tag){case 0:case 11:case 15:var w=m.return;try{Og(4,m)}catch(Fe){oo(m,w,Fe)}break;case 1:var M=m.stateNode;if(typeof M.componentDidMount=="function"){var L=m.return;try{M.componentDidMount()}catch(Fe){oo(m,L,Fe)}}var V=m.return;try{XE(m)}catch(Fe){oo(m,V,Fe)}break;case 5:var oe=m.return;try{XE(m)}catch(Fe){oo(m,oe,Fe)}}}catch(Fe){oo(m,m.return,Fe)}if(m===p){lt=null;break}var pe=m.sibling;if(pe!==null){pe.return=m.return,lt=pe;break}lt=m.return}}var e_=0,t_=1,n_=2,r_=3,i_=4;if(typeof Symbol=="function"&&Symbol.for){var Ng=Symbol.for;e_=Ng("selector.component"),t_=Ng("selector.has_pseudo_class"),n_=Ng("selector.role"),r_=Ng("selector.test_id"),i_=Ng("selector.text")}function QE(p){var m=ie(p);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(o(364));return m}if(p=ht(p),p===null)throw Error(o(362));return p.stateNode.current}function eM(p,m){switch(m.$$typeof){case e_:if(p.type===m.value)return!0;break;case t_:e:{m=m.value,p=[p,0];for(var w=0;w<p.length;){var M=p[w++],L=p[w++],V=m[L];if(M.tag!==5||!le(M)){for(;V!=null&&eM(M,V);)L++,V=m[L];if(L===m.length){m=!0;break e}else for(M=M.child;M!==null;)p.push(M,L),M=M.sibling}}m=!1}return m;case n_:if(p.tag===5&&ze(p.stateNode,m.value))return!0;break;case i_:if((p.tag===5||p.tag===6)&&(p=q(p),p!==null&&0<=p.indexOf(m.value)))return!0;break;case r_:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function tM(p){switch(p.$$typeof){case e_:return"<"+(P(p.value)||"Unknown")+">";case t_:return":has("+(tM(p)||"")+")";case n_:return'[role="'+p.value+'"]';case i_:return'"'+p.value+'"';case r_:return'[data-testname="'+p.value+'"]';default:throw Error(o(365))}}function kO(p,m){var w=[];p=[p,0];for(var M=0;M<p.length;){var L=p[M++],V=p[M++],oe=m[V];if(L.tag!==5||!le(L)){for(;oe!=null&&eM(L,oe);)V++,oe=m[V];if(V===m.length)w.push(L);else for(L=L.child;L!==null;)p.push(L,V),L=L.sibling}}return w}function nM(p,m){if(!nt)throw Error(o(363));p=QE(p),p=kO(p,m),m=[],p=Array.from(p);for(var w=0;w<p.length;){var M=p[w++];if(M.tag===5)le(M)||m.push(M.stateNode);else for(M=M.child;M!==null;)p.push(M),M=M.sibling}return m}var IZ=Math.ceil,s_=a.ReactCurrentDispatcher,rM=a.ReactCurrentOwner,ei=a.ReactCurrentBatchConfig,on=0,ui=null,di=null,Xi=0,No=0,Ap=Ii(0),wi=0,Dg=null,Ep=0,o_=0,iM=0,Bg=null,io=null,sM=0,oM=1/0;function Mp(){oM=Qr()+500}var a_=!1,aM=null,$u=null,l_=!1,Wu=null,c_=0,Fg=0,lM=null,u_=-1,d_=0;function Fs(){return on&6?Qr():u_!==-1?u_:u_=Qr()}function ju(p){return p.mode&1?on&2&&Xi!==0?Xi&-Xi:Wn.transition!==null?(d_===0&&(p=dp,dp<<=1,!(dp&4194240)&&(dp=64),d_=p),d_):(p=hn,p!==0?p:Ce()):1}function ya(p,m,w){if(50<Fg)throw Fg=0,lM=null,Error(o(185));var M=f_(p,m);return M===null?null:(Sf(M,m,w),(!(on&2)||M!==ui)&&(M===ui&&(!(on&2)&&(o_|=m),wi===4&&qu(M,Xi)),so(M,w),m===1&&on===0&&!(p.mode&1)&&(Mp(),re&&Ht())),M)}function f_(p,m){p.lanes|=m;var w=p.alternate;for(w!==null&&(w.lanes|=m),w=p,p=p.return;p!==null;)p.childLanes|=m,w=p.alternate,w!==null&&(w.childLanes|=m),w=p,p=p.return;return w.tag===3?w.stateNode:null}function so(p,m){var w=p.callbackNode;yE(p,m);var M=hp(p,p===ui?Xi:0);if(M===0)w!==null&&kx(w),p.callbackNode=null,p.callbackPriority=0;else if(m=M&-M,p.callbackPriority!==m){if(w!=null&&kx(w),m===1)p.tag===0?pt(PO.bind(null,p)):Pe(PO.bind(null,p)),Ne?Ze(function(){on===0&&Ht()}):Af(Za,Ht),w=null;else{switch(pp(M)){case 1:w=Za;break;case 4:w=Ef;break;case 16:w=_g;break;case 536870912:w=Px;break;default:w=_g}w=VO(w,RO.bind(null,p))}p.callbackPriority=m,p.callbackNode=w}}function RO(p,m){if(u_=-1,d_=0,on&6)throw Error(o(327));var w=p.callbackNode;if(Nf()&&p.callbackNode!==w)return null;var M=hp(p,p===ui?Xi:0);if(M===0)return null;if(M&30||M&p.expiredLanes||m)m=h_(p,M);else{m=M;var L=on;on|=2;var V=OO();(ui!==p||Xi!==m)&&(Mp(),Lf(p,m));do try{NZ();break}catch(pe){LO(p,pe)}while(1);Cf(),s_.current=V,on=L,di!==null?m=0:(ui=null,Xi=0,m=wi)}if(m!==0){if(m===2&&(L=wf(p),L!==0&&(M=L,m=cM(p,L))),m===1)throw w=Dg,Lf(p,0),qu(p,M),so(p,Qr()),w;if(m===6)qu(p,M);else{if(L=p.current.alternate,!(M&30)&&!LZ(L)&&(m=h_(p,M),m===2&&(V=wf(p),V!==0&&(M=V,m=cM(p,V))),m===1))throw w=Dg,Lf(p,0),qu(p,M),so(p,Qr()),w;switch(p.finishedWork=L,p.finishedLanes=M,m){case 0:case 1:throw Error(o(345));case 2:Of(p,io);break;case 3:if(qu(p,M),(M&130023424)===M&&(m=sM+500-Qr(),10<m)){if(hp(p,0)!==0)break;if(L=p.suspendedLanes,(L&M)!==M){Fs(),p.pingedLanes|=p.suspendedLanes&L;break}p.timeoutHandle=ve(Of.bind(null,p,io),m);break}Of(p,io);break;case 4:if(qu(p,M),(M&4194240)===M)break;for(m=p.eventTimes,L=-1;0<M;){var oe=31-ko(M);V=1<<oe,oe=m[oe],oe>L&&(L=oe),M&=~V}if(M=L,M=Qr()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*IZ(M/1960))-M,10<M){p.timeoutHandle=ve(Of.bind(null,p,io),M);break}Of(p,io);break;case 5:Of(p,io);break;default:throw Error(o(329))}}}return so(p,Qr()),p.callbackNode===w?RO.bind(null,p):null}function cM(p,m){var w=Bg;return p.current.memoizedState.isDehydrated&&(Lf(p,m).flags|=256),p=h_(p,m),p!==2&&(m=io,io=w,m!==null&&uM(m)),p}function uM(p){io===null?io=p:io.push.apply(io,p)}function LZ(p){for(var m=p;;){if(m.flags&16384){var w=m.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var M=0;M<w.length;M++){var L=w[M],V=L.getSnapshot;L=L.value;try{if(!Po(V(),L))return!1}catch{return!1}}}if(w=m.child,m.subtreeFlags&16384&&w!==null)w.return=m,m=w;else{if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function qu(p,m){for(m&=~iM,m&=~o_,p.suspendedLanes|=m,p.pingedLanes&=~m,p=p.expirationTimes;0<m;){var w=31-ko(m),M=1<<w;p[w]=-1,m&=~M}}function PO(p){if(on&6)throw Error(o(327));Nf();var m=hp(p,0);if(!(m&1))return so(p,Qr()),null;var w=h_(p,m);if(p.tag!==0&&w===2){var M=wf(p);M!==0&&(m=M,w=cM(p,M))}if(w===1)throw w=Dg,Lf(p,0),qu(p,m),so(p,Qr()),w;if(w===6)throw Error(o(345));return p.finishedWork=p.current.alternate,p.finishedLanes=m,Of(p,io),so(p,Qr()),null}function IO(p){Wu!==null&&Wu.tag===0&&!(on&6)&&Nf();var m=on;on|=1;var w=ei.transition,M=hn;try{if(ei.transition=null,hn=1,p)return p()}finally{hn=M,ei.transition=w,on=m,!(on&6)&&Ht()}}function dM(){No=Ap.current,zt(Ap)}function Lf(p,m){p.finishedWork=null,p.finishedLanes=0;var w=p.timeoutHandle;if(w!==Re&&(p.timeoutHandle=Re,ge(w)),di!==null)for(w=di.return;w!==null;){var M=w;switch(TE(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&cp();break;case 3:wp(),zt(ci),zt(fn),NE();break;case 5:LE(M);break;case 4:wp();break;case 13:zt(kr);break;case 19:zt(kr);break;case 10:wE(M.type._context);break;case 22:case 23:dM()}w=w.return}if(ui=p,di=p=Yu(p.current,null),Xi=No=m,wi=0,Dg=null,iM=o_=Ep=0,io=Bg=null,Ul!==null){for(m=0;m<Ul.length;m++)if(w=Ul[m],M=w.interleaved,M!==null){w.interleaved=null;var L=M.next,V=w.pending;if(V!==null){var oe=V.next;V.next=L,M.next=oe}w.pending=M}Ul=null}return p}function LO(p,m){do{var w=di;try{if(Cf(),zx.current=Wx,Vx){for(var M=$r.memoizedState;M!==null;){var L=M.queue;L!==null&&(L.pending=null),M=M.next}Vx=!1}if(Sp=0,Ni=hs=$r=null,Cg=!1,Tg=0,rM.current=null,w===null||w.return===null){wi=1,Dg=m,di=null;break}e:{var V=p,oe=w.return,pe=w,Fe=m;if(m=Xi,pe.flags|=32768,Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var Qe=Fe,yt=pe,Yt=yt.tag;if(!(yt.mode&1)&&(Yt===0||Yt===11||Yt===15)){var Lt=yt.alternate;Lt?(yt.updateQueue=Lt.updateQueue,yt.memoizedState=Lt.memoizedState,yt.lanes=Lt.lanes):(yt.updateQueue=null,yt.memoizedState=null)}var sr=eO(oe);if(sr!==null){sr.flags&=-257,tO(sr,oe,pe,V,m),sr.mode&1&&QL(V,Qe,m),m=sr,Fe=Qe;var Rt=m.updateQueue;if(Rt===null){var gs=new Set;gs.add(Fe),m.updateQueue=gs}else Rt.add(Fe);break e}else{if(!(m&1)){QL(V,Qe,m),fM();break e}Fe=Error(o(426))}}else if(wr&&pe.mode&1){var _a=eO(oe);if(_a!==null){!(_a.flags&65536)&&(_a.flags|=256),tO(_a,oe,pe,V,m),PE(Fe);break e}}V=Fe,wi!==4&&(wi=2),Bg===null?Bg=[V]:Bg.push(V),Fe=HE(Fe,pe),pe=oe;do{switch(pe.tag){case 3:pe.flags|=65536,m&=-m,pe.lanes|=m;var Te=ZL(pe,Fe,m);xL(pe,Te);break e;case 1:V=Fe;var ye=pe.type,De=pe.stateNode;if(!(pe.flags&128)&&(typeof ye.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&($u===null||!$u.has(De)))){pe.flags|=65536,m&=-m,pe.lanes|=m;var dt=JL(pe,V,m);xL(pe,dt);break e}}pe=pe.return}while(pe!==null)}DO(w)}catch(Tt){m=Tt,di===w&&w!==null&&(di=w=w.return);continue}break}while(1)}function OO(){var p=s_.current;return s_.current=Wx,p===null?Wx:p}function fM(){(wi===0||wi===3||wi===2)&&(wi=4),ui===null||!(Ep&268435455)&&!(o_&268435455)||qu(ui,Xi)}function h_(p,m){var w=on;on|=2;var M=OO();ui===p&&Xi===m||Lf(p,m);do try{OZ();break}catch(L){LO(p,L)}while(1);if(Cf(),on=w,s_.current=M,di!==null)throw Error(o(261));return ui=null,Xi=0,wi}function OZ(){for(;di!==null;)NO(di)}function NZ(){for(;di!==null&&!Rx();)NO(di)}function NO(p){var m=zO(p.alternate,p,No);p.memoizedProps=p.pendingProps,m===null?DO(p):di=m,rM.current=null}function DO(p){var m=p;do{var w=m.alternate;if(p=m.return,m.flags&32768){if(w=CZ(w,m),w!==null){w.flags&=32767,di=w;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{wi=6,di=null;return}}else if(w=AZ(w,m,No),w!==null){di=w;return}if(m=m.sibling,m!==null){di=m;return}di=m=p}while(m!==null);wi===0&&(wi=5)}function Of(p,m){var w=hn,M=ei.transition;try{ei.transition=null,hn=1,DZ(p,m,w)}finally{ei.transition=M,hn=w}return null}function DZ(p,m,w){do Nf();while(Wu!==null);if(on&6)throw Error(o(327));var M=p.finishedWork,L=p.finishedLanes;if(M===null)return null;if(p.finishedWork=null,p.finishedLanes=0,M===p.current)throw Error(o(177));p.callbackNode=null,p.callbackPriority=0;var V=M.lanes|M.childLanes;if(xE(p,V),p===ui&&(di=ui=null,Xi=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||l_||(l_=!0,VO(_g,function(){return Nf(),null})),V=(M.flags&15990)!==0,M.subtreeFlags&15990||V){V=ei.transition,ei.transition=null;var oe=hn;hn=1;var pe=on;on|=4,rM.current=null,kZ(p,M),RZ(p,M),j(p.containerInfo),p.current=M,PZ(M),xg(),on=pe,hn=oe,ei.transition=V}else p.current=M;if(l_&&(l_=!1,Wu=p,c_=L),V=p.pendingLanes,V===0&&($u=null),_E(M.stateNode),so(p,Qr()),m!==null)for(w=p.onRecoverableError,M=0;M<m.length;M++)w(m[M]);if(a_)throw a_=!1,p=aM,aM=null,p;return c_&1&&p.tag!==0&&Nf(),V=p.pendingLanes,V&1?p===lM?Fg++:(Fg=0,lM=p):Fg=0,Ht(),null}function Nf(){if(Wu!==null){var p=pp(c_),m=ei.transition,w=hn;try{if(ei.transition=null,hn=16>p?16:p,Wu===null)var M=!1;else{if(p=Wu,Wu=null,c_=0,on&6)throw Error(o(331));var L=on;for(on|=4,lt=p.current;lt!==null;){var V=lt,oe=V.child;if(lt.flags&16){var pe=V.deletions;if(pe!==null){for(var Fe=0;Fe<pe.length;Fe++){var Qe=pe[Fe];for(lt=Qe;lt!==null;){var yt=lt;switch(yt.tag){case 0:case 11:case 15:If(8,yt,V)}var Yt=yt.child;if(Yt!==null)Yt.return=yt,lt=Yt;else for(;lt!==null;){yt=lt;var Lt=yt.sibling,sr=yt.return;if(_O(yt),yt===Qe){lt=null;break}if(Lt!==null){Lt.return=sr,lt=Lt;break}lt=sr}}}var Rt=V.alternate;if(Rt!==null){var gs=Rt.child;if(gs!==null){Rt.child=null;do{var _a=gs.sibling;gs.sibling=null,gs=_a}while(gs!==null)}}lt=V}}if(V.subtreeFlags&2064&&oe!==null)oe.return=V,lt=oe;else e:for(;lt!==null;){if(V=lt,V.flags&2048)switch(V.tag){case 0:case 11:case 15:If(9,V,V.return)}var Te=V.sibling;if(Te!==null){Te.return=V.return,lt=Te;break e}lt=V.return}}var ye=p.current;for(lt=ye;lt!==null;){oe=lt;var De=oe.child;if(oe.subtreeFlags&2064&&De!==null)De.return=oe,lt=De;else e:for(oe=ye;lt!==null;){if(pe=lt,pe.flags&2048)try{switch(pe.tag){case 0:case 11:case 15:Og(9,pe)}}catch(Tt){oo(pe,pe.return,Tt)}if(pe===oe){lt=null;break e}var dt=pe.sibling;if(dt!==null){dt.return=pe.return,lt=dt;break e}lt=pe.return}}if(on=L,Ht(),Ro&&typeof Ro.onPostCommitFiberRoot=="function")try{Ro.onPostCommitFiberRoot(mp,p)}catch{}M=!0}return M}finally{hn=w,ei.transition=m}}return!1}function BO(p,m,w){m=HE(w,m),m=ZL(p,m,1),Gu(p,m),m=Fs(),p=f_(p,1),p!==null&&(Sf(p,1,m),so(p,m))}function oo(p,m,w){if(p.tag===3)BO(p,p,w);else for(;m!==null;){if(m.tag===3){BO(m,p,w);break}else if(m.tag===1){var M=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&($u===null||!$u.has(M))){p=HE(w,p),p=JL(m,p,1),Gu(m,p),p=Fs(),m=f_(m,1),m!==null&&(Sf(m,1,p),so(m,p));break}}m=m.return}}function BZ(p,m,w){var M=p.pingCache;M!==null&&M.delete(m),m=Fs(),p.pingedLanes|=p.suspendedLanes&w,ui===p&&(Xi&w)===w&&(wi===4||wi===3&&(Xi&130023424)===Xi&&500>Qr()-sM?Lf(p,0):iM|=w),so(p,m)}function FO(p,m){m===0&&(p.mode&1?(m=fp,fp<<=1,!(fp&130023424)&&(fp=4194304)):m=1);var w=Fs();p=f_(p,m),p!==null&&(Sf(p,m,w),so(p,w))}function FZ(p){var m=p.memoizedState,w=0;m!==null&&(w=m.retryLane),FO(p,w)}function zZ(p,m){var w=0;switch(p.tag){case 13:var M=p.stateNode,L=p.memoizedState;L!==null&&(w=L.retryLane);break;case 19:M=p.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(m),FO(p,w)}var zO;zO=function(p,m,w){if(p!==null)if(p.memoizedProps!==m.pendingProps||ci.current)Oo=!0;else{if(!(p.lanes&w)&&!(m.flags&128))return Oo=!1,MZ(p,m,w);Oo=!!(p.flags&131072)}else Oo=!1,wr&&m.flags&1048576&&EL(m,Dx,m.index);switch(m.lanes=0,m.tag){case 2:var M=m.type;p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps;var L=Ka(m,fn.current);gp(m,w),L=BE(null,m,M,p,L,w);var V=FE();return m.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,fs(M)?(V=!0,Ic(m)):V=!1,m.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,AE(m),L.updater=Ox,m.stateNode=L,L._reactInternals=m,ME(m,M,p,w),m=WE(null,m,M,!0,V,w)):(m.tag=0,wr&&V&&CE(m),Bs(null,m,L,w),m=m.child),m;case 16:M=m.elementType;e:{switch(p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps,L=M._init,M=L(M._payload),m.type=M,L=m.tag=UZ(M),p=pn(M,p),L){case 0:m=$E(null,m,M,p,w);break e;case 1:m=cO(null,m,M,p,w);break e;case 11:m=iO(null,m,M,p,w);break e;case 14:m=sO(null,m,M,pn(M.type,p),w);break e}throw Error(o(306,M,""))}return m;case 0:return M=m.type,L=m.pendingProps,L=m.elementType===M?L:pn(M,L),$E(p,m,M,L,w);case 1:return M=m.type,L=m.pendingProps,L=m.elementType===M?L:pn(M,L),cO(p,m,M,L,w);case 3:e:{if(uO(m),p===null)throw Error(o(387));M=m.pendingProps,V=m.memoizedState,L=V.element,yL(p,m),Lx(m,M,null,w);var oe=m.memoizedState;if(M=oe.element,ee&&V.isDehydrated)if(V={element:M,isDehydrated:!1,cache:oe.cache,transitions:oe.transitions},m.updateQueue.baseState=V,m.memoizedState=V,m.flags&256){L=Error(o(423)),m=dO(p,m,M,w,L);break e}else if(M!==L){L=Error(o(424)),m=dO(p,m,M,w,L);break e}else for(ee&&(Lo=_e(m.stateNode.containerInfo),Io=m,wr=!0,Qa=null,wg=!1),w=PL(m,null,M,w),m.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(xp(),M===L){m=Bc(p,m,w);break e}Bs(p,m,M,w)}m=m.child}return m;case 5:return IL(m),p===null&&RE(m),M=m.type,L=m.pendingProps,V=p!==null?p.memoizedProps:null,oe=L.children,z(M,L)?oe=null:V!==null&&z(M,V)&&(m.flags|=32),lO(p,m),Bs(p,m,oe,w),m.child;case 6:return p===null&&RE(m),null;case 13:return fO(p,m,w);case 4:return IE(m,m.stateNode.containerInfo),M=m.pendingProps,p===null?m.child=_p(m,null,M,w):Bs(p,m,M,w),m.child;case 11:return M=m.type,L=m.pendingProps,L=m.elementType===M?L:pn(M,L),iO(p,m,M,L,w);case 7:return Bs(p,m,m.pendingProps,w),m.child;case 8:return Bs(p,m,m.pendingProps.children,w),m.child;case 12:return Bs(p,m,m.pendingProps.children,w),m.child;case 10:e:{if(M=m.type._context,L=m.pendingProps,V=m.memoizedProps,oe=L.value,bg(m,M,oe),V!==null)if(Po(V.value,oe)){if(V.children===L.children&&!ci.current){m=Bc(p,m,w);break e}}else for(V=m.child,V!==null&&(V.return=m);V!==null;){var pe=V.dependencies;if(pe!==null){oe=V.child;for(var Fe=pe.firstContext;Fe!==null;){if(Fe.context===M){if(V.tag===1){Fe=Lc(-1,w&-w),Fe.tag=2;var Qe=V.updateQueue;if(Qe!==null){Qe=Qe.shared;var yt=Qe.pending;yt===null?Fe.next=Fe:(Fe.next=yt.next,yt.next=Fe),Qe.pending=Fe}}V.lanes|=w,Fe=V.alternate,Fe!==null&&(Fe.lanes|=w),SE(V.return,w,m),pe.lanes|=w;break}Fe=Fe.next}}else if(V.tag===10)oe=V.type===m.type?null:V.child;else if(V.tag===18){if(oe=V.return,oe===null)throw Error(o(341));oe.lanes|=w,pe=oe.alternate,pe!==null&&(pe.lanes|=w),SE(oe,w,m),oe=V.sibling}else oe=V.child;if(oe!==null)oe.return=V;else for(oe=V;oe!==null;){if(oe===m){oe=null;break}if(V=oe.sibling,V!==null){V.return=oe.return,oe=V;break}oe=oe.return}V=oe}Bs(p,m,L.children,w),m=m.child}return m;case 9:return L=m.type,M=m.pendingProps.children,gp(m,w),L=ha(L),M=M(L),m.flags|=1,Bs(p,m,M,w),m.child;case 14:return M=m.type,L=pn(M,m.pendingProps),L=pn(M.type,L),sO(p,m,M,L,w);case 15:return oO(p,m,m.type,m.pendingProps,w);case 17:return M=m.type,L=m.pendingProps,L=m.elementType===M?L:pn(M,L),p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,fs(M)?(p=!0,Ic(m)):p=!1,gp(m,w),SL(m,M,L),ME(m,M,L,w),WE(null,m,M,!0,p,w);case 19:return gO(p,m,w);case 22:return aO(p,m,w)}throw Error(o(156,m.tag))};function VO(p,m){return Af(p,m)}function VZ(p,m,w,M){this.tag=p,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(p,m,w,M){return new VZ(p,m,w,M)}function hM(p){return p=p.prototype,!(!p||!p.isReactComponent)}function UZ(p){if(typeof p=="function")return hM(p)?1:0;if(p!=null){if(p=p.$$typeof,p===v)return 11;if(p===_)return 14}return 2}function Yu(p,m){var w=p.alternate;return w===null?(w=xa(p.tag,m,p.key,p.mode),w.elementType=p.elementType,w.type=p.type,w.stateNode=p.stateNode,w.alternate=p,p.alternate=w):(w.pendingProps=m,w.type=p.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=p.flags&14680064,w.childLanes=p.childLanes,w.lanes=p.lanes,w.child=p.child,w.memoizedProps=p.memoizedProps,w.memoizedState=p.memoizedState,w.updateQueue=p.updateQueue,m=p.dependencies,w.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},w.sibling=p.sibling,w.index=p.index,w.ref=p.ref,w}function p_(p,m,w,M,L,V){var oe=2;if(M=p,typeof p=="function")hM(p)&&(oe=1);else if(typeof p=="string")oe=5;else e:switch(p){case d:return Df(w.children,L,V,m);case u:oe=8,L|=8;break;case f:return p=xa(12,w,m,L|2),p.elementType=f,p.lanes=V,p;case x:return p=xa(13,w,m,L),p.elementType=x,p.lanes=V,p;case y:return p=xa(19,w,m,L),p.elementType=y,p.lanes=V,p;case A:return m_(w,L,V,m);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case h:oe=10;break e;case g:oe=9;break e;case v:oe=11;break e;case _:oe=14;break e;case b:oe=16,M=null;break e}throw Error(o(130,p==null?p:typeof p,""))}return m=xa(oe,w,m,L),m.elementType=p,m.type=M,m.lanes=V,m}function Df(p,m,w,M){return p=xa(7,p,M,m),p.lanes=w,p}function m_(p,m,w,M){return p=xa(22,p,M,m),p.elementType=A,p.lanes=w,p.stateNode={},p}function pM(p,m,w){return p=xa(6,p,null,m),p.lanes=w,p}function mM(p,m,w){return m=xa(4,p.children!==null?p.children:[],p.key,m),m.lanes=w,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function HZ(p,m,w,M,L){this.tag=m,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Re,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yg(0),this.expirationTimes=yg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yg(0),this.identifierPrefix=M,this.onRecoverableError=L,ee&&(this.mutableSourceEagerHydrationData=null)}function UO(p,m,w,M,L,V,oe,pe,Fe){return p=new HZ(p,m,w,pe,Fe),m===1?(m=1,V===!0&&(m|=8)):m=0,V=xa(3,null,null,m),p.current=V,V.stateNode=p,V.memoizedState={element:M,isDehydrated:w,cache:null,transitions:null},AE(V),p}function HO(p){if(!p)return Li;p=p._reactInternals;e:{if(O(p)!==p||p.tag!==1)throw Error(o(170));var m=p;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(fs(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(o(171))}if(p.tag===1){var w=p.type;if(fs(w))return Cx(p,w,m)}return m}function GO(p){var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(o(188)):(p=Object.keys(p).join(","),Error(o(268,p)));return p=J(m),p===null?null:p.stateNode}function $O(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var w=p.retryLane;p.retryLane=w!==0&&w<m?w:m}}function gM(p,m){$O(p,m),(p=p.alternate)&&$O(p,m)}function GZ(p){return p=J(p),p===null?null:p.stateNode}function $Z(){return null}return t.attemptContinuousHydration=function(p){if(p.tag===13){var m=Fs();ya(p,134217728,m),gM(p,134217728)}},t.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var m=Fs(),w=ju(p);ya(p,w,m),gM(p,w)}},t.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var m=p.stateNode;if(m.current.memoizedState.isDehydrated){var w=Vu(m.pendingLanes);w!==0&&(Uu(m,w|1),so(m,Qr()),!(on&6)&&(Mp(),Ht()))}break;case 13:var M=Fs();IO(function(){return ya(p,1,M)}),gM(p,1)}},t.batchedUpdates=function(p,m){var w=on;on|=1;try{return p(m)}finally{on=w,on===0&&(Mp(),re&&Ht())}},t.createComponentSelector=function(p){return{$$typeof:e_,value:p}},t.createContainer=function(p,m,w,M,L,V,oe){return UO(p,m,!1,null,w,M,L,V,oe)},t.createHasPseudoClassSelector=function(p){return{$$typeof:t_,value:p}},t.createHydrationContainer=function(p,m,w,M,L,V,oe,pe,Fe){return p=UO(w,M,!0,p,L,V,oe,pe,Fe),p.context=HO(null),w=p.current,M=Fs(),L=ju(w),V=Lc(M,L),V.callback=m??null,Gu(w,V),p.current.lanes=L,Sf(p,L,M),so(p,M),p},t.createPortal=function(p,m,w){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:p,containerInfo:m,implementation:w}},t.createRoleSelector=function(p){return{$$typeof:n_,value:p}},t.createTestNameSelector=function(p){return{$$typeof:r_,value:p}},t.createTextSelector=function(p){return{$$typeof:i_,value:p}},t.deferredUpdates=function(p){var m=hn,w=ei.transition;try{return ei.transition=null,hn=16,p()}finally{hn=m,ei.transition=w}},t.discreteUpdates=function(p,m,w,M,L){var V=hn,oe=ei.transition;try{return ei.transition=null,hn=1,p(m,w,M,L)}finally{hn=V,ei.transition=oe,on===0&&Mp()}},t.findAllNodes=nM,t.findBoundingRects=function(p,m){if(!nt)throw Error(o(363));m=nM(p,m),p=[];for(var w=0;w<m.length;w++)p.push(se(m[w]));for(m=p.length-1;0<m;m--){w=p[m];for(var M=w.x,L=M+w.width,V=w.y,oe=V+w.height,pe=m-1;0<=pe;pe--)if(m!==pe){var Fe=p[pe],Qe=Fe.x,yt=Qe+Fe.width,Yt=Fe.y,Lt=Yt+Fe.height;if(M>=Qe&&V>=Yt&&L<=yt&&oe<=Lt){p.splice(m,1);break}else if(M!==Qe||w.width!==Fe.width||Lt<V||Yt>oe){if(!(V!==Yt||w.height!==Fe.height||yt<M||Qe>L)){Qe>M&&(Fe.width+=Qe-M,Fe.x=M),yt<L&&(Fe.width=L-Qe),p.splice(m,1);break}}else{Yt>V&&(Fe.height+=Yt-V,Fe.y=V),Lt<oe&&(Fe.height=oe-Yt),p.splice(m,1);break}}}return p},t.findHostInstance=GO,t.findHostInstanceWithNoPortals=function(p){return p=K(p),p=p!==null?S(p):null,p===null?null:p.stateNode},t.findHostInstanceWithWarning=function(p){return GO(p)},t.flushControlled=function(p){var m=on;on|=1;var w=ei.transition,M=hn;try{ei.transition=null,hn=1,p()}finally{hn=M,ei.transition=w,on=m,on===0&&(Mp(),Ht())}},t.flushPassiveEffects=Nf,t.flushSync=IO,t.focusWithin=function(p,m){if(!nt)throw Error(o(363));for(p=QE(p),m=kO(p,m),m=Array.from(m),p=0;p<m.length;){var w=m[p++];if(!le(w)){if(w.tag===5&&Be(w.stateNode))return!0;for(w=w.child;w!==null;)m.push(w),w=w.sibling}}return!1},t.getCurrentUpdatePriority=function(){return hn},t.getFindAllNodesFailureDescription=function(p,m){if(!nt)throw Error(o(363));var w=0,M=[];p=[QE(p),0];for(var L=0;L<p.length;){var V=p[L++],oe=p[L++],pe=m[oe];if((V.tag!==5||!le(V))&&(eM(V,pe)&&(M.push(tM(pe)),oe++,oe>w&&(w=oe)),oe<m.length))for(V=V.child;V!==null;)p.push(V,oe),V=V.sibling}if(w<m.length){for(p=[];w<m.length;w++)p.push(tM(m[w]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},t.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return D(p.child.stateNode);default:return p.child.stateNode}},t.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:GZ,findFiberByHostInstance:p.findFiberByHostInstance||$Z,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)p=!0;else{try{mp=m.inject(p),Ro=m}catch{}p=!!m.checkDCE}}return p},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(p,m,w,M){if(!nt)throw Error(o(363));p=nM(p,m);var L=Ue(p,w,M).disconnect;return{disconnect:function(){L()}}},t.registerMutableSourceForHydration=function(p,m){var w=m._getVersion;w=w(m._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[m,w]:p.mutableSourceEagerHydrationData.push(m,w)},t.runWithPriority=function(p,m){var w=hn;try{return hn=p,m()}finally{hn=w}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(p,m,w,M){var L=m.current,V=Fs(),oe=ju(L);return w=HO(w),m.context===null?m.context=w:m.pendingContext=w,m=Lc(V,oe),m.payload={element:p},M=M===void 0?null:M,M!==null&&(m.callback=M),Gu(L,m),p=ya(L,oe,V),p!==null&&Ix(p,L,oe),oe},t};(function(n){n.exports=$Te})(HTe);const WTe=OR(F5);var n8,r8;const Qq=n=>n&&n.isOrthographicCamera,jTe=n=>n&&n.hasOwnProperty("current"),vx=typeof window<"u"&&((n8=window.document)!=null&&n8.createElement||((r8=window.navigator)==null?void 0:r8.product)==="ReactNative")?T.useLayoutEffect:T.useEffect;function eY(n){const e=T.useRef(n);return vx(()=>void(e.current=n),[n]),e}function qTe({set:n}){return vx(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class tY extends T.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}tY.getDerivedStateFromError=()=>({error:!0});const nY="__default",YTe=n=>n&&!!n.memoized&&!!n.changes;function rY(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const cv=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},ni={obj:n=>n===Object(n)&&!ni.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(ni.str(n)||ni.num(n))return n===e;const s=ni.obj(n);if(s&&r==="reference")return n===e;const o=ni.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in i?e:n)if(n[a]!==e[a])return!1;if(ni.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function XTe(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function sm(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function z5(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const i8=/-\d+$/;function sT(n,e,t){if(ni.str(t)){if(i8.test(t)){const s=t.replace(i8,""),{target:o,key:a}=z5(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=z5(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function s8(n,e,t){var r,i;if(ni.str(t)){const{target:s,key:o}=z5(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function iY(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var d;const u=(d=n==null?void 0:n.__r3f)!=null?d:{},f=Object.entries(i),h=[];if(c){const v=Object.keys(l);for(let x=0;x<v.length;x++)i.hasOwnProperty(v[x])||f.unshift([v[x],nY+"remove"])}f.forEach(([v,x])=>{var y;if((y=n.__r3f)!=null&&y.primitive&&v==="object"||ni.equ(x,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return h.push([v,x,!0,[]]);let _=[];v.includes("-")&&(_=v.split("-")),h.push([v,x,!1,_]);for(const b in i){const A=i[b];b.startsWith(`${v}-`)&&h.push([b,A,!1,b.split("-")])}});const g={...i};return u.memoizedProps&&u.memoizedProps.args&&(g.args=u.memoizedProps.args),u.memoizedProps&&u.memoizedProps.attach&&(g.attach=u.memoizedProps.attach),{memoized:g,changes:h}}function oT(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=YTe(e)?e:iY(n,e),d=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let h=0;h<c.length;h++){let[g,v,x,y]=c[h],_=n,b=_[g];if(y.length&&(b=y.reduce((A,E)=>A[E],n),!(b&&b.set))){const[A,...E]=y.reverse();_=E.reverse().reduce((k,P)=>k[P],n),g=A}if(v===nY+"remove")if(b&&b.constructor){var u;v=new b.constructor(...(u=l.args)!=null?u:[])}else if(_.constructor){var f;const A=new _.constructor(...(f=_.__r3f.memoizedProps.args)!=null?f:[]);v=A[b],A.dispose&&A.dispose()}else v=0;if(x)v?s.handlers[g]=v:delete s.handlers[g],s.eventCount=Object.keys(s.handlers).length;else if(b&&b.set&&(b.copy||b instanceof Ph)){if(Array.isArray(v))b.fromArray?b.fromArray(v):b.set(...v);else if(b.copy&&v&&v.constructor&&b.constructor.name===v.constructor.name)b.copy(v);else if(v!==void 0){const A=b instanceof We;!A&&b.setScalar?b.setScalar(v):b instanceof Ph&&v instanceof Ph?b.mask=v.mask:b.set(v),!("ColorManagement"in l2)&&!a.linear&&A&&b.convertSRGBToLinear()}}else _[g]=v,!a.linear&&_[g]instanceof Mr&&(_[g].encoding=It);om(n)}if(s.parent&&a.internal&&n.raycast&&d!==s.eventCount){const h=a.internal.interaction.indexOf(n);h>-1&&a.internal.interaction.splice(h,1),s.eventCount&&a.internal.interaction.push(n)}return c.length&&(i=n.__r3f)!=null&&i.parent&&V5(n),n}function om(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function V5(n){n.onUpdate==null||n.onUpdate(n)}function KTe(n,e){n.manual||(Qq(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function ZTe(n,e,t){const r=t.pop(),i=t.reduce((s,o)=>s[o],n);return i[r]=e}function Hb(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function JTe(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return kd.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return kd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return kd.ContinuousEventPriority;default:return kd.DefaultEventPriority}}function sY(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function QTe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{sY(t.capturedMap,e,r,i)})}function e3e(n){function e(l){const{internal:c}=n.getState(),d=l.offsetX-c.initialClick[0],u=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+u*u))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var u;return(u=c.__r3f)==null?void 0:u.handlers["onPointer"+d]}))}function r(l,c){const d=n.getState(),u=new Set,f=[],h=c?c(d.internal.interaction):d.internal.interaction;for(let y=0;y<h.length;y++){const _=cv(h[y]);_&&(_.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function g(y){const _=cv(y);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var b;_.events.compute==null||_.events.compute(l,_,(b=_.previousRoot)==null?void 0:b.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(y,!0):[]}let v=h.flatMap(g).sort((y,_)=>{const b=cv(y.object),A=cv(_.object);return!b||!A?y.distance-_.distance:A.events.priority-b.events.priority||y.distance-_.distance}).filter(y=>{const _=Hb(y);return u.has(_)?!1:(u.add(_),!0)});d.events.filter&&(v=d.events.filter(v,d));for(const y of v){let _=y.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&f.push({...y,eventObject:_}),_=_.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let y of d.internal.capturedMap.get(l.pointerId).values())u.has(Hb(y.intersection))||f.push(y.intersection);return f}function i(l,c,d,u){const f=n.getState();if(l.length){const h={stopped:!1};for(const g of l){const v=cv(g.object)||f,{raycaster:x,pointer:y,camera:_,internal:b}=v,A=new Z(y.x,y.y,0).unproject(_),E=U=>{var K,J;return(K=(J=b.capturedMap.get(U))==null?void 0:J.has(g.eventObject))!=null?K:!1},k=U=>{const K={intersection:g,target:c.target};b.capturedMap.has(U)?b.capturedMap.get(U).set(g.eventObject,K):b.capturedMap.set(U,new Map([[g.eventObject,K]])),c.target.setPointerCapture(U)},P=U=>{const K=b.capturedMap.get(U);K&&sY(b.capturedMap,g.eventObject,K,U)};let C={};for(let U in c){let K=c[U];typeof K!="function"&&(C[U]=K)}let O={...g,...C,pointer:y,intersections:l,stopped:h.stopped,delta:d,unprojectedPoint:A,ray:x.ray,camera:_,stopPropagation(){const U="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!U||U.has(g.eventObject))&&(O.stopped=h.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(K=>K.eventObject===g.eventObject))){const K=l.slice(0,l.indexOf(g));s([...K,g])}},target:{hasPointerCapture:E,setPointerCapture:k,releasePointerCapture:P},currentTarget:{hasPointerCapture:E,setPointerCapture:k,releasePointerCapture:P},nativeEvent:c};if(u(O),h.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const d of c.hovered.values())if(!l.length||!l.find(u=>u.object===d.object&&u.index===d.index&&u.instanceId===d.instanceId)){const f=d.eventObject.__r3f,h=f==null?void 0:f.handlers;if(c.hovered.delete(Hb(d)),f!=null&&f.eventCount){const g={...d,intersections:l};h.onPointerOut==null||h.onPointerOut(g),h.onPointerLeave==null||h.onPointerLeave(g)}}}function o(l,c){for(let d=0;d<c.length;d++){const u=c[d].__r3f;u==null||u.handlers.onPointerMissed==null||u.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=n.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))}}return function(d){const{onPointerMissed:u,internal:f}=n.getState();f.lastEvent.current=d;const h=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(d,h?t:void 0),y=g?e(d):0;l==="onPointerDown"&&(f.initialClick=[d.offsetX,d.offsetY],f.initialHits=x.map(b=>b.eventObject)),g&&!x.length&&y<=2&&(o(d,f.interaction),u&&u(d)),h&&s(x);function _(b){const A=b.eventObject,E=A.__r3f,k=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(h){if(k.onPointerOver||k.onPointerEnter||k.onPointerOut||k.onPointerLeave){const P=Hb(b),C=f.hovered.get(P);C?C.stopped&&b.stopPropagation():(f.hovered.set(P,b),k.onPointerOver==null||k.onPointerOver(b),k.onPointerEnter==null||k.onPointerEnter(b))}k.onPointerMove==null||k.onPointerMove(b)}else{const P=k[l];P?(!g||f.initialHits.includes(A))&&(o(d,f.interaction.filter(C=>!f.initialHits.includes(C))),P(b)):g&&f.initialHits.includes(A)&&o(d,f.interaction.filter(C=>!f.initialHits.includes(C)))}}i(x,d,y,_)}}return{handlePointer:a}}let U5={},TI=n=>void(U5={...U5,...n});function t3e(n,e){function t(d,{args:u=[],attach:f,...h},g){let v=`${d[0].toUpperCase()}${d.slice(1)}`,x;if(d==="primitive"){if(h.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=h.object;x=sm(y,{type:d,root:g,attach:f,primitive:!0})}else{const y=U5[v];if(!y)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(u))throw new Error("R3F: The args prop must be an array!");x=sm(new y(...u),{type:d,root:g,attach:f,memoizedProps:{args:u}})}return x.__r3f.attach===void 0&&(x instanceof Jt?x.__r3f.attach="geometry":x instanceof Kr&&(x.__r3f.attach="material")),v!=="inject"&&oT(x,h),x}function r(d,u){let f=!1;if(u){var h,g;(h=u.__r3f)!=null&&h.attach?sT(d,u,u.__r3f.attach):u.isObject3D&&d.isObject3D&&(d.add(u),f=!0),f||(g=d.__r3f)==null||g.objects.push(u),u.__r3f||sm(u,{}),u.__r3f.parent=d,V5(u),om(u)}}function i(d,u,f){let h=!1;if(u){var g,v;if((g=u.__r3f)!=null&&g.attach)sT(d,u,u.__r3f.attach);else if(u.isObject3D&&d.isObject3D){u.parent=d,u.dispatchEvent({type:"added"});const x=d.children.filter(_=>_!==u),y=x.indexOf(f);d.children=[...x.slice(0,y),u,...x.slice(y)],h=!0}h||(v=d.__r3f)==null||v.objects.push(u),u.__r3f||sm(u,{}),u.__r3f.parent=d,V5(u),om(u)}}function s(d,u,f=!1){d&&[...d].forEach(h=>o(u,h,f))}function o(d,u,f){if(u){var h,g,v;if(u.__r3f&&(u.__r3f.parent=null),(h=d.__r3f)!=null&&h.objects&&(d.__r3f.objects=d.__r3f.objects.filter(A=>A!==u)),(g=u.__r3f)!=null&&g.attach)s8(d,u,u.__r3f.attach);else if(u.isObject3D&&d.isObject3D){var x;d.remove(u),(x=u.__r3f)!=null&&x.root&&QTe(u.__r3f.root,u)}const _=(v=u.__r3f)==null?void 0:v.primitive,b=f===void 0?u.dispose!==null&&!_:f;if(!_){var y;s((y=u.__r3f)==null?void 0:y.objects,u,b),s(u.children,u,b)}u.__r3f&&(delete u.__r3f.root,delete u.__r3f.objects,delete u.__r3f.handlers,delete u.__r3f.memoizedProps,_||delete u.__r3f),b&&u.dispose&&u.type!=="Scene"&&m1.unstable_scheduleCallback(m1.unstable_IdlePriority,()=>{try{u.dispose()}catch{}}),om(d)}}function a(d,u,f,h){var g;const v=(g=d.__r3f)==null?void 0:g.parent;if(!v)return;const x=t(u,f,d.__r3f.root);if(d.children){for(const y of d.children)y.__r3f&&r(x,y);d.children=d.children.filter(y=>!y.__r3f)}d.__r3f.objects.forEach(y=>r(x,y)),d.__r3f.objects=[],o(v,d),r(v,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[h,h.alternate].forEach(y=>{y!==null&&(y.stateNode=x,y.ref&&(typeof y.ref=="function"?y.ref(x):y.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:WTe({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,u)=>{if(!u)return;const f=d.getState().scene;f.__r3f&&(f.__r3f.root=d,r(f,u))},removeChildFromContainer:(d,u)=>{u&&o(d.getState().scene,u)},insertInContainerBefore:(d,u,f)=>{if(!u||!f)return;const h=d.getState().scene;h.__r3f&&i(h,u,f)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var u;const f=(u=d==null?void 0:d.__r3f)!=null?u:{};return Boolean(f.handlers)},prepareUpdate(d,u,f,h){if(d.__r3f.primitive&&h.object&&h.object!==d)return[!0];{const{args:g=[],children:v,...x}=h,{args:y=[],children:_,...b}=f;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((E,k)=>E!==y[k]))return[!0];const A=iY(d,x,b,!0);return A.changes.length?[!1,A]:null}},commitUpdate(d,[u,f],h,g,v,x){u?a(d,h,v,x):oT(d,f)},commitMount(d,u,f,h){var g;const v=(g=d.__r3f)!=null?g:{};d.raycast&&v.handlers&&v.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>sm(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var u;const{attach:f,parent:h}=(u=d.__r3f)!=null?u:{};f&&h&&s8(h,d,f),d.isObject3D&&(d.visible=!1),om(d)},unhideInstance(d,u){var f;const{attach:h,parent:g}=(f=d.__r3f)!=null?f:{};h&&g&&sT(g,d,h),(d.isObject3D&&u.visible==null||u.visible)&&(d.visible=!0),om(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():kd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&ni.fun(performance.now)?performance.now:ni.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ni.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ni.fun(clearTimeout)?clearTimeout:void 0}),applyProps:oT}}const oY=n=>!!(n!=null&&n.render),aY=T.createContext(null),n3e=(n,e)=>{const t=qW((a,l)=>{const c=new Z,d=new Z,u=new Z;function f(y=l().camera,_=d,b=l().size){const{width:A,height:E,top:k,left:P}=b,C=A/E;_ instanceof Z?u.copy(_):u.set(..._);const O=y.getWorldPosition(c).distanceTo(u);if(Qq(y))return{width:A/y.zoom,height:E/y.zoom,top:k,left:P,factor:1,distance:O,aspect:C};{const U=y.fov*Math.PI/180,K=2*Math.tan(U/2)*O,J=K*(A/E);return{width:J,height:K,top:k,left:P,factor:A/J,distance:O,aspect:C}}}let h;const g=y=>a(_=>({performance:{..._.performance,current:y}})),v=new Le;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(y=1)=>n(l(),y),advance:(y,_)=>e(y,_,l()),legacy:!1,linear:!1,flat:!1,scene:sm(new u1),controls:null,clock:new AI,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();h&&clearTimeout(h),y.performance.current!==y.performance.min&&g(y.performance.min),h=setTimeout(()=>g(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:y=>a(_=>({..._,events:{..._.events,...y}})),setSize:(y,_,b,A,E)=>{const k=l().camera,P={width:y,height:_,top:A||0,left:E||0,updateStyle:b};a(C=>({size:P,viewport:{...C.viewport,...f(k,d,P)}}))},setDpr:y=>a(_=>{const b=rY(y);return{viewport:{..._.viewport,dpr:b,initialDpr:_.viewport.initialDpr||b}}}),setFrameloop:(y="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,y!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:T.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,_,b)=>{const A=l().internal;return A.priority=A.priority+(_>0?1:0),A.subscribers.push({ref:y,priority:_,store:b}),A.subscribers=A.subscribers.sort((E,k)=>E.priority-k.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(_>0?1:0),E.subscribers=E.subscribers.filter(k=>k.ref!==y))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:u}=t.getState();(l!==i||c.dpr!==s)&&(i=l,s=c.dpr,KTe(a,l),d.setPixelRatio(c.dpr),d.setSize(l.width,l.height,l.updateStyle)),a!==o&&(o=a,u(f=>({viewport:{...f.viewport,...f.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Gb,r3e=new Set,i3e=new Set,s3e=new Set;function aT(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function uv(n,e){switch(n){case"before":return aT(r3e,e);case"after":return aT(i3e,e);case"tail":return aT(s3e,e)}}let lT,cT;function uT(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),lT=e.internal.subscribers,Gb=0;Gb<lT.length;Gb++)cT=lT[Gb],cT.ref.current(cT.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function o3e(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,uv("before",l);for(const d of n.values()){var c;i=d.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=uT(l,i))}if(uv("after",l),t===0)return uv("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var d;if(!l)return n.forEach(u=>o(u.store.getState()),c);(d=l.gl.xr)!=null&&d.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,d,u){if(c&&uv("before",l),d)uT(l,d,u);else for(const f of n.values())uT(l,f.store.getState());c&&uv("after",l)}return{loop:s,invalidate:o,advance:a}}function lY(){const n=T.useContext(aY);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Uo(n=t=>t,e){return lY()(n,e)}function ag(n,e=0){const t=lY(),r=t.getState().internal.subscribe,i=eY(n);return vx(()=>r(i,e,t),[e,r,t]),null}const T0=new Map,{invalidate:o8,advance:a8}=o3e(T0),{reconciler:c2,applyProps:$b}=t3e(T0,JTe),Qp={objects:"shallow",strict:!1},a3e=(n,e)=>{const t=typeof n=="function"?n(e):n;return oY(t)?t:new tI({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function l3e(n){return n instanceof HTMLCanvasElement}function c3e(n,e){if(e)return e;if(l3e(n)&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}return{width:0,height:0,top:0,left:0}}function u3e(n){const e=T0.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||n3e(o8,a8),o=t||c2.createContainer(s,kd.ConcurrentRoot,null,!1,null,"",i,null);e||T0.set(n,{fiber:o,store:s});let a,l=!1;return{configure(c={}){let{gl:d,size:u,events:f,onCreated:h,shadows:g=!1,linear:v=!1,flat:x=!1,legacy:y=!1,orthographic:_=!1,frameloop:b="always",dpr:A=[1,2],performance:E,raycaster:k,camera:P,onPointerMissed:C}=c,O=s.getState(),U=O.gl;O.gl||O.set({gl:U=a3e(d,n)});let K=O.raycaster;K||O.set({raycaster:K=new CI});const{params:J,...F}=k||{};if(ni.equ(F,K,Qp)||$b(K,{...F}),ni.equ(J,K.params,Qp)||$b(K,{params:{...K.params,...J}}),!O.camera){const $=P instanceof Q0,N=$?P:_?new Rl(0,0,0,0,.1,1e3):new qn(75,0,.1,1e3);$||(N.position.z=5,P&&$b(N,P),P!=null&&P.rotation||N.lookAt(0,0,0)),O.set({camera:N})}if(!O.xr){const $=(j,W)=>{const R=s.getState();R.frameloop!=="never"&&a8(j,!0,R,W)},N=()=>{const j=s.getState();j.gl.xr.enabled=j.gl.xr.isPresenting,j.gl.xr.setAnimationLoop(j.gl.xr.isPresenting?$:null),j.gl.xr.isPresenting||o8(j)},G={connect(){const j=s.getState().gl;j.xr.addEventListener("sessionstart",N),j.xr.addEventListener("sessionend",N)},disconnect(){const j=s.getState().gl;j.xr.removeEventListener("sessionstart",N),j.xr.removeEventListener("sessionend",N)}};U.xr&&G.connect(),O.set({xr:G})}if(U.shadowMap){const $=ni.boo(g);if($&&U.shadowMap.enabled!==g||!ni.equ(g,U.shadowMap,Qp)){const N=U.shadowMap.enabled;U.shadowMap.enabled=!!g,$?U.shadowMap.type=V4:Object.assign(U.shadowMap,g),N!==U.shadowMap.enabled&&(U.shadowMap.needsUpdate=!0)}}"ColorManagement"in l2&&ZTe(l2,y,["ColorManagement","legacyMode"]);const S=v?Ga:It,I=x?kl:G4;U.outputEncoding!==S&&(U.outputEncoding=S),U.toneMapping!==I&&(U.toneMapping=I),O.legacy!==y&&O.set(()=>({legacy:y})),O.linear!==v&&O.set(()=>({linear:v})),O.flat!==x&&O.set(()=>({flat:x})),d&&!ni.fun(d)&&!oY(d)&&!ni.equ(d,U,Qp)&&$b(U,d),f&&!O.events.handlers&&O.set({events:f(s)}),A&&O.viewport.dpr!==rY(A)&&O.setDpr(A);const D=c3e(n,u);return ni.equ(D,O.size,Qp)||O.setSize(D.width,D.height,D.updateStyle,D.top,D.left),O.frameloop!==b&&O.setFrameloop(b),O.onPointerMissed||O.set({onPointerMissed:C}),E&&!ni.equ(E,O.performance,Qp)&&O.set($=>({performance:{...$.performance,...E}})),a=h,l=!0,this},render(c){return l||this.configure(),c2.updateContainer(T.createElement(d3e,{store:s,children:c,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){cY(n)}}}function d3e({store:n,children:e,onCreated:t,rootElement:r}){return vx(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),T.createElement(aY.Provider,{value:n},e)}function cY(n,e){const t=T0.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),c2.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),XTe(i),T0.delete(n),e&&e(n)}catch{}},500)})}}c2.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:T.version});function H5(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?r=setTimeout(l,e-d):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var d=t&&!r;return r||(r=setTimeout(l,e)),d&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}H5.debounce=H5;var l8=H5;function f3e(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=T.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=T.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,u=T.useRef(!1);T.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,h,g]=T.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:b,top:A,width:E,height:k,bottom:P,right:C,x:O,y:U}=l.current.element.getBoundingClientRect(),K={left:b,top:A,width:E,height:k,bottom:P,right:C,x:O,y:U};l.current.element instanceof HTMLElement&&i&&(K.height=l.current.element.offsetHeight,K.width=l.current.element.offsetWidth),Object.freeze(K),u.current&&!g3e(l.current.lastBounds,K)&&a(l.current.lastBounds=K)};return[_,d?l8(_,d):_,c?l8(_,c):_]},[a,i,c,d]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",g,{capture:!0,passive:!0})))}const y=_=>{!_||_===l.current.element||(v(),l.current.element=_,l.current.scrollContainers=uY(_),x())};return p3e(g,Boolean(t)),h3e(h),T.useEffect(()=>{v(),x()},[t,g,h]),T.useEffect(()=>v,[]),[y,o,f]}function h3e(n){T.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function p3e(n,e){T.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function uY(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...uY(n.parentElement)]}const m3e=["x","y","top","bottom","left","right","width","height"],g3e=(n,e)=>m3e.every(t=>n[t]===e[t]);var v3e=Object.defineProperty,y3e=Object.defineProperties,x3e=Object.getOwnPropertyDescriptors,c8=Object.getOwnPropertySymbols,_3e=Object.prototype.hasOwnProperty,b3e=Object.prototype.propertyIsEnumerable,u8=(n,e,t)=>e in n?v3e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,d8=(n,e)=>{for(var t in e||(e={}))_3e.call(e,t)&&u8(n,t,e[t]);if(c8)for(var t of c8(e))b3e.call(e,t)&&u8(n,t,e[t]);return n},w3e=(n,e)=>y3e(n,x3e(e));function kI(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=kI(r,e,t);if(i)return i;r=e?null:r.sibling}}function dY(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const RI=dY(T.createContext(null));class fY extends T.Component{render(){return T.createElement(RI.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:S3e,ReactCurrentDispatcher:A3e}=T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function E3e(){const n=T.useContext(RI);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=T.useId();return T.useMemo(()=>{var r;return(r=S3e.current)!=null?r:kI(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}const dv=[],f8=new WeakMap;function M3e(){var n;const e=E3e();dv.splice(0,dv.length),kI(e,!0,t=>{var r;const i=(r=t.type)==null?void 0:r._context;i&&i!==RI&&dv.push(dY(i))});for(const t of dv){const r=(n=A3e.current)==null?void 0:n.readContext(t);f8.set(t,r)}return T.useMemo(()=>dv.reduce((t,r)=>i=>T.createElement(t,null,T.createElement(r.Provider,w3e(d8({},i),{value:f8.get(r)}))),t=>T.createElement(fY,d8({},t))),[])}const dT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function C3e(n){const{handlePointer:e}=e3e(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(dT).reduce((t,r)=>({...t,[r]:e(r)}),{}),connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=dT[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=dT[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const T3e=T.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=C3e,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:u,legacy:f,orthographic:h,frameloop:g,dpr:v,performance:x,raycaster:y,camera:_,onPointerMissed:b,onCreated:A,...E},k){T.useMemo(()=>TI(l2),[]);const P=M3e(),[C,O]=f3e({scroll:!0,debounce:{scroll:50,resize:0},...r}),U=T.useRef(null),K=T.useRef(null),[J,F]=T.useState(null);T.useImperativeHandle(k,()=>U.current);const S=eY(b),[I,D]=T.useState(!1),[$,N]=T.useState(!1);if(I)throw I;if($)throw $;const G=T.useRef(null);O.width>0&&O.height>0&&J&&(G.current||(G.current=u3e(J)),G.current.configure({gl:s,events:o,shadows:c,linear:d,flat:u,legacy:f,orthographic:h,frameloop:g,dpr:v,performance:x,raycaster:y,camera:_,size:O,onPointerMissed:(...W)=>S.current==null?void 0:S.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(a?jTe(a)?a.current:a:K.current),l&&W.setEvents({compute:(R,Y)=>{const Ae=R[l+"X"],z=R[l+"Y"];Y.pointer.set(Ae/Y.size.width*2-1,-(z/Y.size.height)*2+1),Y.raycaster.setFromCamera(Y.pointer,Y.camera)}}),A==null||A(W)}}),G.current.render(T.createElement(P,null,T.createElement(tY,{set:N},T.createElement(T.Suspense,{fallback:T.createElement(qTe,{set:D})},e))))),vx(()=>{F(U.current)},[]),T.useEffect(()=>{if(J)return()=>cY(J)},[J]);const j=a?"none":"auto";return T.createElement("div",yr({ref:K,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i}},E),T.createElement("div",{ref:C,style:{width:"100%",height:"100%"}},T.createElement("canvas",{ref:U,style:{display:"block"}},t)))}),k3e=T.forwardRef(function(e,t){return T.createElement(fY,null,T.createElement(T3e,yr({},e,{ref:t})))}),yx=new Z,PI=new Z,R3e=new Z;function P3e(n,e,t){const r=yx.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function I3e(n,e){const t=yx.setFromMatrixPosition(n.matrixWorld),r=PI.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(R3e);return i.angleTo(s)>Math.PI/2}function L3e(n,e,t,r){const i=yx.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function O3e(n,e){if(e instanceof Rl)return e.zoom;if(e instanceof qn){const t=yx.setFromMatrixPosition(n.matrixWorld),r=PI.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function N3e(n,e,t){if(e instanceof qn||e instanceof Rl){const r=yx.setFromMatrixPosition(n.matrixWorld),i=PI.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const G5=n=>Math.abs(n)<1e-10?0:n;function hY(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=G5(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const D3e=(n=>e=>hY(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),B3e=(n=>(e,t)=>hY(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]),xr=T.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:d=!1,occlude:u,onOcclude:f,zIndexRange:h=[16777271,0],calculatePosition:g=P3e,as:v="div",wrapperClass:x,pointerEvents:y="auto",..._},b)=>{const{gl:A,camera:E,scene:k,size:P,raycaster:C,events:O}=Uo(),[U]=T.useState(()=>document.createElement(v)),K=T.useRef(),J=T.useRef(null),F=T.useRef(0),S=T.useRef([0,0]),I=T.useRef(null),D=T.useRef(null),$=(a==null?void 0:a.current)||O.connected||A.domElement.parentNode;T.useLayoutEffect(()=>{if(J.current){const W=K.current=E7(U);if(k.updateMatrixWorld(),d)U.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const R=g(J.current,E,P);U.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${R[0]}px,${R[1]}px,0);transform-origin:0 0;`}return $&&(i?$.prepend(U):$.appendChild(U)),()=>{$&&$.removeChild(U),W.unmount()}}},[$,d]),T.useLayoutEffect(()=>{x&&(U.className=x)},[x]);const N=T.useMemo(()=>d?{position:"absolute",top:0,left:0,width:P.width,height:P.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-P.height/2,left:-P.width/2,width:P.width,height:P.height},...t},[t,s,o,P,d]),G=T.useMemo(()=>({position:"absolute",pointerEvents:y}),[y]);T.useLayoutEffect(()=>{if(d){var W;(W=K.current)==null||W.render(T.createElement("div",{ref:I,style:N},T.createElement("div",{ref:D,style:G},T.createElement("div",{ref:b,className:r,style:t,children:n}))))}else{var R;(R=K.current)==null||R.render(T.createElement("div",{ref:b,style:N,className:r,children:n}))}});const j=T.useRef(!0);return ag(()=>{if(J.current){E.updateMatrixWorld(),J.current.updateWorldMatrix(!0,!1);const W=d?S.current:g(J.current,E,P);if(d||Math.abs(F.current-E.zoom)>e||Math.abs(S.current[0]-W[0])>e||Math.abs(S.current[1]-W[1])>e){const R=I3e(J.current,E);let Y=!1;typeof u=="boolean"?u===!0&&(Y=[k]):Array.isArray(u)&&(Y=u.map(z=>z.current));const Ae=j.current;if(Y){const z=L3e(J.current,E,C,Y);j.current=z&&!R}else j.current=!R;if(Ae!==j.current&&(f?f(!j.current):U.style.display=j.current?"block":"none"),U.style.zIndex=`${N3e(J.current,E,h)}`,d){const[z,Q]=[P.width/2,P.height/2],ve=E.projectionMatrix.elements[5]*Q,{isOrthographicCamera:ge,top:Re,left:Oe,bottom:Me,right:X}=E,ee=D3e(E.matrixWorldInverse),ie=ge?`scale(${ve})translate(${G5(-(X+Oe)/2)}px,${G5((Re+Me)/2)}px)`:`translateZ(${ve}px)`;let fe=J.current.matrixWorld;c&&(fe=E.matrixWorldInverse.clone().transpose().copyPosition(fe).scale(J.current.scale),fe.elements[3]=fe.elements[7]=fe.elements[11]=0,fe.elements[15]=1),U.style.width=P.width+"px",U.style.height=P.height+"px",U.style.perspective=ge?"":`${ve}px`,I.current&&D.current&&(I.current.style.transform=`${ie}${ee}translate(${z}px,${Q}px)`,D.current.style.transform=B3e(fe,1/((l||10)/400)))}else{const z=l===void 0?1:O3e(J.current,E)*l;U.style.transform=`translate3d(${W[0]}px,${W[1]}px,0) scale(${z})`}S.current=W,F.current=E.zoom}}}),T.createElement("group",yr({},_,{ref:J}))});let fv;function F3e(){if(fv!==void 0)return fv;try{var n;let e;const t=document.createElement("canvas");return fv=!!(window.WebGL2RenderingContext&&(e=t.getContext("webgl2"))),e&&((n=e.getExtension("WEBGL_lose_context"))===null||n===void 0||n.loseContext()),fv}catch{return fv=!1}}const h8=(n,e)=>(n%e+e)%e;let z3e=class extends ca{constructor(e,t){super(),Kt(this,"object",void 0),Kt(this,"domElement",void 0),Kt(this,"enabled",!0),Kt(this,"target",new Z),Kt(this,"minDistance",0),Kt(this,"maxDistance",1/0),Kt(this,"minZoom",0),Kt(this,"maxZoom",1/0),Kt(this,"minPolarAngle",0),Kt(this,"maxPolarAngle",Math.PI),Kt(this,"minAzimuthAngle",-1/0),Kt(this,"maxAzimuthAngle",1/0),Kt(this,"enableDamping",!1),Kt(this,"dampingFactor",.05),Kt(this,"enableZoom",!0),Kt(this,"zoomSpeed",1),Kt(this,"enableRotate",!0),Kt(this,"rotateSpeed",1),Kt(this,"enablePan",!0),Kt(this,"panSpeed",1),Kt(this,"screenSpacePanning",!0),Kt(this,"keyPanSpeed",7),Kt(this,"autoRotate",!1),Kt(this,"autoRotateSpeed",2),Kt(this,"reverseOrbit",!1),Kt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Kt(this,"mouseButtons",{LEFT:Qf.ROTATE,MIDDLE:Qf.DOLLY,RIGHT:Qf.PAN}),Kt(this,"touches",{ONE:eh.ROTATE,TWO:eh.DOLLY_PAN}),Kt(this,"target0",void 0),Kt(this,"position0",void 0),Kt(this,"zoom0",void 0),Kt(this,"_domElementKeyEvents",null),Kt(this,"getPolarAngle",void 0),Kt(this,"getAzimuthalAngle",void 0),Kt(this,"setPolarAngle",void 0),Kt(this,"setAzimuthalAngle",void 0),Kt(this,"getDistance",void 0),Kt(this,"listenToKeyEvents",void 0),Kt(this,"saveState",void 0),Kt(this,"reset",void 0),Kt(this,"update",void 0),Kt(this,"connect",void 0),Kt(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof qn?this.object.zoom:1,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=ae=>{let xe=h8(ae,2*Math.PI),je=d.phi;je<0&&(je+=2*Math.PI),xe<0&&(xe+=2*Math.PI);let qe=Math.abs(xe-je);2*Math.PI-qe<qe&&(xe<je?xe+=2*Math.PI:je+=2*Math.PI),u.phi=xe-je,r.update()},this.setAzimuthalAngle=ae=>{let xe=h8(ae,2*Math.PI),je=d.theta;je<0&&(je+=2*Math.PI),xe<0&&(xe+=2*Math.PI);let qe=Math.abs(xe-je);2*Math.PI-qe<qe&&(xe<je?xe+=2*Math.PI:je+=2*Math.PI),u.theta=xe-je,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ae=>{ae.addEventListener("keydown",le),this._domElementKeyEvents=ae},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof qn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof qn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const ae=new Z,xe=new ss().setFromUnitVectors(e.up,new Z(0,1,0)),je=xe.clone().invert(),qe=new Z,st=new ss,ce=2*Math.PI;return function(){const Ee=r.object.position;ae.copy(Ee).sub(r.target),ae.applyQuaternion(xe),d.setFromVector3(ae),r.autoRotate&&l===a.NONE&&J(U()),r.enableDamping?(d.theta+=u.theta*r.dampingFactor,d.phi+=u.phi*r.dampingFactor):(d.theta+=u.theta,d.phi+=u.phi);let Je=r.minAzimuthAngle,He=r.maxAzimuthAngle;return isFinite(Je)&&isFinite(He)&&(Je<-Math.PI?Je+=ce:Je>Math.PI&&(Je-=ce),He<-Math.PI?He+=ce:He>Math.PI&&(He-=ce),Je<=He?d.theta=Math.max(Je,Math.min(He,d.theta)):d.theta=d.theta>(Je+He)/2?Math.max(Je,d.theta):Math.min(He,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=f,d.radius=Math.max(r.minDistance,Math.min(r.maxDistance,d.radius)),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),ae.setFromSpherical(d),ae.applyQuaternion(je),Ee.copy(r.target).add(ae),r.object.lookAt(r.target),r.enableDamping===!0?(u.theta*=1-r.dampingFactor,u.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(u.set(0,0,0),h.set(0,0,0)),f=1,g||qe.distanceToSquared(r.object.position)>c||8*(1-st.dot(r.object.quaternion))>c?(r.dispatchEvent(i),qe.copy(r.object.position),st.copy(r.object.quaternion),g=!1,!0):!1}})(),this.connect=ae=>{ae===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=ae,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Ue),r.domElement.addEventListener("pointerdown",we),r.domElement.addEventListener("pointercancel",nt),r.domElement.addEventListener("wheel",q)},this.dispose=()=>{var ae,xe,je,qe,st,ce;(ae=r.domElement)===null||ae===void 0||ae.removeEventListener("contextmenu",Ue),(xe=r.domElement)===null||xe===void 0||xe.removeEventListener("pointerdown",we),(je=r.domElement)===null||je===void 0||je.removeEventListener("pointercancel",nt),(qe=r.domElement)===null||qe===void 0||qe.removeEventListener("wheel",q),(st=r.domElement)===null||st===void 0||st.ownerDocument.removeEventListener("pointermove",Ne),(ce=r.domElement)===null||ce===void 0||ce.ownerDocument.removeEventListener("pointerup",Ze),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",le)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,d=new a2,u=new a2;let f=1;const h=new Z;let g=!1;const v=new Le,x=new Le,y=new Le,_=new Le,b=new Le,A=new Le,E=new Le,k=new Le,P=new Le,C=[],O={};function U(){return 2*Math.PI/60/60*r.autoRotateSpeed}function K(){return Math.pow(.95,r.zoomSpeed)}function J(ae){r.reverseOrbit?u.theta+=ae:u.theta-=ae}function F(ae){r.reverseOrbit?u.phi+=ae:u.phi-=ae}const S=(()=>{const ae=new Z;return function(je,qe){ae.setFromMatrixColumn(qe,0),ae.multiplyScalar(-je),h.add(ae)}})(),I=(()=>{const ae=new Z;return function(je,qe){r.screenSpacePanning===!0?ae.setFromMatrixColumn(qe,1):(ae.setFromMatrixColumn(qe,0),ae.crossVectors(r.object.up,ae)),ae.multiplyScalar(je),h.add(ae)}})(),D=(()=>{const ae=new Z;return function(je,qe){const st=r.domElement;if(st&&r.object instanceof qn&&r.object.isPerspectiveCamera){const ce=r.object.position;ae.copy(ce).sub(r.target);let $e=ae.length();$e*=Math.tan(r.object.fov/2*Math.PI/180),S(2*je*$e/st.clientHeight,r.object.matrix),I(2*qe*$e/st.clientHeight,r.object.matrix)}else st&&r.object instanceof Rl&&r.object.isOrthographicCamera?(S(je*(r.object.right-r.object.left)/r.object.zoom/st.clientWidth,r.object.matrix),I(qe*(r.object.top-r.object.bottom)/r.object.zoom/st.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function $(ae){r.object instanceof qn&&r.object.isPerspectiveCamera?f/=ae:r.object instanceof Rl&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*ae)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function N(ae){r.object instanceof qn&&r.object.isPerspectiveCamera?f*=ae:r.object instanceof Rl&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/ae)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function G(ae){v.set(ae.clientX,ae.clientY)}function j(ae){E.set(ae.clientX,ae.clientY)}function W(ae){_.set(ae.clientX,ae.clientY)}function R(ae){x.set(ae.clientX,ae.clientY),y.subVectors(x,v).multiplyScalar(r.rotateSpeed);const xe=r.domElement;xe&&(J(2*Math.PI*y.x/xe.clientHeight),F(2*Math.PI*y.y/xe.clientHeight)),v.copy(x),r.update()}function Y(ae){k.set(ae.clientX,ae.clientY),P.subVectors(k,E),P.y>0?$(K()):P.y<0&&N(K()),E.copy(k),r.update()}function Ae(ae){b.set(ae.clientX,ae.clientY),A.subVectors(b,_).multiplyScalar(r.panSpeed),D(A.x,A.y),_.copy(b),r.update()}function z(ae){ae.deltaY<0?N(K()):ae.deltaY>0&&$(K()),r.update()}function Q(ae){let xe=!1;switch(ae.code){case r.keys.UP:D(0,r.keyPanSpeed),xe=!0;break;case r.keys.BOTTOM:D(0,-r.keyPanSpeed),xe=!0;break;case r.keys.LEFT:D(r.keyPanSpeed,0),xe=!0;break;case r.keys.RIGHT:D(-r.keyPanSpeed,0),xe=!0;break}xe&&(ae.preventDefault(),r.update())}function ve(){if(C.length==1)v.set(C[0].pageX,C[0].pageY);else{const ae=.5*(C[0].pageX+C[1].pageX),xe=.5*(C[0].pageY+C[1].pageY);v.set(ae,xe)}}function ge(){if(C.length==1)_.set(C[0].pageX,C[0].pageY);else{const ae=.5*(C[0].pageX+C[1].pageX),xe=.5*(C[0].pageY+C[1].pageY);_.set(ae,xe)}}function Re(){const ae=C[0].pageX-C[1].pageX,xe=C[0].pageY-C[1].pageY,je=Math.sqrt(ae*ae+xe*xe);E.set(0,je)}function Oe(){r.enableZoom&&Re(),r.enablePan&&ge()}function Me(){r.enableZoom&&Re(),r.enableRotate&&ve()}function X(ae){if(C.length==1)x.set(ae.pageX,ae.pageY);else{const je=tt(ae),qe=.5*(ae.pageX+je.x),st=.5*(ae.pageY+je.y);x.set(qe,st)}y.subVectors(x,v).multiplyScalar(r.rotateSpeed);const xe=r.domElement;xe&&(J(2*Math.PI*y.x/xe.clientHeight),F(2*Math.PI*y.y/xe.clientHeight)),v.copy(x)}function ee(ae){if(C.length==1)b.set(ae.pageX,ae.pageY);else{const xe=tt(ae),je=.5*(ae.pageX+xe.x),qe=.5*(ae.pageY+xe.y);b.set(je,qe)}A.subVectors(b,_).multiplyScalar(r.panSpeed),D(A.x,A.y),_.copy(b)}function ie(ae){const xe=tt(ae),je=ae.pageX-xe.x,qe=ae.pageY-xe.y,st=Math.sqrt(je*je+qe*qe);k.set(0,st),P.set(0,Math.pow(k.y/E.y,r.zoomSpeed)),$(P.y),E.copy(k)}function fe(ae){r.enableZoom&&ie(ae),r.enablePan&&ee(ae)}function Ce(ae){r.enableZoom&&ie(ae),r.enableRotate&&X(ae)}function we(ae){if(r.enabled!==!1){if(C.length===0){var xe,je;(xe=r.domElement)===null||xe===void 0||xe.ownerDocument.addEventListener("pointermove",Ne),(je=r.domElement)===null||je===void 0||je.ownerDocument.addEventListener("pointerup",Ze)}mt(ae),ae.pointerType==="touch"?ze(ae):ht(ae)}}function Ne(ae){r.enabled!==!1&&(ae.pointerType==="touch"?Be(ae):se(ae))}function Ze(ae){if(be(ae),C.length===0){var xe,je,qe;(xe=r.domElement)===null||xe===void 0||xe.releasePointerCapture(ae.pointerId),(je=r.domElement)===null||je===void 0||je.ownerDocument.removeEventListener("pointermove",Ne),(qe=r.domElement)===null||qe===void 0||qe.ownerDocument.removeEventListener("pointerup",Ze)}r.dispatchEvent(o),l=a.NONE}function nt(ae){be(ae)}function ht(ae){let xe;switch(ae.button){case 0:xe=r.mouseButtons.LEFT;break;case 1:xe=r.mouseButtons.MIDDLE;break;case 2:xe=r.mouseButtons.RIGHT;break;default:xe=-1}switch(xe){case Qf.DOLLY:if(r.enableZoom===!1)return;j(ae),l=a.DOLLY;break;case Qf.ROTATE:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(r.enablePan===!1)return;W(ae),l=a.PAN}else{if(r.enableRotate===!1)return;G(ae),l=a.ROTATE}break;case Qf.PAN:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(r.enableRotate===!1)return;G(ae),l=a.ROTATE}else{if(r.enablePan===!1)return;W(ae),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function se(ae){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;R(ae);break;case a.DOLLY:if(r.enableZoom===!1)return;Y(ae);break;case a.PAN:if(r.enablePan===!1)return;Ae(ae);break}}function q(ae){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ae.preventDefault(),r.dispatchEvent(s),z(ae),r.dispatchEvent(o))}function le(ae){r.enabled===!1||r.enablePan===!1||Q(ae)}function ze(ae){switch(Xe(ae),C.length){case 1:switch(r.touches.ONE){case eh.ROTATE:if(r.enableRotate===!1)return;ve(),l=a.TOUCH_ROTATE;break;case eh.PAN:if(r.enablePan===!1)return;ge(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case eh.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Oe(),l=a.TOUCH_DOLLY_PAN;break;case eh.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Me(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Be(ae){switch(Xe(ae),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;X(ae),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ee(ae),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;fe(ae),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ce(ae),r.update();break;default:l=a.NONE}}function Ue(ae){r.enabled!==!1&&ae.preventDefault()}function mt(ae){C.push(ae)}function be(ae){delete O[ae.pointerId];for(let xe=0;xe<C.length;xe++)if(C[xe].pointerId==ae.pointerId){C.splice(xe,1);return}}function Xe(ae){let xe=O[ae.pointerId];xe===void 0&&(xe=new Le,O[ae.pointerId]=xe),xe.set(ae.pageX,ae.pageY)}function tt(ae){const xe=ae.pointerId===C[0].pointerId?C[1]:C[0];return O[xe.pointerId]}t!==void 0&&this.connect(t),this.update()}};function V3e(n,e,t,r){const i=class extends Gr{constructor(o={}){const a=Object.entries(n);super({uniforms:a.reduce((l,[c,d])=>{const u=Z4.clone({[c]:{value:d}});return{...l,...u}},{}),vertexShader:e,fragmentShader:t,...o}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),r&&r(this)}};return i.key=DA.generateUUID(),i}const pY=T.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a,...l},c)=>{const d=Uo(A=>A.invalidate),u=Uo(A=>A.camera),f=Uo(A=>A.gl),h=Uo(A=>A.events),g=Uo(A=>A.set),v=Uo(A=>A.get),x=Uo(A=>A.performance),y=e||u,_=r||h.connected||f.domElement,b=T.useMemo(()=>new z3e(y),[y]);return ag(()=>{b.enabled&&b.update()},-1),T.useEffect(()=>(b.connect(_),()=>void b.dispose()),[_,t,b,d]),T.useEffect(()=>{const A=E=>{d(),t&&x.regress(),s&&s(E)};return b.addEventListener("change",A),o&&b.addEventListener("start",o),a&&b.addEventListener("end",a),()=>{o&&b.removeEventListener("start",o),a&&b.removeEventListener("end",a),b.removeEventListener("change",A)}},[s,o,a,b,d]),T.useEffect(()=>{if(n){const A=v().controls;return g({controls:b}),()=>g({controls:A})}},[n,b]),T.createElement("primitive",yr({ref:c,object:b,enableDamping:i},l))});class U3e extends Gr{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(mvPosition.x + 2.0 * time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <encodings_fragment>
      }`})}}const H3e=n=>new Z().setFromSpherical(new a2(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),G3e=T.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:r=0,factor:i=4,fade:s=!1,speed:o=1},a)=>{const l=T.useRef(),[c,d,u]=T.useMemo(()=>{const h=[],g=[],v=Array.from({length:t},()=>(.5+.5*Math.random())*i),x=new We;let y=n+e;const _=e/t;for(let b=0;b<t;b++)y-=_*Math.random(),h.push(...H3e(y).toArray()),x.setHSL(b/t,r,.9),g.push(x.r,x.g,x.b);return[new Float32Array(h),new Float32Array(g),new Float32Array(v)]},[t,e,i,n,r]);ag(h=>l.current&&(l.current.uniforms.time.value=h.clock.getElapsedTime()*o));const[f]=T.useState(()=>new U3e);return T.createElement("points",{ref:a},T.createElement("bufferGeometry",null,T.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),T.createElement("bufferAttribute",{attach:"attributes-color",args:[d,3]}),T.createElement("bufferAttribute",{attach:"attributes-size",args:[u,1]})),T.createElement("primitive",{ref:l,object:f,attach:"material",blending:r2,"uniforms-fade-value":s,transparent:!0,vertexColors:!0}))});var $3e=`#define GLSLIFY 1
varying vec3 vColor;varying float vOpacity;void main(){float distanceToCenter=distance(gl_PointCoord,vec2(0.5));float strength=0.05/distanceToCenter-0.1;gl_FragColor=vec4(vColor,strength*vOpacity);}`,W3e=`#define GLSLIFY 1
uniform float pixelRatio;uniform float time;attribute float size;attribute float speed;attribute float opacity;attribute vec3 noise;attribute vec3 color;varying vec3 vColor;varying float vOpacity;void main(){vec4 modelPosition=modelMatrix*vec4(position,1.0);modelPosition.y+=sin(time*speed+modelPosition.x*noise.x*100.0)*0.2;modelPosition.z+=cos(time*speed+modelPosition.x*noise.y*100.0)*0.2;modelPosition.x+=cos(time*speed+modelPosition.x*noise.z*100.0)*0.2;vec4 viewPosition=viewMatrix*modelPosition;vec4 projectionPostion=projectionMatrix*viewPosition;gl_Position=projectionPostion;gl_PointSize=size*25.*pixelRatio;gl_PointSize*=(1.0/-viewPosition.z);vColor=color;vOpacity=opacity;}`;const j3e=V3e({time:0,pixelRatio:1},W3e,$3e),mY=n=>n&&n.constructor===Float32Array,q3e=n=>[n.r,n.g,n.b],gY=n=>n instanceof Le||n instanceof Z||n instanceof Mn,vY=n=>Array.isArray(n)?n:gY(n)?n.toArray():[n,n,n];function hv(n,e,t){return T.useMemo(()=>{if(e!==void 0){if(mY(e))return e;if(e instanceof We){const r=Array.from({length:n*3},()=>q3e(e)).flat();return Float32Array.from(r)}else if(gY(e)||Array.isArray(e)){const r=Array.from({length:n*3},()=>vY(e)).flat();return Float32Array.from(r)}return Float32Array.from({length:n},()=>e)}return Float32Array.from({length:n},t)},[e])}const Y3e=T.forwardRef(({noise:n=1,count:e=100,speed:t=1,opacity:r=1,scale:i=1,size:s,color:o,...a},l)=>{T.useMemo(()=>TI({SparklesMaterial:j3e}),[]);const c=T.useRef(),d=Uo(y=>y.viewport.dpr),u=T.useMemo(()=>Float32Array.from(Array.from({length:e},()=>vY(i).map(DA.randFloatSpread)).flat()),[e,i]),f=hv(e,s,Math.random),h=hv(e,r),g=hv(e,t),v=hv(e*3,n),x=hv(o===void 0?e*3:e,mY(o)?o:new We(o),()=>1);return ag(y=>c.current.uniforms.time.value=y.clock.elapsedTime),T.createElement("points",yr({key:`particle-${e}-${JSON.stringify(i)}`},a,{ref:l}),T.createElement("bufferGeometry",null,T.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3]}),T.createElement("bufferAttribute",{attach:"attributes-size",args:[f,1]}),T.createElement("bufferAttribute",{attach:"attributes-opacity",args:[h,1]}),T.createElement("bufferAttribute",{attach:"attributes-speed",args:[g,1]}),T.createElement("bufferAttribute",{attach:"attributes-color",args:[x,3]}),T.createElement("bufferAttribute",{attach:"attributes-noise",args:[v,3]})),T.createElement("sparklesMaterial",{ref:c,transparent:!0,pixelRatio:d,depthWrite:!1}))});/**
 * postprocessing v6.29.1 build Thu Oct 27 2022
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2022 Raoul van Rschen
 * @license Zlib
 */var X3e=`#include <packing>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
uniform lowp sampler2D luminanceBuffer0;uniform lowp sampler2D luminanceBuffer1;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float l0=unpackRGBAToFloat(texture2D(luminanceBuffer0,vUv));
#if __VERSION__ < 300
float l1=texture2DLodEXT(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;
#else
float l1=textureLod(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;
#endif
l0=max(minLuminance,l0);l1=max(minLuminance,l1);float adaptedLum=l0+(l1-l0)*(1.0-exp(-deltaTime*tau));gl_FragColor=(adaptedLum==1.0)?vec4(1.0):packFloatToRGBA(adaptedLum);}`,II="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",K3e=class extends Gr{constructor(){super({name:"AdaptiveLuminanceMaterial",defines:{THREE_REVISION:Ou.replace(/\D+/g,""),MIP_LEVEL_1X1:"0.0"},uniforms:{luminanceBuffer0:new rt(null),luminanceBuffer1:new rt(null),minLuminance:new rt(.01),deltaTime:new rt(0),tau:new rt(1)},extensions:{shaderTextureLOD:!0},blending:Ti,depthWrite:!1,depthTest:!1,fragmentShader:X3e,vertexShader:II}),this.toneMapped=!1}set luminanceBuffer0(n){this.uniforms.luminanceBuffer0.value=n}setLuminanceBuffer0(n){this.uniforms.luminanceBuffer0.value=n}set luminanceBuffer1(n){this.uniforms.luminanceBuffer1.value=n}setLuminanceBuffer1(n){this.uniforms.luminanceBuffer1.value=n}set mipLevel1x1(n){this.defines.MIP_LEVEL_1X1=n.toFixed(1),this.needsUpdate=!0}setMipLevel1x1(n){this.mipLevel1x1=n}set deltaTime(n){this.uniforms.deltaTime.value=n}setDeltaTime(n){this.uniforms.deltaTime.value=n}get minLuminance(){return this.uniforms.minLuminance.value}set minLuminance(n){this.uniforms.minLuminance.value=n}getMinLuminance(){return this.uniforms.minLuminance.value}setMinLuminance(n){this.uniforms.minLuminance.value=n}get adaptationRate(){return this.uniforms.tau.value}set adaptationRate(n){this.uniforms.tau.value=n}getAdaptationRate(){return this.uniforms.tau.value}setAdaptationRate(n){this.uniforms.tau.value=n}};function p8(n,e){let t="texel";if(n!==null){const r=Number.parseInt(Ou);if(!(e&&r>=133&&r!==135&&n.format===qo&&n.type===$i&&n.encoding===It))switch(n.encoding){case It:t="sRGBToLinear(texel)";break;case Ga:t="texel";break;default:throw new Error(`Unsupported encoding: ${n.encoding}`)}}return t}var Bt={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},$d={NONE:0,DEPTH:1,CONVOLUTION:2},Bn={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},sp={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},Yc={REINHARD:0,REINHARD2:1,REINHARD2_ADAPTIVE:2,OPTIMIZED_CINEON:3,ACES_FILMIC:4},Wb={DEFAULT:0,ESKIL:1},Z3e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
}`,J3e="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",Q3e=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],yY=class extends Gr{constructor(n=new Mn){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new rt(null),texelSize:new rt(new Mn),scale:new rt(1),kernel:new rt(0)},blending:Ti,depthWrite:!1,depthTest:!1,fragmentShader:Z3e,vertexShader:J3e}),this.toneMapped=!1,this.setTexelSize(n.x,n.y),this.kernelSize=sp.MEDIUM}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.inputBuffer=n}get kernelSequence(){return Q3e[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(n){this.uniforms.scale.value=n}getScale(){return this.uniforms.scale.value}setScale(n){this.uniforms.scale.value=n}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(n){this.uniforms.kernel.value=n}setKernel(n){this.kernel=n}setTexelSize(n,e){this.uniforms.texelSize.value.set(n,e,n*.5,e*.5)}setSize(n,e){const t=1/n,r=1/e;this.uniforms.texelSize.value.set(t,r,t*.5,r*.5)}},eke=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
#include <dithering_fragment>
}`,xY=class extends Gr{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new rt(null),opacity:new rt(1)},blending:Ti,depthWrite:!1,depthTest:!1,fragmentShader:eke,vertexShader:II}),this.toneMapped=!1}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}getOpacity(n){return this.uniforms.opacity.value}setOpacity(n){this.uniforms.opacity.value=n}},tke=`#include <packing>
#include <clipping_planes_pars_fragment>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float cameraNear;uniform float cameraFar;varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <clipping_planes_fragment>
vec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);
#if DEPTH_PACKING == 3201
float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));
#else
float fragCoordZ=texture2D(depthBuffer,projTexCoord).r;
#endif
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#else
float viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#endif
float depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}`,nke=`#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <skinbase_vertex>
#include <begin_vertex>
#include <morphtarget_vertex>
#include <skinning_vertex>
#include <project_vertex>
vViewZ=mvPosition.z;vProjTexCoord=gl_Position;
#include <clipping_planes_vertex>
}`,rke=class extends Gr{constructor(n=null,e){super({name:"DepthComparisonMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new rt(null),cameraNear:new rt(.3),cameraFar:new rt(1e3)},blending:Ti,depthWrite:!1,depthTest:!1,fragmentShader:tke,vertexShader:nke}),this.toneMapped=!1,this.depthBuffer=n,this.depthPacking=o1,this.copyCameraSettings(e)}set depthBuffer(n){this.uniforms.depthBuffer.value=n}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setDepthBuffer(n,e=o1){this.depthBuffer=n,this.depthPacking=e}adoptCameraSettings(n){this.copyCameraSettings(n)}copyCameraSettings(n){n&&(this.uniforms.cameraNear.value=n.near,this.uniforms.cameraFar.value=n.far,n instanceof qn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},ike=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[]=float[4](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[]=float[4](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[]=vec3[4](texture2D(normalBuffer,vUv0).rgb,texture2D(normalBuffer,vUv1).rgb,texture2D(normalBuffer,vUv2).rgb,texture2D(normalBuffer,vUv3).rgb);
#else
vec3 n[]=vec3[4](vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));
#endif
gl_FragColor=vec4(n[index],d[index]);}`,ske="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",oke=class extends Gr{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new rt(null),normalBuffer:new rt(null),texelSize:new rt(new Le)},blending:Ti,depthWrite:!1,depthTest:!1,fragmentShader:ike,vertexShader:ske}),this.toneMapped=!1}set depthBuffer(n){this.uniforms.depthBuffer.value=n}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setDepthBuffer(n,e=gf){this.depthBuffer=n,this.depthPacking=e}set normalBuffer(n){this.uniforms.normalBuffer.value=n,n!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(n){this.normalBuffer=n}setTexelSize(n,e){this.uniforms.texelSize.value.set(n,e)}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},ake=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <encodings_fragment>
}`,lke="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",cke=class extends Gr{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new rt(null),texelSize:new rt(new Le)},blending:Ti,depthWrite:!1,depthTest:!1,fragmentShader:ake,vertexShader:lke}),this.toneMapped=!1}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},uke=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,dke="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",fke=class extends Gr{constructor(n,e,t,r,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Ou.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new rt(null),depthBuffer:new rt(null),resolution:new rt(new Le),texelSize:new rt(new Le),cameraNear:new rt(.3),cameraFar:new rt(1e3),aspect:new rt(1),time:new rt(0)},blending:Ti,depthWrite:!1,depthTest:!1,dithering:i}),this.toneMapped=!1,n&&this.setShaderParts(n),e&&this.setDefines(e),t&&this.setUniforms(t),this.copyCameraSettings(r)}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(n){this.uniforms.depthBuffer.value=n}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setDepthBuffer(n,e=gf){this.depthBuffer=n,this.depthPacking=e}setShaderData(n){this.setShaderParts(n.shaderParts),this.setDefines(n.defines),this.setUniforms(n.uniforms),this.setExtensions(n.extensions)}setShaderParts(n){var e,t,r,i,s;return this.fragmentShader=uke.replace(Bn.FRAGMENT_HEAD,(e=n.get(Bn.FRAGMENT_HEAD))!=null?e:"").replace(Bn.FRAGMENT_MAIN_UV,(t=n.get(Bn.FRAGMENT_MAIN_UV))!=null?t:"").replace(Bn.FRAGMENT_MAIN_IMAGE,(r=n.get(Bn.FRAGMENT_MAIN_IMAGE))!=null?r:""),this.vertexShader=dke.replace(Bn.VERTEX_HEAD,(i=n.get(Bn.VERTEX_HEAD))!=null?i:"").replace(Bn.VERTEX_MAIN_SUPPORT,(s=n.get(Bn.VERTEX_MAIN_SUPPORT))!=null?s:""),this.needsUpdate=!0,this}setDefines(n){for(const e of n.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(n){for(const e of n.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(n){this.extensions={};for(const e of n)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(n){this.encodeOutput!==n&&(n?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(n){return this.encodeOutput}setOutputEncodingEnabled(n){this.encodeOutput=n}get time(){return this.uniforms.time.value}set time(n){this.uniforms.time.value=n}setDeltaTime(n){this.uniforms.time.value+=n}adoptCameraSettings(n){this.copyCameraSettings(n)}copyCameraSettings(n){n&&(this.uniforms.cameraNear.value=n.near,this.uniforms.cameraFar.value=n.far,n instanceof qn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(n,e){const t=this.uniforms;t.resolution.value.set(n,e),t.texelSize.value.set(1/n,1/e),t.aspect.value=n/e}static get Section(){return Bn}},hke=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,pke=class extends Gr{constructor(n=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Ou.replace(/\D+/g,"")},uniforms:{inputBuffer:new rt(null),threshold:new rt(0),smoothing:new rt(1),range:new rt(null)},blending:Ti,depthWrite:!1,depthTest:!1,fragmentShader:hke,vertexShader:II}),this.toneMapped=!1,this.colorOutput=n,this.luminanceRange=e}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}get threshold(){return this.uniforms.threshold.value}set threshold(n){this.smoothing>0||n>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=n}getThreshold(){return this.threshold}setThreshold(n){this.threshold=n}get smoothing(){return this.uniforms.smoothing.value}set smoothing(n){this.threshold>0||n>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=n}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(n){this.smoothing=n}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(n){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(n){n?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(n){return this.colorOutput}setColorOutputEnabled(n){this.colorOutput=n}get useRange(){return this.luminanceRange!==null}set useRange(n){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(n){n!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=n,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(n){this.luminanceRange=n}},mke="uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}",gke="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",vke=class extends Gr{constructor(n=new Le){super({name:"OutlineMaterial",uniforms:{inputBuffer:new rt(null),texelSize:new rt(new Le)},blending:Ti,depthWrite:!1,depthTest:!1,fragmentShader:mke,vertexShader:gke}),this.toneMapped=!1,this.uniforms.texelSize.value.set(n.x,n.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}setTexelSize(n,e){this.uniforms.texelSize.value.set(n,e)}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},yke=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform vec4 maskParams;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;float linearGradientMask(const in float x){return smoothstep(maskParams.x,maskParams.y,x)-smoothstep(maskParams.w,maskParams.z,x);}void main(){vec2 dUv=vOffset*(1.0-linearGradientMask(vUv2.y));vec4 sum=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y-dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y-dUv.y));gl_FragColor=sum*0.25;
#include <encodings_fragment>
}`,xke="uniform vec4 texelSize;uniform float kernel;uniform float scale;uniform float aspect;uniform vec2 rotation;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;void main(){vec2 uv=position.xy*0.5+0.5;vUv=uv;vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));vOffset=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;gl_Position=vec4(position.xy,1.0,1.0);}",_ke=class extends yY{constructor({kernelSize:n=sp.MEDIUM,offset:e=0,rotation:t=0,focusArea:r=.4,feather:i=.3}={}){super(),this.fragmentShader=yke,this.vertexShader=xke,this.kernelSize=n,this.uniforms.aspect=new rt(1),this.uniforms.rotation=new rt(new Le),this.uniforms.maskParams=new rt(new Mn),this._offset=e,this._focusArea=r,this._feather=i,this.rotation=t,this.updateParams()}updateParams(){const n=this.uniforms.maskParams.value,e=Math.max(this.focusArea,0),t=Math.max(e-this.feather,0);n.set(this.offset-e,this.offset-t,this.offset+e,this.offset+t)}get rotation(){return Math.acos(this.uniforms.rotation.value.x)}set rotation(n){this.uniforms.rotation.value.set(Math.cos(n),Math.sin(n))}get offset(){return this._offset}set offset(n){this._offset=n,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(n){this._focusArea=n,this.updateParams()}get feather(){return this._feather}set feather(n){this._feather=n,this.updateParams()}setSize(n,e){super.setSize(n,e),this.uniforms.aspect.value=n/e}},bke=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <encodings_fragment>
}`,wke="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",Ske=class extends Gr{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new rt(null),supportBuffer:new rt(null),texelSize:new rt(new Le),radius:new rt(.85)},blending:Ti,depthWrite:!1,depthTest:!1,fragmentShader:bke,vertexShader:wke}),this.toneMapped=!1}set inputBuffer(n){this.uniforms.inputBuffer.value=n}set supportBuffer(n){this.uniforms.supportBuffer.value=n}get radius(){return this.uniforms.radius.value}set radius(n){this.uniforms.radius.value=n}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},Ake=new Q0,ld=null;function Eke(){if(ld===null){const n=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);ld=new Jt,ld.setAttribute!==void 0?(ld.setAttribute("position",new bn(n,3)),ld.setAttribute("uv",new bn(e,2))):(ld.addAttribute("position",new bn(n,3)),ld.addAttribute("uv",new bn(e,2)))}return ld}var Ds=class{constructor(n="Pass",e=new u1,t=Ake){this.name=n,this.renderer=null,this.scene=e,this.camera=t,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(n){if(this.rtt===n){const e=this.fullscreenMaterial;e!==null&&(e.needsUpdate=!0),this.rtt=!n}}set mainScene(n){}set mainCamera(n){}setRenderer(n){this.renderer=n}isEnabled(){return this.enabled}setEnabled(n){this.enabled=n}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(n){let e=this.screen;e!==null?e.material=n:(e=new Vr(Eke(),n),e.frustumCulled=!1,this.scene===null&&(this.scene=new u1),this.scene.add(e),this.screen=e)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(n){this.fullscreenMaterial=n}getDepthTexture(){return null}setDepthTexture(n,e=gf){}render(n,e,t,r,i){throw new Error("Render method not implemented!")}setSize(n,e){}initialize(n,e,t){}dispose(){for(const n of Object.keys(this)){const e=this[n];(e instanceof Kn||e instanceof Kr||e instanceof Mr||e instanceof Ds)&&this[n].dispose()}}},_Y=class extends Ds{constructor(n,e=!0){super("CopyPass"),this.fullscreenMaterial=new xY,this.needsSwap=!1,this.renderTarget=n,n===void 0&&(this.renderTarget=new Kn(1,1,{minFilter:lr,magFilter:lr,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(n){this.autoResize=n}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(n){this.autoResize=n}render(n,e,t,r,i){this.fullscreenMaterial.inputBuffer=e.texture,n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,e){this.autoResize&&this.renderTarget.setSize(n,e)}initialize(n,e,t){t!==void 0&&(this.renderTarget.texture.type=t,t!==$i?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":n.outputEncoding===It&&(this.renderTarget.texture.encoding=It))}},Mke=class extends Ds{constructor(n,{minLuminance:e=.01,adaptationRate:t=1}={}){super("AdaptiveLuminancePass"),this.fullscreenMaterial=new K3e,this.needsSwap=!1,this.renderTargetPrevious=new Kn(1,1,{minFilter:$n,magFilter:$n,depthBuffer:!1}),this.renderTargetPrevious.texture.name="Luminance.Previous";const r=this.fullscreenMaterial;r.luminanceBuffer0=this.renderTargetPrevious.texture,r.luminanceBuffer1=n,r.minLuminance=e,r.adaptationRate=t,this.renderTargetAdapted=this.renderTargetPrevious.clone(),this.renderTargetAdapted.texture.name="Luminance.Adapted",this.copyPass=new _Y(this.renderTargetPrevious,!1)}get texture(){return this.renderTargetAdapted.texture}getTexture(){return this.renderTargetAdapted.texture}set mipLevel1x1(n){this.fullscreenMaterial.mipLevel1x1=n}get adaptationRate(){return this.fullscreenMaterial.adaptationRate}set adaptationRate(n){this.fullscreenMaterial.adaptationRate=n}render(n,e,t,r,i){this.fullscreenMaterial.deltaTime=r,n.setRenderTarget(this.renderToScreen?null:this.renderTargetAdapted),n.render(this.scene,this.camera),this.copyPass.render(n,this.renderTargetAdapted)}},Cke=class extends Ds{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(n,e,t,r,i){const s=n.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},m8=new We,LI=class extends Ds{constructor(n=!0,e=!0,t=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=n,this.depth=e,this.stencil=t,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(n,e,t){this.color=n,this.depth=e,this.stencil=t}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(n){this.overrideClearColor=n}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(n){this.overrideClearAlpha=n}render(n,e,t,r,i){const s=this.overrideClearColor,o=this.overrideClearAlpha,a=n.getClearAlpha(),l=s!==null,c=o>=0;l?(n.getClearColor(m8),n.setClearColor(s,c?o:a)):c&&n.setClearAlpha(o),n.setRenderTarget(this.renderToScreen?null:e),n.clear(this.color,this.depth,this.stencil),l?n.setClearColor(m8,a):c&&n.setClearAlpha(a)}},cd=-1,dr=class extends ca{constructor(n,e=cd,t=cd,r=1){super(),this.resizable=n,this.baseSize=new Le(1,1),this.preferredSize=new Le(e,t),this.target=this.preferredSize,this.s=r,this.effectiveSize=new Le,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const n=this.baseSize,e=this.preferredSize,t=this.effectiveSize,r=this.scale;e.width!==cd?t.width=e.width:e.height!==cd?t.width=Math.round(e.height*(n.width/Math.max(n.height,1))):t.width=Math.round(n.width*r),e.height!==cd?t.height=e.height:e.width!==cd?t.height=Math.round(e.width/Math.max(n.width/Math.max(n.height,1),1)):t.height=Math.round(n.height*r)}get width(){return this.effectiveSize.width}set width(n){this.preferredWidth=n}get height(){return this.effectiveSize.height}set height(n){this.preferredHeight=n}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(n){this.s!==n&&(this.s=n,this.preferredSize.setScalar(cd),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(n){this.scale=n}get baseWidth(){return this.baseSize.width}set baseWidth(n){this.baseSize.width!==n&&(this.baseSize.width=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(n){this.baseWidth=n}get baseHeight(){return this.baseSize.height}set baseHeight(n){this.baseSize.height!==n&&(this.baseSize.height=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(n){this.baseHeight=n}setBaseSize(n,e){(this.baseSize.width!==n||this.baseSize.height!==e)&&(this.baseSize.set(n,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(n){this.preferredSize.width!==n&&(this.preferredSize.width=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(n){this.preferredWidth=n}get preferredHeight(){return this.preferredSize.height}set preferredHeight(n){this.preferredSize.height!==n&&(this.preferredSize.height=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(n){this.preferredHeight=n}setPreferredSize(n,e){(this.preferredSize.width!==n||this.preferredSize.height!==e)&&(this.preferredSize.set(n,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(n){this.s=n.scale,this.baseSize.set(n.baseWidth,n.baseHeight),this.preferredSize.set(n.preferredWidth,n.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return cd}},fT=!1,g8=class{constructor(n=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(n),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case an:t=this.materialsFlatShadedDoubleSide;break;case ns:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded;break}else switch(e.material.side){case an:t=this.materialsDoubleSide;break;case ns:t=this.materialsBackSide;break;default:t=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=t[2]:e.isInstancedMesh?e.material=t[1]:e.material=t[0],++this.meshCount}}}setMaterial(n){if(this.disposeMaterials(),this.material=n,n!==null){const e=this.materials=[n.clone(),n.clone(),n.clone()];for(const t of e)t.uniforms=Object.assign({},n.uniforms),t.side=Au;e[2].skinning=!0,this.materialsBackSide=e.map(t=>{const r=t.clone();return r.uniforms=Object.assign({},n.uniforms),r.side=ns,r}),this.materialsDoubleSide=e.map(t=>{const r=t.clone();return r.uniforms=Object.assign({},n.uniforms),r.side=an,r}),this.materialsFlatShaded=e.map(t=>{const r=t.clone();return r.uniforms=Object.assign({},n.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=e.map(t=>{const r=t.clone();return r.uniforms=Object.assign({},n.uniforms),r.flatShading=!0,r.side=ns,r}),this.materialsFlatShadedDoubleSide=e.map(t=>{const r=t.clone();return r.uniforms=Object.assign({},n.uniforms),r.flatShading=!0,r.side=an,r})}}render(n,e,t){const r=n.shadowMap.enabled;if(n.shadowMap.enabled=!1,fT){const i=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),n.render(e,t);for(const s of i)s[0].material=s[1];this.meshCount!==i.size&&i.clear()}else{const i=e.overrideMaterial;e.overrideMaterial=this.material,n.render(e,t),e.overrideMaterial=i}n.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const n=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of n)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return fT}static set workaroundEnabled(n){fT=n}},JA=class extends Ds{constructor(n,e,t=null){super("RenderPass",n,e),this.needsSwap=!1,this.clearPass=new LI,this.overrideMaterialManager=t===null?null:new g8(t),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(n){this.scene=n}set mainCamera(n){this.camera=n}get renderToScreen(){return super.renderToScreen}set renderToScreen(n){super.renderToScreen=n,this.clearPass.renderToScreen=n}get overrideMaterial(){const n=this.overrideMaterialManager;return n!==null?n.material:null}set overrideMaterial(n){const e=this.overrideMaterialManager;n!==null?e!==null?e.setMaterial(n):this.overrideMaterialManager=new g8(n):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(n){this.overrideMaterial=n}get clear(){return this.clearPass.enabled}set clear(n){this.clearPass.enabled=n}getSelection(){return this.selection}setSelection(n){this.selection=n}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(n){this.ignoreBackground=n}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(n){this.skipShadowMapUpdate=n}getClearPass(){return this.clearPass}render(n,e,t,r,i){const s=this.scene,o=this.camera,a=this.selection,l=o.layers.mask,c=s.background,d=n.shadowMap.autoUpdate,u=this.renderToScreen?null:e;a!==null&&o.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(n.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(n,e),n.setRenderTarget(u),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(n,s,o):n.render(s,o),o.layers.mask=l,s.background=c,n.shadowMap.autoUpdate=d}},Tke=class extends Ds{constructor(n,e,{renderTarget:t,resolutionScale:r=1,width:i=dr.AUTO_SIZE,height:s=dr.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new JA(n,e,new VA({depthPacking:o1}));const l=this.renderPass;l.skipShadowMapUpdate=!0,l.ignoreBackground=!0;const c=l.getClearPass();c.overrideClearColor=new We(16777215),c.overrideClearAlpha=1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new Kn(1,1,{minFilter:$n,magFilter:$n}),this.renderTarget.texture.name="DepthPass.Target");const d=this.resolution=new dr(this,o,a,r);d.addEventListener("change",u=>this.setSize(d.baseWidth,d.baseHeight))}set mainScene(n){this.renderPass.mainScene=n}set mainCamera(n){this.renderPass.mainCamera=n}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}render(n,e,t,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(n,s)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height)}},kke=class extends Ds{constructor({normalBuffer:n=null,resolutionScale:e=.5,width:t=dr.AUTO_SIZE,height:r=dr.AUTO_SIZE,resolutionX:i=t,resolutionY:s=r}={}){super("DepthDownsamplingPass");const o=new oke;o.normalBuffer=n,this.fullscreenMaterial=o,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new Kn(1,1,{minFilter:$n,magFilter:$n,depthBuffer:!1,type:uc}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const a=this.resolution=new dr(this,i,s,e);a.addEventListener("change",l=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(n,e=gf){this.fullscreenMaterial.depthBuffer=n,this.fullscreenMaterial.depthPacking=e}render(n,e,t,r,i){n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height),this.fullscreenMaterial.setSize(n,e)}initialize(n,e,t){const r=n.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}};function v8(n,e,t){for(const r of e){const i="$1"+n+r.charAt(0).toUpperCase()+r.slice(1),s=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const o of t.entries())o[1]!==null&&t.set(o[0],o[1].replace(s,i))}}function Rke(n,e,t){var r,i,s,o,a;let l=e.getFragmentShader(),c=e.getVertexShader();const d=l!==void 0&&/mainImage/.test(l),u=l!==void 0&&/mainUv/.test(l);if(t.attributes|=e.getAttributes(),l===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(u&&t.attributes&$d.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!d&&!u)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const f=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,h=t.shaderParts;let g=(r=h.get(Bn.FRAGMENT_HEAD))!=null?r:"",v=(i=h.get(Bn.FRAGMENT_MAIN_UV))!=null?i:"",x=(s=h.get(Bn.FRAGMENT_MAIN_IMAGE))!=null?s:"",y=(o=h.get(Bn.VERTEX_HEAD))!=null?o:"",_=(a=h.get(Bn.VERTEX_MAIN_SUPPORT))!=null?a:"";const b=new Set,A=new Set;if(u&&(v+=`	${n}MainUv(UV);
`,t.uvTransformation=!0),c!==null&&/mainSupport/.test(c)){const P=/mainSupport *\([\w\s]*?uv\s*?\)/.test(c);_+=`	${n}MainSupport(`,_+=P?`vUv);
`:`);
`;for(const C of c.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const O of C[1].split(/\s*,\s*/))t.varyings.add(O),b.add(O),A.add(O);for(const C of c.matchAll(f))A.add(C[1])}for(const P of l.matchAll(f))A.add(P[1]);for(const P of e.defines.keys())A.add(P.replace(/\([\w\s,]*\)/g,""));for(const P of e.uniforms.keys())A.add(P);A.delete("while"),A.delete("for"),A.delete("if"),e.uniforms.forEach((P,C)=>t.uniforms.set(n+C.charAt(0).toUpperCase()+C.slice(1),P)),e.defines.forEach((P,C)=>t.defines.set(n+C.charAt(0).toUpperCase()+C.slice(1),P));const E=new Map([["fragment",l],["vertex",c]]);v8(n,A,t.defines),v8(n,A,E),l=E.get("fragment"),c=E.get("vertex");const k=e.blendMode;if(t.blendModes.set(k.blendFunction,k),d){e.inputColorSpace!==null&&e.inputColorSpace!==t.colorSpace&&(x+=e.inputColorSpace===It?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==null?t.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(t.colorSpace=e.inputColorSpace);const P=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;x+=`${n}MainImage(color0, UV, `,t.attributes&$d.DEPTH&&P.test(l)&&(x+="depth, ",t.readDepth=!0),x+=`color1);
	`;const C=n+"BlendOpacity";t.uniforms.set(C,k.opacity),x+=`color0 = blend${k.blendFunction}(color0, color1, ${C});

	`,g+=`uniform float ${C};

`}if(g+=l+`
`,c!==null&&(y+=c+`
`),h.set(Bn.FRAGMENT_HEAD,g),h.set(Bn.FRAGMENT_MAIN_UV,v),h.set(Bn.FRAGMENT_MAIN_IMAGE,x),h.set(Bn.VERTEX_HEAD,y),h.set(Bn.VERTEX_MAIN_SUPPORT,_),e.extensions!==null)for(const P of e.extensions)t.extensions.add(P)}}var Pke=class extends Ds{constructor(n,...e){super("EffectPass"),this.fullscreenMaterial=new fke(null,null,null,n),this.listener=t=>this.handleEvent(t),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(n){for(const e of this.effects)e.mainScene=n}set mainCamera(n){this.fullscreenMaterial.copyCameraSettings(n);for(const e of this.effects)e.mainCamera=n}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(n){this.fullscreenMaterial.encodeOutput=n}get dithering(){return this.fullscreenMaterial.dithering}set dithering(n){const e=this.fullscreenMaterial;e.dithering=n,e.needsUpdate=!0}setEffects(n){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=n.sort((e,t)=>t.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const n=new Vke;let e=0;for(const o of this.effects)if(o.blendMode.blendFunction===Bt.DST)n.attributes|=o.getAttributes()&$d.DEPTH;else{if(n.attributes&o.getAttributes()&$d.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${o.name})`);Rke("e"+e++,o,n)}let t=n.shaderParts.get(Bn.FRAGMENT_HEAD),r=n.shaderParts.get(Bn.FRAGMENT_MAIN_IMAGE),i=n.shaderParts.get(Bn.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const o of n.blendModes.values())t+=o.getShaderCode().replace(s,`blend${o.blendFunction}`)+`
`;n.attributes&$d.DEPTH?(n.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,n.colorSpace===It&&(r+=`color0 = sRGBToLinear(color0);
	`),n.uvTransformation?(i=`vec2 transformedUv = vUv;
`+i,n.defines.set("UV","transformedUv")):n.defines.set("UV","vUv"),n.shaderParts.set(Bn.FRAGMENT_HEAD,t),n.shaderParts.set(Bn.FRAGMENT_MAIN_IMAGE,r),n.shaderParts.set(Bn.FRAGMENT_MAIN_UV,i),n.shaderParts.forEach((o,a,l)=>l.set(a,o==null?void 0:o.trim().replace(/^#/,`
#`))),this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(n)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(n,e=gf){this.fullscreenMaterial.depthBuffer=n,this.fullscreenMaterial.depthPacking=e;for(const t of this.effects)t.setDepthTexture(n,e)}render(n,e,t,r,i){for(const s of this.effects)s.update(n,e,r);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=r*this.timeScale,n.setRenderTarget(this.renderToScreen?null:t),n.render(this.scene,this.camera)}}setSize(n,e){this.fullscreenMaterial.setSize(n,e);for(const t of this.effects)t.setSize(n,e)}initialize(n,e,t){this.renderer=n;for(const r of this.effects)r.initialize(n,e,t);this.updateMaterial(),t!==void 0&&t!==$i&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const n of this.effects)n.removeEventListener("change",this.listener),n.dispose()}handleEvent(n){switch(n.type){case"change":this.recompile();break}}},OI=class extends Ds{constructor({kernelSize:n=sp.MEDIUM,resolutionScale:e=.5,width:t=dr.AUTO_SIZE,height:r=dr.AUTO_SIZE,resolutionX:i=t,resolutionY:s=r}={}){super("KawaseBlurPass"),this.renderTargetA=new Kn(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new dr(this,i,s,e);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new yY,this._blurMaterial.kernelSize=n,this.copyMaterial=new xY}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(n){this._blurMaterial=n}get dithering(){return this.copyMaterial.dithering}set dithering(n){this.copyMaterial.dithering=n}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(n){this.blurMaterial.kernelSize=n}get width(){return this.resolution.width}set width(n){this.resolution.preferredWidth=n}get height(){return this.resolution.height}set height(n){this.resolution.preferredHeight=n}get scale(){return this.blurMaterial.scale}set scale(n){this.blurMaterial.scale=n}getScale(){return this.blurMaterial.scale}setScale(n){this.blurMaterial.scale=n}getKernelSize(){return this.kernelSize}setKernelSize(n){this.kernelSize=n}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}render(n,e,t,r,i){const s=this.scene,o=this.camera,a=this.renderTargetA,l=this.renderTargetB,c=this.blurMaterial,d=c.kernelSequence;let u=e;this.fullscreenMaterial=c;for(let f=0,h=d.length;f<h;++f){const g=f&1?l:a;c.kernel=d[f],c.inputBuffer=u.texture,n.setRenderTarget(g),n.render(s,o),u=g}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=u.texture,n.setRenderTarget(this.renderToScreen?null:t),n.render(s,o)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e);const r=t.width,i=t.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(n,e)}initialize(n,e,t){t!==void 0&&(this.renderTargetA.texture.type=t,this.renderTargetB.texture.type=t,t!==$i?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):n.outputEncoding===It&&(this.renderTargetA.texture.encoding=It,this.renderTargetB.texture.encoding=It))}static get AUTO_SIZE(){return dr.AUTO_SIZE}},bY=class extends Ds{constructor({renderTarget:n,luminanceRange:e,colorOutput:t,resolutionScale:r=1,width:i=dr.AUTO_SIZE,height:s=dr.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("LuminancePass"),this.fullscreenMaterial=new pke(t,e),this.needsSwap=!1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new Kn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const l=this.resolution=new dr(this,o,a,r);l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(n,e,t,r,i){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height)}initialize(n,e,t){t!==void 0&&t!==$i&&(this.renderTarget.texture.type=t,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},Ike=class extends Ds{constructor(n,e){super("MaskPass",n,e),this.needsSwap=!1,this.clearPass=new LI(!1,!1,!0),this.inverse=!1}set mainScene(n){this.scene=n}set mainCamera(n){this.camera=n}get inverted(){return this.inverse}set inverted(n){this.inverse=n}get clear(){return this.clearPass.enabled}set clear(n){this.clearPass.enabled=n}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(n){this.inverted=n}render(n,e,t,r,i){const s=n.getContext(),o=n.state.buffers,a=this.scene,l=this.camera,c=this.clearPass,d=this.inverted?0:1,u=1-d;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),o.stencil.setFunc(s.ALWAYS,d,4294967295),o.stencil.setClear(u),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(n,null):(c.render(n,e),c.render(n,t))),this.renderToScreen?(n.setRenderTarget(null),n.render(a,l)):(n.setRenderTarget(e),n.render(a,l),n.setRenderTarget(t),n.render(a,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(s.EQUAL,1,4294967295),o.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),o.stencil.setLocked(!0)}},Lke=class extends Ds{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new Kn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new cke,this.upsamplingMaterial=new Ske,this.resolution=new Le}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(n){if(this.levels!==n){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let t=0;t<n;++t){const r=e.clone();r.texture.name="Downsampling.Mipmap"+t,this.downsamplingMipmaps.push(r)}this.upsamplingMipmaps.push(e);for(let t=1,r=n-1;t<r;++t){const i=e.clone();i.texture.name="Upsampling.Mipmap"+t,this.upsamplingMipmaps.push(i)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(n){this.upsamplingMaterial.radius=n}render(n,e,t,r,i){const{scene:s,camera:o}=this,{downsamplingMaterial:a,upsamplingMaterial:l}=this,{downsamplingMipmaps:c,upsamplingMipmaps:d}=this;let u=e;this.fullscreenMaterial=a;for(let f=0,h=c.length;f<h;++f){const g=c[f];a.setSize(u.width,u.height),a.inputBuffer=u.texture,n.setRenderTarget(g),n.render(s,o),u=g}this.fullscreenMaterial=l;for(let f=d.length-1;f>=0;--f){const h=d[f];l.setSize(u.width,u.height),l.inputBuffer=u.texture,l.supportBuffer=c[f].texture,n.setRenderTarget(h),n.render(s,o),u=h}}setSize(n,e){const t=this.resolution;t.set(n,e);let r=t.width,i=t.height;for(let s=0,o=this.downsamplingMipmaps.length;s<o;++s)r=Math.round(r*.5),i=Math.round(i*.5),this.downsamplingMipmaps[s].setSize(r,i),s<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[s].setSize(r,i)}initialize(n,e,t){if(t!==void 0){const r=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const i of r)i.texture.type=t;if(t!==$i)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(n.outputEncoding===It)for(const i of r)i.texture.encoding=It}}dispose(){super.dispose();for(const n of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))n.dispose()}},Oke=class extends Ds{constructor(n,e,{renderTarget:t,resolutionScale:r=1,width:i=dr.AUTO_SIZE,height:s=dr.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new JA(n,e,new dI);const l=this.renderPass;l.ignoreBackground=!0,l.skipShadowMapUpdate=!0;const c=l.getClearPass();c.overrideClearColor=new We(7829503),c.overrideClearAlpha=1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new Kn(1,1,{minFilter:$n,magFilter:$n}),this.renderTarget.texture.name="NormalPass.Target");const d=this.resolution=new dr(this,o,a,r);d.addEventListener("change",u=>this.setSize(d.baseWidth,d.baseHeight))}set mainScene(n){this.renderPass.mainScene=n}set mainCamera(n){this.renderPass.mainCamera=n}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}render(n,e,t,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(n,s,s)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height)}},Nke=class extends Ds{constructor(n,e="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=n,this.input=e}setInput(n){this.input=n}render(n,e,t,r,i){const s=this.fullscreenMaterial.uniforms;e!==null&&s!==void 0&&s[this.input]!==void 0&&(s[this.input].value=e.texture),n.setRenderTarget(this.renderToScreen?null:t),n.render(this.scene,this.camera)}initialize(n,e,t){t!==void 0&&t!==$i&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},Dke=class extends OI{constructor({offset:n=0,rotation:e=0,focusArea:t=.4,feather:r=.3,kernelSize:i=sp.MEDIUM,resolutionScale:s=.5,resolutionX:o=dr.AUTO_SIZE,resolutionY:a=dr.AUTO_SIZE}={}){super({kernelSize:i,resolutionScale:s,resolutionX:o,resolutionY:a}),this.blurMaterial=new _ke({kernelSize:i,offset:n,rotation:e,focusArea:t,feather:r})}},hT=1/1e3,Bke=1e3,Fke=class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(n){return this.fixedDeltaEnabled=n,this}isAutoResetEnabled(n){return this.autoReset}setAutoResetEnabled(n){return typeof document<"u"&&document.hidden!==void 0&&(n?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=n),this}getDelta(){return this.delta*hT}getFixedDelta(){return this.fixedDelta*hT}setFixedDelta(n){return this.fixedDelta=n*Bke,this}getElapsed(){return this.elapsed*hT}getTimescale(){return this.timescale}setTimescale(n){return this.timescale=n,this}update(n){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=n!==void 0?n:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(n){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},zke=class{constructor(e=null,{depthBuffer:t=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(t,r,s,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new _Y,this.depthTexture=null,this.passes=[],this.timer=new Fke,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const t=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const t=e.getSize(new Le),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===$i&&e.outputEncoding===It&&(this.inputBuffer.texture.encoding=It,this.outputBuffer.texture.encoding=It,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(t.width,t.height);for(const s of this.passes)s.initialize(e,r,i)}}replaceRenderer(e,t=!0){const r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),t&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new eI;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=ef,e.type=Hd):e.type=du,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,r,i){const s=this.renderer,o=s===null?new Le:s.getDrawingBufferSize(new Le),a={minFilter:lr,magFilter:lr,stencilBuffer:t,depthBuffer:e,type:r};let l;return i>0?(l=Number(Ou.replace(/\D+/g,""))<138?new Zq(o.width,o.height,a):new Kn(o.width,o.height,a),l.ignoreDepthForMultisampleCopy=!1,l.samples=i):l=new Kn(o.width,o.height,a),r===$i&&s!==null&&s.outputEncoding===It&&(l.texture.encoding=It),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(e){for(const t of this.passes)t.mainScene=e}setMainCamera(e){for(const t of this.passes)t.mainCamera=e}addPass(e,t){const r=this.passes,i=this.renderer,s=i.getDrawingBufferSize(new Le),o=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(s.width,s.height),e.initialize(i,o,a),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?r.splice(t,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const l=this.createDepthTexture();for(e of r)e.setDepthTexture(l)}else e.setDepthTexture(this.depthTexture)}removePass(e){const t=this.passes,r=t.indexOf(e);if(r!==-1&&t.splice(r,1).length>0){if(this.depthTexture!==null){const o=(l,c)=>l||c.needsDepthTexture;t.reduce(o,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const t=this.renderer,r=this.copyPass;let i=this.inputBuffer,s=this.outputBuffer,o=!1,a,l,c;e===void 0&&(e=this.timer.update().getDelta());for(const d of this.passes)d.enabled&&(d.render(t,i,s,e,o),d.needsSwap&&(o&&(r.renderToScreen=d.renderToScreen,a=t.getContext(),l=t.state.buffers.stencil,l.setFunc(a.NOTEQUAL,1,4294967295),r.render(t,i,s,e,o),l.setFunc(a.EQUAL,1,4294967295)),c=i,i=s,s=c),d instanceof Ike?o=!0:d instanceof Cke&&(o=!1))}setSize(e,t,r){const i=this.renderer,s=i.getSize(new Le);(e===void 0||t===void 0)&&(e=s.width,t=s.height),(s.width!==e||s.height!==t)&&i.setSize(e,t,r);const o=i.getDrawingBufferSize(new Le);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){const e=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(e)}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},Vke=class{constructor(){this.shaderParts=new Map([[Bn.FRAGMENT_HEAD,null],[Bn.FRAGMENT_MAIN_UV,null],[Bn.FRAGMENT_MAIN_IMAGE,null],[Bn.VERTEX_HEAD,null],[Bn.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=$d.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=Ga}},Uke=class extends Set{constructor(n,e=10){super(),this.l=e,this.exclusive=!1,n!==void 0&&this.set(n)}get layer(){return this.l}set layer(n){const e=this.l;for(const t of this)t.layers.disable(e),t.layers.enable(n);this.l=n}getLayer(){return this.layer}setLayer(n){this.layer=n}isExclusive(){return this.exclusive}setExclusive(n){this.exclusive=n}clear(){const n=this.layer;for(const e of this)e.layers.disable(n);return super.clear()}set(n){this.clear();for(const e of n)this.add(e);return this}indexOf(n){return this.has(n)?0:-1}add(n){return this.exclusive?n.layers.set(this.layer):n.layers.enable(this.layer),super.add(n)}delete(n){return this.has(n)&&n.layers.disable(this.layer),super.delete(n)}toggle(n){let e;return this.has(n)?(this.delete(n),e=!1):(this.add(n),e=!0),e}setVisible(n){for(const e of this)n?e.layers.enable(0):e.layers.disable(0);return this}},Hke="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",Gke="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",$ke="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",Wke="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",jke="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",qke="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",Yke="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",Xke="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",Kke="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",Zke="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",Jke="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",Qke="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",e5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",t5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",n5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",r5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",i5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",s5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",o5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",a5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",l5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",c5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",u5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",d5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",f5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",h5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",p5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",m5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",g5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",v5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",y5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",x5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",_5e=new Map([[Bt.ADD,Hke],[Bt.ALPHA,Gke],[Bt.AVERAGE,$ke],[Bt.COLOR,Wke],[Bt.COLOR_BURN,jke],[Bt.COLOR_DODGE,qke],[Bt.DARKEN,Yke],[Bt.DIFFERENCE,Xke],[Bt.DIVIDE,Kke],[Bt.DST,null],[Bt.EXCLUSION,Zke],[Bt.HARD_LIGHT,Jke],[Bt.HARD_MIX,Qke],[Bt.HUE,e5e],[Bt.INVERT,t5e],[Bt.INVERT_RGB,n5e],[Bt.LIGHTEN,r5e],[Bt.LINEAR_BURN,i5e],[Bt.LINEAR_DODGE,s5e],[Bt.LINEAR_LIGHT,o5e],[Bt.LUMINOSITY,a5e],[Bt.MULTIPLY,l5e],[Bt.NEGATION,c5e],[Bt.NORMAL,u5e],[Bt.OVERLAY,d5e],[Bt.PIN_LIGHT,f5e],[Bt.REFLECT,h5e],[Bt.SATURATION,p5e],[Bt.SCREEN,m5e],[Bt.SOFT_LIGHT,g5e],[Bt.SRC,v5e],[Bt.SUBTRACT,y5e],[Bt.VIVID_LIGHT,x5e]]),b5e=class extends ca{constructor(n,e=1){super(),this._blendFunction=n,this.opacity=new rt(e)}getOpacity(){return this.opacity.value}setOpacity(n){this.opacity.value=n}get blendFunction(){return this._blendFunction}set blendFunction(n){this._blendFunction=n,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(n){this.blendFunction=n}getShaderCode(){return _5e.get(this.blendFunction)}},Co=class extends ca{constructor(n,e,{attributes:t=$d.NONE,blendFunction:r=Bt.NORMAL,defines:i=new Map,uniforms:s=new Map,extensions:o=null,vertexShader:a=null}={}){super(),this.name=n,this.renderer=null,this.attributes=t,this.fragmentShader=e,this.vertexShader=a,this.defines=i,this.uniforms=s,this.extensions=o,this.blendMode=new b5e(r),this.blendMode.addEventListener("change",l=>this.setChanged()),this._inputColorSpace=Ga,this._outputColorSpace=null}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(n){this._inputColorSpace=n,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(n){this._outputColorSpace=n,this.setChanged()}set mainScene(n){}set mainCamera(n){}getName(){return this.name}setRenderer(n){this.renderer=n}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(n){this.attributes=n,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(n){this.fragmentShader=n,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(n){this.vertexShader=n,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(n,e=gf){}update(n,e,t){}setSize(n,e){}initialize(n,e,t){}dispose(){for(const n of Object.keys(this)){const e=this[n];(e instanceof Kn||e instanceof Kr||e instanceof Mr||e instanceof Ds)&&this[n].dispose()}}},w5e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,S5e=class extends Co{constructor({blendFunction:n=Bt.SCREEN,luminanceThreshold:e=.9,luminanceSmoothing:t=.025,mipmapBlur:r=!1,intensity:i=1,radius:s=.85,levels:o=8,kernelSize:a=sp.LARGE,resolutionScale:l=.5,width:c=dr.AUTO_SIZE,height:d=dr.AUTO_SIZE,resolutionX:u=c,resolutionY:f=d}={}){super("BloomEffect",w5e,{blendFunction:n,uniforms:new Map([["map",new rt(null)],["intensity",new rt(i)]])}),this.renderTarget=new Kn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new OI({kernelSize:a}),this.luminancePass=new bY({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=t,this.mipmapBlurPass=new Lke,this.mipmapBlurPass.enabled=r,this.mipmapBlurPass.radius=s,this.mipmapBlurPass.levels=o,this.uniforms.get("map").value=r?this.mipmapBlurPass.texture:this.renderTarget.texture;const h=this.resolution=new dr(this,u,f,l);h.addEventListener("change",g=>this.setSize(h.baseWidth,h.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(n){this.resolution.preferredWidth=n}get height(){return this.resolution.height}set height(n){this.resolution.preferredHeight=n}get dithering(){return this.blurPass.dithering}set dithering(n){this.blurPass.dithering=n}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(n){this.blurPass.kernelSize=n}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(n){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(n){this.uniforms.get("intensity").value=n}getIntensity(){return this.intensity}setIntensity(n){this.intensity=n}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}update(n,e,t){const r=this.renderTarget,i=this.luminancePass;i.enabled?(i.render(n,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(n,i.renderTarget):this.blurPass.render(n,i.renderTarget,r)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(n,e):this.blurPass.render(n,e,r)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height),this.blurPass.resolution.copy(t),this.luminancePass.setSize(n,e),this.mipmapBlurPass.setSize(n,e)}initialize(n,e,t){this.blurPass.initialize(n,e,t),this.luminancePass.initialize(n,e,t),this.mipmapBlurPass.initialize(n,e,t),t!==void 0&&(this.renderTarget.texture.type=t,n.outputEncoding===It&&(this.renderTarget.texture.encoding=It))}},A5e="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(color+vec3(0.5),inputColor.a);}",E5e=class extends Co{constructor({blendFunction:n=Bt.SRC,brightness:e=0,contrast:t=0}={}){super("BrightnessContrastEffect",A5e,{blendFunction:n,uniforms:new Map([["brightness",new rt(e)],["contrast",new rt(t)]])}),this.inputColorSpace=It}get brightness(){return this.uniforms.get("brightness").value}set brightness(n){this.uniforms.get("brightness").value=n}getBrightness(n){return this.brightness}setBrightness(n){this.brightness=n}get contrast(){return this.uniforms.get("contrast").value}set contrast(n){this.uniforms.get("contrast").value=n}getContrast(n){return this.contrast}setContrast(n){this.contrast=n}},M5e="uniform float factor;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(floor(inputColor.rgb*factor+0.5)/factor,inputColor.a);}",C5e=class extends Co{constructor({blendFunction:n,bits:e=16}={}){super("ColorDepthEffect",M5e,{blendFunction:n,uniforms:new Map([["factor",new rt(1)]])}),this.bits=0,this.bitDepth=e}get bitDepth(){return this.bits}set bitDepth(n){this.bits=n,this.uniforms.get("factor").value=Math.pow(2,n/3)}getBitDepth(){return this.bitDepth}setBitDepth(n){this.bitDepth=n}},T5e=`void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){
#ifdef INVERTED
vec3 color=vec3(1.0-depth);
#else
vec3 color=vec3(depth);
#endif
outputColor=vec4(color,inputColor.a);}`,k5e=class extends Co{constructor({blendFunction:n=Bt.SRC,inverted:e=!1}={}){super("DepthEffect",T5e,{blendFunction:n,attributes:$d.DEPTH}),this.inverted=e}get inverted(){return this.defines.has("INVERTED")}set inverted(n){this.inverted!==n&&(n?this.defines.set("INVERTED","1"):this.defines.delete("INVERTED"),this.setChanged())}isInverted(){return this.inverted}setInverted(n){this.inverted=n}},R5e="uniform vec2 angle;uniform float scale;float pattern(const in vec2 uv){vec2 point=scale*vec2(dot(angle.yx,vec2(uv.x,-uv.y)),dot(angle,uv));return(sin(point.x)*sin(point.y))*4.0;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(inputColor.rgb*10.0-5.0+pattern(uv*resolution));outputColor=vec4(color,inputColor.a);}",P5e=class extends Co{constructor({blendFunction:n,angle:e=Math.PI*.5,scale:t=1}={}){super("DotScreenEffect",R5e,{blendFunction:n,uniforms:new Map([["angle",new rt(new Le)],["scale",new rt(t)]])}),this.angle=e}get angle(){return Math.acos(this.uniforms.get("angle").value.y)}set angle(n){this.uniforms.get("angle").value.set(Math.sin(n),Math.cos(n))}getAngle(){return this.angle}setAngle(n){this.angle=n}get scale(){return this.uniforms.get("scale").value}set scale(n){this.uniforms.get("scale").value=n}};new Z;new Wt;var I5e="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",L5e=class extends Co{constructor({blendFunction:n=Bt.SRC,hue:e=0,saturation:t=0}={}){super("HueSaturationEffect",I5e,{blendFunction:n,uniforms:new Map([["hue",new rt(new Z)],["saturation",new rt(t)]])}),this.hue=e}get saturation(){return this.uniforms.get("saturation").value}set saturation(n){this.uniforms.get("saturation").value=n}getSaturation(){return this.saturation}setSaturation(n){this.saturation=n}get hue(){const n=this.uniforms.get("hue").value;return Math.acos((n.x*3-1)/2)}set hue(n){const e=Math.sin(n),t=Math.cos(n);this.uniforms.get("hue").value.set((2*t+1)/3,(-Math.sqrt(3)*e-t+1)/3,(Math.sqrt(3)*e-t+1)/3)}getHue(){return this.hue}setHue(n){this.hue=n}};new We;var O5e=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,N5e=class extends Co{constructor({blendFunction:n=Bt.SCREEN,premultiply:e=!1}={}){super("NoiseEffect",O5e,{blendFunction:n}),this.premultiply=e}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(n){this.premultiply!==n&&(n?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(n){this.premultiply=n}},D5e=`uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;
#ifdef USE_PATTERN
uniform lowp sampler2D patternTexture;varying vec2 vUvPattern;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;
#ifndef X_RAY
edge.y=0.0;
#endif
edge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;
#ifdef USE_PATTERN
vec4 patternColor=texelToLinear(texture2D(patternTexture,vUvPattern));
#ifdef X_RAY
float hiddenFactor=0.5;
#else
float hiddenFactor=0.0;
#endif
visibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;
#endif
float alpha=max(max(edge.x,edge.y),visibilityFactor);
#ifdef ALPHA
outputColor=vec4(color,alpha);
#else
outputColor=vec4(color,max(alpha,inputColor.a));
#endif
}`,B5e="uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}",F5e=class extends Co{constructor(n,e,{blendFunction:t=Bt.SCREEN,patternTexture:r=null,patternScale:i=1,edgeStrength:s=1,pulseSpeed:o=0,visibleEdgeColor:a=16777215,hiddenEdgeColor:l=2230538,kernelSize:c=sp.VERY_SMALL,blur:d=!1,xRay:u=!0,multisampling:f=0,resolutionScale:h=.5,width:g=dr.AUTO_SIZE,height:v=dr.AUTO_SIZE,resolutionX:x=g,resolutionY:y=v}={}){super("OutlineEffect",D5e,{uniforms:new Map([["maskTexture",new rt(null)],["edgeTexture",new rt(null)],["edgeStrength",new rt(s)],["visibleEdgeColor",new rt(new We(a))],["hiddenEdgeColor",new rt(new We(l))],["pulse",new rt(1)],["patternScale",new rt(i)],["patternTexture",new rt(null)]])}),this.blendMode.addEventListener("change",E=>{this.blendMode.getBlendFunction()===Bt.ALPHA?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA"),this.setChanged()}),this.blendMode.setBlendFunction(t),this.patternTexture=r,this.xRay=u,this.scene=n,this.camera=e,this.renderTargetMask=new Kn(1,1),this.renderTargetMask.samples=f,this.renderTargetMask.texture.name="Outline.Mask",this.uniforms.get("maskTexture").value=this.renderTargetMask.texture,this.renderTargetOutline=new Kn(1,1,{depthBuffer:!1}),this.renderTargetOutline.texture.name="Outline.Edges",this.uniforms.get("edgeTexture").value=this.renderTargetOutline.texture,this.clearPass=new LI,this.clearPass.overrideClearColor=new We(0),this.clearPass.overrideClearAlpha=1,this.depthPass=new Tke(n,e),this.maskPass=new JA(n,e,new rke(this.depthPass.texture,e));const _=this.maskPass.clearPass;_.overrideClearColor=new We(16777215),_.overrideClearAlpha=1,this.blurPass=new OI({resolutionScale:h,resolutionX:x,resolutionY:y,kernelSize:c}),this.blurPass.enabled=d;const b=this.blurPass.resolution;b.addEventListener("change",E=>this.setSize(b.baseWidth,b.baseHeight)),this.outlinePass=new Nke(new vke);const A=this.outlinePass.fullscreenMaterial;A.inputBuffer=this.renderTargetMask.texture,this.time=0,this.active=!1,this.selection=new Uke,this.selection.layer=10,this.pulseSpeed=o}set mainScene(n){this.scene=n,this.depthPass.mainScene=n,this.maskPass.mainScene=n}set mainCamera(n){this.camera=n,this.depthPass.mainCamera=n,this.maskPass.mainCamera=n,this.maskPass.overrideMaterial.copyCameraSettings(n)}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.getResolution()}get multisampling(){return this.renderTargetMask.samples}set multisampling(n){this.renderTargetMask.samples=n,this.renderTargetMask.dispose()}get patternScale(){return this.uniforms.get("patternScale").value}set patternScale(n){this.uniforms.get("patternScale").value=n}get edgeStrength(){return this.uniforms.get("edgeStrength").value}set edgeStrength(n){this.uniforms.get("edgeStrength").value=n}get visibleEdgeColor(){return this.uniforms.get("visibleEdgeColor").value}set visibleEdgeColor(n){this.uniforms.get("visibleEdgeColor").value=n}get hiddenEdgeColor(){return this.uniforms.get("hiddenEdgeColor").value}set hiddenEdgeColor(n){this.uniforms.get("hiddenEdgeColor").value=n}getBlurPass(){return this.blurPass}getSelection(){return this.selection}getPulseSpeed(){return this.pulseSpeed}setPulseSpeed(n){this.pulseSpeed=n}get width(){return this.resolution.width}set width(n){this.resolution.preferredWidth=n}get height(){return this.resolution.height}set height(n){this.resolution.preferredHeight=n}get selectionLayer(){return this.selection.layer}set selectionLayer(n){this.selection.layer=n}get dithering(){return this.blurPass.dithering}set dithering(n){this.blurPass.dithering=n}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(n){this.blurPass.kernelSize=n}get blur(){return this.blurPass.enabled}set blur(n){this.blurPass.enabled=n}get xRay(){return this.defines.has("X_RAY")}set xRay(n){this.xRay!==n&&(n?this.defines.set("X_RAY","1"):this.defines.delete("X_RAY"),this.setChanged())}isXRayEnabled(){return this.xRay}setXRayEnabled(n){this.xRay=n}get patternTexture(){return this.uniforms.get("patternTexture").value}set patternTexture(n){if(n!==null?(n.wrapS=n.wrapT=Ol,this.defines.set("USE_PATTERN","1"),this.setVertexShader(B5e)):(this.defines.delete("USE_PATTERN"),this.setVertexShader(null)),this.renderer!==null){const e=p8(n,this.renderer.capabilities.isWebGL2);this.defines.set("texelToLinear(texel)",e)}this.uniforms.get("patternTexture").value=n,this.setChanged()}setPatternTexture(n){this.patternTexture=n}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}setSelection(n){return this.selection.set(n),this}clearSelection(){return this.selection.clear(),this}selectObject(n){return this.selection.add(n),this}deselectObject(n){return this.selection.delete(n),this}update(n,e,t){const r=this.scene,i=this.camera,s=this.selection,a=this.uniforms.get("pulse"),l=r.background,c=i.layers.mask;s.size>0?(r.background=null,a.value=1,this.pulseSpeed>0&&(a.value=Math.cos(this.time*this.pulseSpeed*10)*.375+.625),this.active=!0,this.time+=t,s.setVisible(!1),this.depthPass.render(n),s.setVisible(!0),i.layers.set(s.layer),this.maskPass.render(n,this.renderTargetMask),i.layers.mask=c,r.background=l,this.outlinePass.render(n,null,this.renderTargetOutline),this.blurPass.enabled&&this.blurPass.render(n,this.renderTargetOutline,this.renderTargetOutline)):this.active&&(this.clearPass.render(n,this.renderTargetOutline),this.active=!1)}setSize(n,e){this.blurPass.setSize(n,e),this.renderTargetMask.setSize(n,e);const t=this.resolution;t.setBaseSize(n,e);const r=t.width,i=t.height;this.depthPass.setSize(r,i),this.renderTargetOutline.setSize(r,i),this.outlinePass.fullscreenMaterial.setSize(r,i)}initialize(n,e,t){const r=this.patternTexture,i=p8(r,n.capabilities.isWebGL2);this.defines.set("texelToLinear(texel)",i),this.blurPass.initialize(n,e,$i),t!==void 0&&(this.depthPass.initialize(n,e,t),this.maskPass.initialize(n,e,t),this.outlinePass.initialize(n,e,t))}},z5e=`uniform float count;
#ifdef SCROLL
uniform float scrollSpeed;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float y=uv.y;
#ifdef SCROLL
y+=time*scrollSpeed;
#endif
vec2 sl=vec2(sin(y*count),cos(y*count));outputColor=vec4(sl.xyx,inputColor.a);}`,V5e=class extends Co{constructor({blendFunction:n=Bt.OVERLAY,density:e=1.25,scrollSpeed:t=0}={}){super("ScanlineEffect",z5e,{blendFunction:n,uniforms:new Map([["count",new rt(0)],["scrollSpeed",new rt(0)]])}),this.resolution=new Le,this.d=e,this.scrollSpeed=t}get density(){return this.d}set density(n){this.d=n,this.setSize(this.resolution.width,this.resolution.height)}getDensity(){return this.density}setDensity(n){this.density=n}get scrollSpeed(){return this.uniforms.get("scrollSpeed").value}set scrollSpeed(n){this.uniforms.get("scrollSpeed").value=n,n===0?this.defines.delete("SCROLL")&&this.setChanged():this.defines.has("SCROLL")||(this.defines.set("SCROLL","1"),this.setChanged())}setSize(n,e){this.resolution.set(n,e),this.uniforms.get("count").value=Math.round(e*this.density)}},U5e="uniform bool active;uniform vec2 center;uniform float waveSize;uniform float radius;uniform float maxRadius;uniform float amplitude;varying float vSize;void mainUv(inout vec2 uv){if(active){vec2 aspectCorrection=vec2(aspect,1.0);vec2 difference=uv*aspectCorrection-center*aspectCorrection;float distance=sqrt(dot(difference,difference))*vSize;if(distance>radius){if(distance<radius+waveSize){float angle=(distance-radius)*PI2/waveSize;float cosSin=(1.0-cos(angle))*0.5;float extent=maxRadius+waveSize;float decay=max(extent-distance*distance,0.0)/extent;uv-=((cosSin*amplitude*difference)/distance)*decay;}}}}",H5e="uniform float size;uniform float cameraDistance;varying float vSize;void mainSupport(){vSize=(0.1*cameraDistance)/size;}",G5e=Math.PI*.5,pv=new Z,y8=new Z,$5e=class extends Co{constructor(n,e=new Z,{speed:t=2,maxRadius:r=1,waveSize:i=.2,amplitude:s=.05}={}){super("ShockWaveEffect",U5e,{vertexShader:H5e,uniforms:new Map([["active",new rt(!1)],["center",new rt(new Le(.5,.5))],["cameraDistance",new rt(1)],["size",new rt(1)],["radius",new rt(-i)],["maxRadius",new rt(r)],["waveSize",new rt(i)],["amplitude",new rt(s)]])}),this.position=e,this.speed=t,this.camera=n,this.screenPosition=this.uniforms.get("center").value,this.time=0,this.active=!1}set mainCamera(n){this.camera=n}get amplitude(){return this.uniforms.get("amplitude").value}set amplitude(n){this.uniforms.get("amplitude").value=n}get waveSize(){return this.uniforms.get("waveSize").value}set waveSize(n){this.uniforms.get("waveSize").value=n}get maxRadius(){return this.uniforms.get("maxRadius").value}set maxRadius(n){this.uniforms.get("maxRadius").value=n}get epicenter(){return this.position}set epicenter(n){this.position=n}getPosition(){return this.position}setPosition(n){this.position=n}getSpeed(){return this.speed}setSpeed(n){this.speed=n}explode(){this.time=0,this.active=!0,this.uniforms.get("active").value=!0}update(n,e,t){const r=this.position,i=this.camera,s=this.uniforms,o=s.get("active");if(this.active){const a=s.get("waveSize").value;i.getWorldDirection(pv),y8.copy(i.position).sub(r),o.value=pv.angleTo(y8)>G5e,o.value&&(s.get("cameraDistance").value=i.position.distanceTo(r),pv.copy(r).project(i),this.screenPosition.set((pv.x+1)*.5,(pv.y+1)*.5)),this.time+=t*this.speed;const l=this.time-a;s.get("radius").value=l,l>=(s.get("maxRadius").value+a)*2&&(this.active=!1,o.value=!1)}}},W5e="uniform vec3 weightsR;uniform vec3 weightsG;uniform vec3 weightsB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,weightsR),dot(inputColor.rgb,weightsG),dot(inputColor.rgb,weightsB));outputColor=vec4(color,inputColor.a);}",j5e=class extends Co{constructor({blendFunction:n,intensity:e=1}={}){super("SepiaEffect",W5e,{blendFunction:n,uniforms:new Map([["weightsR",new rt(new Z(.393,.769,.189))],["weightsG",new rt(new Z(.349,.686,.168))],["weightsB",new rt(new Z(.272,.534,.131))]])})}get intensity(){return this.blendMode.opacity.value}set intensity(n){this.blendMode.opacity.value=n}getIntensity(){return this.intensity}setIntensity(n){this.intensity=n}get weightsR(){return this.uniforms.get("weightsR").value}get weightsG(){return this.uniforms.get("weightsG").value}get weightsB(){return this.uniforms.get("weightsB").value}},q5e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform vec4 maskParams;varying vec2 vUv2;float linearGradientMask(const in float x){return smoothstep(maskParams.x,maskParams.y,x)-smoothstep(maskParams.w,maskParams.z,x);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float mask=linearGradientMask(vUv2.y);vec4 texel=texture2D(map,uv);outputColor=mix(texel,inputColor,mask);}`,Y5e="uniform vec2 rotation;varying vec2 vUv2;void mainSupport(const in vec2 uv){vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));}",X5e=class extends Co{constructor({blendFunction:n,offset:e=0,rotation:t=0,focusArea:r=.4,feather:i=.3,bias:s=.06,kernelSize:o=sp.MEDIUM,resolutionScale:a=.5,resolutionX:l=dr.AUTO_SIZE,resolutionY:c=dr.AUTO_SIZE}={}){super("TiltShiftEffect",q5e,{vertexShader:Y5e,blendFunction:n,uniforms:new Map([["rotation",new rt(new Le)],["maskParams",new rt(new Mn)],["map",new rt(null)]])}),this._offset=e,this._focusArea=r,this._feather=i,this._bias=s,this.renderTarget=new Kn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="TiltShift.Target",this.uniforms.get("map").value=this.renderTarget.texture,this.blurPass=new Dke({kernelSize:o,resolutionScale:a,resolutionX:l,resolutionY:c,offset:e,rotation:t,focusArea:r,feather:i});const d=this.resolution=new dr(this,l,c,a);d.addEventListener("change",u=>this.setSize(d.baseWidth,d.baseHeight)),this.rotation=t,this.updateParams()}updateParams(){const n=this.uniforms.get("maskParams").value,e=Math.max(this.focusArea-this.bias,0),t=Math.max(e-Math.max(this.feather-this.bias,0),0);n.set(this.offset-e,this.offset-t,this.offset+e,this.offset+t)}get rotation(){return Math.acos(this.uniforms.get("rotation").value.x)}set rotation(n){this.uniforms.get("rotation").value.set(Math.cos(n),Math.sin(n)),this.blurPass.blurMaterial.rotation=n}get offset(){return this._offset}set offset(n){this._offset=n,this.blurPass.blurMaterial.offset=n,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(n){this._focusArea=n,this.blurPass.blurMaterial.focusArea=n,this.updateParams()}get feather(){return this._feather}set feather(n){this._feather=n,this.blurPass.blurMaterial.feather=n,this.updateParams()}get bias(){return this._bias}set bias(n){this._bias=n,this.updateParams()}update(n,e,t){this.blurPass.render(n,e,this.renderTarget)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height),this.blurPass.resolution.copy(t)}initialize(n,e,t){this.blurPass.initialize(n,e,t),t!==void 0&&(this.renderTarget.texture.type=t,n.outputEncoding===It&&(this.renderTarget.texture.encoding=It))}},K5e=`#include <tonemapping_pars_fragment>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
uniform lowp sampler2D luminanceBuffer;uniform float whitePoint;uniform float middleGrey;
#if TONE_MAPPING_MODE != 2
uniform float averageLuminance;
#endif
vec3 Reinhard2ToneMapping(vec3 color){color*=toneMappingExposure;float l=luminance(color);
#if TONE_MAPPING_MODE == 2
float lumAvg=unpackRGBAToFloat(texture2D(luminanceBuffer,vec2(0.5)));
#else
float lumAvg=averageLuminance;
#endif
float lumScaled=(l*middleGrey)/max(lumAvg,1e-6);float lumCompressed=lumScaled*(1.0+lumScaled/(whitePoint*whitePoint));lumCompressed/=(1.0+lumScaled);return clamp(lumCompressed*color,0.0,1.0);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){
#if TONE_MAPPING_MODE == 1 || TONE_MAPPING_MODE == 2
outputColor=vec4(Reinhard2ToneMapping(inputColor.rgb),inputColor.a);
#else
outputColor=vec4(toneMapping(inputColor.rgb),inputColor.a);
#endif
}`,Z5e=class extends Co{constructor({blendFunction:n=Bt.SRC,adaptive:e=!0,mode:t=e?Yc.REINHARD2_ADAPTIVE:Yc.REINHARD2,resolution:r=256,maxLuminance:i=16,whitePoint:s=i,middleGrey:o=.6,minLuminance:a=.01,averageLuminance:l=1,adaptationRate:c=1}={}){super("ToneMappingEffect",K5e,{blendFunction:n,uniforms:new Map([["luminanceBuffer",new rt(null)],["maxLuminance",new rt(i)],["whitePoint",new rt(s)],["middleGrey",new rt(o)],["averageLuminance",new rt(l)]])}),this.renderTargetLuminance=new Kn(1,1,{minFilter:Rc,depthBuffer:!1}),this.renderTargetLuminance.texture.generateMipmaps=!0,this.renderTargetLuminance.texture.name="Luminance",this.luminancePass=new bY({renderTarget:this.renderTargetLuminance}),this.adaptiveLuminancePass=new Mke(this.luminancePass.texture,{minLuminance:a,adaptationRate:c}),this.uniforms.get("luminanceBuffer").value=this.adaptiveLuminancePass.texture,this.resolution=r,this.mode=t}get mode(){return Number(this.defines.get("TONE_MAPPING_MODE"))}set mode(n){if(this.mode!==n){switch(this.defines.clear(),this.defines.set("TONE_MAPPING_MODE",n.toFixed(0)),n){case Yc.REINHARD:this.defines.set("toneMapping(texel)","ReinhardToneMapping(texel)");break;case Yc.OPTIMIZED_CINEON:this.defines.set("toneMapping(texel)","OptimizedCineonToneMapping(texel)");break;case Yc.ACES_FILMIC:this.defines.set("toneMapping(texel)","ACESFilmicToneMapping(texel)");break;default:this.defines.set("toneMapping(texel)","texel");break}this.adaptiveLuminancePass.enabled=n===Yc.REINHARD2_ADAPTIVE,this.setChanged()}}getMode(){return this.mode}setMode(n){this.mode=n}get whitePoint(){return this.uniforms.get("whitePoint").value}set whitePoint(n){this.uniforms.get("whitePoint").value=n}get middleGrey(){return this.uniforms.get("middleGrey").value}set middleGrey(n){this.uniforms.get("middleGrey").value=n}get averageLuminance(){return this.uniforms.get("averageLuminance").value}set averageLuminance(n){this.uniforms.get("averageLuminance").value=n}get adaptiveLuminanceMaterial(){return this.adaptiveLuminancePass.fullscreenMaterial}getAdaptiveLuminanceMaterial(){return this.adaptiveLuminanceMaterial}get resolution(){return this.luminancePass.resolution.width}set resolution(n){const e=Math.max(0,Math.ceil(Math.log2(n))),t=Math.pow(2,e);this.luminancePass.resolution.setPreferredSize(t,t),this.adaptiveLuminanceMaterial.mipLevel1x1=e}getResolution(){return this.resolution}setResolution(n){this.resolution=n}get adaptive(){return this.mode===Yc.REINHARD2_ADAPTIVE}set adaptive(n){this.mode=n?Yc.REINHARD2_ADAPTIVE:Yc.REINHARD2}get adaptationRate(){return this.adaptiveLuminanceMaterial.adaptationRate}set adaptationRate(n){this.adaptiveLuminanceMaterial.adaptationRate=n}get distinction(){return console.warn(this.name,"distinction was removed."),1}set distinction(n){console.warn(this.name,"distinction was removed.")}update(n,e,t){this.adaptiveLuminancePass.enabled&&(this.luminancePass.render(n,e),this.adaptiveLuminancePass.render(n,null,null,t))}initialize(n,e,t){this.adaptiveLuminancePass.initialize(n,e,t)}},J5e=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,Q5e=class extends Co{constructor({blendFunction:n,technique:e=Wb.DEFAULT,eskil:t=!1,offset:r=.5,darkness:i=.5}={}){super("VignetteEffect",J5e,{blendFunction:n,defines:new Map([["VIGNETTE_TECHNIQUE",e.toFixed(0)]]),uniforms:new Map([["offset",new rt(r)],["darkness",new rt(i)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(n){this.technique!==n&&(this.defines.set("VIGNETTE_TECHNIQUE",n.toFixed(0)),this.setChanged())}get eskil(){return this.technique===Wb.ESKIL}set eskil(n){this.technique=n?Wb.ESKIL:Wb.DEFAULT}getTechnique(){return this.technique}setTechnique(n){this.technique=n}get offset(){return this.uniforms.get("offset").value}set offset(n){this.uniforms.get("offset").value=n}getOffset(){return this.offset}setOffset(n){this.offset=n}get darkness(){return this.uniforms.get("darkness").value}set darkness(n){this.uniforms.get("darkness").value=n}getDarkness(){return this.darkness}setDarkness(n){this.darkness=n}};const eRe=n=>!!n.current,x8=n=>eRe(n)?n.current:n,ua=function(n,e){return e===void 0&&(e=Bt.NORMAL),T.forwardRef(function(r,i){let{blendFunction:s,opacity:o,...a}=r;const l=Uo(d=>d.invalidate),c=T.useMemo(()=>new n(a),[a]);return T.useLayoutEffect(()=>{c.blendMode.blendFunction=!s&&s!==0?e:s,o!==void 0&&(c.blendMode.opacity.value=o),l()},[s,c.blendMode,o]),H.createElement("primitive",{ref:i,object:c,dispose:null})})},tRe=ua(S5e,Bt.ADD);ua(E5e);ua(C5e);ua(k5e);const wY=T.createContext(null),nRe=H.memo(T.forwardRef((n,e)=>{let{children:t,camera:r,scene:i,resolutionScale:s,enabled:o=!0,renderPriority:a=1,autoClear:l=!0,depthBuffer:c,disableNormalPass:d,stencilBuffer:u,multisampling:f=8,frameBufferType:h=Gh}=n;const{gl:g,scene:v,camera:x,size:y}=Uo();i=i||v,r=r||x;const[_,b,A]=T.useMemo(()=>{const P=F3e(),C=new zke(g,{depthBuffer:c,stencilBuffer:u,multisampling:f>0&&P?f:0,frameBufferType:h});C.addPass(new JA(i,r));let O=null,U=null;return d||(U=new Oke(i,r),U.enabled=!1,C.addPass(U),s!==void 0&&P&&(O=new kke({normalBuffer:U.texture,resolutionScale:s}),O.enabled=!1,C.addPass(O))),[C,U,O]},[r,g,c,u,f,h,i,d,s]);T.useEffect(()=>_==null?void 0:_.setSize(y.width,y.height),[_,y]),ag((P,C)=>{o&&(g.autoClear=l,_.render(C))},o?a:0);const E=T.useRef(null);T.useLayoutEffect(()=>{let P;return E.current&&E.current.__r3f&&_&&(P=new Pke(r,...E.current.__r3f.objects),P.renderToScreen=!0,_.addPass(P),b&&(b.enabled=!0),A&&(A.enabled=!0)),()=>{P&&(_==null||_.removePass(P)),b&&(b.enabled=!1),A&&(A.enabled=!1)}},[_,t,r,b,A]);const k=T.useMemo(()=>({composer:_,normalPass:b,downSamplingPass:A,resolutionScale:s,camera:r,scene:i}),[_,b,A,s,r,i]);return T.useImperativeHandle(e,()=>_,[_]),H.createElement(wY.Provider,{value:k},H.createElement("group",{ref:E},t))}));ua(P5e);ua(L5e);ua(N5e,Bt.COLOR_DODGE);const rRe=T.createContext(null),_8=T.forwardRef(function(e,t){let{selection:r=[],selectionLayer:i=10,blendFunction:s,patternTexture:o,edgeStrength:a,pulseSpeed:l,visibleEdgeColor:c,hiddenEdgeColor:d,width:u,height:f,kernelSize:h,blur:g,xRay:v,...x}=e;const y=Uo(k=>k.invalidate),{scene:_,camera:b}=T.useContext(wY),A=T.useMemo(()=>new F5e(_,b,{blendFunction:s,patternTexture:o,edgeStrength:a,pulseSpeed:l,visibleEdgeColor:c,hiddenEdgeColor:d,width:u,height:f,kernelSize:h,blur:g,xRay:v,...x}),[s,g,b,a,f,d,h,o,l,_,c,u,v]),E=T.useContext(rRe);return T.useEffect(()=>{if(!E&&r)return A.selection.set(Array.isArray(r)?r.map(x8):[x8(r)]),y(),()=>{A.selection.clear(),y()}},[A,r,E]),T.useEffect(()=>{A.selectionLayer=i,y()},[A,i]),T.useRef(),T.useEffect(()=>{if(E&&E.enabled){var k;if((k=E.selected)!=null&&k.length)return A.selection.set(E.selected),y(),()=>{A.selection.clear(),y()}}},[E]),H.createElement("primitive",{ref:t,object:A})});ua(V5e,Bt.OVERLAY);ua(j5e);ua(Z5e);ua(Q5e);ua($5e);ua(X5e,Bt.ADD);const iRe=[{name:"contractsModel",type:"lootBoxScene",path:"scenes/lootBox/contracts/contracts.gltf"},{name:"floorModel",type:"lootBoxScene",path:"scenes/lootBox/floor/floor.gltf"},{name:"houseModel",type:"lootBoxScene",path:"scenes/lootBox/house/house.gltf"},{name:"lampModel",type:"lootBoxScene",path:"scenes/lootBox/lamp/lamp.gltf"},{name:"natureModel",type:"lootBoxScene",path:"scenes/lootBox/nature/nature.gltf"},{name:"stepsModel",type:"lootBoxScene",path:"scenes/lootBox/steps/steps.gltf"},{name:"wall1Model",type:"lootBoxScene",path:"scenes/lootBox/walls/wall1.gltf"},{name:"wall2Model",type:"lootBoxScene",path:"scenes/lootBox/walls/wall2.gltf"},{name:"wall3Model",type:"lootBoxScene",path:"scenes/lootBox/walls/wall3.gltf"},{name:"wall4Model",type:"lootBoxScene",path:"scenes/lootBox/walls/wall4.gltf"},{name:"wall5Model",type:"lootBoxScene",path:"scenes/lootBox/walls/wall5.gltf"},{name:"wall6Model",type:"lootBoxScene",path:"scenes/lootBox/walls/wall6.gltf"},{name:"wall7Model",type:"lootBoxScene",path:"scenes/lootBox/walls/wall7.gltf"},{name:"wall8Model",type:"lootBoxScene",path:"scenes/lootBox/walls/wall8.gltf"},{name:"wall9Model",type:"lootBoxScene",path:"scenes/lootBox/walls/wall9.gltf"},{name:"wall10Model",type:"lootBoxScene",path:"scenes/lootBox/walls/wall10.gltf"},{name:"wallDoor1Model",type:"lootBoxScene",path:"scenes/lootBox/walls/wallDoor1.gltf"},{name:"wallDoor2Model",type:"lootBoxScene",path:"scenes/lootBox/walls/wallDoor2.gltf"},{name:"wallOriginModel",type:"lootBoxScene",path:"scenes/lootBox/walls/wallOrigin.gltf"},{name:"foxModel",type:"gltfModel",path:"models/Fox/glTF/Fox.gltf"},{name:"chestModel",type:"gltfModel",path:"models/chest.gltf"},{name:"erc20Model",type:"gltfModel",path:"models/erc20.gltf"},{name:"erc721Model",type:"gltfModel",path:"models/erc721.gltf"},{name:"erc1155Model",type:"gltfModel",path:"models/erc1155.gltf"},{name:"buttonLootAll",type:"gltfModel",path:"models/buttonLoot-all.gltf"},{name:"buttonLootSelected",type:"gltfModel",path:"models/buttonLoot-selected.gltf"},{name:"gotchiModel",type:"gltfModel",path:"models/gotchi.glb"},{name:"portalModel",type:"gltfModel",path:"models/portal.glb"},{name:"kekColorTexture",type:"texture",path:"textures/alchemicas/kek-material.png"},{name:"alphaColorTexture",type:"texture",path:"textures/alchemicas/alpha-material.png"},{name:"fomoColorTexture",type:"texture",path:"textures/alchemicas/fomo-material.png"},{name:"fudColorTexture",type:"texture",path:"textures/alchemicas/fud-material.png"},{name:"addWhitelistIcon",type:"image",path:"images/icons/addWhitelist.png"},{name:"approveErc20Icon",type:"image",path:"images/icons/approve_erc20.png"},{name:"approveErc721Icon",type:"image",path:"images/icons/approve_erc721.png"},{name:"approveAllErc721Icon",type:"image",path:"images/icons/approveAll_erc721.png"},{name:"approveAllErc1155Icon",type:"image",path:"images/icons/approveAll_erc1155.png"},{name:"batchBurnErc1155Icon",type:"image",path:"images/icons/batchBurn_erc1155.png"},{name:"batchLootIcon",type:"image",path:"images/icons/batchLoot.png"},{name:"batchMintErc1155Icon",type:"image",path:"images/icons/batchMint_erc1155.png"},{name:"batchTransferErc1155Icon",type:"image",path:"images/icons/batchTransfer_erc1155.png"},{name:"burnErc20Icon",type:"image",path:"images/icons/burn_erc20.png"},{name:"burnErc721Icon",type:"image",path:"images/icons/burn_erc721.png"},{name:"burnErc1155Icon",type:"image",path:"images/icons/burn_erc1155.png"},{name:"deployContractIcon",type:"image",path:"images/icons/deployContract.png"},{name:"depositIcon",type:"image",path:"images/icons/deposit.png"},{name:"importIcon",type:"image",path:"images/icons/import.png"},{name:"lootIcon",type:"image",path:"images/icons/loot.png"},{name:"mintErc20Icon",type:"image",path:"images/icons/mint_erc20.png"},{name:"mintErc721Icon",type:"image",path:"images/icons/mint_erc721.png"},{name:"mintErc1155Icon",type:"image",path:"images/icons/mint_erc1155.png"},{name:"transferErc20Icon",type:"image",path:"images/icons/transfer_erc20.png"},{name:"transferErc721Icon",type:"image",path:"images/icons/transfer_erc721.png"},{name:"transferErc1155Icon",type:"image",path:"images/icons/transfer_erc1155.png"},{name:"transferOwnershipIcon",type:"image",path:"images/icons/transferOwnership.png"},{name:"minecraft",type:"font",path:"fonts/Minecraft_Medium.json"},{name:"aovel",type:"font",path:"fonts/Aovel_Sans_Rounded_Rounded.json"},{name:"chestAbi",type:"abi",path:"abis/Chest.json"},{name:"erc20Abi",type:"abi",path:"abis/ChestERC20.json"},{name:"erc721Abi",type:"abi",path:"abis/ChestERC721.json"},{name:"erc1155Abi",type:"abi",path:"abis/ChestERC1155.json"}];function Jc(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function SY(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Qo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},k0={duration:.5,overwrite:!1,delay:0},NI,_o,gi,Ba=1e8,tr=1/Ba,$5=Math.PI*2,sRe=$5/4,oRe=0,AY=Math.sqrt,aRe=Math.cos,lRe=Math.sin,Wi=function(e){return typeof e=="string"},Xr=function(e){return typeof e=="function"},Mu=function(e){return typeof e=="number"},DI=function(e){return typeof e>"u"},Ec=function(e){return typeof e=="object"},bo=function(e){return e!==!1},EY=function(){return typeof window<"u"},jb=function(e){return Xr(e)||Wi(e)},MY=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ks=Array.isArray,W5=/(?:-?\.?\d|\.)+/gi,CY=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Tm=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,pT=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,TY=/[+-]=-?[.\d]+/,kY=/[^,'"\[\]\s]+/gi,cRe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Dr,Ca,j5,BI,ra={},u2={},RY,PY=function(e){return(u2=jh(e,ra))&&ia},FI=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},d2=function(e,t){return!t&&console.warn(e)},IY=function(e,t){return e&&(ra[e]=t)&&u2&&(u2[e]=t)||ra},g1=function(){return 0},uRe={suppressEvents:!0,isStart:!0,kill:!1},Bw={suppressEvents:!0,kill:!1},dRe={suppressEvents:!0},zI={},Wd=[],q5={},LY,Ho={},mT={},b8=30,Fw=[],VI="",UI=function(e){var t=e[0],r,i;if(Ec(t)||Xr(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Fw.length;i--&&!Fw[i].targetTest(t););r=Fw[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new tX(e[i],r)))||e.splice(i,1);return e},Lh=function(e){return e._gsap||UI(Fa(e))[0]._gsap},OY=function(e,t,r){return(r=e[t])&&Xr(r)?e[t]():DI(r)&&e.getAttribute&&e.getAttribute(t)||r},wo=function(e,t){return(e=e.split(",")).forEach(t)||e},ri=function(e){return Math.round(e*1e5)/1e5||0},es=function(e){return Math.round(e*1e7)/1e7||0},Jm=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},fRe=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},f2=function(){var e=Wd.length,t=Wd.slice(0),r,i;for(q5={},Wd.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},NY=function(e,t,r,i){Wd.length&&f2(),e.render(t,r,i||_o&&t<0&&(e._initted||e._startAt)),Wd.length&&f2()},DY=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(kY).length<2?t:Wi(e)?e.trim():e},BY=function(e){return e},$a=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},hRe=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},jh=function(e,t){for(var r in t)e[r]=t[r];return e},w8=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Ec(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},h2=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},uy=function(e){var t=e.parent||Dr,r=e.keyframes?hRe(ks(e.keyframes)):$a;if(bo(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},pRe=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},FY=function(e,t,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},QA=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},sf=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Oh=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},mRe=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Y5=function(e,t,r,i){return e._startAt&&(_o?e._startAt.revert(Bw):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},gRe=function n(e){return!e||e._ts&&n(e.parent)},S8=function(e){return e._repeat?R0(e._tTime,e=e.duration()+e._rDelay)*e:0},R0=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},p2=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},eE=function(e){return e._end=es(e._start+(e._tDur/Math.abs(e._ts||e._rts||tr)||0))},tE=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=es(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),eE(e),r._dirty||Oh(r,e)),e},zY=function(e,t){var r;if((t._time||t._initted&&!t._dur)&&(r=p2(e.rawTime(),t),(!t._dur||xx(0,t.totalDuration(),r)-t._tTime>tr)&&t.render(r,!0)),Oh(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-tr}},sc=function(e,t,r,i){return t.parent&&sf(t),t._start=es((Mu(r)?r:r||e!==Dr?Ma(e,r,t):e._time)+t._delay),t._end=es(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),FY(e,t,"_first","_last",e._sort?"_start":0),X5(t)||(e._recent=t),i||zY(e,t),e._ts<0&&tE(e,e._tTime),e},VY=function(e,t){return(ra.ScrollTrigger||FI("scrollTrigger",t))&&ra.ScrollTrigger.create(t,e)},UY=function(e,t,r,i,s){if(GI(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!_o&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&LY!==Wo.frame)return Wd.push(e),e._lazy=[s,i],1},vRe=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},X5=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},yRe=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&vRe(e)&&!(!e._initted&&X5(e))||(e._ts<0||e._dp._ts<0)&&!X5(e))?0:1,a=e._rDelay,l=0,c,d,u;if(a&&e._repeat&&(l=xx(0,e._tDur,t),d=R0(l,a),e._yoyo&&d&1&&(o=1-o),d!==R0(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||_o||i||e._zTime===tr||!t&&e._zTime){if(!e._initted&&UY(e,t,i,r,l))return;for(u=e._zTime,e._zTime=t||(r?tr:0),r||(r=t&&!u),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&Y5(e,t,r,!0),e._onUpdate&&!r&&za(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&za(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&sf(e,1),!r&&!_o&&(za(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},xRe=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},P0=function(e,t,r,i){var s=e._repeat,o=es(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:es(o*(s+1)+e._rDelay*s):o,a>0&&!i&&tE(e,e._tTime=e._tDur*a),e.parent&&eE(e),r||Oh(e.parent,e),e},A8=function(e){return e instanceof fo?Oh(e):P0(e,e._dur)},_Re={_start:0,endTime:g1,totalDuration:g1},Ma=function n(e,t,r){var i=e.labels,s=e._recent||_Re,o=e.duration()>=Ba?s.endTime(!1):e._dur,a,l,c;return Wi(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&r&&(l=l/100*(ks(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},dy=function(e,t,r){var i=Mu(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=bo(l.vars.inherit)&&l.parent;o.immediateRender=bo(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Mi(t[0],o,t[s+1])},_f=function(e,t){return e||e===0?t(e):t},xx=function(e,t,r){return r<e?e:r>t?t:r},Cs=function(e,t){return!Wi(e)||!(t=cRe.exec(e))?"":t[1]},bRe=function(e,t,r){return _f(r,function(i){return xx(e,t,i)})},K5=[].slice,HY=function(e,t){return e&&Ec(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Ec(e[0]))&&!e.nodeType&&e!==Ca},wRe=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Wi(i)&&!t||HY(i,1)?(s=r).push.apply(s,Fa(i)):r.push(i)})||r},Fa=function(e,t,r){return gi&&!t&&gi.selector?gi.selector(e):Wi(e)&&!r&&(j5||!I0())?K5.call((t||BI).querySelectorAll(e),0):ks(e)?wRe(e,r):HY(e)?K5.call(e,0):e?[e]:[]},Z5=function(e){return e=Fa(e)[0]||d2("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Fa(t,r.querySelectorAll?r:r===e?d2("Invalid scope")||BI.createElement("div"):e)}},GY=function(e){return e.sort(function(){return .5-Math.random()})},$Y=function(e){if(Xr(e))return e;var t=Ec(e)?e:{each:e},r=Nh(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=t.axis,d=i,u=i;return Wi(i)?d=u={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(d=i[0],u=i[1]),function(f,h,g){var v=(g||t).length,x=o[v],y,_,b,A,E,k,P,C,O;if(!x){if(O=t.grid==="auto"?0:(t.grid||[1,Ba])[1],!O){for(P=-Ba;P<(P=g[O++].getBoundingClientRect().left)&&O<v;);O--}for(x=o[v]=[],y=l?Math.min(O,v)*d-.5:i%O,_=O===Ba?0:l?v*u/O-.5:i/O|0,P=0,C=Ba,k=0;k<v;k++)b=k%O-y,A=_-(k/O|0),x[k]=E=c?Math.abs(c==="y"?A:b):AY(b*b+A*A),E>P&&(P=E),E<C&&(C=E);i==="random"&&GY(x),x.max=P-C,x.min=C,x.v=v=(parseFloat(t.amount)||parseFloat(t.each)*(O>v?v-1:c?c==="y"?v/O:O:Math.max(O,v/O))||0)*(i==="edges"?-1:1),x.b=v<0?s-v:s,x.u=Cs(t.amount||t.each)||0,r=r&&v<0?JY(r):r}return v=(x[f]-x.min)/x.max||0,es(x.b+(r?r(v):v)*x.v)+x.u}},J5=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=es(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(Mu(r)?0:Cs(r))}},WY=function(e,t){var r=ks(e),i,s;return!r&&Ec(e)&&(i=r=e.radius||Ba,e.values?(e=Fa(e.values),(s=!Mu(e[0]))&&(i*=i)):e=J5(e.increment)),_f(t,r?Xr(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Ba,d=0,u=e.length,f,h;u--;)s?(f=e[u].x-a,h=e[u].y-l,f=f*f+h*h):f=Math.abs(e[u]-a),f<c&&(c=f,d=u);return d=!i||c<=i?e[d]:o,s||d===o||Mu(o)?d:d+Cs(o)}:J5(e))},jY=function(e,t,r,i){return _f(ks(e)?!t:r===!0?!!(r=0):!i,function(){return ks(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},SRe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},ARe=function(e,t){return function(r){return e(parseFloat(r))+(t||Cs(r))}},ERe=function(e,t,r){return YY(e,t,0,1,r)},qY=function(e,t,r){return _f(r,function(i){return e[~~t(i)]})},MRe=function n(e,t,r){var i=t-e;return ks(e)?qY(e,n(0,e.length),t):_f(r,function(s){return(i+(s-e)%i)%i+e})},CRe=function n(e,t,r){var i=t-e,s=i*2;return ks(e)?qY(e,n(0,e.length-1),t):_f(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},v1=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?kY:W5),r+=e.substr(t,i-t)+jY(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},YY=function(e,t,r,i,s){var o=t-e,a=i-r;return _f(s,function(l){return r+((l-e)/o*a||0)})},TRe=function n(e,t,r,i){var s=isNaN(e+t)?0:function(h){return(1-h)*e+h*t};if(!s){var o=Wi(e),a={},l,c,d,u,f;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(ks(e)&&!ks(t)){for(d=[],u=e.length,f=u-2,c=1;c<u;c++)d.push(n(e[c-1],e[c]));u--,s=function(g){g*=u;var v=Math.min(f,~~g);return d[v](g-v)},r=t}else i||(e=jh(ks(e)?[]:{},e));if(!d){for(l in t)HI.call(a,e,l,"get",t[l]);s=function(g){return jI(g,a)||(o?e.p:e)}}}return _f(r,s)},E8=function(e,t,r){var i=e.labels,s=Ba,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},za=function(e,t,r){var i=e.vars,s=i[t],o=gi,a=e._ctx,l,c,d;if(s)return l=i[t+"Params"],c=i.callbackScope||e,r&&Wd.length&&f2(),a&&(gi=a),d=l?s.apply(c,l):s.call(c),gi=o,d},Lv=function(e){return sf(e),e.scrollTrigger&&e.scrollTrigger.kill(!!_o),e.progress()<1&&za(e,"onInterrupt"),e},km,kRe=function(e){e=!e.name&&e.default||e;var t=e.name,r=Xr(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:g1,render:jI,add:HI,kill:WRe,modifier:$Re,rawVars:0},o={targetTest:0,get:0,getSetter:WI,aliases:{},register:0};if(I0(),e!==i){if(Ho[t])return;$a(i,$a(h2(e,s),o)),jh(i.prototype,jh(s,h2(e,o))),Ho[i.prop=t]=i,e.targetTest&&(Fw.push(i),zI[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}IY(t,i),e.register&&e.register(ia,i,So)},or=255,Ov={aqua:[0,or,or],lime:[0,or,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,or],navy:[0,0,128],white:[or,or,or],olive:[128,128,0],yellow:[or,or,0],orange:[or,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[or,0,0],pink:[or,192,203],cyan:[0,or,or],transparent:[or,or,or,0]},gT=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*or+.5|0},XY=function(e,t,r){var i=e?Mu(e)?[e>>16,e>>8&or,e&or]:0:Ov.black,s,o,a,l,c,d,u,f,h,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ov[e])i=Ov[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&or,i&or,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&or,e&or]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(W5),!t)l=+i[0]%360/360,c=+i[1]/100,d=+i[2]/100,o=d<=.5?d*(c+1):d+c-d*c,s=d*2-o,i.length>3&&(i[3]*=1),i[0]=gT(l+1/3,s,o),i[1]=gT(l,s,o),i[2]=gT(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(CY),r&&i.length<4&&(i[3]=1),i}else i=e.match(W5)||Ov.transparent;i=i.map(Number)}return t&&!g&&(s=i[0]/or,o=i[1]/or,a=i[2]/or,u=Math.max(s,o,a),f=Math.min(s,o,a),d=(u+f)/2,u===f?l=c=0:(h=u-f,c=d>.5?h/(2-u-f):h/(u+f),l=u===s?(o-a)/h+(o<a?6:0):u===o?(a-s)/h+2:(s-o)/h+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(d*100+.5)),r&&i.length<4&&(i[3]=1),i},KY=function(e){var t=[],r=[],i=-1;return e.split(jd).forEach(function(s){var o=s.match(Tm)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},M8=function(e,t,r){var i="",s=(e+i).match(jd),o=t?"hsla(":"rgba(",a=0,l,c,d,u;if(!s)return e;if(s=s.map(function(f){return(f=XY(f,t,1))&&o+(t?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),r&&(d=KY(e),l=r.c,l.join(i)!==d.c.join(i)))for(c=e.replace(jd,"1").split(Tm),u=c.length-1;a<u;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(d.length?d:s.length?s:r).shift());if(!c)for(c=e.split(jd),u=c.length-1;a<u;a++)i+=c[a]+s[a];return i+c[u]},jd=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ov)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),RRe=/hsl[a]?\(/,ZY=function(e){var t=e.join(" "),r;if(jd.lastIndex=0,jd.test(t))return r=RRe.test(t),e[1]=M8(e[1],r),e[0]=M8(e[0],r,KY(e[1])),!0},y1,Wo=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,c,d,u,f,h,g=function v(x){var y=n()-i,_=x===!0,b,A,E,k;if(y>e&&(r+=y-t),i+=y,E=i-r,b=E-o,(b>0||_)&&(k=++u.frame,f=E-u.time*1e3,u.time=E=E/1e3,o+=b+(b>=s?4:s-b),A=1),_||(l=c(v)),A)for(h=0;h<a.length;h++)a[h](E,f,k,x)};return u={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(x){return f/(1e3/(x||60))},wake:function(){RY&&(!j5&&EY()&&(Ca=j5=window,BI=Ca.document||{},ra.gsap=ia,(Ca.gsapVersions||(Ca.gsapVersions=[])).push(ia.version),PY(u2||Ca.GreenSockGlobals||!Ca.gsap&&Ca||{}),d=Ca.requestAnimationFrame),l&&u.sleep(),c=d||function(x){return setTimeout(x,o-u.time*1e3+1|0)},y1=1,g(2))},sleep:function(){(d?Ca.cancelAnimationFrame:clearTimeout)(l),y1=0,c=g1},lagSmoothing:function(x,y){e=x||1/tr,t=Math.min(y,e,0)},fps:function(x){s=1e3/(x||240),o=u.time*1e3+s},add:function(x,y,_){var b=y?function(A,E,k,P){x(A,E,k,P),u.remove(b)}:x;return u.remove(x),a[_?"unshift":"push"](b),I0(),b},remove:function(x,y){~(y=a.indexOf(x))&&a.splice(y,1)&&h>=y&&h--},_listeners:a},u}(),I0=function(){return!y1&&Wo.wake()},wn={},PRe=/^[\d.\-M][\d.\-,\s]/,IRe=/["']/g,LRe=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[i]=isNaN(c)?c.replace(IRe,"").trim():+c,i=l.substr(a+1).trim();return t},ORe=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},NRe=function(e){var t=(e+"").split("("),r=wn[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[LRe(t[1])]:ORe(e).split(",").map(DY)):wn._CE&&PRe.test(e)?wn._CE("",e):r},JY=function(e){return function(t){return 1-e(1-t)}},QY=function n(e,t){for(var r=e._first,i;r;)r instanceof fo?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},Nh=function(e,t){return e&&(Xr(e)?e:wn[e]||NRe(e))||t},op=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return wo(e,function(a){wn[a]=ra[a]=s,wn[o=a.toLowerCase()]=r;for(var l in s)wn[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=wn[a+"."+l]=s[l]}),s},eX=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},vT=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/$5*(Math.asin(1/i)||0),a=function(d){return d===1?1:i*Math.pow(2,-10*d)*lRe((d-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:eX(a);return s=$5/s,l.config=function(c,d){return n(e,c,d)},l},yT=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:eX(r);return i.config=function(s){return n(e,s)},i};wo("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;op(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});wn.Linear.easeNone=wn.none=wn.Linear.easeIn;op("Elastic",vT("in"),vT("out"),vT());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};op("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);op("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});op("Circ",function(n){return-(AY(1-n*n)-1)});op("Sine",function(n){return n===1?1:-aRe(n*sRe)+1});op("Back",yT("in"),yT("out"),yT());wn.SteppedEase=wn.steps=ra.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-tr;return function(a){return((i*xx(0,o,a)|0)+s)*r}}};k0.ease=wn["quad.out"];wo("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return VI+=n+","+n+"Params,"});var tX=function(e,t){this.id=oRe++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:OY,this.set=t?t.getSetter:WI},L0=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,P0(this,+t.duration,1,1),this.data=t.data,gi&&(this._ctx=gi,gi.data.push(this)),y1||Wo.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,P0(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(I0(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(tE(this,r),!s._dp||s.parent||zY(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&sc(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===tr||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),NY(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+S8(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+S8(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?R0(this._tTime,s)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-tr?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?p2(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-tr?0:this._rts,this.totalTime(xx(-this._delay,this._tDur,i),!0),eE(this),mRe(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(I0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==tr&&(this._tTime-=tr)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&sc(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(bo(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?p2(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=dRe);var i=_o;return _o=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),_o=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this.vars.immediateRender?-1:s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,A8(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,A8(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Ma(this,r),bo(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,bo(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-tr:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-tr,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-tr)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Xr(r)?r:BY,a=function(){var c=i.then;i.then=null,Xr(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Lv(this)},n}();$a(L0.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-tr,_prom:0,_ps:!1,_rts:1});var fo=function(n){SY(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=bo(r.sortChildren),Dr&&sc(r.parent||Dr,Jc(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&VY(Jc(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return dy(0,arguments,this),this},t.from=function(i,s,o){return dy(1,arguments,this),this},t.fromTo=function(i,s,o,a){return dy(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,uy(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Mi(i,s,Ma(this,o),1),this},t.call=function(i,s,o){return sc(this,Mi.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,c,d){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=d,o.parent=this,new Mi(i,o,Ma(this,l)),this},t.staggerFrom=function(i,s,o,a,l,c,d){return o.runBackwards=1,uy(o).immediateRender=bo(o.immediateRender),this.staggerTo(i,s,o,a,l,c,d)},t.staggerFromTo=function(i,s,o,a,l,c,d,u){return a.startAt=o,uy(a).immediateRender=bo(a.immediateRender),this.staggerTo(i,s,a,l,c,d,u)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,d=i<=0?0:es(i),u=this._zTime<0!=i<0&&(this._initted||!c),f,h,g,v,x,y,_,b,A,E,k,P;if(this!==Dr&&d>l&&i>=0&&(d=l),d!==this._tTime||o||u){if(a!==this._time&&c&&(d+=this._time-a,i+=this._time-a),f=d,A=this._start,b=this._ts,y=!b,u&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(k=this._yoyo,x=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(x*100+i,s,o);if(f=es(d%x),d===l?(v=this._repeat,f=c):(v=~~(d/x),v&&v===d/x&&(f=c,v--),f>c&&(f=c)),E=R0(this._tTime,x),!a&&this._tTime&&E!==v&&(E=v),k&&v&1&&(f=c-f,P=1),v!==E&&!this._lock){var C=k&&E&1,O=C===(k&&v&1);if(v<E&&(C=!C),a=C?0:c,this._lock=1,this.render(a||(P?0:es(v*x)),s,!c)._lock=0,this._tTime=d,!s&&this.parent&&za(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,O&&(this._lock=2,a=C?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;QY(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=xRe(this,es(a),es(f)),_&&(d-=f-(f=_._start))),this._tTime=d,this._time=f,this._act=!b,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&f&&!s&&(za(this,"onStart"),this._tTime!==d))return this;if(f>=a&&i>=0)for(h=this._first;h;){if(g=h._next,(h._act||f>=h._start)&&h._ts&&_!==h){if(h.parent!==this)return this.render(i,s,o);if(h.render(h._ts>0?(f-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(f-h._start)*h._ts,s,o),f!==this._time||!this._ts&&!y){_=0,g&&(d+=this._zTime=-tr);break}}h=g}else{h=this._last;for(var U=i<0?i:f;h;){if(g=h._prev,(h._act||U<=h._end)&&h._ts&&_!==h){if(h.parent!==this)return this.render(i,s,o);if(h.render(h._ts>0?(U-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(U-h._start)*h._ts,s,o||_o&&(h._initted||h._startAt)),f!==this._time||!this._ts&&!y){_=0,g&&(d+=this._zTime=U?-tr:tr);break}}h=g}}if(_&&!s&&(this.pause(),_.render(f>=a?0:-tr)._zTime=f>=a?1:-1,this._ts))return this._start=A,eE(this),this.render(i,s,o);this._onUpdate&&!s&&za(this,"onUpdate",!0),(d===l&&this._tTime>=this.totalDuration()||!d&&a)&&(A===this._start||Math.abs(b)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(d===l&&this._ts>0||!d&&this._ts<0)&&sf(this,1),!s&&!(i<0&&!a)&&(d||a||!l)&&(za(this,d===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Mu(s)||(s=Ma(this,s,i)),!(i instanceof L0)){if(ks(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Wi(i))return this.addLabel(i,s);if(Xr(i))i=Mi.delayedCall(0,i);else return this}return this!==i?sc(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Ba);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Mi?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Wi(i)?this.removeLabel(i):Xr(i)?this.killTweensOf(i):(QA(this,i),i===this._recent&&(this._recent=this._last),Oh(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=es(Wo.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Ma(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=Mi.delayedCall(0,s||g1,o);return a.data="isPause",this._hasPause=1,sc(this,a,Ma(this,i))},t.removePause=function(i){var s=this._first;for(i=Ma(this,i);s;)s._start===i&&s.data==="isPause"&&sf(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Rd!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=Fa(i),l=this._first,c=Mu(s),d;l;)l instanceof Mi?fRe(l._targets,a)&&(c?(!Rd||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(d=l.getTweensOf(a,s)).length&&o.push.apply(o,d),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Ma(o,i),l=s,c=l.startAt,d=l.onStart,u=l.onStartParams,f=l.immediateRender,h,g=Mi.to(o,$a({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||tr,onStart:function(){if(o.pause(),!h){var x=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());g._dur!==x&&P0(g,x,0,1).render(g._time,!0,!0),h=1}d&&d.apply(g,u||[])}},s));return f?g.render(0):g},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,$a({startAt:{time:Ma(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),E8(this,Ma(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),E8(this,Ma(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+tr)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return Oh(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Oh(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=Ba,c,d,u;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(u=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),d=a._start,d>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,sc(o,a,d-a._delay,1)._lock=0):l=d,d<0&&a._ts&&(s-=d,(!u&&!o._dp||u&&u.smoothChildTiming)&&(o._start+=d/o._ts,o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;P0(o,o===Dr&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Dr._ts&&(NY(Dr,p2(i,Dr)),LY=Wo.frame),Wo.frame>=b8){b8+=Qo.autoSleep||120;var s=Dr._first;if((!s||!s._ts)&&Qo.autoSleep&&Wo._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Wo.sleep()}}},e}(L0);$a(fo.prototype,{_lock:0,_hasPause:0,_forcing:0});var DRe=function(e,t,r,i,s,o,a){var l=new So(this._pt,e,t,0,1,aX,null,s),c=0,d=0,u,f,h,g,v,x,y,_;for(l.b=r,l.e=i,r+="",i+="",(y=~i.indexOf("random("))&&(i=v1(i)),o&&(_=[r,i],o(_,e,t),r=_[0],i=_[1]),f=r.match(pT)||[];u=pT.exec(i);)g=u[0],v=i.substring(c,u.index),h?h=(h+1)%5:v.substr(-5)==="rgba("&&(h=1),g!==f[d++]&&(x=parseFloat(f[d-1])||0,l._pt={_next:l._pt,p:v||d===1?v:",",s:x,c:g.charAt(1)==="="?Jm(x,g)-x:parseFloat(g)-x,m:h&&h<4?Math.round:0},c=pT.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(TY.test(i)||y)&&(l.e=0),this._pt=l,l},HI=function(e,t,r,i,s,o,a,l,c,d){Xr(i)&&(i=i(s||0,e,o));var u=e[t],f=r!=="get"?r:Xr(u)?c?e[t.indexOf("set")||!Xr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():u,h=Xr(u)?c?URe:sX:$I,g;if(Wi(i)&&(~i.indexOf("random(")&&(i=v1(i)),i.charAt(1)==="="&&(g=Jm(f,i)+(Cs(f)||0),(g||g===0)&&(i=g))),!d||f!==i||Q5)return!isNaN(f*i)&&i!==""?(g=new So(this._pt,e,t,+f||0,i-(f||0),typeof u=="boolean"?GRe:oX,0,h),c&&(g.fp=c),a&&g.modifier(a,this,e),this._pt=g):(!u&&!(t in e)&&FI(t,i),DRe.call(this,e,t,f,i,h,l||Qo.stringFilter,c))},BRe=function(e,t,r,i,s){if(Xr(e)&&(e=fy(e,s,t,r,i)),!Ec(e)||e.style&&e.nodeType||ks(e)||MY(e))return Wi(e)?fy(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=fy(e[a],s,t,r,i);return o},nX=function(e,t,r,i,s,o){var a,l,c,d;if(Ho[e]&&(a=new Ho[e]).init(s,a.rawVars?t[e]:BRe(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new So(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==km))for(c=r._ptLookup[r._targets.indexOf(s)],d=a._props.length;d--;)c[a._props[d]]=l;return a},Rd,Q5,GI=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,d=i.onUpdateParams,u=i.callbackScope,f=i.runBackwards,h=i.yoyoEase,g=i.keyframes,v=i.autoRevert,x=e._dur,y=e._startAt,_=e._targets,b=e.parent,A=b&&b.data==="nested"?b.vars.targets:_,E=e._overwrite==="auto"&&!NI,k=e.timeline,P,C,O,U,K,J,F,S,I,D,$,N,G;if(k&&(!g||!s)&&(s="none"),e._ease=Nh(s,k0.ease),e._yEase=h?JY(Nh(h===!0?s:h,k0.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!k&&!!i.runBackwards,!k||g&&!i.stagger){if(S=_[0]?Lh(_[0]).harness:0,N=S&&i[S.prop],P=h2(i,zI),y&&(y._zTime<0&&y.progress(1),t<0&&f&&a&&!v?y.render(-1,!0):y.revert(f&&x?Bw:uRe),y._lazy=0),o){if(sf(e._startAt=Mi.set(_,$a({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:bo(l),startAt:null,delay:0,onUpdate:c,onUpdateParams:d,callbackScope:u,stagger:0},o))),e._startAt._dp=0,t<0&&(_o||!a&&!v)&&e._startAt.revert(Bw),a&&x&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(f&&x&&!y){if(t&&(a=!1),O=$a({overwrite:!1,data:"isFromStart",lazy:a&&bo(l),immediateRender:a,stagger:0,parent:b},P),N&&(O[S.prop]=N),sf(e._startAt=Mi.set(_,O)),e._startAt._dp=0,t<0&&(_o?e._startAt.revert(Bw):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,tr,tr);else if(!t)return}for(e._pt=e._ptCache=0,l=x&&bo(l)||l&&!x,C=0;C<_.length;C++){if(K=_[C],F=K._gsap||UI(_)[C]._gsap,e._ptLookup[C]=D={},q5[F.id]&&Wd.length&&f2(),$=A===_?C:A.indexOf(K),S&&(I=new S).init(K,N||P,e,$,A)!==!1&&(e._pt=U=new So(e._pt,K,I.name,0,1,I.render,I,0,I.priority),I._props.forEach(function(j){D[j]=U}),I.priority&&(J=1)),!S||N)for(O in P)Ho[O]&&(I=nX(O,P,e,$,K,A))?I.priority&&(J=1):D[O]=U=HI.call(e,K,O,"get",P[O],$,A,0,i.stringFilter);e._op&&e._op[C]&&e.kill(K,e._op[C]),E&&e._pt&&(Rd=e,Dr.killTweensOf(K,D,e.globalTime(t)),G=!e.parent,Rd=0),e._pt&&l&&(q5[F.id]=1)}J&&lX(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!G,g&&t<=0&&k.render(Ba,!0,!0)},FRe=function(e,t,r,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,d,u,f;if(!l)for(l=e._ptCache[t]=[],u=e._ptLookup,f=e._targets.length;f--;){if(c=u[f][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return Q5=1,e.vars[t]="+=0",GI(e,a),Q5=0,1;l.push(c)}for(f=l.length;f--;)d=l[f],c=d._pt||d,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=r-c.s,d.e&&(d.e=ri(r)+Cs(d.e)),d.b&&(d.b=c.s+Cs(d.b))},zRe=function(e,t){var r=e[0]?Lh(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=jh({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},VRe=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(ks(t))a=r[e]||(r[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},fy=function(e,t,r,i,s){return Xr(e)?e.call(t,r,i,s):Wi(e)&&~e.indexOf("random(")?v1(e):e},rX=VI+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",iX={};wo(rX+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return iX[n]=1});var Mi=function(n){SY(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:uy(i))||this;var l=a.vars,c=l.duration,d=l.delay,u=l.immediateRender,f=l.stagger,h=l.overwrite,g=l.keyframes,v=l.defaults,x=l.scrollTrigger,y=l.yoyoEase,_=i.parent||Dr,b=(ks(r)||MY(r)?Mu(r[0]):"length"in i)?[r]:Fa(r),A,E,k,P,C,O,U,K;if(a._targets=b.length?UI(b):d2("GSAP target "+r+" not found. https://greensock.com",!Qo.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=h,g||f||jb(c)||jb(d)){if(i=a.vars,A=a.timeline=new fo({data:"nested",defaults:v||{},targets:_&&_.data==="nested"?_.vars.targets:b}),A.kill(),A.parent=A._dp=Jc(a),A._start=0,f||jb(c)||jb(d)){if(P=b.length,U=f&&$Y(f),Ec(f))for(C in f)~rX.indexOf(C)&&(K||(K={}),K[C]=f[C]);for(E=0;E<P;E++)k=h2(i,iX),k.stagger=0,y&&(k.yoyoEase=y),K&&jh(k,K),O=b[E],k.duration=+fy(c,Jc(a),E,O,b),k.delay=(+fy(d,Jc(a),E,O,b)||0)-a._delay,!f&&P===1&&k.delay&&(a._delay=d=k.delay,a._start+=d,k.delay=0),A.to(O,k,U?U(E,O,b):0),A._ease=wn.none;A.duration()?c=d=0:a.timeline=0}else if(g){uy($a(A.vars.defaults,{ease:"none"})),A._ease=Nh(g.ease||i.ease||"none");var J=0,F,S,I;if(ks(g))g.forEach(function(D){return A.to(b,D,">")}),A.duration();else{k={};for(C in g)C==="ease"||C==="easeEach"||VRe(C,g[C],k,g.easeEach);for(C in k)for(F=k[C].sort(function(D,$){return D.t-$.t}),J=0,E=0;E<F.length;E++)S=F[E],I={ease:S.e,duration:(S.t-(E?F[E-1].t:0))/100*c},I[C]=S.v,A.to(b,I,J),J+=I.duration;A.duration()<c&&A.to({},{duration:c-A.duration()})}}c||a.duration(c=A.duration())}else a.timeline=0;return h===!0&&!NI&&(Rd=Jc(a),Dr.killTweensOf(b),Rd=0),sc(_,Jc(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(u||!c&&!g&&a._start===es(_._time)&&bo(u)&&gRe(Jc(a))&&_.data!=="nested")&&(a._tTime=-tr,a.render(Math.max(0,-d)||0)),x&&VY(Jc(a),x),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,d=i<0,u=i>l-tr&&!d?l:i<tr?0:i,f,h,g,v,x,y,_,b,A;if(!c)yRe(this,i,s,o);else if(u!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d){if(f=u,b=this.timeline,this._repeat){if(v=c+this._rDelay,this._repeat<-1&&d)return this.totalTime(v*100+i,s,o);if(f=es(u%v),u===l?(g=this._repeat,f=c):(g=~~(u/v),g&&g===u/v&&(f=c,g--),f>c&&(f=c)),y=this._yoyo&&g&1,y&&(A=this._yEase,f=c-f),x=R0(this._tTime,v),f===a&&!o&&this._initted)return this._tTime=u,this;g!==x&&(b&&this._yEase&&QY(b,y),this.vars.repeatRefresh&&!y&&!this._lock&&(this._lock=o=1,this.render(es(v*g),!0).invalidate()._lock=0))}if(!this._initted){if(UY(this,d?i:f,o,s,u))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=u,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(A||this._ease)(f/c),this._from&&(this.ratio=_=1-_),f&&!a&&!s&&(za(this,"onStart"),this._tTime!==u))return this;for(h=this._pt;h;)h.r(_,h.d),h=h._next;b&&b.render(i<0?i:!f&&y?-tr:b._dur*b._ease(f/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(d&&Y5(this,i,s,o),za(this,"onUpdate")),this._repeat&&g!==x&&this.vars.onRepeat&&!s&&this.parent&&za(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(d&&!this._onUpdate&&Y5(this,i,!0,!0),(i||!c)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&sf(this,1),!s&&!(d&&!a)&&(u||a||y)&&(za(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a){y1||Wo.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||GI(this,l),c=this._ease(l/this._dur),FRe(this,i,s,o,a,c,l)?this.resetTo(i,s,o,a):(tE(this,0),this.parent||FY(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Lv(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Rd&&Rd.vars.overwrite!==!0)._first||Lv(this),this.parent&&o!==this.timeline.totalDuration()&&P0(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?Fa(i):a,c=this._ptLookup,d=this._pt,u,f,h,g,v,x,y;if((!s||s==="all")&&pRe(a,l))return s==="all"&&(this._pt=0),Lv(this);for(u=this._op=this._op||[],s!=="all"&&(Wi(s)&&(v={},wo(s,function(_){return v[_]=1}),s=v),s=zRe(a,s)),y=a.length;y--;)if(~l.indexOf(a[y])){f=c[y],s==="all"?(u[y]=s,g=f,h={}):(h=u[y]=u[y]||{},g=s);for(v in g)x=f&&f[v],x&&((!("kill"in x.d)||x.d.kill(v)===!0)&&QA(this,x,"_pt"),delete f[v]),h!=="all"&&(h[v]=1)}return this._initted&&!this._pt&&d&&Lv(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return dy(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return dy(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Dr.killTweensOf(i,s,o)},e}(L0);$a(Mi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});wo("staggerTo,staggerFrom,staggerFromTo",function(n){Mi[n]=function(){var e=new fo,t=K5.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var $I=function(e,t,r){return e[t]=r},sX=function(e,t,r){return e[t](r)},URe=function(e,t,r,i){return e[t](i.fp,r)},HRe=function(e,t,r){return e.setAttribute(t,r)},WI=function(e,t){return Xr(e[t])?sX:DI(e[t])&&e.setAttribute?HRe:$I},oX=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},GRe=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},aX=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},jI=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},$Re=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},WRe=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?QA(this,t,"_pt"):t.dep||(r=1),t=i;return!r},jRe=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},lX=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},So=function(){function n(t,r,i,s,o,a,l,c,d){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||oX,this.d=l||this,this.set=c||$I,this.pr=d||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=jRe,this.m=r,this.mt=s,this.tween=i},n}();wo(VI+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return zI[n]=1});ra.TweenMax=ra.TweenLite=Mi;ra.TimelineLite=ra.TimelineMax=fo;Dr=new fo({sortChildren:!1,defaults:k0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Qo.stringFilter=ZY;var O0=[],zw={},qRe=[],C8=0,xT=function(e){return(zw[e]||qRe).map(function(t){return t()})},eR=function(){var e=Date.now(),t=[];e-C8>2&&(xT("matchMediaInit"),O0.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=Ca.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&t.push(r))}),xT("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r)}),C8=e,xT("matchMedia"))},cX=function(){function n(t,r){this.selector=r&&Z5(r),this.data=[],this._r=[],this.isReverted=!1,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){Xr(r)&&(s=i,i=r,r=Xr);var o=this,a=function(){var c=gi,d=o.selector,u;return c&&c!==o&&c.data.push(o),s&&(o.selector=Z5(s)),gi=o,u=i.apply(o,arguments),Xr(u)&&o._r.push(u),gi=c,o.selector=d,o.isReverted=!1,u};return o.last=a,r===Xr?a(o):r?o[r]=a:a},e.ignore=function(r){var i=gi;gi=null,r(this),gi=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof Mi&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,c){return c.g-l.g||-1}).forEach(function(l){return l.t.revert(r)}),this.data.forEach(function(l){return!(l instanceof L0)&&l.revert&&l.revert(r)}),this._r.forEach(function(l){return l(r,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i){var a=O0.indexOf(this);~a&&O0.splice(a,1)}},e.revert=function(r){this.kill(r||{})},n}(),YRe=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(r,i,s){Ec(r)||(r={matches:r});var o=new cX(0,s||this.scope),a=o.conditions={},l,c,d;this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?d=1:(l=Ca.matchMedia(r[c]),l&&(O0.indexOf(o)<0&&O0.push(o),(a[c]=l.matches)&&(d=1),l.addListener?l.addListener(eR):l.addEventListener("change",eR)));return d&&i(o),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),m2={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return kRe(i)})},timeline:function(e){return new fo(e)},getTweensOf:function(e,t){return Dr.getTweensOf(e,t)},getProperty:function(e,t,r,i){Wi(e)&&(e=Fa(e)[0]);var s=Lh(e||{}).get,o=r?BY:DY;return r==="native"&&(r=""),e&&(t?o((Ho[t]&&Ho[t].get||s)(e,t,r,i)):function(a,l,c){return o((Ho[a]&&Ho[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,r){if(e=Fa(e),e.length>1){var i=e.map(function(d){return ia.quickSetter(d,t,r)}),s=i.length;return function(d){for(var u=s;u--;)i[u](d)}}e=e[0]||{};var o=Ho[t],a=Lh(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(d){var u=new o;km._pt=0,u.init(e,r?d+r:d,km,0,[e]),u.render(1,u),km._pt&&jI(1,km)}:a.set(e,l);return o?c:function(d){return c(e,l,r?d+r:d,a,1)}},quickTo:function(e,t,r){var i,s=ia.to(e,jh((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(l,c,d){return s.resetTo(t,l,c,d)};return o.tween=s,o},isTweening:function(e){return Dr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Nh(e.ease,k0.ease)),w8(k0,e||{})},config:function(e){return w8(Qo,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Ho[a]&&!ra[a]&&d2(t+" effect requires "+a+" plugin.")}),mT[t]=function(a,l,c){return r(Fa(a),$a(l||{},s),c)},o&&(fo.prototype[t]=function(a,l,c){return this.add(mT[t](a,Ec(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){wn[e]=Nh(t)},parseEase:function(e,t){return arguments.length?Nh(e,t):wn},getById:function(e){return Dr.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new fo(e),i,s;for(r.smoothChildTiming=bo(e.smoothChildTiming),Dr.remove(r),r._dp=0,r._time=r._tTime=Dr._time,i=Dr._first;i;)s=i._next,(t||!(!i._dur&&i instanceof Mi&&i.vars.onComplete===i._targets[0]))&&sc(r,i,i._start-i._delay),i=s;return sc(Dr,r,0),r},context:function(e,t){return e?new cX(e,t):gi},matchMedia:function(e){return new YRe(e)},matchMediaRefresh:function(){return O0.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||eR()},addEventListener:function(e,t){var r=zw[e]||(zw[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=zw[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:MRe,wrapYoyo:CRe,distribute:$Y,random:jY,snap:WY,normalize:ERe,getUnit:Cs,clamp:bRe,splitColor:XY,toArray:Fa,selector:Z5,mapRange:YY,pipe:SRe,unitize:ARe,interpolate:TRe,shuffle:GY},install:PY,effects:mT,ticker:Wo,updateRoot:fo.updateRoot,plugins:Ho,globalTimeline:Dr,core:{PropTween:So,globals:IY,Tween:Mi,Timeline:fo,Animation:L0,getCache:Lh,_removeLinkedListItem:QA,reverting:function(){return _o},context:function(e){return e&&gi&&(gi.data.push(e),e._ctx=gi),gi},suppressOverwrites:function(e){return NI=e}}};wo("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return m2[n]=Mi[n]});Wo.add(fo.updateRoot);km=m2.to({},{duration:0});var XRe=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},KRe=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=XRe(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},_T=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(Wi(s)&&(l={},wo(s,function(d){return l[d]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}KRe(a,s)}}}},ia=m2.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)_o?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},_T("roundProps",J5),_T("modifiers"),_T("snap",WY))||m2;Mi.version=fo.version=ia.version="3.11.3";RY=1;EY()&&I0();wn.Power0;wn.Power1;wn.Power2;wn.Power3;wn.Power4;wn.Linear;wn.Quad;wn.Cubic;wn.Quart;wn.Quint;wn.Strong;wn.Elastic;wn.Back;wn.SteppedEase;wn.Bounce;wn.Sine;wn.Expo;wn.Circ;/*!
 * CSSPlugin 3.11.3
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var T8,Pd,Qm,qI,bh,k8,YI,ZRe=function(){return typeof window<"u"},Cu={},nh=180/Math.PI,e0=Math.PI/180,em=Math.atan2,R8=1e8,XI=/([A-Z])/g,JRe=/(left|right|width|margin|padding|x)/i,QRe=/[\s,\(]\S/,hu={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},tR=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},ePe=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},tPe=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},nPe=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},uX=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},dX=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},rPe=function(e,t,r){return e.style[t]=r},iPe=function(e,t,r){return e.style.setProperty(t,r)},sPe=function(e,t,r){return e._gsap[t]=r},oPe=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},aPe=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},lPe=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},Fr="transform",Pl=Fr+"Origin",cPe=function(e,t){var r=this,i=this.target,s=i.style;if(e in Cu){if(this.tfm=this.tfm||{},e!=="transform"&&(e=hu[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=nu(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:nu(i,e)),this.props.indexOf(Fr)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Pl,t,"")),e=Fr}(s||t)&&this.props.push(e,t,s[e])},fX=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},uPe=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].replace(XI,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=YI(),s&&!s.isStart&&!r[Fr]&&(fX(r),i.uncache=1)}},hX=function(e,t){var r={target:e,props:[],revert:uPe,save:cPe};return t&&t.split(",").forEach(function(i){return r.save(i)}),r},pX,nR=function(e,t){var r=Pd.createElementNS?Pd.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Pd.createElement(e);return r.style?r:Pd.createElement(e)},xc=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(XI,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,N0(t)||t,1)||""},P8="O,Moz,ms,Ms,Webkit".split(","),N0=function(e,t,r){var i=t||bh,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(P8[o]+e in s););return o<0?null:(o===3?"ms":o>=0?P8[o]:"")+e},rR=function(){ZRe()&&window.document&&(T8=window,Pd=T8.document,Qm=Pd.documentElement,bh=nR("div")||{style:{}},nR("div"),Fr=N0(Fr),Pl=Fr+"Origin",bh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",pX=!!N0("perspective"),YI=ia.core.reverting,qI=1)},bT=function n(e){var t=nR("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Qm.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Qm.removeChild(t),this.style.cssText=s,o},I8=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},mX=function(e){var t;try{t=e.getBBox()}catch{t=bT.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===bT||(t=bT.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+I8(e,["x","cx","x1"])||0,y:+I8(e,["y","cy","y1"])||0,width:0,height:0}:t},gX=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&mX(e))},x1=function(e,t){if(t){var r=e.style;t in Cu&&t!==Pl&&(t=Fr),r.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(t.replace(XI,"-$1").toLowerCase())):r.removeAttribute(t)}},Id=function(e,t,r,i,s,o){var a=new So(e._pt,t,r,0,1,o?dX:uX);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},L8={deg:1,rad:1,turn:1},dPe={grid:1,flex:1},of=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=bh.style,l=JRe.test(t),c=e.tagName.toLowerCase()==="svg",d=(c?"client":"offset")+(l?"Width":"Height"),u=100,f=i==="px",h=i==="%",g,v,x,y;return i===o||!s||L8[i]||L8[o]?s:(o!=="px"&&!f&&(s=n(e,t,r,"px")),y=e.getCTM&&gX(e),(h||o==="%")&&(Cu[t]||~t.indexOf("adius"))?(g=y?e.getBBox()[l?"width":"height"]:e[d],ri(h?s/g*u:s/100*g)):(a[l?"width":"height"]=u+(f?o:i),v=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,y&&(v=(e.ownerSVGElement||{}).parentNode),(!v||v===Pd||!v.appendChild)&&(v=Pd.body),x=v._gsap,x&&h&&x.width&&l&&x.time===Wo.time&&!x.uncache?ri(s/x.width*u):((h||o==="%")&&!dPe[xc(v,"display")]&&(a.position=xc(e,"position")),v===e&&(a.position="static"),v.appendChild(bh),g=bh[d],v.removeChild(bh),a.position="absolute",l&&h&&(x=Lh(v),x.time=Wo.time,x.width=v[d]),ri(f?g*s/u:g&&s?u/g*s:0))))},nu=function(e,t,r,i){var s;return qI||rR(),t in hu&&t!=="transform"&&(t=hu[t],~t.indexOf(",")&&(t=t.split(",")[0])),Cu[t]&&t!=="transform"?(s=b1(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:v2(xc(e,Pl))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=g2[t]&&g2[t](e,t,r)||xc(e,t)||OY(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?of(e,t,s,r)+r:s},fPe=function(e,t,r,i){if(!r||r==="none"){var s=N0(t,e,1),o=s&&xc(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=xc(e,"borderTopColor"))}var a=new So(this._pt,e.style,t,0,1,aX),l=0,c=0,d,u,f,h,g,v,x,y,_,b,A,E;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(e.style[t]=i,i=xc(e,t)||i,e.style[t]=r),d=[r,i],ZY(d),r=d[0],i=d[1],f=r.match(Tm)||[],E=i.match(Tm)||[],E.length){for(;u=Tm.exec(i);)x=u[0],_=i.substring(l,u.index),g?g=(g+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(g=1),x!==(v=f[c++]||"")&&(h=parseFloat(v)||0,A=v.substr((h+"").length),x.charAt(1)==="="&&(x=Jm(h,x)+A),y=parseFloat(x),b=x.substr((y+"").length),l=Tm.lastIndex-b.length,b||(b=b||Qo.units[t]||A,l===i.length&&(i+=b,a.e+=b)),A!==b&&(h=of(e,t,v,b)||0),a._pt={_next:a._pt,p:_||c===1?_:",",s:h,c:y-h,m:g&&g<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?dX:uX;return TY.test(i)&&(a.e=0),this._pt=a,a},O8={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},hPe=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=O8[r]||r,t[1]=O8[i]||i,t.join(" ")},pPe=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Cu[a]&&(l=1,a=a==="transformOrigin"?Pl:Fr),x1(r,a);l&&(x1(r,Fr),o&&(o.svg&&r.removeAttribute("transform"),b1(r,1),o.uncache=1,fX(i)))}},g2={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new So(e._pt,t,r,0,0,pPe);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},_1=[1,0,0,1,0,0],vX={},yX=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},N8=function(e){var t=xc(e,Fr);return yX(t)?_1:t.substr(7).match(CY).map(ri)},KI=function(e,t){var r=e._gsap||Lh(e),i=e.style,s=N8(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?_1:s):(s===_1&&!e.offsetParent&&e!==Qm&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Qm.appendChild(e)),s=N8(e),l?i.display=l:x1(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Qm.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},iR=function(e,t,r,i,s,o){var a=e._gsap,l=s||KI(e,!0),c=a.xOrigin||0,d=a.yOrigin||0,u=a.xOffset||0,f=a.yOffset||0,h=l[0],g=l[1],v=l[2],x=l[3],y=l[4],_=l[5],b=t.split(" "),A=parseFloat(b[0])||0,E=parseFloat(b[1])||0,k,P,C,O;r?l!==_1&&(P=h*x-g*v)&&(C=A*(x/P)+E*(-v/P)+(v*_-x*y)/P,O=A*(-g/P)+E*(h/P)-(h*_-g*y)/P,A=C,E=O):(k=mX(e),A=k.x+(~b[0].indexOf("%")?A/100*k.width:A),E=k.y+(~(b[1]||b[0]).indexOf("%")?E/100*k.height:E)),i||i!==!1&&a.smooth?(y=A-c,_=E-d,a.xOffset=u+(y*h+_*v)-y,a.yOffset=f+(y*g+_*x)-_):a.xOffset=a.yOffset=0,a.xOrigin=A,a.yOrigin=E,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[Pl]="0px 0px",o&&(Id(o,a,"xOrigin",c,A),Id(o,a,"yOrigin",d,E),Id(o,a,"xOffset",u,a.xOffset),Id(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",A+" "+E)},b1=function(e,t){var r=e._gsap||new tX(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=xc(e,Pl)||"0",d,u,f,h,g,v,x,y,_,b,A,E,k,P,C,O,U,K,J,F,S,I,D,$,N,G,j,W,R,Y,Ae,z;return d=u=f=v=x=y=_=b=A=0,h=g=1,r.svg=!!(e.getCTM&&gX(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Fr]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Fr]!=="none"?l[Fr]:"")),i.scale=i.rotate=i.translate="none"),P=KI(e,r.svg),r.svg&&(r.uncache?(N=e.getBBox(),c=r.xOrigin-N.x+"px "+(r.yOrigin-N.y)+"px",$=""):$=!t&&e.getAttribute("data-svg-origin"),iR(e,$||c,!!$||r.originIsAbsolute,r.smooth!==!1,P)),E=r.xOrigin||0,k=r.yOrigin||0,P!==_1&&(K=P[0],J=P[1],F=P[2],S=P[3],d=I=P[4],u=D=P[5],P.length===6?(h=Math.sqrt(K*K+J*J),g=Math.sqrt(S*S+F*F),v=K||J?em(J,K)*nh:0,_=F||S?em(F,S)*nh+v:0,_&&(g*=Math.abs(Math.cos(_*e0))),r.svg&&(d-=E-(E*K+k*F),u-=k-(E*J+k*S))):(z=P[6],Y=P[7],j=P[8],W=P[9],R=P[10],Ae=P[11],d=P[12],u=P[13],f=P[14],C=em(z,R),x=C*nh,C&&(O=Math.cos(-C),U=Math.sin(-C),$=I*O+j*U,N=D*O+W*U,G=z*O+R*U,j=I*-U+j*O,W=D*-U+W*O,R=z*-U+R*O,Ae=Y*-U+Ae*O,I=$,D=N,z=G),C=em(-F,R),y=C*nh,C&&(O=Math.cos(-C),U=Math.sin(-C),$=K*O-j*U,N=J*O-W*U,G=F*O-R*U,Ae=S*U+Ae*O,K=$,J=N,F=G),C=em(J,K),v=C*nh,C&&(O=Math.cos(C),U=Math.sin(C),$=K*O+J*U,N=I*O+D*U,J=J*O-K*U,D=D*O-I*U,K=$,I=N),x&&Math.abs(x)+Math.abs(v)>359.9&&(x=v=0,y=180-y),h=ri(Math.sqrt(K*K+J*J+F*F)),g=ri(Math.sqrt(D*D+z*z)),C=em(I,D),_=Math.abs(C)>2e-4?C*nh:0,A=Ae?1/(Ae<0?-Ae:Ae):0),r.svg&&($=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!yX(xc(e,Fr)),$&&e.setAttribute("transform",$))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(h*=-1,_+=v<=0?180:-180,v+=v<=0?180:-180):(g*=-1,_+=_<=0?180:-180)),t=t||r.uncache,r.x=d-((r.xPercent=d&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=u-((r.yPercent=u&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-u)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=f+o,r.scaleX=ri(h),r.scaleY=ri(g),r.rotation=ri(v)+a,r.rotationX=ri(x)+a,r.rotationY=ri(y)+a,r.skewX=_+a,r.skewY=b+a,r.transformPerspective=A+o,(r.zOrigin=parseFloat(c.split(" ")[2])||0)&&(i[Pl]=v2(c)),r.xOffset=r.yOffset=0,r.force3D=Qo.force3D,r.renderTransform=r.svg?gPe:pX?xX:mPe,r.uncache=0,r},v2=function(e){return(e=e.split(" "))[0]+" "+e[1]},wT=function(e,t,r){var i=Cs(t);return ri(parseFloat(t)+parseFloat(of(e,"x",r+"px",i)))+i},mPe=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,xX(e,t)},qf="0deg",mv="0px",Yf=") ",xX=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,d=r.rotationY,u=r.rotationX,f=r.skewX,h=r.skewY,g=r.scaleX,v=r.scaleY,x=r.transformPerspective,y=r.force3D,_=r.target,b=r.zOrigin,A="",E=y==="auto"&&e&&e!==1||y===!0;if(b&&(u!==qf||d!==qf)){var k=parseFloat(d)*e0,P=Math.sin(k),C=Math.cos(k),O;k=parseFloat(u)*e0,O=Math.cos(k),o=wT(_,o,P*O*-b),a=wT(_,a,-Math.sin(k)*-b),l=wT(_,l,C*O*-b+b)}x!==mv&&(A+="perspective("+x+Yf),(i||s)&&(A+="translate("+i+"%, "+s+"%) "),(E||o!==mv||a!==mv||l!==mv)&&(A+=l!==mv||E?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Yf),c!==qf&&(A+="rotate("+c+Yf),d!==qf&&(A+="rotateY("+d+Yf),u!==qf&&(A+="rotateX("+u+Yf),(f!==qf||h!==qf)&&(A+="skew("+f+", "+h+Yf),(g!==1||v!==1)&&(A+="scale("+g+", "+v+Yf),_.style[Fr]=A||"translate(0, 0)"},gPe=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,d=r.skewY,u=r.scaleX,f=r.scaleY,h=r.target,g=r.xOrigin,v=r.yOrigin,x=r.xOffset,y=r.yOffset,_=r.forceCSS,b=parseFloat(o),A=parseFloat(a),E,k,P,C,O;l=parseFloat(l),c=parseFloat(c),d=parseFloat(d),d&&(d=parseFloat(d),c+=d,l+=d),l||c?(l*=e0,c*=e0,E=Math.cos(l)*u,k=Math.sin(l)*u,P=Math.sin(l-c)*-f,C=Math.cos(l-c)*f,c&&(d*=e0,O=Math.tan(c-d),O=Math.sqrt(1+O*O),P*=O,C*=O,d&&(O=Math.tan(d),O=Math.sqrt(1+O*O),E*=O,k*=O)),E=ri(E),k=ri(k),P=ri(P),C=ri(C)):(E=u,C=f,k=P=0),(b&&!~(o+"").indexOf("px")||A&&!~(a+"").indexOf("px"))&&(b=of(h,"x",o,"px"),A=of(h,"y",a,"px")),(g||v||x||y)&&(b=ri(b+g-(g*E+v*P)+x),A=ri(A+v-(g*k+v*C)+y)),(i||s)&&(O=h.getBBox(),b=ri(b+i/100*O.width),A=ri(A+s/100*O.height)),O="matrix("+E+","+k+","+P+","+C+","+b+","+A+")",h.setAttribute("transform",O),_&&(h.style[Fr]=O)},vPe=function(e,t,r,i,s){var o=360,a=Wi(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?nh:1),c=l-i,d=i+c+"deg",u,f;return a&&(u=s.split("_")[1],u==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),u==="cw"&&c<0?c=(c+o*R8)%o-~~(c/o)*o:u==="ccw"&&c>0&&(c=(c-o*R8)%o-~~(c/o)*o)),e._pt=f=new So(e._pt,t,r,i,c,ePe),f.e=d,f.u="deg",e._props.push(r),f},D8=function(e,t){for(var r in t)e[r]=t[r];return e},yPe=function(e,t,r){var i=D8({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,d,u,f,h,g;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[Fr]=t,a=b1(r,1),x1(r,Fr),r.setAttribute("transform",c)):(c=getComputedStyle(r)[Fr],o[Fr]=t,a=b1(r,1),o[Fr]=c);for(l in Cu)c=i[l],d=a[l],c!==d&&s.indexOf(l)<0&&(h=Cs(c),g=Cs(d),u=h!==g?of(r,l,c,g):parseFloat(c),f=parseFloat(d),e._pt=new So(e._pt,a,l,u,f-u,tR),e._pt.u=g||0,e._props.push(l));D8(a,i)};wo("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});g2[e>1?"border"+n:n]=function(a,l,c,d,u){var f,h;if(arguments.length<4)return f=o.map(function(g){return nu(a,g,c)}),h=f.join(" "),h.split(f[0]).length===5?f[0]:h;f=(d+"").split(" "),h={},o.forEach(function(g,v){return h[g]=f[v]=f[v]||f[(v-1)/2|0]}),a.init(l,h,u)}});var _X={name:"css",register:rR,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,d,u,f,h,g,v,x,y,_,b,A,E,k,P,C;qI||rR(),this.styles=this.styles||hX(e),C=this.styles.props,this.tween=r;for(v in t)if(v!=="autoRound"&&(d=t[v],!(Ho[v]&&nX(v,t,r,i,e,s)))){if(h=typeof d,g=g2[v],h==="function"&&(d=d.call(r,i,e,s),h=typeof d),h==="string"&&~d.indexOf("random(")&&(d=v1(d)),g)g(this,e,v,d,r)&&(P=1);else if(v.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(v)+"").trim(),d+="",jd.lastIndex=0,jd.test(c)||(x=Cs(c),y=Cs(d)),y?x!==y&&(c=of(e,v,c,y)+y):x&&(d+=x),this.add(a,"setProperty",c,d,i,s,0,0,v),o.push(v),C.push(v,0,a[v]);else if(h!=="undefined"){if(l&&v in l?(c=typeof l[v]=="function"?l[v].call(r,i,e,s):l[v],Wi(c)&&~c.indexOf("random(")&&(c=v1(c)),Cs(c+"")||(c+=Qo.units[v]||Cs(nu(e,v))||""),(c+"").charAt(1)==="="&&(c=nu(e,v))):c=nu(e,v),f=parseFloat(c),_=h==="string"&&d.charAt(1)==="="&&d.substr(0,2),_&&(d=d.substr(2)),u=parseFloat(d),v in hu&&(v==="autoAlpha"&&(f===1&&nu(e,"visibility")==="hidden"&&u&&(f=0),C.push("visibility",0,a.visibility),Id(this,a,"visibility",f?"inherit":"hidden",u?"inherit":"hidden",!u)),v!=="scale"&&v!=="transform"&&(v=hu[v],~v.indexOf(",")&&(v=v.split(",")[0]))),b=v in Cu,b){if(this.styles.save(v),A||(E=e._gsap,E.renderTransform&&!t.parseTransform||b1(e,t.parseTransform),k=t.smoothOrigin!==!1&&E.smooth,A=this._pt=new So(this._pt,a,Fr,0,1,E.renderTransform,E,0,-1),A.dep=1),v==="scale")this._pt=new So(this._pt,E,"scaleY",f,(_?Jm(f,_+u):u)-f||0,tR),this._pt.u=0,o.push("scaleY",v),v+="X";else if(v==="transformOrigin"){C.push(Pl,0,a[Pl]),d=hPe(d),E.svg?iR(e,d,0,k,0,this):(y=parseFloat(d.split(" ")[2])||0,y!==E.zOrigin&&Id(this,E,"zOrigin",E.zOrigin,y),Id(this,a,v,v2(c),v2(d)));continue}else if(v==="svgOrigin"){iR(e,d,1,k,0,this);continue}else if(v in vX){vPe(this,E,v,f,_?Jm(f,_+d):d);continue}else if(v==="smoothOrigin"){Id(this,E,"smooth",E.smooth,d);continue}else if(v==="force3D"){E[v]=d;continue}else if(v==="transform"){yPe(this,d,e);continue}}else v in a||(v=N0(v)||v);if(b||(u||u===0)&&(f||f===0)&&!QRe.test(d)&&v in a)x=(c+"").substr((f+"").length),u||(u=0),y=Cs(d)||(v in Qo.units?Qo.units[v]:x),x!==y&&(f=of(e,v,c,y)),this._pt=new So(this._pt,b?E:a,v,f,(_?Jm(f,_+u):u)-f,!b&&(y==="px"||v==="zIndex")&&t.autoRound!==!1?nPe:tR),this._pt.u=y||0,x!==y&&y!=="%"&&(this._pt.b=c,this._pt.r=tPe);else if(v in a)fPe.call(this,e,v,c,_?_+d:d);else if(v in e)this.add(e,v,c||e[v],_?_+d:d,i,s);else{FI(v,d);continue}b||(v in a?C.push(v,0,a[v]):C.push(v,1,c||e[v])),o.push(v)}}P&&lX(this)},render:function(e,t){if(t.tween._time||!YI())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:nu,aliases:hu,getSetter:function(e,t,r){var i=hu[t];return i&&i.indexOf(",")<0&&(t=i),t in Cu&&t!==Pl&&(e._gsap.x||nu(e,"x"))?r&&k8===r?t==="scale"?oPe:sPe:(k8=r||{})&&(t==="scale"?aPe:lPe):e.style&&!DI(e.style[t])?rPe:~t.indexOf("-")?iPe:WI(e,t)},core:{_removeProperty:x1,_getMatrix:KI}};ia.utils.checkPrefix=N0;ia.core.getStyleSaver=hX;(function(n,e,t,r){var i=wo(n+","+e+","+t,function(s){Cu[s]=1});wo(e,function(s){Qo.units[s]="deg",vX[s]=1}),hu[i[13]]=n+","+e,wo(r,function(s){var o=s.split(":");hu[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");wo("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Qo.units[n]="px"});ia.registerPlugin(_X);var Lr=ia.registerPlugin(_X)||ia;Lr.core.Tween;class xPe{constructor(e,t){te(this,"experience");te(this,"debug");te(this,"time");te(this,"scene");te(this,"user");te(this,"controller");te(this,"instance");te(this,"controls");te(this,"camAngle",{});te(this,"transitions",{});te(this,"pointing",!1);te(this,"_currentPosition",new Z(0,5,-9));te(this,"_currentLookat",new Z(0,0,20));te(this,"cameraToggle",{unlockCamera:!1});te(this,"cam",!1);te(this,"debugFolder");te(this,"positionDebugFolder");te(this,"targetDebugFolder");this.experience=vr.Instance(),this.debug=this.experience.debug,this.time=this.experience.root.clock,this.scene=this.experience.scene,this.controller=this.experience.controller,this.instance=t,this.controls=e,this.setCamAngles(),this.setTransitions(),this.setDebug(),this.camAngle.default(),window.addEventListener("pointerdown",r=>this.pointing=!0),window.addEventListener("pointerup",r=>this.pointing=!1)}setCamAngles(){this.camAngle.unlocked=()=>{this.controls.maxDistance=100,this.controls.minDistance=0,this.controls.minAzimuthAngle=0,this.controls.maxAzimuthAngle=Math.PI*1.999,this.controls.minPolarAngle=0,this.controls.maxPolarAngle=Math.PI,this.cam=!0},this.camAngle.default=()=>{this.controls.minDistance=7,this.controls.maxDistance=100,this.controls.minAzimuthAngle=0,this.controls.maxAzimuthAngle=Math.PI*1.9999,this.controls.minPolarAngle=Math.PI*.2,this.controls.maxPolarAngle=Math.PI*.55,this.cam=!1},this.camAngle.smartContract=()=>{this.controls.minDistance=3,this.controls.maxDistance=6,this.controls.minAzimuthAngle=-(Math.PI*.1),this.controls.maxAzimuthAngle=Math.PI*.1,this.controls.minPolarAngle=Math.PI*.4,this.controls.maxPolarAngle=Math.PI*.53},this.camAngle.transition=()=>{this.controls.maxDistance=30,this.controls.minDistance=0,this.controls.minAzimuthAngle=0,this.controls.maxAzimuthAngle=Math.PI*1.999,this.controls.minPolarAngle=0,this.controls.maxPolarAngle=Math.PI,this.cam=!0,this.controls.enableZoom=!1}}setTransitions(){this.transitions.default=async e=>{this.controls.enableRotate=!1,this.controls.enableZoom=!1,this._currentPosition=this._CalculateIdealOffset(),this._currentLookat=this._CalculateIdealLookat(),this.instance.position.copy(this._currentPosition),this.controls.target=this._currentLookat,this.controls.enableRotate=!0,this.controls.enableZoom=!0},this.transitions.chestContract=async e=>{this.controls.enableRotate=!1,this.controls.enableZoom=!1;let t=new Z;t.copy(this.controls.target),this.controls.target=t,Lr.to(this.instance.position,{duration:e,ease:"power1.out",x:-2.9,y:1,z:11.74}),Lr.to(this.controls.target,{duration:e,ease:"power1.out",x:-1.56,y:.82,z:12.82}),await this.sleep(e),this.controls.enableRotate=!0,this.controls.enableZoom=!0},this.transitions.erc20Contract=async e=>{this.controls.enableRotate=!1,this.controls.enableZoom=!1;let t=new Z;t.copy(this.controls.target),this.controls.target=t,Lr.to(this.instance.position,{duration:e,ease:"power1.out",x:-23.2,y:1,z:-13.35}),Lr.to(this.controls.target,{duration:e,ease:"power1.out",x:-25.97,y:.86,z:-13.38}),await this.sleep(e*1e3),this.controls.enableRotate=!0,this.controls.enableZoom=!0},this.transitions.erc721Contract=async e=>{this.controls.enableRotate=!1,this.controls.enableZoom=!1;let t=new Z;t.copy(this.controls.target),this.controls.target=t,Lr.to(this.instance.position,{duration:e,ease:"power1.out",x:-21.4,y:1,z:-15.47}),Lr.to(this.controls.target,{duration:e,ease:"power1.out",x:-21.36,y:.86,z:-17.69}),await this.sleep(e*1e3),this.controls.enableRotate=!0,this.controls.enableZoom=!0},this.transitions.erc1155Contract=async e=>{this.controls.enableRotate=!1,this.controls.enableZoom=!1;let t=new Z;t.copy(this.controls.target),this.controls.target=t,Lr.to(this.instance.position,{duration:e,ease:"power1.out",x:-18.5,y:1,z:-13.5}),Lr.to(this.controls.target,{duration:e,ease:"power1.out",x:-16.09,y:.86,z:-13.55}),await this.sleep(e*1e3),this.controls.enableRotate=!0,this.controls.enableZoom=!0},this.transitions.inputsScreen=async(e,t)=>{var o,a;this.controls.enableRotate=!1,this.controls.enableZoom=!1;const r=(o=this.experience.world.lootBoxScene)==null?void 0:o.smartContracts[t].inputsScreen.getWorldDirection(new Z),i=(a=this.experience.world.lootBoxScene)==null?void 0:a.smartContracts[t].inputsScreen.getWorldPosition(new Z),s=new Z().addVectors(i,r.multiplyScalar(1.4));Lr.to(this.instance.position,{duration:e,ease:"power1.out",x:s.x,y:s.y,z:s.z}),Lr.to(this.controls.target,{duration:e,ease:"power1.out",x:i.x,y:i.y,z:i.z}),await this.sleep(e*1e3),this.controls.enableRotate=!0},this.transitions.metaScreen=async(e,t)=>{var o,a;this.controls.enableRotate=!1,this.controls.enableZoom=!1;const r=(o=this.experience.world.lootBoxScene)==null?void 0:o.smartContracts[t].metaScreen.getWorldDirection(new Z),i=(a=this.experience.world.lootBoxScene)==null?void 0:a.smartContracts[t].metaScreen.getWorldPosition(new Z),s=new Z().addVectors(i,r.multiplyScalar(1.2));Lr.to(this.instance.position,{duration:e,ease:"power1.out",x:s.x,y:s.y,z:s.z}),Lr.to(this.controls.target,{duration:e,ease:"power1.out",x:i.x,y:i.y,z:i.z}),await this.sleep(e*1e3),this.controls.enableRotate=!0}}setDebug(){this.debug.active&&(this.debugFolder=this.debug.ui.addFolder("camera"),this.debugFolder.add(this.controls,"enablePan"),this.debugFolder.add(this.cameraToggle,"unlockCamera").onChange(()=>{this.cam?this.camAngle.default():this.camAngle.unlocked()}))}_CalculateIdealOffset(){var t,r;const e=new Z(0,10,-18);return e.applyQuaternion((t=this.experience.world.user)==null?void 0:t.gotchi.scene.quaternion),e.add((r=this.experience.world.user)==null?void 0:r.gotchi.scene.position),e}_CalculateIdealLookat(){var t,r;const e=new Z(0,0,20);return e.applyQuaternion((t=this.experience.world.user)==null?void 0:t.gotchi.scene.quaternion),e.add((r=this.experience.world.user)==null?void 0:r.gotchi.scene.position),e}_CalculateIdealLookatPointing(){var t,r;const e=new Z(0,2,0);return e.applyQuaternion((t=this.user)==null?void 0:t.gotchi.scene.quaternion),e.add((r=this.user)==null?void 0:r.gotchi.scene.position),e}sleep(e){return new Promise(t=>setTimeout(t,e))}target(){var e,t;if(((e=this.controller)==null?void 0:e.getCurrentMode())===void 0){if((t=this.user)!=null&&t.isMoving&&!this.pointing){const r=this._CalculateIdealOffset(),i=this._CalculateIdealLookat(),s=.05-Math.pow(.001,this.time.elapsedTime);this._currentPosition.lerp(r,s),this._currentLookat.lerp(i,s),this.instance.position.copy(this._currentPosition)}if(this.pointing){const r=this._CalculateIdealLookatPointing(),i=.05-Math.pow(.001,this.time.elapsedTime);this._currentLookat.lerp(r,i)}this.instance.lookAt(this._currentLookat)}}update(){this.target(),this.controls.enabled&&this.controls.update()}}let lg=class{constructor(){this.callbacks={},this.callbacks.base={}}on(e,t){return typeof e>"u"||e===""?(console.warn("wrong names"),!1):typeof t>"u"?(console.warn("wrong callback"),!1):(this.resolveNames(e).forEach(i=>{const s=this.resolveName(i);this.callbacks[s.namespace]instanceof Object||(this.callbacks[s.namespace]={}),this.callbacks[s.namespace][s.value]instanceof Array||(this.callbacks[s.namespace][s.value]=[]),this.callbacks[s.namespace][s.value].push(t)}),this)}off(e){return typeof e>"u"||e===""?(console.warn("wrong name"),!1):(this.resolveNames(e).forEach(r=>{const i=this.resolveName(r);if(i.namespace!=="base"&&i.value==="")delete this.callbacks[i.namespace];else if(i.namespace==="base")for(const s in this.callbacks)this.callbacks[s]instanceof Object&&this.callbacks[s][i.value]instanceof Array&&(delete this.callbacks[s][i.value],Object.keys(this.callbacks[s]).length===0&&delete this.callbacks[s]);else this.callbacks[i.namespace]instanceof Object&&this.callbacks[i.namespace][i.value]instanceof Array&&(delete this.callbacks[i.namespace][i.value],Object.keys(this.callbacks[i.namespace]).length===0&&delete this.callbacks[i.namespace])}),this)}trigger(e,t){if(typeof e>"u"||e==="")return console.warn("wrong name"),!1;let r=null;const i=t instanceof Array?t:[];let s=this.resolveNames(e);if(s=this.resolveName(s[0]),s.namespace==="base")for(const o in this.callbacks)this.callbacks[o]instanceof Object&&this.callbacks[o][s.value]instanceof Array&&this.callbacks[o][s.value].forEach(function(a){a.apply(this,i)});else if(this.callbacks[s.namespace]instanceof Object){if(s.value==="")return console.warn("wrong name"),this;this.callbacks[s.namespace][s.value].forEach(function(o){o.apply(this,i)})}return r}resolveNames(e){let t=e;return t=t.replace(/[^a-zA-Z0-9 ,/.]/g,""),t=t.replace(/[,/]+/g," "),t=t.split(" "),t}resolveName(e){const t={},r=e.split(".");return t.original=e,t.value=r[0],t.namespace="base",r.length>1&&r[1]!==""&&(t.namespace=r[1]),t}};class _Pe extends lg{constructor(){super();te(this,"experience");te(this,"scene");te(this,"resources");te(this,"progressRatio",0);te(this,"overlay",document.querySelector(".overlay"));te(this,"startButton",document.querySelector("button.start"));te(this,"progressBar",document.getElementById("progressPercentage"));this.experience=vr.Instance(),this.scene=this.experience.scene,this.resources=this.experience.resources,this.resources.on("itemLoaded",()=>{this.progressRatio=(this.resources.loaded+1)/this.resources.toLoad,this.progressBar.innerHTML=Math.trunc(this.progressRatio*100).toString()}),this.resources.on("ready",()=>{window.setTimeout(()=>{this.readyScreen()},2500)})}readyScreen(){document.getElementById("progress").remove(),this.startButton.style.display="inline",this.startButton.classList.add("fadeIn"),this.startButton.addEventListener("click",async()=>{this.overlay.classList.add("fade"),this.startButton.classList.add("fadeOut"),window.setTimeout(()=>{this.startButton.remove(),this.overlay.remove()},2e3),this.trigger("start")},{once:!0})}sleep(t){return new Promise(r=>setTimeout(r,t))}}var lo={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(n){(function(){var e=function(){this.init()};e.prototype={init:function(){var u=this||t;return u._counter=1e3,u._html5AudioPool=[],u.html5PoolSize=10,u._codecs={},u._howls=[],u._muted=!1,u._volume=1,u._canPlayEvent="canplaythrough",u._navigator=typeof window<"u"&&window.navigator?window.navigator:null,u.masterGain=null,u.noAudio=!1,u.usingWebAudio=!0,u.autoSuspend=!0,u.ctx=null,u.autoUnlock=!0,u._setup(),u},volume:function(u){var f=this||t;if(u=parseFloat(u),f.ctx||d(),typeof u<"u"&&u>=0&&u<=1){if(f._volume=u,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(u,t.ctx.currentTime);for(var h=0;h<f._howls.length;h++)if(!f._howls[h]._webAudio)for(var g=f._howls[h]._getSoundIds(),v=0;v<g.length;v++){var x=f._howls[h]._soundById(g[v]);x&&x._node&&(x._node.volume=x._volume*u)}return f}return f._volume},mute:function(u){var f=this||t;f.ctx||d(),f._muted=u,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(u?0:f._volume,t.ctx.currentTime);for(var h=0;h<f._howls.length;h++)if(!f._howls[h]._webAudio)for(var g=f._howls[h]._getSoundIds(),v=0;v<g.length;v++){var x=f._howls[h]._soundById(g[v]);x&&x._node&&(x._node.muted=u?!0:x._muted)}return f},stop:function(){for(var u=this||t,f=0;f<u._howls.length;f++)u._howls[f].stop();return u},unload:function(){for(var u=this||t,f=u._howls.length-1;f>=0;f--)u._howls[f].unload();return u.usingWebAudio&&u.ctx&&typeof u.ctx.close<"u"&&(u.ctx.close(),u.ctx=null,d()),u},codecs:function(u){return(this||t)._codecs[u.replace(/^x-/,"")]},_setup:function(){var u=this||t;if(u.state=u.ctx&&u.ctx.state||"suspended",u._autoSuspend(),!u.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(u._canPlayEvent="canplay")}catch{u.noAudio=!0}else u.noAudio=!0;try{var f=new Audio;f.muted&&(u.noAudio=!0)}catch{}return u.noAudio||u._setupCodecs(),u},_setupCodecs:function(){var u=this||t,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return u}if(!f||typeof f.canPlayType!="function")return u;var h=f.canPlayType("audio/mpeg;").replace(/^no$/,""),g=u._navigator?u._navigator.userAgent:"",v=g.match(/OPR\/([0-6].)/g),x=v&&parseInt(v[0].split("/")[1],10)<33,y=g.indexOf("Safari")!==-1&&g.indexOf("Chrome")===-1,_=g.match(/Version\/(.*?) /),b=y&&_&&parseInt(_[1],10)<15;return u._codecs={mp3:!!(!x&&(h||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!h,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!b&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!b&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},u},_unlockAudio:function(){var u=this||t;if(!(u._audioUnlocked||!u.ctx)){u._audioUnlocked=!1,u.autoUnlock=!1,!u._mobileUnloaded&&u.ctx.sampleRate!==44100&&(u._mobileUnloaded=!0,u.unload()),u._scratchBuffer=u.ctx.createBuffer(1,1,22050);var f=function(h){for(;u._html5AudioPool.length<u.html5PoolSize;)try{var g=new Audio;g._unlocked=!0,u._releaseHtml5Audio(g)}catch{u.noAudio=!0;break}for(var v=0;v<u._howls.length;v++)if(!u._howls[v]._webAudio)for(var x=u._howls[v]._getSoundIds(),y=0;y<x.length;y++){var _=u._howls[v]._soundById(x[y]);_&&_._node&&!_._node._unlocked&&(_._node._unlocked=!0,_._node.load())}u._autoResume();var b=u.ctx.createBufferSource();b.buffer=u._scratchBuffer,b.connect(u.ctx.destination),typeof b.start>"u"?b.noteOn(0):b.start(0),typeof u.ctx.resume=="function"&&u.ctx.resume(),b.onended=function(){b.disconnect(0),u._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var A=0;A<u._howls.length;A++)u._howls[A]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),u}},_obtainHtml5Audio:function(){var u=this||t;if(u._html5AudioPool.length)return u._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(u){var f=this||t;return u._unlocked&&f._html5AudioPool.push(u),f},_autoSuspend:function(){var u=this;if(!(!u.autoSuspend||!u.ctx||typeof u.ctx.suspend>"u"||!t.usingWebAudio)){for(var f=0;f<u._howls.length;f++)if(u._howls[f]._webAudio){for(var h=0;h<u._howls[f]._sounds.length;h++)if(!u._howls[f]._sounds[h]._paused)return u}return u._suspendTimer&&clearTimeout(u._suspendTimer),u._suspendTimer=setTimeout(function(){if(u.autoSuspend){u._suspendTimer=null,u.state="suspending";var g=function(){u.state="suspended",u._resumeAfterSuspend&&(delete u._resumeAfterSuspend,u._autoResume())};u.ctx.suspend().then(g,g)}},3e4),u}},_autoResume:function(){var u=this;if(!(!u.ctx||typeof u.ctx.resume>"u"||!t.usingWebAudio))return u.state==="running"&&u.ctx.state!=="interrupted"&&u._suspendTimer?(clearTimeout(u._suspendTimer),u._suspendTimer=null):u.state==="suspended"||u.state==="running"&&u.ctx.state==="interrupted"?(u.ctx.resume().then(function(){u.state="running";for(var f=0;f<u._howls.length;f++)u._howls[f]._emit("resume")}),u._suspendTimer&&(clearTimeout(u._suspendTimer),u._suspendTimer=null)):u.state==="suspending"&&(u._resumeAfterSuspend=!0),u}};var t=new e,r=function(u){var f=this;if(!u.src||u.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(u)};r.prototype={init:function(u){var f=this;return t.ctx||d(),f._autoplay=u.autoplay||!1,f._format=typeof u.format!="string"?u.format:[u.format],f._html5=u.html5||!1,f._muted=u.mute||!1,f._loop=u.loop||!1,f._pool=u.pool||5,f._preload=typeof u.preload=="boolean"||u.preload==="metadata"?u.preload:!0,f._rate=u.rate||1,f._sprite=u.sprite||{},f._src=typeof u.src!="string"?u.src:[u.src],f._volume=u.volume!==void 0?u.volume:1,f._xhr={method:u.xhr&&u.xhr.method?u.xhr.method:"GET",headers:u.xhr&&u.xhr.headers?u.xhr.headers:null,withCredentials:u.xhr&&u.xhr.withCredentials?u.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=u.onend?[{fn:u.onend}]:[],f._onfade=u.onfade?[{fn:u.onfade}]:[],f._onload=u.onload?[{fn:u.onload}]:[],f._onloaderror=u.onloaderror?[{fn:u.onloaderror}]:[],f._onplayerror=u.onplayerror?[{fn:u.onplayerror}]:[],f._onpause=u.onpause?[{fn:u.onpause}]:[],f._onplay=u.onplay?[{fn:u.onplay}]:[],f._onstop=u.onstop?[{fn:u.onstop}]:[],f._onmute=u.onmute?[{fn:u.onmute}]:[],f._onvolume=u.onvolume?[{fn:u.onvolume}]:[],f._onrate=u.onrate?[{fn:u.onrate}]:[],f._onseek=u.onseek?[{fn:u.onseek}]:[],f._onunlock=u.onunlock?[{fn:u.onunlock}]:[],f._onresume=[],f._webAudio=t.usingWebAudio&&!f._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var u=this,f=null;if(t.noAudio){u._emit("loaderror",null,"No audio support.");return}typeof u._src=="string"&&(u._src=[u._src]);for(var h=0;h<u._src.length;h++){var g,v;if(u._format&&u._format[h])g=u._format[h];else{if(v=u._src[h],typeof v!="string"){u._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}g=/^data:audio\/([^;,]+);/i.exec(v),g||(g=/\.([^.]+)$/.exec(v.split("?",1)[0])),g&&(g=g[1].toLowerCase())}if(g||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),g&&t.codecs(g)){f=u._src[h];break}}if(!f){u._emit("loaderror",null,"No codec support for selected audio sources.");return}return u._src=f,u._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(u._html5=!0,u._webAudio=!1),new i(u),u._webAudio&&o(u),u},play:function(u,f){var h=this,g=null;if(typeof u=="number")g=u,u=null;else{if(typeof u=="string"&&h._state==="loaded"&&!h._sprite[u])return null;if(typeof u>"u"&&(u="__default",!h._playLock)){for(var v=0,x=0;x<h._sounds.length;x++)h._sounds[x]._paused&&!h._sounds[x]._ended&&(v++,g=h._sounds[x]._id);v===1?u=null:g=null}}var y=g?h._soundById(g):h._inactiveSound();if(!y)return null;if(g&&!u&&(u=y._sprite||"__default"),h._state!=="loaded"){y._sprite=u,y._ended=!1;var _=y._id;return h._queue.push({event:"play",action:function(){h.play(_)}}),_}if(g&&!y._paused)return f||h._loadQueue("play"),y._id;h._webAudio&&t._autoResume();var b=Math.max(0,y._seek>0?y._seek:h._sprite[u][0]/1e3),A=Math.max(0,(h._sprite[u][0]+h._sprite[u][1])/1e3-b),E=A*1e3/Math.abs(y._rate),k=h._sprite[u][0]/1e3,P=(h._sprite[u][0]+h._sprite[u][1])/1e3;y._sprite=u,y._ended=!1;var C=function(){y._paused=!1,y._seek=b,y._start=k,y._stop=P,y._loop=!!(y._loop||h._sprite[u][2])};if(b>=P){h._ended(y);return}var O=y._node;if(h._webAudio){var U=function(){h._playLock=!1,C(),h._refreshBuffer(y);var S=y._muted||h._muted?0:y._volume;O.gain.setValueAtTime(S,t.ctx.currentTime),y._playStart=t.ctx.currentTime,typeof O.bufferSource.start>"u"?y._loop?O.bufferSource.noteGrainOn(0,b,86400):O.bufferSource.noteGrainOn(0,b,A):y._loop?O.bufferSource.start(0,b,86400):O.bufferSource.start(0,b,A),E!==1/0&&(h._endTimers[y._id]=setTimeout(h._ended.bind(h,y),E)),f||setTimeout(function(){h._emit("play",y._id),h._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?U():(h._playLock=!0,h.once("resume",U),h._clearTimer(y._id))}else{var K=function(){O.currentTime=b,O.muted=y._muted||h._muted||t._muted||O.muted,O.volume=y._volume*t.volume(),O.playbackRate=y._rate;try{var S=O.play();if(S&&typeof Promise<"u"&&(S instanceof Promise||typeof S.then=="function")?(h._playLock=!0,C(),S.then(function(){h._playLock=!1,O._unlocked=!0,f?h._loadQueue():h._emit("play",y._id)}).catch(function(){h._playLock=!1,h._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),y._ended=!0,y._paused=!0})):f||(h._playLock=!1,C(),h._emit("play",y._id)),O.playbackRate=y._rate,O.paused){h._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}u!=="__default"||y._loop?h._endTimers[y._id]=setTimeout(h._ended.bind(h,y),E):(h._endTimers[y._id]=function(){h._ended(y),O.removeEventListener("ended",h._endTimers[y._id],!1)},O.addEventListener("ended",h._endTimers[y._id],!1))}catch(I){h._emit("playerror",y._id,I)}};O.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(O.src=h._src,O.load());var J=window&&window.ejecta||!O.readyState&&t._navigator.isCocoonJS;if(O.readyState>=3||J)K();else{h._playLock=!0,h._state="loading";var F=function(){h._state="loaded",K(),O.removeEventListener(t._canPlayEvent,F,!1)};O.addEventListener(t._canPlayEvent,F,!1),h._clearTimer(y._id)}}return y._id},pause:function(u){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(u)}}),f;for(var h=f._getSoundIds(u),g=0;g<h.length;g++){f._clearTimer(h[g]);var v=f._soundById(h[g]);if(v&&!v._paused&&(v._seek=f.seek(h[g]),v._rateSeek=0,v._paused=!0,f._stopFade(h[g]),v._node))if(f._webAudio){if(!v._node.bufferSource)continue;typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),f._cleanBuffer(v._node)}else(!isNaN(v._node.duration)||v._node.duration===1/0)&&v._node.pause();arguments[1]||f._emit("pause",v?v._id:null)}return f},stop:function(u,f){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"stop",action:function(){h.stop(u)}}),h;for(var g=h._getSoundIds(u),v=0;v<g.length;v++){h._clearTimer(g[v]);var x=h._soundById(g[v]);x&&(x._seek=x._start||0,x._rateSeek=0,x._paused=!0,x._ended=!0,h._stopFade(g[v]),x._node&&(h._webAudio?x._node.bufferSource&&(typeof x._node.bufferSource.stop>"u"?x._node.bufferSource.noteOff(0):x._node.bufferSource.stop(0),h._cleanBuffer(x._node)):(!isNaN(x._node.duration)||x._node.duration===1/0)&&(x._node.currentTime=x._start||0,x._node.pause(),x._node.duration===1/0&&h._clearSound(x._node))),f||h._emit("stop",x._id))}return h},mute:function(u,f){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"mute",action:function(){h.mute(u,f)}}),h;if(typeof f>"u")if(typeof u=="boolean")h._muted=u;else return h._muted;for(var g=h._getSoundIds(f),v=0;v<g.length;v++){var x=h._soundById(g[v]);x&&(x._muted=u,x._interval&&h._stopFade(x._id),h._webAudio&&x._node?x._node.gain.setValueAtTime(u?0:x._volume,t.ctx.currentTime):x._node&&(x._node.muted=t._muted?!0:u),h._emit("mute",x._id))}return h},volume:function(){var u=this,f=arguments,h,g;if(f.length===0)return u._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var v=u._getSoundIds(),x=v.indexOf(f[0]);x>=0?g=parseInt(f[0],10):h=parseFloat(f[0])}else f.length>=2&&(h=parseFloat(f[0]),g=parseInt(f[1],10));var y;if(typeof h<"u"&&h>=0&&h<=1){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"volume",action:function(){u.volume.apply(u,f)}}),u;typeof g>"u"&&(u._volume=h),g=u._getSoundIds(g);for(var _=0;_<g.length;_++)y=u._soundById(g[_]),y&&(y._volume=h,f[2]||u._stopFade(g[_]),u._webAudio&&y._node&&!y._muted?y._node.gain.setValueAtTime(h,t.ctx.currentTime):y._node&&!y._muted&&(y._node.volume=h*t.volume()),u._emit("volume",y._id))}else return y=g?u._soundById(g):u._sounds[0],y?y._volume:0;return u},fade:function(u,f,h,g){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"fade",action:function(){v.fade(u,f,h,g)}}),v;u=Math.min(Math.max(0,parseFloat(u)),1),f=Math.min(Math.max(0,parseFloat(f)),1),h=parseFloat(h),v.volume(u,g);for(var x=v._getSoundIds(g),y=0;y<x.length;y++){var _=v._soundById(x[y]);if(_){if(g||v._stopFade(x[y]),v._webAudio&&!_._muted){var b=t.ctx.currentTime,A=b+h/1e3;_._volume=u,_._node.gain.setValueAtTime(u,b),_._node.gain.linearRampToValueAtTime(f,A)}v._startFadeInterval(_,u,f,h,x[y],typeof g>"u")}}return v},_startFadeInterval:function(u,f,h,g,v,x){var y=this,_=f,b=h-f,A=Math.abs(b/.01),E=Math.max(4,A>0?g/A:g),k=Date.now();u._fadeTo=h,u._interval=setInterval(function(){var P=(Date.now()-k)/g;k=Date.now(),_+=b*P,_=Math.round(_*100)/100,b<0?_=Math.max(h,_):_=Math.min(h,_),y._webAudio?u._volume=_:y.volume(_,u._id,!0),x&&(y._volume=_),(h<f&&_<=h||h>f&&_>=h)&&(clearInterval(u._interval),u._interval=null,u._fadeTo=null,y.volume(h,u._id),y._emit("fade",u._id))},E)},_stopFade:function(u){var f=this,h=f._soundById(u);return h&&h._interval&&(f._webAudio&&h._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(h._interval),h._interval=null,f.volume(h._fadeTo,u),h._fadeTo=null,f._emit("fade",u)),f},loop:function(){var u=this,f=arguments,h,g,v;if(f.length===0)return u._loop;if(f.length===1)if(typeof f[0]=="boolean")h=f[0],u._loop=h;else return v=u._soundById(parseInt(f[0],10)),v?v._loop:!1;else f.length===2&&(h=f[0],g=parseInt(f[1],10));for(var x=u._getSoundIds(g),y=0;y<x.length;y++)v=u._soundById(x[y]),v&&(v._loop=h,u._webAudio&&v._node&&v._node.bufferSource&&(v._node.bufferSource.loop=h,h&&(v._node.bufferSource.loopStart=v._start||0,v._node.bufferSource.loopEnd=v._stop,u.playing(x[y])&&(u.pause(x[y],!0),u.play(x[y],!0)))));return u},rate:function(){var u=this,f=arguments,h,g;if(f.length===0)g=u._sounds[0]._id;else if(f.length===1){var v=u._getSoundIds(),x=v.indexOf(f[0]);x>=0?g=parseInt(f[0],10):h=parseFloat(f[0])}else f.length===2&&(h=parseFloat(f[0]),g=parseInt(f[1],10));var y;if(typeof h=="number"){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"rate",action:function(){u.rate.apply(u,f)}}),u;typeof g>"u"&&(u._rate=h),g=u._getSoundIds(g);for(var _=0;_<g.length;_++)if(y=u._soundById(g[_]),y){u.playing(g[_])&&(y._rateSeek=u.seek(g[_]),y._playStart=u._webAudio?t.ctx.currentTime:y._playStart),y._rate=h,u._webAudio&&y._node&&y._node.bufferSource?y._node.bufferSource.playbackRate.setValueAtTime(h,t.ctx.currentTime):y._node&&(y._node.playbackRate=h);var b=u.seek(g[_]),A=(u._sprite[y._sprite][0]+u._sprite[y._sprite][1])/1e3-b,E=A*1e3/Math.abs(y._rate);(u._endTimers[g[_]]||!y._paused)&&(u._clearTimer(g[_]),u._endTimers[g[_]]=setTimeout(u._ended.bind(u,y),E)),u._emit("rate",y._id)}}else return y=u._soundById(g),y?y._rate:u._rate;return u},seek:function(){var u=this,f=arguments,h,g;if(f.length===0)u._sounds.length&&(g=u._sounds[0]._id);else if(f.length===1){var v=u._getSoundIds(),x=v.indexOf(f[0]);x>=0?g=parseInt(f[0],10):u._sounds.length&&(g=u._sounds[0]._id,h=parseFloat(f[0]))}else f.length===2&&(h=parseFloat(f[0]),g=parseInt(f[1],10));if(typeof g>"u")return 0;if(typeof h=="number"&&(u._state!=="loaded"||u._playLock))return u._queue.push({event:"seek",action:function(){u.seek.apply(u,f)}}),u;var y=u._soundById(g);if(y)if(typeof h=="number"&&h>=0){var _=u.playing(g);_&&u.pause(g,!0),y._seek=h,y._ended=!1,u._clearTimer(g),!u._webAudio&&y._node&&!isNaN(y._node.duration)&&(y._node.currentTime=h);var b=function(){_&&u.play(g,!0),u._emit("seek",g)};if(_&&!u._webAudio){var A=function(){u._playLock?setTimeout(A,0):b()};setTimeout(A,0)}else b()}else if(u._webAudio){var E=u.playing(g)?t.ctx.currentTime-y._playStart:0,k=y._rateSeek?y._rateSeek-y._seek:0;return y._seek+(k+E*Math.abs(y._rate))}else return y._node.currentTime;return u},playing:function(u){var f=this;if(typeof u=="number"){var h=f._soundById(u);return h?!h._paused:!1}for(var g=0;g<f._sounds.length;g++)if(!f._sounds[g]._paused)return!0;return!1},duration:function(u){var f=this,h=f._duration,g=f._soundById(u);return g&&(h=f._sprite[g._sprite][1]/1e3),h},state:function(){return this._state},unload:function(){for(var u=this,f=u._sounds,h=0;h<f.length;h++)f[h]._paused||u.stop(f[h]._id),u._webAudio||(u._clearSound(f[h]._node),f[h]._node.removeEventListener("error",f[h]._errorFn,!1),f[h]._node.removeEventListener(t._canPlayEvent,f[h]._loadFn,!1),f[h]._node.removeEventListener("ended",f[h]._endFn,!1),t._releaseHtml5Audio(f[h]._node)),delete f[h]._node,u._clearTimer(f[h]._id);var g=t._howls.indexOf(u);g>=0&&t._howls.splice(g,1);var v=!0;for(h=0;h<t._howls.length;h++)if(t._howls[h]._src===u._src||u._src.indexOf(t._howls[h]._src)>=0){v=!1;break}return s&&v&&delete s[u._src],t.noAudio=!1,u._state="unloaded",u._sounds=[],u=null,null},on:function(u,f,h,g){var v=this,x=v["_on"+u];return typeof f=="function"&&x.push(g?{id:h,fn:f,once:g}:{id:h,fn:f}),v},off:function(u,f,h){var g=this,v=g["_on"+u],x=0;if(typeof f=="number"&&(h=f,f=null),f||h)for(x=0;x<v.length;x++){var y=h===v[x].id;if(f===v[x].fn&&y||!f&&y){v.splice(x,1);break}}else if(u)g["_on"+u]=[];else{var _=Object.keys(g);for(x=0;x<_.length;x++)_[x].indexOf("_on")===0&&Array.isArray(g[_[x]])&&(g[_[x]]=[])}return g},once:function(u,f,h){var g=this;return g.on(u,f,h,1),g},_emit:function(u,f,h){for(var g=this,v=g["_on"+u],x=v.length-1;x>=0;x--)(!v[x].id||v[x].id===f||u==="load")&&(setTimeout(function(y){y.call(this,f,h)}.bind(g,v[x].fn),0),v[x].once&&g.off(u,v[x].fn,v[x].id));return g._loadQueue(u),g},_loadQueue:function(u){var f=this;if(f._queue.length>0){var h=f._queue[0];h.event===u&&(f._queue.shift(),f._loadQueue()),u||h.action()}return f},_ended:function(u){var f=this,h=u._sprite;if(!f._webAudio&&u._node&&!u._node.paused&&!u._node.ended&&u._node.currentTime<u._stop)return setTimeout(f._ended.bind(f,u),100),f;var g=!!(u._loop||f._sprite[h][2]);if(f._emit("end",u._id),!f._webAudio&&g&&f.stop(u._id,!0).play(u._id),f._webAudio&&g){f._emit("play",u._id),u._seek=u._start||0,u._rateSeek=0,u._playStart=t.ctx.currentTime;var v=(u._stop-u._start)*1e3/Math.abs(u._rate);f._endTimers[u._id]=setTimeout(f._ended.bind(f,u),v)}return f._webAudio&&!g&&(u._paused=!0,u._ended=!0,u._seek=u._start||0,u._rateSeek=0,f._clearTimer(u._id),f._cleanBuffer(u._node),t._autoSuspend()),!f._webAudio&&!g&&f.stop(u._id,!0),f},_clearTimer:function(u){var f=this;if(f._endTimers[u]){if(typeof f._endTimers[u]!="function")clearTimeout(f._endTimers[u]);else{var h=f._soundById(u);h&&h._node&&h._node.removeEventListener("ended",f._endTimers[u],!1)}delete f._endTimers[u]}return f},_soundById:function(u){for(var f=this,h=0;h<f._sounds.length;h++)if(u===f._sounds[h]._id)return f._sounds[h];return null},_inactiveSound:function(){var u=this;u._drain();for(var f=0;f<u._sounds.length;f++)if(u._sounds[f]._ended)return u._sounds[f].reset();return new i(u)},_drain:function(){var u=this,f=u._pool,h=0,g=0;if(!(u._sounds.length<f)){for(g=0;g<u._sounds.length;g++)u._sounds[g]._ended&&h++;for(g=u._sounds.length-1;g>=0;g--){if(h<=f)return;u._sounds[g]._ended&&(u._webAudio&&u._sounds[g]._node&&u._sounds[g]._node.disconnect(0),u._sounds.splice(g,1),h--)}}},_getSoundIds:function(u){var f=this;if(typeof u>"u"){for(var h=[],g=0;g<f._sounds.length;g++)h.push(f._sounds[g]._id);return h}else return[u]},_refreshBuffer:function(u){var f=this;return u._node.bufferSource=t.ctx.createBufferSource(),u._node.bufferSource.buffer=s[f._src],u._panner?u._node.bufferSource.connect(u._panner):u._node.bufferSource.connect(u._node),u._node.bufferSource.loop=u._loop,u._loop&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop||0),u._node.bufferSource.playbackRate.setValueAtTime(u._rate,t.ctx.currentTime),f},_cleanBuffer:function(u){var f=this,h=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&u.bufferSource&&(u.bufferSource.onended=null,u.bufferSource.disconnect(0),h))try{u.bufferSource.buffer=t._scratchBuffer}catch{}return u.bufferSource=null,f},_clearSound:function(u){var f=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);f||(u.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(u){this._parent=u,this.init()};i.prototype={init:function(){var u=this,f=u._parent;return u._muted=f._muted,u._loop=f._loop,u._volume=f._volume,u._rate=f._rate,u._seek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++t._counter,f._sounds.push(u),u.create(),u},create:function(){var u=this,f=u._parent,h=t._muted||u._muted||u._parent._muted?0:u._volume;return f._webAudio?(u._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),u._node.gain.setValueAtTime(h,t.ctx.currentTime),u._node.paused=!0,u._node.connect(t.masterGain)):t.noAudio||(u._node=t._obtainHtml5Audio(),u._errorFn=u._errorListener.bind(u),u._node.addEventListener("error",u._errorFn,!1),u._loadFn=u._loadListener.bind(u),u._node.addEventListener(t._canPlayEvent,u._loadFn,!1),u._endFn=u._endListener.bind(u),u._node.addEventListener("ended",u._endFn,!1),u._node.src=f._src,u._node.preload=f._preload===!0?"auto":f._preload,u._node.volume=h*t.volume(),u._node.load()),u},reset:function(){var u=this,f=u._parent;return u._muted=f._muted,u._loop=f._loop,u._volume=f._volume,u._rate=f._rate,u._seek=0,u._rateSeek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++t._counter,u},_errorListener:function(){var u=this;u._parent._emit("loaderror",u._id,u._node.error?u._node.error.code:0),u._node.removeEventListener("error",u._errorFn,!1)},_loadListener:function(){var u=this,f=u._parent;f._duration=Math.ceil(u._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),u._node.removeEventListener(t._canPlayEvent,u._loadFn,!1)},_endListener:function(){var u=this,f=u._parent;f._duration===1/0&&(f._duration=Math.ceil(u._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(u)),u._node.removeEventListener("ended",u._endFn,!1)}};var s={},o=function(u){var f=u._src;if(s[f]){u._duration=s[f].duration,c(u);return}if(/^data:[^;]+;base64,/.test(f)){for(var h=atob(f.split(",")[1]),g=new Uint8Array(h.length),v=0;v<h.length;++v)g[v]=h.charCodeAt(v);l(g.buffer,u)}else{var x=new XMLHttpRequest;x.open(u._xhr.method,f,!0),x.withCredentials=u._xhr.withCredentials,x.responseType="arraybuffer",u._xhr.headers&&Object.keys(u._xhr.headers).forEach(function(y){x.setRequestHeader(y,u._xhr.headers[y])}),x.onload=function(){var y=(x.status+"")[0];if(y!=="0"&&y!=="2"&&y!=="3"){u._emit("loaderror",null,"Failed loading audio file with status: "+x.status+".");return}l(x.response,u)},x.onerror=function(){u._webAudio&&(u._html5=!0,u._webAudio=!1,u._sounds=[],delete s[f],u.load())},a(x)}},a=function(u){try{u.send()}catch{u.onerror()}},l=function(u,f){var h=function(){f._emit("loaderror",null,"Decoding audio data failed.")},g=function(v){v&&f._sounds.length>0?(s[f._src]=v,c(f,v)):h()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(u).then(g).catch(h):t.ctx.decodeAudioData(u,g,h)},c=function(u,f){f&&!u._duration&&(u._duration=f.duration),Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue())},d=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var u=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),f=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),h=f?parseInt(f[1],10):null;if(u&&h&&h<9){var g=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!g&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};n.Howler=t,n.Howl=r,typeof xl<"u"?(xl.HowlerGlobal=e,xl.Howler=t,xl.Howl=r,xl.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(t);return r},HowlerGlobal.prototype.pos=function(t,r,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,i=typeof i!="number"?s._pos[2]:i,typeof t=="number")s._pos=[t,r,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(t,r,i,s,o,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var c=l._orientation;if(r=typeof r!="number"?c[1]:r,i=typeof i!="number"?c[2]:i,s=typeof s!="number"?c[3]:s,o=typeof o!="number"?c[4]:o,a=typeof a!="number"?c[5]:a,typeof t=="number")l._orientation=[t,r,i,s,o,a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(t,r,i,s,o,a);else return c;return l},Howl.prototype.init=function(t){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],t.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(t,r)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof t=="number")i._stereo=t,i._pos=[t,0,0];else return i._stereo;for(var o=i._getSoundIds(r),a=0;a<o.length;a++){var l=i._soundById(o[a]);if(l)if(typeof t=="number")l._stereo=t,l._pos=[t,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,s),s==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(t,0,0):l._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",l._id);else return l._stereo}return i},Howl.prototype.pos=function(t,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(t,r,i,s)}}),o;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof t=="number")o._pos=[t,r,i];else return o._pos;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var c=o._soundById(a[l]);if(c)if(typeof t=="number")c._pos=[t,r,i],c._node&&((!c._panner||c._panner.pan)&&e(c,"spatial"),typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):c._panner.setPosition(t,r,i)),o._emit("pos",c._id);else return c._pos}return o},Howl.prototype.orientation=function(t,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(t,r,i,s)}}),o;if(r=typeof r!="number"?o._orientation[1]:r,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof t=="number")o._orientation=[t,r,i];else return o._orientation;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var c=o._soundById(a[l]);if(c)if(typeof t=="number")c._orientation=[t,r,i],c._node&&(c._panner||(c._pos||(c._pos=o._pos||[0,0,-.5]),e(c,"spatial")),typeof c._panner.orientationX<"u"?(c._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):c._panner.setOrientation(t,r,i)),o._emit("orientation",c._id);else return c._orientation}return o},Howl.prototype.pannerAttr=function(){var t=this,r=arguments,i,s,o;if(!t._webAudio)return t;if(r.length===0)return t._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),t._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:t._panningModel});else return o=t._soundById(parseInt(r[0],10)),o?o._pannerAttr:t._pannerAttr;else r.length===2&&(i=r[0],s=parseInt(r[1],10));for(var a=t._getSoundIds(s),l=0;l<a.length;l++)if(o=t._soundById(a[l]),o){var c=o._pannerAttr;c={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:c.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:c.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:c.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:c.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:c.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:c.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:c.panningModel};var d=o._panner;d?(d.coneInnerAngle=c.coneInnerAngle,d.coneOuterAngle=c.coneOuterAngle,d.coneOuterGain=c.coneOuterGain,d.distanceModel=c.distanceModel,d.maxDistance=c.maxDistance,d.refDistance=c.refDistance,d.rolloffFactor=c.rolloffFactor,d.panningModel=c.panningModel):(o._pos||(o._pos=t._pos||[0,0,-.5]),e(o,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,t.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),t.call(this)}}(Sound.prototype.reset);var e=function(t,r){r=r||"spatial",r==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(lo);const bPe="/assets/arcade-3f669225.mp3",wPe="data:audio/mpeg;base64,SUQzAwAAAAAAe1RYWFgAAAAXAAAAU29mdHdhcmUATGF2ZjU0LjI5LjEwNFRYWFgAAAARAAAAbWFqb3JfYnJhbmQAZGFzaFRYWFgAAAAQAAAAbWlub3JfdmVyc2lvbgAwVFhYWAAAABsAAABjb21wYXRpYmxlX2JyYW5kcwBpc282bXA0Mf/7kGQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhpbmcAAAAPAAAAAwAACWAAhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK////////////////////////////////////////////AAAAPExBTUUzLjEwMASvAAAAAAAAAAA1ICQDxE0AAcwAAAlgtlxNFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/74GQAAAHKANLtBAAINuAaLaCAACDll3X5vLIDuq8tfzekCAym5Y43YoCYAwJwfB8EAQdBM/B8H3AgCBwBg+D4PvB+UBABic/gh4Pn8QOy4f2gh//8EDkT/BD/BAJEptOSttREAMFwfB8EInPlz8Tg+CAIAg4uD75cEPrB+D4fy4PykMf4IAgCAIGYIS4If4IcRg/HzjwbIhGCMaCJRAFgoFDuckBg59OqIDEmxfRQBmYoZNIhwAaGilUCAR4osBggztFNBHWhg4BDDBUc5jGuqCoIZGztQNryJhlJGoWy19ww8ePXCn2bhA6EmK054n9x429PD9d4EW1SLoCE1VIYeeITsihECZ9pmUN6lKJFpgRppertLLdWqKxhSMHjcbn5e3ROh6IjC1M4ajMFUjqRyBILYPNQ5nFZVDjK2nrsVEtSu5cif/4jFYzcgaJS+zFKekghXECX3Yg6WYvvDVltGHxeu69iX9ylM7Wv0uOE9l7vuRGN3JZhG69uH+4a5hGoF9lFFnA8TjUinH7pORHGM0lLzf1bOMuiVmu7MDKCFczMyCUBgIBAMPgHYBmBmIB4BIhSWm6GBtZ6bEJI6GXgklbEYYMmOlw0UAIvaUSijcjDDIPgM6680kRaj9u2wdsLJ1yICRAHkau2YNAjAYHi8PpUKoUTsubFoEbgpiHBKWVzLX7SQshZU3eB37m3XjkUXYrXEZE+zqQ0gyXZSMXyrNG3cfzkInnUljHnsZeutkD1gIk8Gb60vx9mj/5XJu3fwwVBSW6K1GKPD3+oJdWylNexlnunuMoZZel+sOWMcIk4EdaDf//uZX/oGdfuMd/B9LO8//v/qxz/3lzW7+GH8qTEs6McrHgo+cyVYCI24wkrxaYwNSkJEGGWkpkQgQejC5kwmJ9luTVHKBFNX6sDuNjYmtY0VhpBsfNWqOcvTHUvLTaLh0x/LZbNEMjX89ek69jOv3OXbLHHru40UTrZ+tp2JmWxX+yfbMS1stt0X++oNeJYlLDVoBBQUmEjK9GSJJTEoaWCSfPpglAwIIAIt4xsT6xzVBFJd21YypKOBpitIrIeBGEwWkkyySSkjKkoWGkwVBzoLStR3erfHV6kjim1p5h6HOivRpovKht5sqCv/5bBodanWr6PzH7NLBEetLhWQCIiEQAHjrCRCzU1QXJi5CrbcbnEmFtAazDuDtScuh2Lo8jU1LwwLlM6UUTApoHUSqSp11XZRoibIspNRnpWrSRuoqL5qkpBI6gbKWbKY8ZIOu9zq1o1KNjUwZvUgfNKS6zyutaLMpNTratFJSSkn9BNE6gZMkzzdebpTTXa/+f2Zw3putjHZQZoNrq4BDQBAAN9zfb3vEI5WVSkoIenimNHGbjtJIOS9UfSGIx02f/7oGTFAAP4TVt/YWAIWQU7H+wgABGRPVv1loApsZRrvp6wBFYaoEmWucTps86ekzhq11xTkf/+KzZzqfMaNqZow8eeCq0CpISLLQ19a7BEKXNF3FRYJLcthZ9jYhRXd2knCw4kPCAGMIvdRgeARJEZYYeAsCgbEQqAAGbg2sLgJxf5l5IAS1Mf/zHGOXpgJan9jwxd6AWu4+ZYpuoFY7k6y3/lgU0+hI5Wtdz+zTdf//Z8rXATWwcBWtVojRf//9rijrDIZldNWu2cpT///+jsvbGAW1ljJozVvZVpdv////37gNyIKlUvhyBGW40tLlTSrHmv/////5XG3LavLnKh5m7vS6i/Gl3jV0Jf0E2kHcMAJAIkFgNxePBsKAABO48ENIjjiBuGXsDShANQqqwORAP+0nwPDQKkAF4WCKjPcaYGNQatD8Q+IQlHwQPw6E+JvE1IMkURCUojm/F0JuHLFxCdQy8TpNEGMyHFb8CzxGYXChlkMSEDJcxqMjIvJfyUL6ZPGA9GxgYZjSWiyX/U6jpaOosbqUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7kGTPgAUeSFF+ZyAAiQh6b8pMAAAAAaQcAAAgAAA0g4AABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",SPe="/assets/bloop-5bf7d33c.mp3",APe="/assets/whoosh-b8bb6f6b.mp3",EPe="/assets/star-3ffb1e53.wav",MPe="/assets/futuristic_set_2-b2e5cb59.wav",CPe="/assets/openning_chest-7309f60b.mp3",TPe="/assets/openning_locked_chest-26f951c4.mp3",kPe="/assets/closing_chest-2fabf785.mp3";class RPe{constructor(){te(this,"muted",!1);te(this,"experience");te(this,"debug");te(this,"arcade");te(this,"click");te(this,"bloop");te(this,"whoosh");te(this,"star");te(this,"openChest");te(this,"openLockedChest");te(this,"closeChest");te(this,"funcHover");this.experience=vr.Instance(),this.debug=this.experience.debug,this.arcade=new lo.Howl({src:[bPe]}),this.click=new lo.Howl({src:[wPe]}),this.bloop=new lo.Howl({src:[SPe]}),this.whoosh=new lo.Howl({src:[APe]}),this.star=new lo.Howl({src:[EPe]}),this.openChest=new lo.Howl({src:[CPe]}),this.openLockedChest=new lo.Howl({src:[TPe]}),this.closeChest=new lo.Howl({src:[kPe]}),this.funcHover=new lo.Howl({src:[MPe],sprite:{hover1:[0,500],hover2:[500,500],hover3:[1e3,500],hover4:[1500,500]}})}setMute(){this.muted=typeof this.debug<"u",lo.Howler.mute(this.muted),window.addEventListener("keydown",e=>{e.key==="m"&&(this.muted=!this.muted,lo.Howler.mute(this.muted))}),document.addEventListener("visibilitychange",()=>{document.hidden?lo.Howler.mute(!0):lo.Howler.mute(this.muted)})}playArcade(){this.arcade.play()}playClick(){this.click.play()}playBloop(){this.bloop.play()}playWhoosh(){this.whoosh.play()}playStar(){this.star.play()}playOpenChest(){this.openChest.play()}playOpenLockedChest(){this.openLockedChest.play()}playCloseChest(){this.closeChest.play()}playFuncHover(e){this.funcHover.play(e)}}let PPe=class{constructor(){te(this,"experience");te(this,"camera");te(this,"resources");te(this,"sounds");te(this,"preLoader");te(this,"config");te(this,"lootBoxScene");te(this,"materials");te(this,"logic",{});te(this,"worldControls",{});te(this,"chestSCContractControls",{});te(this,"erc20SCContractControls",{});te(this,"erc721SCContractControls",{});te(this,"erc1155SCContractControls",{});te(this,"camControls",{});this.experience=vr.Instance(),this.camera=this.experience.camera,this.resources=this.experience.resources,this.sounds=this.experience.sounds,this.preLoader=this.experience.preLoader,this.config=this.experience.config,this.setLogic(),this.setWorldControls(),this.setChestContractControls(),this.setErc20ContractControls(),this.setErc721ContractControls(),this.setErc1155ContractControls(),this.setCamControls(),this.resources.on("ready",()=>{this.lootBoxScene=this.experience.world.lootBoxScene,this.materials=this.experience.materials})}setLogic(){this.logic.buttonsLocked=!1,this.logic.mode=[],this.camera.controller=this,this.logic.lockButtons=async e=>{this.logic.buttonsLocked=!0,await this.sleep(e),this.logic.buttonsLocked=!1}}setWorldControls(){this.worldControls.chestSC=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)===void 0&&(this.sounds.playClick(),this.logic.mode.push("chestContract"),this.camControls.toChestContract())},this.worldControls.erc20SC=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)===void 0&&(this.sounds.playClick(),this.logic.mode.push("erc20Contract"),this.camControls.toErc20Contract())},this.worldControls.erc721SC=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)===void 0&&(this.sounds.playClick(),this.logic.mode.push("erc721Contract"),this.camControls.toErc721Contract())},this.worldControls.erc1155SC=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)===void 0&&(this.sounds.playClick(),this.logic.mode.push("erc1155Contract"),this.camControls.toErc1155Contract())},this.worldControls.goBack=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)!==void 0&&(this.sounds.playBloop(),this.camControls.toDefault(),this.logic.mode.pop())}}setChestContractControls(){this.chestSCContractControls.inputsScreen=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)==="chestContract"&&(this.sounds.playClick(),this.logic.mode.push("inputsScreen"),this.camControls.toInputsScreen("chestSC"))},this.chestSCContractControls.metaScreen=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)==="chestContract"&&(this.sounds.playClick(),this.logic.mode.push("metaScreen"),this.camControls.toMetaScreen("chestSC"))},this.chestSCContractControls.main=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)!=="chestContract"&&(this.sounds.playClick(),this.logic.mode.pop(),this.camControls.toChestContract(.5),this.experience.raycaster.trigger("main"))}}setErc20ContractControls(){this.erc20SCContractControls.inputsScreen=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)==="erc20Contract"&&(this.sounds.playClick(),this.logic.mode.push("inputsScreen"),this.camControls.toInputsScreen("erc20SC"))},this.erc20SCContractControls.metaScreen=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)==="erc20Contract"&&(this.sounds.playClick(),this.logic.mode.push("metaScreen"),this.camControls.toMetaScreen("erc20SC"))},this.erc20SCContractControls.main=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)!=="erc20Contract"&&(this.sounds.playClick(),this.logic.mode.pop(),this.camControls.toErc20Contract(.5),this.experience.raycaster.trigger("main"))}}setErc721ContractControls(){this.erc721SCContractControls.inputsScreen=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)==="erc721Contract"&&(this.sounds.playClick(),this.logic.mode.push("inputsScreen"),this.camControls.toInputsScreen("erc721SC"))},this.erc721SCContractControls.metaScreen=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)==="erc721Contract"&&(this.sounds.playClick(),this.logic.mode.push("metaScreen"),this.camControls.toMetaScreen("erc721SC"))},this.erc721SCContractControls.main=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)!=="erc721Contract"&&(this.sounds.playClick(),this.logic.mode.pop(),this.camControls.toErc721Contract(.5),this.experience.raycaster.trigger("main"))}}setErc1155ContractControls(){this.erc1155SCContractControls.inputsScreen=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)==="erc1155Contract"&&(this.sounds.playClick(),this.logic.mode.push("inputsScreen"),this.camControls.toInputsScreen("erc1155SC"))},this.erc1155SCContractControls.metaScreen=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)==="erc1155Contract"&&(this.sounds.playClick(),this.logic.mode.push("metaScreen"),this.camControls.toMetaScreen("erc1155SC"))},this.erc1155SCContractControls.main=async()=>{this.logic.buttonsLocked===!1&&this.logic.mode.at(-1)!=="erc1155Contract"&&(this.sounds.playClick(),this.logic.mode.pop(),this.camControls.toErc1155Contract(.5),this.experience.raycaster.trigger("main"))}}setCamControls(){this.camControls.toDefault=async()=>{this.logic.lockButtons(1500),this.camera.camAngle.transition(),this.camera.transitions.default(1.5),await this.sleep(1500)},this.camControls.toChestContract=async(e=1.5)=>{this.sounds.playWhoosh(),this.logic.lockButtons(e*1100),this.camera.camAngle.transition(),this.camera.transitions.chestContract(e),await this.sleep(e*1e3)},this.camControls.toErc20Contract=async(e=1.5)=>{this.sounds.playWhoosh(),this.logic.lockButtons(e*1100),this.camera.camAngle.transition(),this.camera.transitions.erc20Contract(e),await this.sleep(e*1100)},this.camControls.toErc721Contract=async(e=1.5)=>{this.sounds.playWhoosh(),this.logic.lockButtons(e*1100),this.camera.camAngle.transition(),this.camera.transitions.erc721Contract(e),await this.sleep(e*1100)},this.camControls.toErc1155Contract=async(e=1.5)=>{this.sounds.playWhoosh(),this.logic.lockButtons(e*1100),this.camera.camAngle.transition(),this.camera.transitions.erc1155Contract(e),await this.sleep(e*1100)},this.camControls.toInputsScreen=async e=>{this.sounds.playWhoosh(),this.logic.lockButtons(500),this.camera.camAngle.transition(),this.camera.transitions.inputsScreen(.5,e),await this.sleep(1500)},this.camControls.toMetaScreen=async e=>{this.sounds.playWhoosh(),this.logic.lockButtons(500),this.camera.camAngle.transition(),this.camera.transitions.metaScreen(.5,e),await this.sleep(1500)}}getCurrentMode(){return this.logic.mode.at(-1)}getMode(){return this.logic.mode}isLocked(){return this.logic.buttonsLocked}sleep(e){return new Promise(t=>setTimeout(t,e))}};class IPe extends Ns{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new BPe(t)}),this.register(function(t){return new $Pe(t)}),this.register(function(t){return new WPe(t)}),this.register(function(t){return new zPe(t)}),this.register(function(t){return new VPe(t)}),this.register(function(t){return new UPe(t)}),this.register(function(t){return new HPe(t)}),this.register(function(t){return new DPe(t)}),this.register(function(t){return new GPe(t)}),this.register(function(t){return new FPe(t)}),this.register(function(t){return new OPe(t)}),this.register(function(t){return new jPe(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=yc.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Qs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=e;else if(yc.decodeText(new Uint8Array(e,0,4))===bX){try{o[dn.KHR_BINARY_GLTF]=new qPe(e)}catch(u){i&&i(u);return}s=o[dn.KHR_BINARY_GLTF].content}else s=yc.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new o4e(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const u=this.pluginCallbacks[d](c);a[u.name]=u,o[u.name]=!0}if(l.extensionsUsed)for(let d=0;d<l.extensionsUsed.length;++d){const u=l.extensionsUsed[d],f=l.extensionsRequired||[];switch(u){case dn.KHR_MATERIALS_UNLIT:o[u]=new NPe;break;case dn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[u]=new KPe;break;case dn.KHR_DRACO_MESH_COMPRESSION:o[u]=new YPe(l,this.dracoLoader);break;case dn.KHR_TEXTURE_TRANSFORM:o[u]=new XPe;break;case dn.KHR_MESH_QUANTIZATION:o[u]=new ZPe;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function LPe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const dn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class OPe{constructor(e){this.parser=e,this.name=dn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const d=new We(16777215);l.color!==void 0&&d.fromArray(l.color);const u=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new bI(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new gx(d),c.distance=u;break;case"spot":c=new _I(d),c.distance=u,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class NPe{constructor(){this.name=dn.KHR_MATERIALS_UNLIT}getMaterialType(){return gn}extendParams(e,t,r){const i=[];e.color=new We(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,It))}return Promise.all(i)}}class DPe{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class BPe{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bu}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Le(a,a)}return Promise.all(s)}}class FPe{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bu}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class zPe{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bu}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new We(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,It)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class VPe{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bu}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class UPe{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bu}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new We(a[0],a[1],a[2]),Promise.all(s)}}class HPe{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bu}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class GPe{constructor(e){this.parser=e,this.name=dn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bu}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new We(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,It)),Promise.all(s)}}class $Pe{constructor(e){this.parser=e,this.name=dn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class WPe{constructor(e){this.parser=e,this.name=dn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class jPe{constructor(e){this.name=dn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,d=i.count,u=i.byteStride,f=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,u,f,i.mode,i.filter).then(function(h){return h.buffer}):o.ready.then(function(){const h=new ArrayBuffer(d*u);return o.decodeGltfBuffer(new Uint8Array(h),d,u,f,i.mode,i.filter),h})})}else return null}}const bX="glTF",gv=12,B8={JSON:1313821514,BIN:5130562};class qPe{constructor(e){this.name=dn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,gv);if(this.header={magic:yc.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==bX)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-gv,i=new DataView(e,gv);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===B8.JSON){const l=new Uint8Array(e,gv+s,o);this.content=yc.decodeText(l)}else if(a===B8.BIN){const l=gv+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class YPe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=dn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const d in o){const u=oR[d]||d.toLowerCase();a[u]=o[d]}for(const d in e.attributes){const u=oR[d]||d.toLowerCase();if(o[d]!==void 0){const f=r.accessors[e.attributes[d]],h=w1[f.componentType];c[u]=h.name,l[u]=f.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(u){i.decodeDracoFile(d,function(f){for(const h in f.attributes){const g=f.attributes[h],v=l[h];v!==void 0&&(g.normalized=v)}u(f)},a,c)})})}}class XPe{constructor(){this.name=dn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class sR extends As{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new We().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class KPe{constructor(){this.name=dn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return sR}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new We(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture,It)),e.emissive=new We(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new We(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o,It))}return Promise.all(s)}createMaterial(e){const t=new sR(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=Nu,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t}}class ZPe{constructor(){this.name=dn.KHR_MESH_QUANTIZATION}}class wX extends og{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,d=i-t,u=(r-t)/d,f=u*u,h=f*u,g=e*c,v=g-c,x=-2*h+3*f,y=h-f,_=1-x,b=y-f+u;for(let A=0;A!==a;A++){const E=o[v+A+a],k=o[v+A+l]*d,P=o[g+A+a],C=o[g+A]*d;s[A]=_*E+b*k+x*P+y*C}return s}}const JPe=new ss;class QPe extends wX{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return JPe.fromArray(s).normalize().toArray(s),s}}const Xc={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},w1={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},F8={9728:$n,9729:lr,9984:r1,9985:OA,9986:i1,9987:Rc},z8={33071:Ms,33648:_0,10497:Ol},V8={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},oR={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ud={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},e4e={CUBICSPLINE:void 0,LINEAR:$h,STEP:b0},ST={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function t4e(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new As({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Au})),n.DefaultMaterial}function vv(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function rh(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function n4e(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,d=e.length;c<d;c++){const u=e[c];if(u.POSITION!==void 0&&(r=!0),u.NORMAL!==void 0&&(i=!0),u.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,d=e.length;c<d;c++){const u=e[c];if(r){const f=u.POSITION!==void 0?t.getDependency("accessor",u.POSITION):n.attributes.position;o.push(f)}if(i){const f=u.NORMAL!==void 0?t.getDependency("accessor",u.NORMAL):n.attributes.normal;a.push(f)}if(s){const f=u.COLOR_0!==void 0?t.getDependency("accessor",u.COLOR_0):n.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],u=c[1],f=c[2];return r&&(n.morphAttributes.position=d),i&&(n.morphAttributes.normal=u),s&&(n.morphAttributes.color=f),n.morphTargetsRelative=!0,n})}function r4e(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function i4e(n){const e=n.extensions&&n.extensions[dn.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+U8(e.attributes):t=n.indices+":"+U8(n.attributes)+":"+n.mode,t}function U8(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function aR(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function s4e(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class o4e{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new LPe,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new yI(this.options.manager):this.textureLoader=new Wq(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Qs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};vv(s,a,i),rh(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,d]of o.children.entries())s(d,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[dn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(yc.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=V8[i.type],c=w1[i.componentType],d=c.BYTES_PER_ELEMENT,u=d*l,f=i.byteOffset||0,h=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,x;if(h&&h!==u){const y=Math.floor(f/h),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+y+":"+i.count;let b=t.cache.get(_);b||(v=new c(a,y*h,i.count*h/d),b=new rx(v,h/d),t.cache.add(_,b)),x=new tf(b,l,f%h/d,g)}else a===null?v=new c(i.count*l):v=new c(a,f,i.count*l),x=new bn(v,l,g);if(i.sparse!==void 0){const y=V8.SCALAR,_=w1[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,A=i.sparse.values.byteOffset||0,E=new _(o[1],b,i.sparse.count*y),k=new c(o[2],A,i.sparse.count*l);a!==null&&(x=new bn(x.array.slice(),x.itemSize,x.normalized));for(let P=0,C=E.length;P<C;P++){const O=E[P];if(x.setX(O,k[P*l]),l>=2&&x.setY(O,k[P*l+1]),l>=3&&x.setZ(O,k[P*l+2]),l>=4&&x.setW(O,k[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(d){d.flipY=!1,o.name&&(d.name=o.name);const f=(s.samplers||{})[o.sampler]||{};return d.magFilter=F8[f.magFilter]||lr,d.minFilter=F8[f.minFilter]||Rc,d.wrapS=z8[f.wrapS]||Ol,d.wrapT=z8[f.wrapT]||Ol,i.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(u=>u.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(u){c=!0;const f=new Blob([u],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(u){return new Promise(function(f,h){let g=f;t.isImageBitmapLoader===!0&&(g=function(v){const x=new Mr(v);x.needsUpdate=!0,f(x)}),t.load(yc.resolveURL(u,s.path),g,void 0,h)})}).then(function(u){return c===!0&&a.revokeObjectURL(l),u.userData.mimeType=o.mimeType||s4e(o.uri),u}).catch(function(u){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),u});return this.sourceCache[e]=d,d}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),s.extensions[dn.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[dn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[dn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new WA,Kr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Os,Kr.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return As}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[dn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const u=i[dn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=u.getMaterialType(),c.push(u.extendParams(a,s,t))}else if(l[dn.KHR_MATERIALS_UNLIT]){const u=i[dn.KHR_MATERIALS_UNLIT];o=u.getMaterialType(),c.push(u.extendParams(a,s,t))}else{const u=s.pbrMetallicRoughness||{};if(a.color=new We(1,1,1),a.opacity=1,Array.isArray(u.baseColorFactor)){const f=u.baseColorFactor;a.color.fromArray(f),a.opacity=f[3]}u.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",u.baseColorTexture,It)),a.metalness=u.metallicFactor!==void 0?u.metallicFactor:1,a.roughness=u.roughnessFactor!==void 0?u.roughnessFactor:1,u.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",u.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",u.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=an);const d=s.alphaMode||ST.OPAQUE;if(d===ST.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===ST.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==gn&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Le(1,1),s.normalTexture.scale!==void 0)){const u=s.normalTexture.scale;a.normalScale.set(u,u)}return s.occlusionTexture!==void 0&&o!==gn&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==gn&&(a.emissive=new We().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==gn&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,It)),Promise.all(c).then(function(){let u;return o===sR?u=i[dn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):u=new o(a),s.name&&(u.name=s.name),rh(u,s),t.associations.set(u,{materials:e}),s.extensions&&vv(i,u,s),u})}createUniqueName(e){const t=An.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[dn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return H8(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],d=i4e(c),u=i[d];if(u)o.push(u.promise);else{let f;c.extensions&&c.extensions[dn.KHR_DRACO_MESH_COMPRESSION]?f=s(c):f=H8(new Jt,c,t),i[d]={primitive:c,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const d=o[l].material===void 0?t4e(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],u=[];for(let h=0,g=d.length;h<g;h++){const v=d[h],x=o[h];let y;const _=c[h];if(x.mode===Xc.TRIANGLES||x.mode===Xc.TRIANGLE_STRIP||x.mode===Xc.TRIANGLE_FAN||x.mode===void 0)y=s.isSkinnedMesh===!0?new GA(v,_):new Vr(v,_),y.isSkinnedMesh===!0&&!y.geometry.attributes.skinWeight.normalized&&y.normalizeSkinWeights(),x.mode===Xc.TRIANGLE_STRIP?y.geometry=G8(y.geometry,Zj):x.mode===Xc.TRIANGLE_FAN&&(y.geometry=G8(y.geometry,j4));else if(x.mode===Xc.LINES)y=new Fl(v,_);else if(x.mode===Xc.LINE_STRIP)y=new Eu(v,_);else if(x.mode===Xc.LINE_LOOP)y=new rI(v,_);else if(x.mode===Xc.POINTS)y=new iI(v,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(y.geometry.morphAttributes).length>0&&r4e(y,s),y.name=t.createUniqueName(s.name||"mesh_"+e),rh(y,s),x.extensions&&vv(i,y,x),t.assignFinalMaterial(y),u.push(y)}for(let h=0,g=u.length;h<g;h++)t.associations.set(u[h],{meshes:e,primitives:h});if(u.length===1)return u[0];const f=new dc;t.associations.set(f,{meshes:e});for(let h=0,g=u.length;h<g;h++)f.add(u[h]);return f})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new qn(DA.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Rl(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),rh(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let c=0,d=r.channels.length;c<d;c++){const u=r.channels[c],f=r.samplers[u.sampler],h=u.target,g=h.node,v=r.parameters!==void 0?r.parameters[f.input]:f.input,x=r.parameters!==void 0?r.parameters[f.output]:f.output;i.push(this.getDependency("node",g)),s.push(this.getDependency("accessor",v)),o.push(this.getDependency("accessor",x)),a.push(f),l.push(h)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],u=c[1],f=c[2],h=c[3],g=c[4],v=[];for(let y=0,_=d.length;y<_;y++){const b=d[y],A=u[y],E=f[y],k=h[y],P=g[y];if(b===void 0)continue;b.updateMatrix();let C;switch(ud[P.path]){case ud.weights:C=A0;break;case ud.rotation:C=rf;break;case ud.position:case ud.scale:default:C=E0;break}const O=b.name?b.name:b.uuid,U=k.interpolation!==void 0?e4e[k.interpolation]:$h,K=[];ud[P.path]===ud.weights?b.traverse(function(F){F.morphTargetInfluences&&K.push(F.name?F.name:F.uuid)}):K.push(O);let J=E.array;if(E.normalized){const F=aR(J.constructor),S=new Float32Array(J.length);for(let I=0,D=J.length;I<D;I++)S[I]=J[I]*F;J=S}for(let F=0,S=K.length;F<S;F++){const I=new C(K[F]+"."+ud[P.path],A.array,J,U);k.interpolation==="CUBICSPLINE"&&(I.createInterpolant=function($){const N=this instanceof rf?QPe:wX;return new N(this.times,this.values,this.getValueSize()/3,$)},I.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(I)}}const x=r.name?r.name:"animation_"+e;return new M0(x,void 0,v)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new $A:a.length>1?l=new dc:a.length===1?l=a[0]:l=new In,l!==a[0])for(let c=0,d=a.length;c<d;c++)l.add(a[c]);if(s.name&&(l.userData.name=s.name,l.name=o),rh(l,s),s.extensions&&vv(r,l,s),s.matrix!==void 0){const c=new Wt;c.fromArray(s.matrix),l.applyMatrix4(c)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new dc;i.name&&(o.name=s.createUniqueName(i.name)),rh(o,i),i.extensions&&vv(r,o,i);const a=i.nodes||[],l=[];for(let c=0,d=a.length;c<d;c++)l.push(SX(a[c],o,t,s));return Promise.all(l).then(function(){const c=d=>{const u=new Map;for(const[f,h]of s.associations)(f instanceof Kr||f instanceof Mr)&&u.set(f,h);return d.traverse(f=>{const h=s.associations.get(f);h!=null&&u.set(f,h)}),u};return s.associations=c(o),o})}}function SX(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let c=0,d=o.joints.length;c<d;c++)l.push(r.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const c=[],d=[];for(let u=0,f=a.length;u<f;u++){const h=a[u];if(h){c.push(h);const g=new Wt;o.inverseBindMatrices!==void 0&&g.fromArray(o.inverseBindMatrices.array,u*16),d.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[u])}l.bind(new ix(c,d),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,c=a.length;l<c;l++){const d=a[l];o.push(SX(d,s,t,r))}}return Promise.all(o)})}function a4e(n,e,t){const r=e.attributes,i=new Da;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new Z(l[0],l[1],l[2]),new Z(c[0],c[1],c[2])),a.normalized){const d=aR(w1[a.componentType]);i.min.multiplyScalar(d),i.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new Z,l=new Z;for(let c=0,d=s.length;c<d;c++){const u=s[c];if(u.POSITION!==void 0){const f=t.json.accessors[u.POSITION],h=f.min,g=f.max;if(h!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(g[2]))),f.normalized){const v=aR(w1[f.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new vf;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function H8(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=oR[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return rh(n,e),a4e(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?n4e(n,e.targets,t):n})}function G8(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===j4)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s}class l4e extends Ns{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Qs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){const l=s.parse(JSON.parse(a));t&&t(l)},r,i)}parse(e){return new c4e(e)}}class c4e{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const r=[],i=u4e(e,t,this.data);for(let s=0,o=i.length;s<o;s++)r.push(...i[s].toShapes());return r}}function u4e(n,e,t){const r=Array.from(n),i=e/t.resolution,s=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*i,o=[];let a=0,l=0;for(let c=0;c<r.length;c++){const d=r[c];if(d===`
`)a=0,l-=s;else{const u=d4e(d,i,a,l,t);a+=u.offsetX,o.push(u.path)}}return o}function d4e(n,e,t,r,i){const s=i.glyphs[n]||i.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+i.familyName+".");return}const o=new Kq;let a,l,c,d,u,f,h,g;if(s.o){const v=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let x=0,y=v.length;x<y;)switch(v[x++]){case"m":a=v[x++]*e+t,l=v[x++]*e+r,o.moveTo(a,l);break;case"l":a=v[x++]*e+t,l=v[x++]*e+r,o.lineTo(a,l);break;case"q":c=v[x++]*e+t,d=v[x++]*e+r,u=v[x++]*e+t,f=v[x++]*e+r,o.quadraticCurveTo(u,f,c,d);break;case"b":c=v[x++]*e+t,d=v[x++]*e+r,u=v[x++]*e+t,f=v[x++]*e+r,h=v[x++]*e+t,g=v[x++]*e+r,o.bezierCurveTo(u,f,h,g,c,d);break}}return{offsetX:s.ha*e,path:o}}const AT=new WeakMap;class f4e extends Ns{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Qs(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{this.decodeDracoFile(o,t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};return this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){const r=JSON.stringify(t);if(AT.has(e)){const l=AT.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,d)=>{i._callbacks[s]={resolve:c,reject:d},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),AT.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Jt;e.index&&t.setIndex(new bn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new bn(o,a))}return t}_loadLibrary(e,t){const r=new Qs(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=h4e.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function h4e(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(u){d({draco:u})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(d=>{const u=d.draco,f=new u.Decoder,h=new u.DecoderBuffer;h.Init(new Int8Array(l),l.byteLength);try{const g=t(u,f,h,c),v=g.attributes.map(x=>x.array.buffer);g.index&&v.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},v)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{u.destroy(h),u.destroy(f)}});break}};function t(o,a,l,c){const d=c.attributeIDs,u=c.attributeTypes;let f,h;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)f=new o.Mesh,h=a.DecodeBufferToMesh(l,f);else if(g===o.POINT_CLOUD)f=new o.PointCloud,h=a.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!h.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+h.error_msg());const v={index:null,attributes:[]};for(const x in d){const y=self[u[x]];let _,b;if(c.useUniqueIDs)b=d[x],_=a.GetAttributeByUniqueId(f,b);else{if(b=a.GetAttributeId(f,o[d[x]]),b===-1)continue;_=a.GetAttribute(f,b)}v.attributes.push(i(o,a,f,x,y,_))}return g===o.TRIANGULAR_MESH&&(v.index=r(o,a,f)),o.destroy(f),v}function r(o,a,l){const d=l.num_faces()*3,u=d*4,f=o._malloc(u);a.GetTrianglesUInt32Array(l,u,f);const h=new Uint32Array(o.HEAPF32.buffer,f,d).slice();return o._free(f),{array:h,itemSize:1}}function i(o,a,l,c,d,u){const f=u.num_components(),g=l.num_points()*f,v=g*d.BYTES_PER_ELEMENT,x=s(o,d),y=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,u,x,v,y);const _=new d(o.HEAPF32.buffer,y,g).slice();return o._free(y),{name:c,array:_,itemSize:f}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}class p4e extends lg{constructor(t){super();te(this,"experience");te(this,"preloader");te(this,"sources");te(this,"items");te(this,"loadingManager");te(this,"toLoad");te(this,"loaded",0);te(this,"loaders");this.experience=vr.Instance(),this.preloader=this.experience.preLoader,this.sources=t,this.items={},this.toLoad=this.sources.length,this.setLoaders(),this.startLoading()}setLoaders(){this.loaders={fontLoader:new l4e,dracoLoader:new f4e,gltfLoader:new IPe,textureLoader:new yI,imageLoader:new C0,cubeTextureLoader:new zq,abiLoader:new Qs},this.loaders.dracoLoader.setDecoderPath("/draco/"),this.loaders.gltfLoader.setDRACOLoader(this.loaders.dracoLoader)}startLoading(){for(const t of this.sources)t.type==="gltfModel"&&this.loaders.gltfLoader.load(t.path,r=>this.sourcesLoaded(t,r)),t.type==="lootBoxScene"&&this.loaders.gltfLoader.load(t.path,r=>this.sourcesLoaded(t,r)),t.type==="texture"&&this.loaders.textureLoader.load(t.path,r=>this.sourcesLoaded(t,r)),t.type==="image"&&this.loaders.textureLoader.load(t.path,r=>this.sourcesLoaded(t,r)),t.type==="cubeTexture"&&this.loaders.cubeTextureLoader.load(t.path,r=>this.sourcesLoaded(t,r)),t.type==="font"&&this.loaders.fontLoader.load(t.path,r=>this.sourcesLoaded(t,r)),t.type==="abi"&&this.loaders.abiLoader.load(t.path,r=>this.sourcesLoaded(t,JSON.parse(r)))}sourcesLoaded(t,r){this.trigger("itemLoaded"),this.items[t.name]=r,this.loaded++,this.loaded===this.toLoad&&this.trigger("ready")}}/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.17.0
 * @author George Michael Brower
 * @license MIT
 */class _c{constructor(e,t,r,i,s="div"){this.parent=e,this.object=t,this.property=r,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(i),this.$name=document.createElement("div"),this.$name.classList.add("name"),_c.nextNameID=_c.nextNameID||0,this.$name.id=`lil-gui-name-${++_c.nextNameID}`,this.$widget=document.createElement(s),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(r)}name(e){return this._name=e,this.$name.innerHTML=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled?this:(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e),this)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(e){const t=this.parent.add(this.object,this.property,e);return t.name(this._name),this.destroy(),t}min(e){return this}max(e){return this}step(e){return this}decimals(e){return this}listen(e=!0){return this._listening=e,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const e=this.save();e!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=e}getValue(){return this.object[this.property]}setValue(e){return this.object[this.property]=e,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class m4e extends _c{constructor(e,t,r){super(e,t,r,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function lR(n){let e,t;return(e=n.match(/(#|0x)?([a-f0-9]{6})/i))?t=e[2]:(e=n.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?t=parseInt(e[1]).toString(16).padStart(2,0)+parseInt(e[2]).toString(16).padStart(2,0)+parseInt(e[3]).toString(16).padStart(2,0):(e=n.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(t=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),t?"#"+t:!1}const g4e={isPrimitive:!0,match:n=>typeof n=="string",fromHexString:lR,toHexString:lR},S1={isPrimitive:!0,match:n=>typeof n=="number",fromHexString:n=>parseInt(n.substring(1),16),toHexString:n=>"#"+n.toString(16).padStart(6,0)},v4e={isPrimitive:!1,match:Array.isArray,fromHexString(n,e,t=1){const r=S1.fromHexString(n);e[0]=(r>>16&255)/255*t,e[1]=(r>>8&255)/255*t,e[2]=(r&255)/255*t},toHexString([n,e,t],r=1){r=255/r;const i=n*r<<16^e*r<<8^t*r<<0;return S1.toHexString(i)}},y4e={isPrimitive:!1,match:n=>Object(n)===n,fromHexString(n,e,t=1){const r=S1.fromHexString(n);e.r=(r>>16&255)/255*t,e.g=(r>>8&255)/255*t,e.b=(r&255)/255*t},toHexString({r:n,g:e,b:t},r=1){r=255/r;const i=n*r<<16^e*r<<8^t*r<<0;return S1.toHexString(i)}},x4e=[g4e,S1,v4e,y4e];function _4e(n){return x4e.find(e=>e.match(n))}class b4e extends _c{constructor(e,t,r,i){super(e,t,r,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=_4e(this.initialValue),this._rgbScale=i,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const s=lR(this.$text.value);s&&this._setValueFromHexString(s)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(e){if(this._format.isPrimitive){const t=this._format.fromHexString(e);this.setValue(t)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class ET extends _c{constructor(e,t,r){super(e,t,r,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",i=>{i.preventDefault(),this.getValue().call(this.object)}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class w4e extends _c{constructor(e,t,r,i,s,o){super(e,t,r,"number"),this._initInput(),this.min(i),this.max(s);const a=o!==void 0;this.step(a?o:this._getImplicitStep(),a),this.updateDisplay()}decimals(e){return this._decimals=e,this.updateDisplay(),this}min(e){return this._min=e,this._onUpdateMinMax(),this}max(e){return this._max=e,this._onUpdateMinMax(),this}step(e,t=!0){return this._step=e,this._stepExplicit=t,this}updateDisplay(){const e=this.getValue();if(this._hasSlider){let t=(e-this._min)/(this._max-this._min);t=Math.max(0,Math.min(t,1)),this.$fill.style.width=t*100+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?e:e.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$disable=this.$input;const e=()=>{let y=parseFloat(this.$input.value);isNaN(y)||(this._stepExplicit&&(y=this._snap(y)),this.setValue(this._clamp(y)))},t=y=>{const _=parseFloat(this.$input.value);isNaN(_)||(this._snapClampSetValue(_+y),this.$input.value=this.getValue())},r=y=>{y.code==="Enter"&&this.$input.blur(),y.code==="ArrowUp"&&(y.preventDefault(),t(this._step*this._arrowKeyMultiplier(y))),y.code==="ArrowDown"&&(y.preventDefault(),t(this._step*this._arrowKeyMultiplier(y)*-1))},i=y=>{this._inputFocused&&(y.preventDefault(),t(this._step*this._normalizeMouseWheel(y)))};let s=!1,o,a,l,c,d;const u=5,f=y=>{o=y.clientX,a=l=y.clientY,s=!0,c=this.getValue(),d=0,window.addEventListener("mousemove",h),window.addEventListener("mouseup",g)},h=y=>{if(s){const _=y.clientX-o,b=y.clientY-a;Math.abs(b)>u?(y.preventDefault(),this.$input.blur(),s=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(_)>u&&g()}if(!s){const _=y.clientY-l;d-=_*this._step*this._arrowKeyMultiplier(y),c+d>this._max?d=this._max-c:c+d<this._min&&(d=this._min-c),this._snapClampSetValue(c+d)}l=y.clientY},g=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",g)},v=()=>{this._inputFocused=!0},x=()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()};this.$input.addEventListener("input",e),this.$input.addEventListener("keydown",r),this.$input.addEventListener("wheel",i,{passive:!1}),this.$input.addEventListener("mousedown",f),this.$input.addEventListener("focus",v),this.$input.addEventListener("blur",x)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const e=(y,_,b,A,E)=>(y-_)/(b-_)*(E-A)+A,t=y=>{const _=this.$slider.getBoundingClientRect();let b=e(y,_.left,_.right,this._min,this._max);this._snapClampSetValue(b)},r=y=>{this._setDraggingStyle(!0),t(y.clientX),window.addEventListener("mousemove",i),window.addEventListener("mouseup",s)},i=y=>{t(y.clientX)},s=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",s)};let o=!1,a,l;const c=y=>{y.preventDefault(),this._setDraggingStyle(!0),t(y.touches[0].clientX),o=!1},d=y=>{y.touches.length>1||(this._hasScrollBar?(a=y.touches[0].clientX,l=y.touches[0].clientY,o=!0):c(y),window.addEventListener("touchmove",u,{passive:!1}),window.addEventListener("touchend",f))},u=y=>{if(o){const _=y.touches[0].clientX-a,b=y.touches[0].clientY-l;Math.abs(_)>Math.abs(b)?c(y):(window.removeEventListener("touchmove",u),window.removeEventListener("touchend",f))}else y.preventDefault(),t(y.touches[0].clientX)},f=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",u),window.removeEventListener("touchend",f)},h=this._callOnFinishChange.bind(this),g=400;let v;const x=y=>{if(Math.abs(y.deltaX)<Math.abs(y.deltaY)&&this._hasScrollBar)return;y.preventDefault();const b=this._normalizeMouseWheel(y)*this._step;this._snapClampSetValue(this.getValue()+b),this.$input.value=this.getValue(),clearTimeout(v),v=setTimeout(h,g)};this.$slider.addEventListener("mousedown",r),this.$slider.addEventListener("touchstart",d,{passive:!1}),this.$slider.addEventListener("wheel",x,{passive:!1})}_setDraggingStyle(e,t="horizontal"){this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle(`lil-gui-${t}`,e)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(e){let{deltaX:t,deltaY:r}=e;return Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(t=0,r=-e.wheelDelta/120,r*=this._stepExplicit?1:10),t+-r}_arrowKeyMultiplier(e){let t=this._stepExplicit?1:10;return e.shiftKey?t*=10:e.altKey&&(t/=10),t}_snap(e){const t=Math.round(e/this._step)*this._step;return parseFloat(t.toPrecision(15))}_clamp(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}_snapClampSetValue(e){this.setValue(this._clamp(this._snap(e)))}get _hasScrollBar(){const e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class S4e extends _c{constructor(e,t,r,i){super(e,t,r,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(i)?i:Object.values(i),this._names=Array.isArray(i)?i:Object.keys(i),this._names.forEach(s=>{const o=document.createElement("option");o.innerHTML=s,this.$select.appendChild(o)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const e=this.getValue(),t=this._values.indexOf(e);return this.$select.selectedIndex=t,this.$display.innerHTML=t===-1?e:this._names[t],this}}class A4e extends _c{constructor(e,t,r){super(e,t,r,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",i=>{i.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}const E4e=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  background-color: var(--background-color);
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean .widget {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background-color: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background-color: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background-color: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  height: var(--title-height);
  line-height: calc(var(--title-height) - 4px);
  font-weight: 600;
  padding: 0 var(--padding);
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;
  outline: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui input {
  -webkit-tap-highlight-color: transparent;
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input::-webkit-outer-spin-button,
.lil-gui input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.lil-gui input[type=number] {
  -moz-appearance: textfield;
}
.lil-gui input[type=checkbox] {
  appearance: none;
  -webkit-appearance: none;
  height: var(--checkbox-size);
  width: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  -webkit-tap-highlight-color: transparent;
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  border: 1px solid var(--widget-color);
  text-align: center;
  line-height: calc(var(--widget-height) - 4px);
}
@media (hover: hover) {
  .lil-gui button:hover {
    background: var(--hover-color);
    border-color: var(--hover-color);
  }
  .lil-gui button:focus {
    border-color: var(--focus-color);
  }
}
.lil-gui button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function M4e(n){const e=document.createElement("style");e.innerHTML=n;const t=document.querySelector("head link[rel=stylesheet], head style");t?document.head.insertBefore(e,t):document.head.appendChild(e)}let $8=!1;class ZI{constructor({parent:e,autoPlace:t=e===void 0,container:r,width:i,title:s="Controls",injectStyles:o=!0,touchStyles:a=!0}={}){if(this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",l=>{(l.code==="Enter"||l.code==="Space")&&(l.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(s),a&&this.domElement.classList.add("allow-touch-styles"),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),!$8&&o&&(M4e(E4e),$8=!0),r?r.appendChild(this.domElement):t&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),i&&this.domElement.style.setProperty("--width",i+"px"),this.domElement.addEventListener("keydown",l=>l.stopPropagation()),this.domElement.addEventListener("keyup",l=>l.stopPropagation())}add(e,t,r,i,s){if(Object(r)===r)return new S4e(this,e,t,r);const o=e[t];switch(typeof o){case"number":return new w4e(this,e,t,r,i,s);case"boolean":return new m4e(this,e,t);case"string":return new A4e(this,e,t);case"function":return new ET(this,e,t)}console.error(`gui.add failed
	property:`,t,`
	object:`,e,`
	value:`,o)}addColor(e,t,r=1){return new b4e(this,e,t,r)}addFolder(e){return new ZI({parent:this,title:e})}load(e,t=!0){return e.controllers&&this.controllers.forEach(r=>{r instanceof ET||r._name in e.controllers&&r.load(e.controllers[r._name])}),t&&e.folders&&this.folders.forEach(r=>{r._title in e.folders&&r.load(e.folders[r._title])}),this}save(e=!0){const t={controllers:{},folders:{}};return this.controllers.forEach(r=>{if(!(r instanceof ET)){if(r._name in t.controllers)throw new Error(`Cannot save GUI with duplicate property "${r._name}"`);t.controllers[r._name]=r.save()}}),e&&this.folders.forEach(r=>{if(r._title in t.folders)throw new Error(`Cannot save GUI with duplicate folder "${r._title}"`);t.folders[r._title]=r.save()}),t}open(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const t=this.$children.clientHeight;this.$children.style.height=t+"px",this.domElement.classList.add("transition");const r=s=>{s.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",r))};this.$children.addEventListener("transitionend",r);const i=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame(()=>{this.$children.style.height=i+"px"})}),this}title(e){return this._title=e,this.$title.innerHTML=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach(r=>r.reset()),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),this._onChange!==void 0&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(e=>e.destroy())}controllersRecursive(){let e=Array.from(this.controllers);return this.folders.forEach(t=>{e=e.concat(t.controllersRecursive())}),e}foldersRecursive(){let e=Array.from(this.folders);return this.folders.forEach(t=>{e=e.concat(t.foldersRecursive())}),e}}class C4e{constructor(){te(this,"active");te(this,"ui");this.active=window.location.hash==="#debug",this.active&&(this.ui=new ZI)}}class T4e extends lg{constructor(){super();te(this,"experience");te(this,"scene");te(this,"debug");te(this,"mouse");te(this,"camera");te(this,"controller");te(this,"resources");te(this,"preLoader");te(this,"world");te(this,"user");te(this,"lootBoxScene");te(this,"hitboxDebug");te(this,"raycaster",new CI);te(this,"intersectsObjects");te(this,"objectsToTest",[]);te(this,"currentIntersect",null);te(this,"currentIntersectParent",null);te(this,"cursorDown",new Le);te(this,"cursor",new Le);te(this,"currentHover",null);te(this,"hovering");te(this,"hitboxes",[]);te(this,"chestSCHitBox",new Da);te(this,"erc20SCHitBox",new Da);te(this,"erc721SCHitBox",new Da);te(this,"erc1155SCHitBox",new Da);this.experience=vr.Instance(),this.scene=this.experience.scene,this.debug=this.experience.debug,this.mouse=this.experience.mouse,this.camera=this.experience.camera,this.controller=this.experience.controller,this.preLoader=this.experience.preLoader,this.resources=this.experience.resources,this.preLoader.on("start",()=>{this.world=this.experience.world,this.user=this.world.user,this.lootBoxScene=this.world.lootBoxScene,this.setObjectToTest(),this.setWindowListener()})}setObjectToTest(){var t,r,i,s,o,a,l,c;this.objectsToTest.push(this.user.wallet.mesh.connect),this.objectsToTest.push((t=this.lootBoxScene)==null?void 0:t.models.chestSC),(r=this.lootBoxScene)==null||r.models.chestSC.children.forEach(d=>this.objectsToTest.push(d)),this.objectsToTest.push((i=this.lootBoxScene)==null?void 0:i.models.erc20SC),(s=this.lootBoxScene)==null||s.models.erc20SC.children.forEach(d=>this.objectsToTest.push(d)),this.objectsToTest.push((o=this.lootBoxScene)==null?void 0:o.models.erc721SC),(a=this.lootBoxScene)==null||a.models.erc721SC.children.forEach(d=>this.objectsToTest.push(d)),this.objectsToTest.push((l=this.lootBoxScene)==null?void 0:l.models.erc1155SC),(c=this.lootBoxScene)==null||c.models.erc1155SC.children.forEach(d=>this.objectsToTest.push(d)),this.world.chest.chestScene.traverse(d=>{d instanceof GA&&this.objectsToTest.push(d)}),this.experience.root.outlineHover.selection.set(this.objectsToTest),this.disableLayer(1)}setWindowListener(){window.addEventListener("click",async t=>{var i;this.click();const r=(i=this.raycaster)==null?void 0:i.intersectObject(this.user.wallet.mesh.connect);r!=null&&r.length&&(this.user.wallet.isConnected?this.user.wallet.disconnect():this.user.wallet.connect())}),window.addEventListener("mousemove",t=>this.hover())}hover(){var i,s,o,a;let t;this.raycaster.setFromCamera(this.mouse,this.camera.instance);const r=this.raycaster.intersectObjects(this.objectsToTest);if(r.length&&this.controller.getCurrentMode()===void 0)this.hovering===void 0?(t=((i=r[0].object)==null?void 0:i.name.split("_")[0])??r[0].object.uuid,this.trigger("mouse_enter_"+t,[(s=r[0].object)==null?void 0:s.name])):this.hovering.uuid!==r[0].object.uuid&&(t=this.hovering.name.split("_")[0]??r[0].object.uuid,this.trigger("mouse_leave_"+t,[this.hovering.name]),t=((o=r[0].object)==null?void 0:o.name.split("_")[0])??r[0].object.uuid,this.trigger("mouse_enter_"+t,[(a=r[0].object)==null?void 0:a.name])),this.hovering=r[0].object;else if(this.hovering!==void 0){let l=this.hovering.name.split("_")[0]??r[0].object.uuid;this.trigger("mouse_leave_"+l,[this.hovering.name]),this.hovering=void 0}}click(){var t,r,i,s,o,a,l,c,d,u,f,h,g,v,x,y;switch(this.raycaster.setFromCamera(this.mouse,this.camera.instance),this.intersectsObjects=this.raycaster.intersectObjects(this.objectsToTest),this.intersectsObjects.length&&(this.currentIntersect=this.intersectsObjects[0].object),this.controller.getCurrentMode()){case void 0:if(this.intersectsObjects.length)switch(this.currentIntersect.name.split("_")[0]){case"chestSC":this.controller.worldControls.chestSC();break;case"erc20SC":this.controller.worldControls.erc20SC();break;case"erc721SC":this.controller.worldControls.erc721SC();break;case"erc1155SC":this.controller.worldControls.erc1155SC();break;case"chest":this.trigger("click_chest");break;case"chestItem"+this.currentIntersect.name.split("_")[0].split("chestItem")[1]:this.trigger("select_"+this.currentIntersect.name.split("_")[0]);break;case"button":this.trigger("click_button",[this.currentIntersect.name]);break}break;case"chestContract":this.intersectsObjects.length&&(((t=this.currentIntersect)==null?void 0:t.name.split("_").pop())==="deploy"||((r=this.currentIntersect)==null?void 0:r.name.split("_").pop())==="import")?(this.controller.chestSCContractControls.metaScreen(),this.trigger("click_"+this.currentIntersect.name)):this.intersectsObjects.length&&((i=this.currentIntersect)==null?void 0:i.name.split("_")[1])==="function"?(this.controller.chestSCContractControls.inputsScreen(),this.trigger("click_"+this.currentIntersect.name)):(this.intersectsObjects.length===0||((s=this.currentIntersect)==null?void 0:s.name.split("_")[0])!=="chestSC")&&this.controller.worldControls.goBack();break;case"erc20Contract":this.intersectsObjects.length&&(((o=this.currentIntersect)==null?void 0:o.name.split("_").pop())==="deploy"||((a=this.currentIntersect)==null?void 0:a.name.split("_").pop())==="import")?(this.controller.erc20SCContractControls.metaScreen(),this.trigger("click_"+this.currentIntersect.name)):this.intersectsObjects.length&&((l=this.currentIntersect)==null?void 0:l.name.split("_")[1])==="function"?(this.controller.erc20SCContractControls.inputsScreen(),this.trigger("click_"+this.currentIntersect.name)):(this.intersectsObjects.length===0||((c=this.currentIntersect)==null?void 0:c.name.split("_")[0])!=="erc20SC")&&this.controller.worldControls.goBack();break;case"erc721Contract":this.intersectsObjects.length&&(((d=this.currentIntersect)==null?void 0:d.name.split("_").pop())==="deploy"||((u=this.currentIntersect)==null?void 0:u.name.split("_").pop())==="import")?(this.controller.erc721SCContractControls.metaScreen(),this.trigger("click_"+this.currentIntersect.name)):this.intersectsObjects.length&&((f=this.currentIntersect)==null?void 0:f.name.split("_")[1])==="function"?(this.controller.erc721SCContractControls.inputsScreen(),this.trigger("click_"+this.currentIntersect.name)):(this.intersectsObjects.length===0||((h=this.currentIntersect)==null?void 0:h.name.split("_")[0])!=="erc721SC")&&this.controller.worldControls.goBack();break;case"erc1155Contract":this.intersectsObjects.length&&(((g=this.currentIntersect)==null?void 0:g.name.split("_").pop())==="deploy"||((v=this.currentIntersect)==null?void 0:v.name.split("_").pop())==="import")?(this.controller.erc1155SCContractControls.metaScreen(),this.trigger("click_"+this.currentIntersect.name)):this.intersectsObjects.length&&((x=this.currentIntersect)==null?void 0:x.name.split("_")[1])==="function"?(this.controller.erc1155SCContractControls.inputsScreen(),this.trigger("click_"+this.currentIntersect.name)):(this.intersectsObjects.length===0||((y=this.currentIntersect)==null?void 0:y.name.split("_")[0])!=="erc1155SC")&&this.controller.worldControls.goBack();break;case"inputsScreen":this.intersectsObjects.length;break}}listenContract(){var i,s;const t=this.controller.getCurrentMode().split("Contract").join("SC");this.raycaster.setFromCamera(this.mouse,this.camera.instance);let r=(i=this.lootBoxScene)==null?void 0:i.models[t].children;if(this.intersectsObjects=this.raycaster.intersectObjects(r),this.controller.isLocked()===!1)if(this.intersectsObjects.length&&this.intersectsObjects[0].object.name.split("_")[1]==="function"&&this.currentHover===null&&this.intersectsObjects[0].object.name.split("_").length===3){let o=this.intersectsObjects[0].object.name;this.trigger("enter"+o),this.currentHover=o}else this.currentHover&&((s=this.intersectsObjects[0])==null?void 0:s.object.name)!==this.currentHover&&(this.trigger("leave"+this.currentHover),this.currentHover=null)}disableLayer(t){this.objectsToTest.forEach(r=>r.layers.disable(t))}update(){var t;(t=this.controller.getCurrentMode())!=null&&t.endsWith("Contract")&&this.listenContract()}}class W8 extends rg{constructor(e,t={}){const r=t.font;if(r===void 0)super();else{const i=r.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(i,t)}this.type="TextGeometry"}}class k4e{constructor(){te(this,"experience");te(this,"resources");te(this,"erc20");te(this,"erc721");te(this,"erc1155");te(this,"button");this.experience=vr.Instance(),this.resources=this.experience.resources,this.resources.on("ready",()=>{this.erc20=this.resources.items.erc20Model,this.erc721=this.resources.items.erc721Model,this.erc1155=this.resources.items.erc1155Model,this.button=this.resources.items.buttonModel})}createTextMesh(e,t="white",r){const i=new W8(e.split("").join(" "),{font:this.resources.items.aovel,size:(r==null?void 0:r.size)||.5,height:(r==null?void 0:r.height)||.2,curveSegments:(r==null?void 0:r.curveSegments)||12,bevelEnabled:(r==null?void 0:r.bevelEnabled)||!0,bevelThickness:(r==null?void 0:r.bevelThickness)||.03,bevelSize:(r==null?void 0:r.bevelSize)||.02,bevelOffset:(r==null?void 0:r.bevelOffset)||0,bevelSegments:(r==null?void 0:r.bevelSegments)||5});i.center();const s=new fI({color:t}),o=new Vr(i,s);return o.castShadow=!0,o.name=e,o}createTextGeometry(e,t){const r=new W8(e.split("").join(" "),{font:this.resources.items.aovel,size:(t==null?void 0:t.size)||.5,height:(t==null?void 0:t.height)||.2,curveSegments:(t==null?void 0:t.curveSegments)||12,bevelEnabled:(t==null?void 0:t.bevelEnabled)||!0,bevelThickness:(t==null?void 0:t.bevelThickness)||0,bevelSize:(t==null?void 0:t.bevelSize)||0,bevelOffset:(t==null?void 0:t.bevelOffset)||0,bevelSegments:(t==null?void 0:t.bevelSegments)||5});return r.center(),r}createErc20Mesh(e,t="erc20"){const r=this.erc20.scene.clone();r.name=e;const i=this.createTextGeometry(t,{size:.5});return r.getObjectByName("chestItem_erc20_nameF").geometry.copy(i),r.getObjectByName("chestItem_erc20_nameB").geometry.copy(i),r.children[0].material=new As().copy(r.children[0].material),r.children[0].material.toneMapped=!1,r.children[0]}createErc721Mesh(e,t,r="erc721"){const i=this.erc721.scene.clone(),s=this.createTextGeometry(r,{size:.05,height:.02}),o=this.createTextGeometry(t,{size:.05,height:.02});return i.getObjectByName("chestItem_erc721_name").geometry.dispose(),i.getObjectByName("chestItem_erc721_id").geometry.dispose(),i.getObjectByName("chestItem_erc721_name").geometry=s,i.getObjectByName("chestItem_erc721_id").geometry=o,i.children[0].material=new As().copy(i.children[0].material),i.children[0].material.toneMapped=!1,i.children[0]}createErc1155Mesh(e,t,r="erc1155"){const i=this.erc1155.scene.clone(),s=this.createTextGeometry(r,{size:.05,height:.02}),o=this.createTextGeometry(t,{size:.05,height:.02});return i.getObjectByName("chestItem_erc1155_name").geometry.dispose(),i.getObjectByName("chestItem_erc1155_id").geometry.dispose(),i.getObjectByName("chestItem_erc1155_name").geometry=s,i.getObjectByName("chestItem_erc1155_id").geometry=o,i.children[0].material=new As().copy(i.children[0].material),i.children[0].material.toneMapped=!1,i.children[0]}}class R4e{constructor(){te(this,"experience");te(this,"debug");te(this,"scene");te(this,"resources");te(this,"preLoader");te(this,"items",{});te(this,"ethMaterial");te(this,"chestMaterial");te(this,"contractInterfaceMaterial");te(this,"deployContract");this.experience=vr.Instance(),this.debug=this.experience.debug,this.scene=this.experience.scene,this.resources=this.experience.resources,this.preLoader=this.experience.preLoader,this.resources.on("ready",()=>{this.mapTextures()})}mapTextures(){Object.entries(this.resources.items).forEach(e=>{e[0].slice(-4)==="Icon"&&(this.resources.items[`${e[0]}`].encoding=It,this.resources.items[`${e[0]}`].minFilter=$n)}),this.items.contractInterfaceMaterial=new As({transparent:!0,opacity:.8,color:"#000000",depthWrite:!1,side:an}),this.items.addWhitelist=new gn({alphaTest:.001,map:this.resources.items.addWhitelistIcon,side:an}),this.items.approveErc20=new gn({alphaTest:.001,map:this.resources.items.approveErc20Icon,side:an}),this.items.approveErc721=new gn({alphaTest:.001,map:this.resources.items.approveErc721Icon,side:an}),this.items.approveAllErc721=new gn({alphaTest:.001,map:this.resources.items.approveAllErc721Icon,side:an}),this.items.approveAllErc1155=new gn({alphaTest:.001,map:this.resources.items.approveAllErc1155Icon,side:an}),this.items.batchBurnErc1155=new gn({alphaTest:.1,map:this.resources.items.batchBurnErc1155Icon,side:an}),this.items.batchLoot=new gn({alphaTest:.1,map:this.resources.items.batchLootIcon,side:an}),this.items.batchMintErc1155=new gn({alphaTest:.1,map:this.resources.items.batchMintErc1155Icon,side:an}),this.items.batchTransferErc1155=new gn({alphaTest:.1,map:this.resources.items.batchTransferErc1155Icon,side:an}),this.items.burnErc20=new gn({alphaTest:.1,map:this.resources.items.burnErc20Icon,side:an}),this.items.burnErc721=new gn({alphaTest:.1,map:this.resources.items.burnErc721Icon,side:an}),this.items.burnErc1155=new gn({alphaTest:.1,map:this.resources.items.burnErc1155Icon,side:an}),this.items.deployContract=new gn({alphaTest:.01,map:this.resources.items.deployContractIcon,side:an}),this.items.deposit=new gn({alphaTest:.1,map:this.resources.items.depositIcon,side:an}),this.items.ethConnected=new As({transparent:!0,opacity:.9,color:"#6b40c8",metalness:.7,roughness:.5,toneMapped:!1}),this.items.import=new gn({alphaTest:.1,map:this.resources.items.importIcon,side:an}),this.items.loot=new gn({alphaTest:.1,map:this.resources.items.lootIcon,side:an}),this.items.mintErc20=new gn({alphaTest:.001,map:this.resources.items.mintErc20Icon,side:an}),this.items.mintErc721=new gn({alphaTest:.001,map:this.resources.items.mintErc721Icon,side:an}),this.items.mintErc1155=new gn({alphaTest:.001,map:this.resources.items.mintErc1155Icon,side:an}),this.items.transferErc20=new gn({alphaTest:.001,map:this.resources.items.transferErc20Icon,side:an}),this.items.transferErc721=new gn({alphaTest:.001,map:this.resources.items.transferErc721Icon,side:an}),this.items.transferErc1155=new gn({alphaTest:.001,map:this.resources.items.transferErc1155Icon,side:an}),this.items.transferOwnership=new gn({alphaTest:.001,map:this.resources.items.transferOwnershipIcon,side:an}),this.items.txPending=new As({color:"orange",transparent:!0,opacity:.9,metalness:.7,roughness:.5,toneMapped:!1}),this.items.txValided=new As({color:"green",transparent:!0,opacity:.9,metalness:.7,roughness:.5,toneMapped:!1}),this.items.txFailed=new As({color:"red",transparent:!0,opacity:.9,metalness:.7,roughness:.5,toneMapped:!1}),this.items.portalLightMaterial=new Gr({clipping:!0,uniforms:{uTime:{value:0},uDisplacement:{value:.1},uMulDisplacement:{value:5},uStrength:{value:.2},uMulStrength:{value:5},uOuterGlow:{value:1.4},uMulOuterGlow:{value:5},uFlat:{value:.8},uColorStart:{value:new We("#ffffff")},uColorEnd:{value:new We("#910cac")}},vertexShader:`varying vec2 vUv;

      void main()
      {
          vec4 modelPosition = modelMatrix * vec4(position, 1.0);
          vec4 viewPosition = viewMatrix * modelPosition;
          vec4 projectionPosition = projectionMatrix * viewPosition;
      
          gl_Position = projectionPosition;
      
          vUv = uv;
      }`,fragmentShader:`uniform float uTime;
      uniform float uDisplacement;
      uniform float uMulDisplacement;
      uniform float uStrength;
      uniform float uMulStrength;
      uniform float uOuterGlow;
      uniform float uMulOuterGlow;
      uniform float uFlat;
      uniform vec3 uColorStart;
      uniform vec3 uColorEnd;
      uniform float uTest;
      
      varying vec2 vUv;
      
      //    Classic Perlin 3D Noise 
      //    by Stefan Gustavson
      //
      vec4 permute(vec4 x){ return mod(((x*34.0)+1.0)*x, 289.0); }
      vec4 taylorInvSqrt(vec4 r){ return 1.79284291400159 - 0.85373472095314 * r; }
      vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
      
      float cnoise(vec3 P)
      {
          vec3 Pi0 = floor(P); // Integer part for indexing
          vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
          Pi0 = mod(Pi0, 289.0);
          Pi1 = mod(Pi1, 289.0);
          vec3 Pf0 = fract(P); // Fractional part for interpolation
          vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
          vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
          vec4 iy = vec4(Pi0.yy, Pi1.yy);
          vec4 iz0 = Pi0.zzzz;
          vec4 iz1 = Pi1.zzzz;
      
          vec4 ixy = permute(permute(ix) + iy);
          vec4 ixy0 = permute(ixy + iz0);
          vec4 ixy1 = permute(ixy + iz1);
      
          vec4 gx0 = ixy0 / 7.0;
          vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
          gx0 = fract(gx0);
          vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
          vec4 sz0 = step(gz0, vec4(0.0));
          gx0 -= sz0 * (step(0.0, gx0) - 0.5);
          gy0 -= sz0 * (step(0.0, gy0) - 0.5);
      
          vec4 gx1 = ixy1 / 7.0;
          vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
          gx1 = fract(gx1);
          vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
          vec4 sz1 = step(gz1, vec4(0.0));
          gx1 -= sz1 * (step(0.0, gx1) - 0.5);
          gy1 -= sz1 * (step(0.0, gy1) - 0.5);
      
          vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
          vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
          vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
          vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
          vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
          vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
          vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
          vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);
      
          vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
          g000 *= norm0.x;
          g010 *= norm0.y;
          g100 *= norm0.z;
          g110 *= norm0.w;
          vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
          g001 *= norm1.x;
          g011 *= norm1.y;
          g101 *= norm1.z;
          g111 *= norm1.w;
      
          float n000 = dot(g000, Pf0);
          float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
          float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
          float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
          float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
          float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
          float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
          float n111 = dot(g111, Pf1);
      
          vec3 fade_xyz = fade(Pf0);
          vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
          vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
          float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
      
          return 2.2 * n_xyz;
      }
      
      void main()
      {
          // Displace the UV
          vec2 displacedUv = vUv + cnoise(vec3(vUv * uMulDisplacement, uTime * uDisplacement));
      
          // Perlin noise
          float strength = cnoise(vec3(displacedUv * uMulStrength, uTime * uStrength));
      
          // Outer glow
          float outerGlow = distance(vUv, vec2(0.5)) * uMulOuterGlow - uOuterGlow;
          strength += outerGlow;
      
          // Apply cool step
          strength += step(- 0.2, strength) * uFlat;
      
          // Clamp the value from 0 to 1
          //strength = clamp(strength, 0.0, uClamp);
      
          // Final color
          vec3 color = mix(uColorStart, uColorEnd, strength);
      
          gl_FragColor = vec4(color, 1.0);
      }`}),this.items.gotchiBody=new As({color:"white",transparent:!0,opacity:.9,metalness:.2,roughness:.3,toneMapped:!0}),this.resources.trigger("texturesMapped")}}const P4e={1:"ethereum",10:"optimism",56:"binance smart chain",137:"polygon",43114:"avalanche",80001:"mumbai"},cR={chestSC:{deploy:"/images/icons/deployContract.png",import:"/images/icons/import.png",addWhitelist:"/images/icons/addWhitelist.png",batchDeposit:"/images/icons/deposit.png",loot:"/images/icons/loot.png",batchLoot:"/images/icons/batchLoot.png",transferOwnership:"/images/icons/transferOwnership.png"},erc20SC:{deploy:"/images/icons/deployContract.png",import:"/images/icons/import.png",approve:"/images/icons/approve_erc20.png",transfer:"/images/icons/transfer_erc20.png",mint:"/images/icons/mint_erc20.png",burn:"/images/icons/burn_erc20.png",transferOwnership:"/images/icons/transferOwnership.png"},erc721SC:{deploy:"/images/icons/deployContract.png",import:"/images/icons/import.png",approve:"/images/icons/approve_erc721.png",setApprovalForAll:"/images/icons/approveAll_erc721.png",safeTransferFrom:"/images/icons/transfer_erc721.png",safeMint:"/images/icons/mint_erc721.png",burn:"/images/icons/burn_erc721.png",transferOwnership:"/images/icons/transferOwnership.png"},erc1155SC:{deploy:"/images/icons/deployContract.png",import:"/images/icons/import.png",setApprovalForAll:"/images/icons/approveAll_erc1155.png",safeTransferFrom:"/images/icons/transfer_erc1155.png",safeBatchTransferFrom:"/images/icons/batchTransfer_erc1155.png",mint:"/images/icons/mint_erc1155.png",mintBatch:"/images/icons/batchMint_erc1155.png",burn:"/images/icons/burn_erc721.png",burnBatch:"/images/icons/batchBurn_erc1155.png",transferOwnership:"/images/icons/transferOwnership.png"}},Vw={etherscan:"https://etherscan.io/",rinkeby:"https://rinkeby.etherscan.io/",goerli:"https://goerli.etherscan.io/",kovan:"https://kovan.etherscan.io/",polygon:"https://polygonscan.com/",mumbai:"https://mumbai.polygonscan.com/",bsc:"https://bscscan.com/",bsctestnet:"https://testnet.bscscan.com/",arbitrum:"https://arbiscan.io/",optimism:"https://optimistic.etherscan.io/",moonbeam:"https://moonscan.io/"},I4e=Object.freeze(Object.defineProperty({__proto__:null,EXPLORERS:Vw,ICONS:cR,NETWORKS:P4e},Symbol.toStringTag,{value:"Module"}));class L4e extends lg{constructor(){super();te(this,"experience",vr.Instance());te(this,"icons",cR);te(this,"resources");te(this,"toast");this.resources=this.experience.resources,this.toast=this.experience.root.toast}deploy(t){const r=t.wallet.network;this.toast({title:`${t.contractName.slice(0,-2)} deployed !`,description:ue(Ve,{children:[ue(Ge,{children:["At ",t.tx.address]}),B(Ve,{mt:"5",as:"a",color:"blue",target:"blank",href:`${Vw[r]}/address/${t.tx.address}`,children:"See on explorer"})]}),status:"success",position:"top-right",duration:1e4,isClosable:!0})}import(t){this.toast({title:"Contract imported.",description:t,status:"success",duration:9e3,isClosable:!0})}txSent(t){const r=t.wallet.network;this.toast({title:ue(Iu,{children:[ue(Ge,{children:[t.contractName.slice(0,-2),": ",t.funcName]}),B(fr,{}),B(t$,{src:cR[t.contractName][t.funcName],boxSize:"3rem"})]}),description:B("a",{color:"blue",target:"blank",href:`${Vw[r]}/tx/${t.tx.hash}`,children:"See on explorer"}),status:"info",position:"top-right",duration:6e3,isClosable:!0})}txPending(t){}txValided(t){const r=t.wallet.network;this.toast({title:`${t.contractName.slice(0,-2)}: ${t.funcName}`,description:ue(Ve,{children:[B(Ge,{children:"transaction valided successfully !"}),B(Ve,{mt:"5",as:"a",color:"blue",target:"blank",href:`${Vw[r]}/tx/${t.tx.hash}`,children:"See on explorer"})]}),status:"success",position:"top-right",duration:6e3,isClosable:!0})}txFailed(t){this.toast({title:`${t.contractName}: ${t.funcName}`,description:t.error,status:"error",position:"bottom-right",duration:1e4,isClosable:!0})}}class O4e extends lg{constructor(t){super();te(this,"clock");te(this,"oldTime",0);te(this,"elapsedTime",0);te(this,"deltaTime",16);this.clock=t}tick(){this.elapsedTime=this.clock.getElapsedTime(),this.deltaTime=this.elapsedTime-this.oldTime,this.oldTime=this.elapsedTime}}const Mc=Object.create(null);Mc.open="0";Mc.close="1";Mc.ping="2";Mc.pong="3";Mc.message="4";Mc.upgrade="5";Mc.noop="6";const Uw=Object.create(null);Object.keys(Mc).forEach(n=>{Uw[Mc[n]]=n});const N4e={type:"error",data:"parser error"},D4e=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",B4e=typeof ArrayBuffer=="function",F4e=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,AX=({type:n,data:e},t,r)=>D4e&&e instanceof Blob?t?r(e):j8(e,r):B4e&&(e instanceof ArrayBuffer||F4e(e))?t?r(e):j8(new Blob([e]),r):r(Mc[n]+(e||"")),j8=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+r)},t.readAsDataURL(n)},q8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<q8.length;n++)Nv[q8.charCodeAt(n)]=n;const z4e=n=>{let e=n.length*.75,t=n.length,r,i=0,s,o,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const c=new ArrayBuffer(e),d=new Uint8Array(c);for(r=0;r<t;r+=4)s=Nv[n.charCodeAt(r)],o=Nv[n.charCodeAt(r+1)],a=Nv[n.charCodeAt(r+2)],l=Nv[n.charCodeAt(r+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|a>>2,d[i++]=(a&3)<<6|l&63;return c},V4e=typeof ArrayBuffer=="function",EX=(n,e)=>{if(typeof n!="string")return{type:"message",data:MX(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:U4e(n.substring(1),e)}:Uw[t]?n.length>1?{type:Uw[t],data:n.substring(1)}:{type:Uw[t]}:N4e},U4e=(n,e)=>{if(V4e){const t=z4e(n);return MX(t,e)}else return{base64:!0,data:n}},MX=(n,e)=>{switch(e){case"blob":return n instanceof ArrayBuffer?new Blob([n]):n;case"arraybuffer":default:return n}},CX=String.fromCharCode(30),H4e=(n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((s,o)=>{AX(s,!1,a=>{r[o]=a,++i===t&&e(r.join(CX))})})},G4e=(n,e)=>{const t=n.split(CX),r=[];for(let i=0;i<t.length;i++){const s=EX(t[i],e);if(r.push(s),s.type==="error")break}return r},TX=4;function xi(n){if(n)return $4e(n)}function $4e(n){for(var e in xi.prototype)n[e]=xi.prototype[e];return n}xi.prototype.on=xi.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};xi.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};xi.prototype.off=xi.prototype.removeListener=xi.prototype.removeAllListeners=xi.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};xi.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};xi.prototype.emitReserved=xi.prototype.emit;xi.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};xi.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Ld=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function kX(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const W4e=setTimeout,j4e=clearTimeout;function nE(n,e){e.useNativeTimers?(n.setTimeoutFn=W4e.bind(Ld),n.clearTimeoutFn=j4e.bind(Ld)):(n.setTimeoutFn=setTimeout.bind(Ld),n.clearTimeoutFn=clearTimeout.bind(Ld))}const q4e=1.33;function Y4e(n){return typeof n=="string"?X4e(n):Math.ceil((n.byteLength||n.size)*q4e)}function X4e(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}class K4e extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class RX extends xi{constructor(e){super(),this.writable=!1,nE(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new K4e(e,t,r)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=EX(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const PX="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),uR=64,Z4e={};let Y8=0,qb=0,X8;function K8(n){let e="";do e=PX[n%uR]+e,n=Math.floor(n/uR);while(n>0);return e}function IX(){const n=K8(+new Date);return n!==X8?(Y8=0,X8=n):n+"."+K8(Y8++)}for(;qb<uR;qb++)Z4e[PX[qb]]=qb;function LX(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function J4e(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let s=t[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}let OX=!1;try{OX=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Q4e=OX;function NX(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Q4e))return new XMLHttpRequest}catch{}if(!e)try{return new Ld[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function eIe(){}const tIe=function(){return new NX({xdomain:!1}).responseType!=null}();class nIe extends RX{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==r}const t=e&&e.forceBase64;this.supportsBinary=tIe&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};G4e(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,H4e(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=IX()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(t==="https"&&Number(this.opts.port)!==443||t==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const i=LX(e),s=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new t0(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}let t0=class Hw extends xi{constructor(e,t){super(),nE(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.create()}create(){const e=kX(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new NX(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{t.readyState===4&&(t.status===200||t.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof t.status=="number"?t.status:0)},0))},t.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=Hw.requestsCount++,Hw.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=eIe,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Hw.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};t0.requestsCount=0;t0.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Z8);else if(typeof addEventListener=="function"){const n="onpagehide"in Ld?"pagehide":"unload";addEventListener(n,Z8,!1)}}function Z8(){for(let n in t0.requests)t0.requests.hasOwnProperty(n)&&t0.requests[n].abort()}const DX=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),Yb=Ld.WebSocket||Ld.MozWebSocket,J8=!0,rIe="arraybuffer",Q8=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class iIe extends RX{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=Q8?{}:kX(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=J8&&!Q8?t?new Yb(e,t):new Yb(e):new Yb(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||rIe,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;AX(r,this.supportsBinary,s=>{const o={};try{J8&&this.ws.send(s)}catch{}i&&DX(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(t==="wss"&&Number(this.opts.port)!==443||t==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=IX()),this.supportsBinary||(e.b64=1);const i=LX(e),s=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!Yb}}const sIe={websocket:iIe,polling:nIe},oIe=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,aIe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function dR(n){const e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=oIe.exec(n||""),s={},o=14;for(;o--;)s[aIe[o]]=i[o]||"";return t!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=lIe(s,s.path),s.queryKey=cIe(s,s.query),s}function lIe(n,e){const t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function cIe(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(t[i]=s)}),t}let BX=class am extends xi{constructor(e,t={}){super(),e&&typeof e=="object"&&(t=e,e=null),e?(e=dR(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=dR(t.host).host),nE(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=J4e(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=TX,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new sIe[e](r)}open(){let e;if(this.opts.rememberUpgrade&&am.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),r=!1;am.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",u=>{if(!r)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;am.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=t.name,this.emitReserved("upgradeError",f)}}))};function s(){r||(r=!0,d(),t.close(),t=null)}const o=u=>{const f=new Error("probe error: "+u);f.transport=t.name,s(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function l(){o("socket closed")}function c(u){t&&u.name!==t.name&&s()}const d=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};t.once("open",i),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",c),t.open()}onOpen(){if(this.readyState="open",am.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(t+=Y4e(i)),r>0&&t>this.maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:t,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){am.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const i=e.length;for(;r<i;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}};BX.protocol=TX;function uIe(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=dR(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}const dIe=typeof ArrayBuffer=="function",fIe=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,FX=Object.prototype.toString,hIe=typeof Blob=="function"||typeof Blob<"u"&&FX.call(Blob)==="[object BlobConstructor]",pIe=typeof File=="function"||typeof File<"u"&&FX.call(File)==="[object FileConstructor]";function JI(n){return dIe&&(n instanceof ArrayBuffer||fIe(n))||hIe&&n instanceof Blob||pIe&&n instanceof File}function Gw(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(Gw(n[t]))return!0;return!1}if(JI(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Gw(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Gw(n[t]))return!0;return!1}function mIe(n){const e=[],t=n.data,r=n;return r.data=fR(t,e),r.attachments=e.length,{packet:r,buffers:e}}function fR(n,e){if(!n)return n;if(JI(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=fR(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=fR(n[r],e));return t}return n}function gIe(n,e){return n.data=hR(n.data,e),n.attachments=void 0,n}function hR(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=hR(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=hR(n[t],e));return n}const vIe=5;var En;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(En||(En={}));class yIe{constructor(e){this.replacer=e}encode(e){return(e.type===En.EVENT||e.type===En.ACK)&&Gw(e)?(e.type=e.type===En.EVENT?En.BINARY_EVENT:En.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===En.BINARY_EVENT||e.type===En.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=mIe(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}class QI extends xi{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e),t.type===En.BINARY_EVENT||t.type===En.BINARY_ACK?(this.reconstructor=new xIe(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(JI(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(En[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===En.BINARY_EVENT||r.type===En.BINARY_ACK){const s=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(s,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(t+1)==="/"){const s=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(s,t)}else r.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const s=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(QI.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case En.CONNECT:return typeof t=="object";case En.DISCONNECT:return t===void 0;case En.CONNECT_ERROR:return typeof t=="string"||typeof t=="object";case En.EVENT:case En.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case En.ACK:case En.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class xIe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=gIe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const _Ie=Object.freeze(Object.defineProperty({__proto__:null,Decoder:QI,Encoder:yIe,get PacketType(){return En},protocol:vIe},Symbol.toStringTag,{value:"Module"}));function gl(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const bIe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class zX extends xi{constructor(e,t,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[gl(e,"open",this.onopen.bind(this)),gl(e,"packet",this.onpacket.bind(this)),gl(e,"error",this.onerror.bind(this)),gl(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(bIe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');t.unshift(e);const r={type:En.EVENT,data:t};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const o=this.ids++,a=t.pop();this._registerAckCallback(o,a),r.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){const r=this.flags.timeout;if(r===void 0){this.acks[e]=t;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);t.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...s)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...s])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:En.CONNECT,data:e})}):this.packet({type:En.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case En.CONNECT:if(e.data&&e.data.sid){const i=e.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case En.EVENT:case En.BINARY_EVENT:this.onevent(e);break;case En.ACK:case En.BINARY_ACK:this.onack(e);break;case En.DISCONNECT:this.ondisconnect();break;case En.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:En.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:En.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function cg(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}cg.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};cg.prototype.reset=function(){this.attempts=0};cg.prototype.setMin=function(n){this.ms=n};cg.prototype.setMax=function(n){this.max=n};cg.prototype.setJitter=function(n){this.jitter=n};class pR extends xi{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,nE(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new cg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||_Ie;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new BX(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=gl(t,"open",function(){r.onopen(),e&&e()}),s=gl(t,"error",o=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",o),e?e(o):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&i();const a=this.setTimeoutFn(()=>{i(),t.close(),t.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(gl(e,"ping",this.onping.bind(this)),gl(e,"data",this.ondata.bind(this)),gl(e,"error",this.onerror.bind(this)),gl(e,"close",this.onclose.bind(this)),gl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){DX(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new zX(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const yv={};function $w(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=uIe(n,e.path||"/socket.io"),r=t.source,i=t.id,s=t.path,o=yv[i]&&s in yv[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new pR(r,e):(yv[i]||(yv[i]=new pR(r,e)),l=yv[i]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign($w,{Manager:pR,Socket:zX,io:$w,connect:$w});function VX(n){const e=new Map,t=new Map,r=n.clone();return UX(n,r,function(i,s){e.set(s,i),t.set(i,s)}),r.traverse(function(i){if(!i.isSkinnedMesh)return;const s=i,o=e.get(i),a=o.skeleton.bones;s.skeleton=o.skeleton.clone(),s.bindMatrix.copy(o.bindMatrix),s.skeleton.bones=a.map(function(l){return t.get(l)}),s.bind(s.skeleton,s.bindMatrix)}),r}function UX(n,e,t){t(n,e);for(let r=0;r<n.children.length;r++)UX(n.children[r],e.children[r],t)}const MT=["ArrowUp","w","W"],eV=["ArrowDown","s","S"],CT=["ArrowLeft","a","A"],tV=["ArrowRight","d","D"];class nV{constructor(e){te(this,"socketID");te(this,"experience");te(this,"room");te(this,"scene");te(this,"time");te(this,"resources");te(this,"lootBoxScene");te(this,"fox",{});te(this,"gotchi",{});te(this,"isMoving",!1);te(this,"movements",{ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1});te(this,"movementType","idle");te(this,"movementMultiplier",{idle:1,walk:1,run:3});this.socketID=e,this.experience=vr.Instance(),this.room=n0.Instance(),this.scene=this.experience.scene,this.time=this.experience.time,this.resources=this.experience.resources,this.lootBoxScene=this.experience.world.lootBoxScene,this.fox.model=this.resources.items.foxModel,this.gotchi.model=this.resources.items.gotchiModel,this.setGLTF(),this.setAnimations()}setGLTF(){this.gotchi.scene=VX(this.experience.world.lootBoxScene.gotchi),this.gotchi.scene.position.set(0,0,0),this.scene.add(this.gotchi.scene)}setAnimations(){this.gotchi.animation={},this.gotchi.animation.mixer=new ZA(this.gotchi.scene),this.gotchi.animation.action={},this.gotchi.animation.action.idle=this.gotchi.animation.mixer.clipAction(this.gotchi.model.animations[0]),this.gotchi.animation.action.walk=this.gotchi.animation.mixer.clipAction(this.gotchi.model.animations[1]),this.gotchi.animation.action.run=this.gotchi.animation.mixer.clipAction(this.gotchi.model.animations[1]),this.gotchi.animation.action.current=this.gotchi.animation.action.idle,this.gotchi.animation.action.current.play()}onKeyup(e){(MT.includes(e)||eV.includes(e))&&(MT.includes(e)?this.movements.ArrowUp=!1:this.movements.ArrowDown=!1,this.isMoving=!1,this.movementType="idle",this.gotchi.animation.action.current=this.gotchi.animation.action.idle,this.gotchi.animation.action.walk.stop(),this.gotchi.animation.action.current.play()),(CT.includes(e)||tV.includes(e))&&(CT.includes(e)?this.movements.ArrowLeft=!1:this.movements.ArrowRight=!1,this.isMoving||(this.movementType="idle",this.gotchi.animation.action.current=this.gotchi.animation.action.idle,this.gotchi.animation.action.walk.stop(),this.gotchi.animation.action.current.play()))}onKeydown(e){MT.includes(e)&&(this.isMoving=!0,this.movements.ArrowUp=!0,this.movements.ArrowDown=!1,this.movementType="run",this.gotchi.animation.action.current=this.gotchi.animation.action.run,this.gotchi.animation.action.current.play(),this.gotchi.animation.action.idle.stop()),eV.includes(e)&&(this.isMoving=!0,this.movements.ArrowDown=!0,this.movements.ArrowUp=!1,this.movementType="walk",this.gotchi.animation.action.current=this.gotchi.animation.action.walk,this.gotchi.animation.action.current.play(),this.gotchi.animation.action.idle.stop()),CT.includes(e)&&(this.movements.ArrowLeft=!0,this.isMoving||(this.movementType="walk",this.gotchi.animation.action.current=this.gotchi.animation.action.walk,this.gotchi.animation.action.current.play())),tV.includes(e)&&(this.movements.ArrowRight=!0,this.isMoving||(this.movementType="walk",this.gotchi.animation.action.current=this.gotchi.animation.action.walk,this.gotchi.animation.action.current.play()))}onMove(e){this.gotchi.scene.position.copy(e.position),this.gotchi.scene.rotation.copy(e.rotation)}update(){this.gotchi.animation.mixer.update(this.time.deltaTime*this.movementMultiplier[this.movementType])}}const gL=class{constructor(){te(this,"experience",vr.Instance());te(this,"players",{});te(this,"socket",$w());gL._instance=this}listen(){this.socket.on("ready",e=>{for(const t of Object.keys(e))t!==this.socket.id&&(this.players[t]=new nV(t))}),this.socket.on("disconnect",()=>{this.players={}}),this.socket.on("player disconnected",e=>{delete this.players[e]}),this.socket.on("player connected",e=>{console.log("A new player has come: ",e),this.players[e]=new nV(e)}),this.socket.on("keydown",e=>{this.players[e.socketID].onKeydown(e.key)}),this.socket.on("keyup",e=>{this.players[e.socketID].onKeyup(e.key)}),this.socket.on("move",e=>{this.players[e.socketID].onMove(e)}),this.socket.emit("ready")}static Instance(){return this._instance||(this._instance=new this)}update(){Object.values(this.players).forEach(e=>e.update())}};let n0=gL;te(n0,"_instance");var mR={},wIe={get exports(){return mR},set exports(n){mR=n}};const SIe={},AIe=Object.freeze(Object.defineProperty({__proto__:null,default:SIe},Symbol.toStringTag,{value:"Module"})),EIe=XZ(AIe);(function(n){(function(e,t){function r(F,S){if(!F)throw new Error(S||"Assertion failed")}function i(F,S){F.super_=S;var I=function(){};I.prototype=S.prototype,F.prototype=new I,F.prototype.constructor=F}function s(F,S,I){if(s.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((S==="le"||S==="be")&&(I=S,S=10),this._init(F||0,S||10,I||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=EIe.Buffer}catch{}s.isBN=function(S){return S instanceof s?!0:S!==null&&typeof S=="object"&&S.constructor.wordSize===s.wordSize&&Array.isArray(S.words)},s.max=function(S,I){return S.cmp(I)>0?S:I},s.min=function(S,I){return S.cmp(I)<0?S:I},s.prototype._init=function(S,I,D){if(typeof S=="number")return this._initNumber(S,I,D);if(typeof S=="object")return this._initArray(S,I,D);I==="hex"&&(I=16),r(I===(I|0)&&I>=2&&I<=36),S=S.toString().replace(/\s+/g,"");var $=0;S[0]==="-"&&($++,this.negative=1),$<S.length&&(I===16?this._parseHex(S,$,D):(this._parseBase(S,I,$),D==="le"&&this._initArray(this.toArray(),I,D)))},s.prototype._initNumber=function(S,I,D){S<0&&(this.negative=1,S=-S),S<67108864?(this.words=[S&67108863],this.length=1):S<4503599627370496?(this.words=[S&67108863,S/67108864&67108863],this.length=2):(r(S<9007199254740992),this.words=[S&67108863,S/67108864&67108863,1],this.length=3),D==="le"&&this._initArray(this.toArray(),I,D)},s.prototype._initArray=function(S,I,D){if(r(typeof S.length=="number"),S.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(S.length/3),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var N,G,j=0;if(D==="be")for($=S.length-1,N=0;$>=0;$-=3)G=S[$]|S[$-1]<<8|S[$-2]<<16,this.words[N]|=G<<j&67108863,this.words[N+1]=G>>>26-j&67108863,j+=24,j>=26&&(j-=26,N++);else if(D==="le")for($=0,N=0;$<S.length;$+=3)G=S[$]|S[$+1]<<8|S[$+2]<<16,this.words[N]|=G<<j&67108863,this.words[N+1]=G>>>26-j&67108863,j+=24,j>=26&&(j-=26,N++);return this._strip()};function a(F,S){var I=F.charCodeAt(S);if(I>=48&&I<=57)return I-48;if(I>=65&&I<=70)return I-55;if(I>=97&&I<=102)return I-87;r(!1,"Invalid character in "+F)}function l(F,S,I){var D=a(F,I);return I-1>=S&&(D|=a(F,I-1)<<4),D}s.prototype._parseHex=function(S,I,D){this.length=Math.ceil((S.length-I)/6),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var N=0,G=0,j;if(D==="be")for($=S.length-1;$>=I;$-=2)j=l(S,I,$)<<N,this.words[G]|=j&67108863,N>=18?(N-=18,G+=1,this.words[G]|=j>>>26):N+=8;else{var W=S.length-I;for($=W%2===0?I+1:I;$<S.length;$+=2)j=l(S,I,$)<<N,this.words[G]|=j&67108863,N>=18?(N-=18,G+=1,this.words[G]|=j>>>26):N+=8}this._strip()};function c(F,S,I,D){for(var $=0,N=0,G=Math.min(F.length,I),j=S;j<G;j++){var W=F.charCodeAt(j)-48;$*=D,W>=49?N=W-49+10:W>=17?N=W-17+10:N=W,r(W>=0&&N<D,"Invalid character"),$+=N}return $}s.prototype._parseBase=function(S,I,D){this.words=[0],this.length=1;for(var $=0,N=1;N<=67108863;N*=I)$++;$--,N=N/I|0;for(var G=S.length-D,j=G%$,W=Math.min(G,G-j)+D,R=0,Y=D;Y<W;Y+=$)R=c(S,Y,Y+$,I),this.imuln(N),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(j!==0){var Ae=1;for(R=c(S,Y,S.length,I),Y=0;Y<j;Y++)Ae*=I;this.imuln(Ae),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}this._strip()},s.prototype.copy=function(S){S.words=new Array(this.length);for(var I=0;I<this.length;I++)S.words[I]=this.words[I];S.length=this.length,S.negative=this.negative,S.red=this.red};function d(F,S){F.words=S.words,F.length=S.length,F.negative=S.negative,F.red=S.red}if(s.prototype._move=function(S){d(S,this)},s.prototype.clone=function(){var S=new s(null);return this.copy(S),S},s.prototype._expand=function(S){for(;this.length<S;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{s.prototype.inspect=u}else s.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(S,I){S=S||10,I=I|0||1;var D;if(S===16||S==="hex"){D="";for(var $=0,N=0,G=0;G<this.length;G++){var j=this.words[G],W=((j<<$|N)&16777215).toString(16);N=j>>>24-$&16777215,$+=2,$>=26&&($-=26,G--),N!==0||G!==this.length-1?D=f[6-W.length]+W+D:D=W+D}for(N!==0&&(D=N.toString(16)+D);D.length%I!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}if(S===(S|0)&&S>=2&&S<=36){var R=h[S],Y=g[S];D="";var Ae=this.clone();for(Ae.negative=0;!Ae.isZero();){var z=Ae.modrn(Y).toString(S);Ae=Ae.idivn(Y),Ae.isZero()?D=z+D:D=f[R-z.length]+z+D}for(this.isZero()&&(D="0"+D);D.length%I!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var S=this.words[0];return this.length===2?S+=this.words[1]*67108864:this.length===3&&this.words[2]===1?S+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-S:S},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(S,I){return this.toArrayLike(o,S,I)}),s.prototype.toArray=function(S,I){return this.toArrayLike(Array,S,I)};var v=function(S,I){return S.allocUnsafe?S.allocUnsafe(I):new S(I)};s.prototype.toArrayLike=function(S,I,D){this._strip();var $=this.byteLength(),N=D||Math.max(1,$);r($<=N,"byte array longer than desired length"),r(N>0,"Requested array length <= 0");var G=v(S,N),j=I==="le"?"LE":"BE";return this["_toArrayLike"+j](G,$),G},s.prototype._toArrayLikeLE=function(S,I){for(var D=0,$=0,N=0,G=0;N<this.length;N++){var j=this.words[N]<<G|$;S[D++]=j&255,D<S.length&&(S[D++]=j>>8&255),D<S.length&&(S[D++]=j>>16&255),G===6?(D<S.length&&(S[D++]=j>>24&255),$=0,G=0):($=j>>>24,G+=2)}if(D<S.length)for(S[D++]=$;D<S.length;)S[D++]=0},s.prototype._toArrayLikeBE=function(S,I){for(var D=S.length-1,$=0,N=0,G=0;N<this.length;N++){var j=this.words[N]<<G|$;S[D--]=j&255,D>=0&&(S[D--]=j>>8&255),D>=0&&(S[D--]=j>>16&255),G===6?(D>=0&&(S[D--]=j>>24&255),$=0,G=0):($=j>>>24,G+=2)}if(D>=0)for(S[D--]=$;D>=0;)S[D--]=0},Math.clz32?s.prototype._countBits=function(S){return 32-Math.clz32(S)}:s.prototype._countBits=function(S){var I=S,D=0;return I>=4096&&(D+=13,I>>>=13),I>=64&&(D+=7,I>>>=7),I>=8&&(D+=4,I>>>=4),I>=2&&(D+=2,I>>>=2),D+I},s.prototype._zeroBits=function(S){if(S===0)return 26;var I=S,D=0;return I&8191||(D+=13,I>>>=13),I&127||(D+=7,I>>>=7),I&15||(D+=4,I>>>=4),I&3||(D+=2,I>>>=2),I&1||D++,D},s.prototype.bitLength=function(){var S=this.words[this.length-1],I=this._countBits(S);return(this.length-1)*26+I};function x(F){for(var S=new Array(F.bitLength()),I=0;I<S.length;I++){var D=I/26|0,$=I%26;S[I]=F.words[D]>>>$&1}return S}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var S=0,I=0;I<this.length;I++){var D=this._zeroBits(this.words[I]);if(S+=D,D!==26)break}return S},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(S){return this.negative!==0?this.abs().inotn(S).iaddn(1):this.clone()},s.prototype.fromTwos=function(S){return this.testn(S-1)?this.notn(S).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(S){for(;this.length<S.length;)this.words[this.length++]=0;for(var I=0;I<S.length;I++)this.words[I]=this.words[I]|S.words[I];return this._strip()},s.prototype.ior=function(S){return r((this.negative|S.negative)===0),this.iuor(S)},s.prototype.or=function(S){return this.length>S.length?this.clone().ior(S):S.clone().ior(this)},s.prototype.uor=function(S){return this.length>S.length?this.clone().iuor(S):S.clone().iuor(this)},s.prototype.iuand=function(S){var I;this.length>S.length?I=S:I=this;for(var D=0;D<I.length;D++)this.words[D]=this.words[D]&S.words[D];return this.length=I.length,this._strip()},s.prototype.iand=function(S){return r((this.negative|S.negative)===0),this.iuand(S)},s.prototype.and=function(S){return this.length>S.length?this.clone().iand(S):S.clone().iand(this)},s.prototype.uand=function(S){return this.length>S.length?this.clone().iuand(S):S.clone().iuand(this)},s.prototype.iuxor=function(S){var I,D;this.length>S.length?(I=this,D=S):(I=S,D=this);for(var $=0;$<D.length;$++)this.words[$]=I.words[$]^D.words[$];if(this!==I)for(;$<I.length;$++)this.words[$]=I.words[$];return this.length=I.length,this._strip()},s.prototype.ixor=function(S){return r((this.negative|S.negative)===0),this.iuxor(S)},s.prototype.xor=function(S){return this.length>S.length?this.clone().ixor(S):S.clone().ixor(this)},s.prototype.uxor=function(S){return this.length>S.length?this.clone().iuxor(S):S.clone().iuxor(this)},s.prototype.inotn=function(S){r(typeof S=="number"&&S>=0);var I=Math.ceil(S/26)|0,D=S%26;this._expand(I),D>0&&I--;for(var $=0;$<I;$++)this.words[$]=~this.words[$]&67108863;return D>0&&(this.words[$]=~this.words[$]&67108863>>26-D),this._strip()},s.prototype.notn=function(S){return this.clone().inotn(S)},s.prototype.setn=function(S,I){r(typeof S=="number"&&S>=0);var D=S/26|0,$=S%26;return this._expand(D+1),I?this.words[D]=this.words[D]|1<<$:this.words[D]=this.words[D]&~(1<<$),this._strip()},s.prototype.iadd=function(S){var I;if(this.negative!==0&&S.negative===0)return this.negative=0,I=this.isub(S),this.negative^=1,this._normSign();if(this.negative===0&&S.negative!==0)return S.negative=0,I=this.isub(S),S.negative=1,I._normSign();var D,$;this.length>S.length?(D=this,$=S):(D=S,$=this);for(var N=0,G=0;G<$.length;G++)I=(D.words[G]|0)+($.words[G]|0)+N,this.words[G]=I&67108863,N=I>>>26;for(;N!==0&&G<D.length;G++)I=(D.words[G]|0)+N,this.words[G]=I&67108863,N=I>>>26;if(this.length=D.length,N!==0)this.words[this.length]=N,this.length++;else if(D!==this)for(;G<D.length;G++)this.words[G]=D.words[G];return this},s.prototype.add=function(S){var I;return S.negative!==0&&this.negative===0?(S.negative=0,I=this.sub(S),S.negative^=1,I):S.negative===0&&this.negative!==0?(this.negative=0,I=S.sub(this),this.negative=1,I):this.length>S.length?this.clone().iadd(S):S.clone().iadd(this)},s.prototype.isub=function(S){if(S.negative!==0){S.negative=0;var I=this.iadd(S);return S.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(S),this.negative=1,this._normSign();var D=this.cmp(S);if(D===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $,N;D>0?($=this,N=S):($=S,N=this);for(var G=0,j=0;j<N.length;j++)I=($.words[j]|0)-(N.words[j]|0)+G,G=I>>26,this.words[j]=I&67108863;for(;G!==0&&j<$.length;j++)I=($.words[j]|0)+G,G=I>>26,this.words[j]=I&67108863;if(G===0&&j<$.length&&$!==this)for(;j<$.length;j++)this.words[j]=$.words[j];return this.length=Math.max(this.length,j),$!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(S){return this.clone().isub(S)};function y(F,S,I){I.negative=S.negative^F.negative;var D=F.length+S.length|0;I.length=D,D=D-1|0;var $=F.words[0]|0,N=S.words[0]|0,G=$*N,j=G&67108863,W=G/67108864|0;I.words[0]=j;for(var R=1;R<D;R++){for(var Y=W>>>26,Ae=W&67108863,z=Math.min(R,S.length-1),Q=Math.max(0,R-F.length+1);Q<=z;Q++){var ve=R-Q|0;$=F.words[ve]|0,N=S.words[Q]|0,G=$*N+Ae,Y+=G/67108864|0,Ae=G&67108863}I.words[R]=Ae|0,W=Y|0}return W!==0?I.words[R]=W|0:I.length--,I._strip()}var _=function(S,I,D){var $=S.words,N=I.words,G=D.words,j=0,W,R,Y,Ae=$[0]|0,z=Ae&8191,Q=Ae>>>13,ve=$[1]|0,ge=ve&8191,Re=ve>>>13,Oe=$[2]|0,Me=Oe&8191,X=Oe>>>13,ee=$[3]|0,ie=ee&8191,fe=ee>>>13,Ce=$[4]|0,we=Ce&8191,Ne=Ce>>>13,Ze=$[5]|0,nt=Ze&8191,ht=Ze>>>13,se=$[6]|0,q=se&8191,le=se>>>13,ze=$[7]|0,Be=ze&8191,Ue=ze>>>13,mt=$[8]|0,be=mt&8191,Xe=mt>>>13,tt=$[9]|0,ae=tt&8191,xe=tt>>>13,je=N[0]|0,qe=je&8191,st=je>>>13,ce=N[1]|0,$e=ce&8191,Ee=ce>>>13,Je=N[2]|0,He=Je&8191,gt=Je>>>13,Hn=N[3]|0,Ct=Hn&8191,sn=Hn>>>13,Sn=N[4]|0,tn=Sn&8191,jt=Sn>>>13,no=N[5]|0,Qt=no&8191,Ln=no>>>13,To=N[6]|0,On=To&8191,Cn=To>>>13,ne=N[7]|0,he=ne&8191,ke=ne>>>13,_e=N[8]|0,Ie=_e&8191,it=_e>>>13,Pt=N[9]|0,ct=Pt&8191,ut=Pt>>>13;D.negative=S.negative^I.negative,D.length=19,W=Math.imul(z,qe),R=Math.imul(z,st),R=R+Math.imul(Q,qe)|0,Y=Math.imul(Q,st);var qt=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(qt>>>26)|0,qt&=67108863,W=Math.imul(ge,qe),R=Math.imul(ge,st),R=R+Math.imul(Re,qe)|0,Y=Math.imul(Re,st),W=W+Math.imul(z,$e)|0,R=R+Math.imul(z,Ee)|0,R=R+Math.imul(Q,$e)|0,Y=Y+Math.imul(Q,Ee)|0;var Vt=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,W=Math.imul(Me,qe),R=Math.imul(Me,st),R=R+Math.imul(X,qe)|0,Y=Math.imul(X,st),W=W+Math.imul(ge,$e)|0,R=R+Math.imul(ge,Ee)|0,R=R+Math.imul(Re,$e)|0,Y=Y+Math.imul(Re,Ee)|0,W=W+Math.imul(z,He)|0,R=R+Math.imul(z,gt)|0,R=R+Math.imul(Q,He)|0,Y=Y+Math.imul(Q,gt)|0;var Ut=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,W=Math.imul(ie,qe),R=Math.imul(ie,st),R=R+Math.imul(fe,qe)|0,Y=Math.imul(fe,st),W=W+Math.imul(Me,$e)|0,R=R+Math.imul(Me,Ee)|0,R=R+Math.imul(X,$e)|0,Y=Y+Math.imul(X,Ee)|0,W=W+Math.imul(ge,He)|0,R=R+Math.imul(ge,gt)|0,R=R+Math.imul(Re,He)|0,Y=Y+Math.imul(Re,gt)|0,W=W+Math.imul(z,Ct)|0,R=R+Math.imul(z,sn)|0,R=R+Math.imul(Q,Ct)|0,Y=Y+Math.imul(Q,sn)|0;var xn=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(xn>>>26)|0,xn&=67108863,W=Math.imul(we,qe),R=Math.imul(we,st),R=R+Math.imul(Ne,qe)|0,Y=Math.imul(Ne,st),W=W+Math.imul(ie,$e)|0,R=R+Math.imul(ie,Ee)|0,R=R+Math.imul(fe,$e)|0,Y=Y+Math.imul(fe,Ee)|0,W=W+Math.imul(Me,He)|0,R=R+Math.imul(Me,gt)|0,R=R+Math.imul(X,He)|0,Y=Y+Math.imul(X,gt)|0,W=W+Math.imul(ge,Ct)|0,R=R+Math.imul(ge,sn)|0,R=R+Math.imul(Re,Ct)|0,Y=Y+Math.imul(Re,sn)|0,W=W+Math.imul(z,tn)|0,R=R+Math.imul(z,jt)|0,R=R+Math.imul(Q,tn)|0,Y=Y+Math.imul(Q,jt)|0;var li=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(li>>>26)|0,li&=67108863,W=Math.imul(nt,qe),R=Math.imul(nt,st),R=R+Math.imul(ht,qe)|0,Y=Math.imul(ht,st),W=W+Math.imul(we,$e)|0,R=R+Math.imul(we,Ee)|0,R=R+Math.imul(Ne,$e)|0,Y=Y+Math.imul(Ne,Ee)|0,W=W+Math.imul(ie,He)|0,R=R+Math.imul(ie,gt)|0,R=R+Math.imul(fe,He)|0,Y=Y+Math.imul(fe,gt)|0,W=W+Math.imul(Me,Ct)|0,R=R+Math.imul(Me,sn)|0,R=R+Math.imul(X,Ct)|0,Y=Y+Math.imul(X,sn)|0,W=W+Math.imul(ge,tn)|0,R=R+Math.imul(ge,jt)|0,R=R+Math.imul(Re,tn)|0,Y=Y+Math.imul(Re,jt)|0,W=W+Math.imul(z,Qt)|0,R=R+Math.imul(z,Ln)|0,R=R+Math.imul(Q,Qt)|0,Y=Y+Math.imul(Q,Ln)|0;var us=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(us>>>26)|0,us&=67108863,W=Math.imul(q,qe),R=Math.imul(q,st),R=R+Math.imul(le,qe)|0,Y=Math.imul(le,st),W=W+Math.imul(nt,$e)|0,R=R+Math.imul(nt,Ee)|0,R=R+Math.imul(ht,$e)|0,Y=Y+Math.imul(ht,Ee)|0,W=W+Math.imul(we,He)|0,R=R+Math.imul(we,gt)|0,R=R+Math.imul(Ne,He)|0,Y=Y+Math.imul(Ne,gt)|0,W=W+Math.imul(ie,Ct)|0,R=R+Math.imul(ie,sn)|0,R=R+Math.imul(fe,Ct)|0,Y=Y+Math.imul(fe,sn)|0,W=W+Math.imul(Me,tn)|0,R=R+Math.imul(Me,jt)|0,R=R+Math.imul(X,tn)|0,Y=Y+Math.imul(X,jt)|0,W=W+Math.imul(ge,Qt)|0,R=R+Math.imul(ge,Ln)|0,R=R+Math.imul(Re,Qt)|0,Y=Y+Math.imul(Re,Ln)|0,W=W+Math.imul(z,On)|0,R=R+Math.imul(z,Cn)|0,R=R+Math.imul(Q,On)|0,Y=Y+Math.imul(Q,Cn)|0;var ro=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(ro>>>26)|0,ro&=67108863,W=Math.imul(Be,qe),R=Math.imul(Be,st),R=R+Math.imul(Ue,qe)|0,Y=Math.imul(Ue,st),W=W+Math.imul(q,$e)|0,R=R+Math.imul(q,Ee)|0,R=R+Math.imul(le,$e)|0,Y=Y+Math.imul(le,Ee)|0,W=W+Math.imul(nt,He)|0,R=R+Math.imul(nt,gt)|0,R=R+Math.imul(ht,He)|0,Y=Y+Math.imul(ht,gt)|0,W=W+Math.imul(we,Ct)|0,R=R+Math.imul(we,sn)|0,R=R+Math.imul(Ne,Ct)|0,Y=Y+Math.imul(Ne,sn)|0,W=W+Math.imul(ie,tn)|0,R=R+Math.imul(ie,jt)|0,R=R+Math.imul(fe,tn)|0,Y=Y+Math.imul(fe,jt)|0,W=W+Math.imul(Me,Qt)|0,R=R+Math.imul(Me,Ln)|0,R=R+Math.imul(X,Qt)|0,Y=Y+Math.imul(X,Ln)|0,W=W+Math.imul(ge,On)|0,R=R+Math.imul(ge,Cn)|0,R=R+Math.imul(Re,On)|0,Y=Y+Math.imul(Re,Cn)|0,W=W+Math.imul(z,he)|0,R=R+Math.imul(z,ke)|0,R=R+Math.imul(Q,he)|0,Y=Y+Math.imul(Q,ke)|0;var Tr=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,W=Math.imul(be,qe),R=Math.imul(be,st),R=R+Math.imul(Xe,qe)|0,Y=Math.imul(Xe,st),W=W+Math.imul(Be,$e)|0,R=R+Math.imul(Be,Ee)|0,R=R+Math.imul(Ue,$e)|0,Y=Y+Math.imul(Ue,Ee)|0,W=W+Math.imul(q,He)|0,R=R+Math.imul(q,gt)|0,R=R+Math.imul(le,He)|0,Y=Y+Math.imul(le,gt)|0,W=W+Math.imul(nt,Ct)|0,R=R+Math.imul(nt,sn)|0,R=R+Math.imul(ht,Ct)|0,Y=Y+Math.imul(ht,sn)|0,W=W+Math.imul(we,tn)|0,R=R+Math.imul(we,jt)|0,R=R+Math.imul(Ne,tn)|0,Y=Y+Math.imul(Ne,jt)|0,W=W+Math.imul(ie,Qt)|0,R=R+Math.imul(ie,Ln)|0,R=R+Math.imul(fe,Qt)|0,Y=Y+Math.imul(fe,Ln)|0,W=W+Math.imul(Me,On)|0,R=R+Math.imul(Me,Cn)|0,R=R+Math.imul(X,On)|0,Y=Y+Math.imul(X,Cn)|0,W=W+Math.imul(ge,he)|0,R=R+Math.imul(ge,ke)|0,R=R+Math.imul(Re,he)|0,Y=Y+Math.imul(Re,ke)|0,W=W+Math.imul(z,Ie)|0,R=R+Math.imul(z,it)|0,R=R+Math.imul(Q,Ie)|0,Y=Y+Math.imul(Q,it)|0;var Gt=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,W=Math.imul(ae,qe),R=Math.imul(ae,st),R=R+Math.imul(xe,qe)|0,Y=Math.imul(xe,st),W=W+Math.imul(be,$e)|0,R=R+Math.imul(be,Ee)|0,R=R+Math.imul(Xe,$e)|0,Y=Y+Math.imul(Xe,Ee)|0,W=W+Math.imul(Be,He)|0,R=R+Math.imul(Be,gt)|0,R=R+Math.imul(Ue,He)|0,Y=Y+Math.imul(Ue,gt)|0,W=W+Math.imul(q,Ct)|0,R=R+Math.imul(q,sn)|0,R=R+Math.imul(le,Ct)|0,Y=Y+Math.imul(le,sn)|0,W=W+Math.imul(nt,tn)|0,R=R+Math.imul(nt,jt)|0,R=R+Math.imul(ht,tn)|0,Y=Y+Math.imul(ht,jt)|0,W=W+Math.imul(we,Qt)|0,R=R+Math.imul(we,Ln)|0,R=R+Math.imul(Ne,Qt)|0,Y=Y+Math.imul(Ne,Ln)|0,W=W+Math.imul(ie,On)|0,R=R+Math.imul(ie,Cn)|0,R=R+Math.imul(fe,On)|0,Y=Y+Math.imul(fe,Cn)|0,W=W+Math.imul(Me,he)|0,R=R+Math.imul(Me,ke)|0,R=R+Math.imul(X,he)|0,Y=Y+Math.imul(X,ke)|0,W=W+Math.imul(ge,Ie)|0,R=R+Math.imul(ge,it)|0,R=R+Math.imul(Re,Ie)|0,Y=Y+Math.imul(Re,it)|0,W=W+Math.imul(z,ct)|0,R=R+Math.imul(z,ut)|0,R=R+Math.imul(Q,ct)|0,Y=Y+Math.imul(Q,ut)|0;var ds=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(ds>>>26)|0,ds&=67108863,W=Math.imul(ae,$e),R=Math.imul(ae,Ee),R=R+Math.imul(xe,$e)|0,Y=Math.imul(xe,Ee),W=W+Math.imul(be,He)|0,R=R+Math.imul(be,gt)|0,R=R+Math.imul(Xe,He)|0,Y=Y+Math.imul(Xe,gt)|0,W=W+Math.imul(Be,Ct)|0,R=R+Math.imul(Be,sn)|0,R=R+Math.imul(Ue,Ct)|0,Y=Y+Math.imul(Ue,sn)|0,W=W+Math.imul(q,tn)|0,R=R+Math.imul(q,jt)|0,R=R+Math.imul(le,tn)|0,Y=Y+Math.imul(le,jt)|0,W=W+Math.imul(nt,Qt)|0,R=R+Math.imul(nt,Ln)|0,R=R+Math.imul(ht,Qt)|0,Y=Y+Math.imul(ht,Ln)|0,W=W+Math.imul(we,On)|0,R=R+Math.imul(we,Cn)|0,R=R+Math.imul(Ne,On)|0,Y=Y+Math.imul(Ne,Cn)|0,W=W+Math.imul(ie,he)|0,R=R+Math.imul(ie,ke)|0,R=R+Math.imul(fe,he)|0,Y=Y+Math.imul(fe,ke)|0,W=W+Math.imul(Me,Ie)|0,R=R+Math.imul(Me,it)|0,R=R+Math.imul(X,Ie)|0,Y=Y+Math.imul(X,it)|0,W=W+Math.imul(ge,ct)|0,R=R+Math.imul(ge,ut)|0,R=R+Math.imul(Re,ct)|0,Y=Y+Math.imul(Re,ut)|0;var Tn=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,W=Math.imul(ae,He),R=Math.imul(ae,gt),R=R+Math.imul(xe,He)|0,Y=Math.imul(xe,gt),W=W+Math.imul(be,Ct)|0,R=R+Math.imul(be,sn)|0,R=R+Math.imul(Xe,Ct)|0,Y=Y+Math.imul(Xe,sn)|0,W=W+Math.imul(Be,tn)|0,R=R+Math.imul(Be,jt)|0,R=R+Math.imul(Ue,tn)|0,Y=Y+Math.imul(Ue,jt)|0,W=W+Math.imul(q,Qt)|0,R=R+Math.imul(q,Ln)|0,R=R+Math.imul(le,Qt)|0,Y=Y+Math.imul(le,Ln)|0,W=W+Math.imul(nt,On)|0,R=R+Math.imul(nt,Cn)|0,R=R+Math.imul(ht,On)|0,Y=Y+Math.imul(ht,Cn)|0,W=W+Math.imul(we,he)|0,R=R+Math.imul(we,ke)|0,R=R+Math.imul(Ne,he)|0,Y=Y+Math.imul(Ne,ke)|0,W=W+Math.imul(ie,Ie)|0,R=R+Math.imul(ie,it)|0,R=R+Math.imul(fe,Ie)|0,Y=Y+Math.imul(fe,it)|0,W=W+Math.imul(Me,ct)|0,R=R+Math.imul(Me,ut)|0,R=R+Math.imul(X,ct)|0,Y=Y+Math.imul(X,ut)|0;var Jr=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,W=Math.imul(ae,Ct),R=Math.imul(ae,sn),R=R+Math.imul(xe,Ct)|0,Y=Math.imul(xe,sn),W=W+Math.imul(be,tn)|0,R=R+Math.imul(be,jt)|0,R=R+Math.imul(Xe,tn)|0,Y=Y+Math.imul(Xe,jt)|0,W=W+Math.imul(Be,Qt)|0,R=R+Math.imul(Be,Ln)|0,R=R+Math.imul(Ue,Qt)|0,Y=Y+Math.imul(Ue,Ln)|0,W=W+Math.imul(q,On)|0,R=R+Math.imul(q,Cn)|0,R=R+Math.imul(le,On)|0,Y=Y+Math.imul(le,Cn)|0,W=W+Math.imul(nt,he)|0,R=R+Math.imul(nt,ke)|0,R=R+Math.imul(ht,he)|0,Y=Y+Math.imul(ht,ke)|0,W=W+Math.imul(we,Ie)|0,R=R+Math.imul(we,it)|0,R=R+Math.imul(Ne,Ie)|0,Y=Y+Math.imul(Ne,it)|0,W=W+Math.imul(ie,ct)|0,R=R+Math.imul(ie,ut)|0,R=R+Math.imul(fe,ct)|0,Y=Y+Math.imul(fe,ut)|0;var Ri=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,W=Math.imul(ae,tn),R=Math.imul(ae,jt),R=R+Math.imul(xe,tn)|0,Y=Math.imul(xe,jt),W=W+Math.imul(be,Qt)|0,R=R+Math.imul(be,Ln)|0,R=R+Math.imul(Xe,Qt)|0,Y=Y+Math.imul(Xe,Ln)|0,W=W+Math.imul(Be,On)|0,R=R+Math.imul(Be,Cn)|0,R=R+Math.imul(Ue,On)|0,Y=Y+Math.imul(Ue,Cn)|0,W=W+Math.imul(q,he)|0,R=R+Math.imul(q,ke)|0,R=R+Math.imul(le,he)|0,Y=Y+Math.imul(le,ke)|0,W=W+Math.imul(nt,Ie)|0,R=R+Math.imul(nt,it)|0,R=R+Math.imul(ht,Ie)|0,Y=Y+Math.imul(ht,it)|0,W=W+Math.imul(we,ct)|0,R=R+Math.imul(we,ut)|0,R=R+Math.imul(Ne,ct)|0,Y=Y+Math.imul(Ne,ut)|0;var Pi=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,W=Math.imul(ae,Qt),R=Math.imul(ae,Ln),R=R+Math.imul(xe,Qt)|0,Y=Math.imul(xe,Ln),W=W+Math.imul(be,On)|0,R=R+Math.imul(be,Cn)|0,R=R+Math.imul(Xe,On)|0,Y=Y+Math.imul(Xe,Cn)|0,W=W+Math.imul(Be,he)|0,R=R+Math.imul(Be,ke)|0,R=R+Math.imul(Ue,he)|0,Y=Y+Math.imul(Ue,ke)|0,W=W+Math.imul(q,Ie)|0,R=R+Math.imul(q,it)|0,R=R+Math.imul(le,Ie)|0,Y=Y+Math.imul(le,it)|0,W=W+Math.imul(nt,ct)|0,R=R+Math.imul(nt,ut)|0,R=R+Math.imul(ht,ct)|0,Y=Y+Math.imul(ht,ut)|0;var Ii=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,W=Math.imul(ae,On),R=Math.imul(ae,Cn),R=R+Math.imul(xe,On)|0,Y=Math.imul(xe,Cn),W=W+Math.imul(be,he)|0,R=R+Math.imul(be,ke)|0,R=R+Math.imul(Xe,he)|0,Y=Y+Math.imul(Xe,ke)|0,W=W+Math.imul(Be,Ie)|0,R=R+Math.imul(Be,it)|0,R=R+Math.imul(Ue,Ie)|0,Y=Y+Math.imul(Ue,it)|0,W=W+Math.imul(q,ct)|0,R=R+Math.imul(q,ut)|0,R=R+Math.imul(le,ct)|0,Y=Y+Math.imul(le,ut)|0;var zt=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(zt>>>26)|0,zt&=67108863,W=Math.imul(ae,he),R=Math.imul(ae,ke),R=R+Math.imul(xe,he)|0,Y=Math.imul(xe,ke),W=W+Math.imul(be,Ie)|0,R=R+Math.imul(be,it)|0,R=R+Math.imul(Xe,Ie)|0,Y=Y+Math.imul(Xe,it)|0,W=W+Math.imul(Be,ct)|0,R=R+Math.imul(Be,ut)|0,R=R+Math.imul(Ue,ct)|0,Y=Y+Math.imul(Ue,ut)|0;var nn=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(nn>>>26)|0,nn&=67108863,W=Math.imul(ae,Ie),R=Math.imul(ae,it),R=R+Math.imul(xe,Ie)|0,Y=Math.imul(xe,it),W=W+Math.imul(be,ct)|0,R=R+Math.imul(be,ut)|0,R=R+Math.imul(Xe,ct)|0,Y=Y+Math.imul(Xe,ut)|0;var Li=(j+W|0)+((R&8191)<<13)|0;j=(Y+(R>>>13)|0)+(Li>>>26)|0,Li&=67108863,W=Math.imul(ae,ct),R=Math.imul(ae,ut),R=R+Math.imul(xe,ct)|0,Y=Math.imul(xe,ut);var fn=(j+W|0)+((R&8191)<<13)|0;return j=(Y+(R>>>13)|0)+(fn>>>26)|0,fn&=67108863,G[0]=qt,G[1]=Vt,G[2]=Ut,G[3]=xn,G[4]=li,G[5]=us,G[6]=ro,G[7]=Tr,G[8]=Gt,G[9]=ds,G[10]=Tn,G[11]=Jr,G[12]=Ri,G[13]=Pi,G[14]=Ii,G[15]=zt,G[16]=nn,G[17]=Li,G[18]=fn,j!==0&&(G[19]=j,D.length++),D};Math.imul||(_=y);function b(F,S,I){I.negative=S.negative^F.negative,I.length=F.length+S.length;for(var D=0,$=0,N=0;N<I.length-1;N++){var G=$;$=0;for(var j=D&67108863,W=Math.min(N,S.length-1),R=Math.max(0,N-F.length+1);R<=W;R++){var Y=N-R,Ae=F.words[Y]|0,z=S.words[R]|0,Q=Ae*z,ve=Q&67108863;G=G+(Q/67108864|0)|0,ve=ve+j|0,j=ve&67108863,G=G+(ve>>>26)|0,$+=G>>>26,G&=67108863}I.words[N]=j,D=G,G=$}return D!==0?I.words[N]=D:I.length--,I._strip()}function A(F,S,I){return b(F,S,I)}s.prototype.mulTo=function(S,I){var D,$=this.length+S.length;return this.length===10&&S.length===10?D=_(this,S,I):$<63?D=y(this,S,I):$<1024?D=b(this,S,I):D=A(this,S,I),D},s.prototype.mul=function(S){var I=new s(null);return I.words=new Array(this.length+S.length),this.mulTo(S,I)},s.prototype.mulf=function(S){var I=new s(null);return I.words=new Array(this.length+S.length),A(this,S,I)},s.prototype.imul=function(S){return this.clone().mulTo(S,this)},s.prototype.imuln=function(S){var I=S<0;I&&(S=-S),r(typeof S=="number"),r(S<67108864);for(var D=0,$=0;$<this.length;$++){var N=(this.words[$]|0)*S,G=(N&67108863)+(D&67108863);D>>=26,D+=N/67108864|0,D+=G>>>26,this.words[$]=G&67108863}return D!==0&&(this.words[$]=D,this.length++),I?this.ineg():this},s.prototype.muln=function(S){return this.clone().imuln(S)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(S){var I=x(S);if(I.length===0)return new s(1);for(var D=this,$=0;$<I.length&&I[$]===0;$++,D=D.sqr());if(++$<I.length)for(var N=D.sqr();$<I.length;$++,N=N.sqr())I[$]!==0&&(D=D.mul(N));return D},s.prototype.iushln=function(S){r(typeof S=="number"&&S>=0);var I=S%26,D=(S-I)/26,$=67108863>>>26-I<<26-I,N;if(I!==0){var G=0;for(N=0;N<this.length;N++){var j=this.words[N]&$,W=(this.words[N]|0)-j<<I;this.words[N]=W|G,G=j>>>26-I}G&&(this.words[N]=G,this.length++)}if(D!==0){for(N=this.length-1;N>=0;N--)this.words[N+D]=this.words[N];for(N=0;N<D;N++)this.words[N]=0;this.length+=D}return this._strip()},s.prototype.ishln=function(S){return r(this.negative===0),this.iushln(S)},s.prototype.iushrn=function(S,I,D){r(typeof S=="number"&&S>=0);var $;I?$=(I-I%26)/26:$=0;var N=S%26,G=Math.min((S-N)/26,this.length),j=67108863^67108863>>>N<<N,W=D;if($-=G,$=Math.max(0,$),W){for(var R=0;R<G;R++)W.words[R]=this.words[R];W.length=G}if(G!==0)if(this.length>G)for(this.length-=G,R=0;R<this.length;R++)this.words[R]=this.words[R+G];else this.words[0]=0,this.length=1;var Y=0;for(R=this.length-1;R>=0&&(Y!==0||R>=$);R--){var Ae=this.words[R]|0;this.words[R]=Y<<26-N|Ae>>>N,Y=Ae&j}return W&&Y!==0&&(W.words[W.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(S,I,D){return r(this.negative===0),this.iushrn(S,I,D)},s.prototype.shln=function(S){return this.clone().ishln(S)},s.prototype.ushln=function(S){return this.clone().iushln(S)},s.prototype.shrn=function(S){return this.clone().ishrn(S)},s.prototype.ushrn=function(S){return this.clone().iushrn(S)},s.prototype.testn=function(S){r(typeof S=="number"&&S>=0);var I=S%26,D=(S-I)/26,$=1<<I;if(this.length<=D)return!1;var N=this.words[D];return!!(N&$)},s.prototype.imaskn=function(S){r(typeof S=="number"&&S>=0);var I=S%26,D=(S-I)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=D)return this;if(I!==0&&D++,this.length=Math.min(D,this.length),I!==0){var $=67108863^67108863>>>I<<I;this.words[this.length-1]&=$}return this._strip()},s.prototype.maskn=function(S){return this.clone().imaskn(S)},s.prototype.iaddn=function(S){return r(typeof S=="number"),r(S<67108864),S<0?this.isubn(-S):this.negative!==0?this.length===1&&(this.words[0]|0)<=S?(this.words[0]=S-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(S),this.negative=1,this):this._iaddn(S)},s.prototype._iaddn=function(S){this.words[0]+=S;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},s.prototype.isubn=function(S){if(r(typeof S=="number"),r(S<67108864),S<0)return this.iaddn(-S);if(this.negative!==0)return this.negative=0,this.iaddn(S),this.negative=1,this;if(this.words[0]-=S,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this._strip()},s.prototype.addn=function(S){return this.clone().iaddn(S)},s.prototype.subn=function(S){return this.clone().isubn(S)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(S,I,D){var $=S.length+D,N;this._expand($);var G,j=0;for(N=0;N<S.length;N++){G=(this.words[N+D]|0)+j;var W=(S.words[N]|0)*I;G-=W&67108863,j=(G>>26)-(W/67108864|0),this.words[N+D]=G&67108863}for(;N<this.length-D;N++)G=(this.words[N+D]|0)+j,j=G>>26,this.words[N+D]=G&67108863;if(j===0)return this._strip();for(r(j===-1),j=0,N=0;N<this.length;N++)G=-(this.words[N]|0)+j,j=G>>26,this.words[N]=G&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(S,I){var D=this.length-S.length,$=this.clone(),N=S,G=N.words[N.length-1]|0,j=this._countBits(G);D=26-j,D!==0&&(N=N.ushln(D),$.iushln(D),G=N.words[N.length-1]|0);var W=$.length-N.length,R;if(I!=="mod"){R=new s(null),R.length=W+1,R.words=new Array(R.length);for(var Y=0;Y<R.length;Y++)R.words[Y]=0}var Ae=$.clone()._ishlnsubmul(N,1,W);Ae.negative===0&&($=Ae,R&&(R.words[W]=1));for(var z=W-1;z>=0;z--){var Q=($.words[N.length+z]|0)*67108864+($.words[N.length+z-1]|0);for(Q=Math.min(Q/G|0,67108863),$._ishlnsubmul(N,Q,z);$.negative!==0;)Q--,$.negative=0,$._ishlnsubmul(N,1,z),$.isZero()||($.negative^=1);R&&(R.words[z]=Q)}return R&&R._strip(),$._strip(),I!=="div"&&D!==0&&$.iushrn(D),{div:R||null,mod:$}},s.prototype.divmod=function(S,I,D){if(r(!S.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var $,N,G;return this.negative!==0&&S.negative===0?(G=this.neg().divmod(S,I),I!=="mod"&&($=G.div.neg()),I!=="div"&&(N=G.mod.neg(),D&&N.negative!==0&&N.iadd(S)),{div:$,mod:N}):this.negative===0&&S.negative!==0?(G=this.divmod(S.neg(),I),I!=="mod"&&($=G.div.neg()),{div:$,mod:G.mod}):this.negative&S.negative?(G=this.neg().divmod(S.neg(),I),I!=="div"&&(N=G.mod.neg(),D&&N.negative!==0&&N.isub(S)),{div:G.div,mod:N}):S.length>this.length||this.cmp(S)<0?{div:new s(0),mod:this}:S.length===1?I==="div"?{div:this.divn(S.words[0]),mod:null}:I==="mod"?{div:null,mod:new s(this.modrn(S.words[0]))}:{div:this.divn(S.words[0]),mod:new s(this.modrn(S.words[0]))}:this._wordDiv(S,I)},s.prototype.div=function(S){return this.divmod(S,"div",!1).div},s.prototype.mod=function(S){return this.divmod(S,"mod",!1).mod},s.prototype.umod=function(S){return this.divmod(S,"mod",!0).mod},s.prototype.divRound=function(S){var I=this.divmod(S);if(I.mod.isZero())return I.div;var D=I.div.negative!==0?I.mod.isub(S):I.mod,$=S.ushrn(1),N=S.andln(1),G=D.cmp($);return G<0||N===1&&G===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},s.prototype.modrn=function(S){var I=S<0;I&&(S=-S),r(S<=67108863);for(var D=(1<<26)%S,$=0,N=this.length-1;N>=0;N--)$=(D*$+(this.words[N]|0))%S;return I?-$:$},s.prototype.modn=function(S){return this.modrn(S)},s.prototype.idivn=function(S){var I=S<0;I&&(S=-S),r(S<=67108863);for(var D=0,$=this.length-1;$>=0;$--){var N=(this.words[$]|0)+D*67108864;this.words[$]=N/S|0,D=N%S}return this._strip(),I?this.ineg():this},s.prototype.divn=function(S){return this.clone().idivn(S)},s.prototype.egcd=function(S){r(S.negative===0),r(!S.isZero());var I=this,D=S.clone();I.negative!==0?I=I.umod(S):I=I.clone();for(var $=new s(1),N=new s(0),G=new s(0),j=new s(1),W=0;I.isEven()&&D.isEven();)I.iushrn(1),D.iushrn(1),++W;for(var R=D.clone(),Y=I.clone();!I.isZero();){for(var Ae=0,z=1;!(I.words[0]&z)&&Ae<26;++Ae,z<<=1);if(Ae>0)for(I.iushrn(Ae);Ae-- >0;)($.isOdd()||N.isOdd())&&($.iadd(R),N.isub(Y)),$.iushrn(1),N.iushrn(1);for(var Q=0,ve=1;!(D.words[0]&ve)&&Q<26;++Q,ve<<=1);if(Q>0)for(D.iushrn(Q);Q-- >0;)(G.isOdd()||j.isOdd())&&(G.iadd(R),j.isub(Y)),G.iushrn(1),j.iushrn(1);I.cmp(D)>=0?(I.isub(D),$.isub(G),N.isub(j)):(D.isub(I),G.isub($),j.isub(N))}return{a:G,b:j,gcd:D.iushln(W)}},s.prototype._invmp=function(S){r(S.negative===0),r(!S.isZero());var I=this,D=S.clone();I.negative!==0?I=I.umod(S):I=I.clone();for(var $=new s(1),N=new s(0),G=D.clone();I.cmpn(1)>0&&D.cmpn(1)>0;){for(var j=0,W=1;!(I.words[0]&W)&&j<26;++j,W<<=1);if(j>0)for(I.iushrn(j);j-- >0;)$.isOdd()&&$.iadd(G),$.iushrn(1);for(var R=0,Y=1;!(D.words[0]&Y)&&R<26;++R,Y<<=1);if(R>0)for(D.iushrn(R);R-- >0;)N.isOdd()&&N.iadd(G),N.iushrn(1);I.cmp(D)>=0?(I.isub(D),$.isub(N)):(D.isub(I),N.isub($))}var Ae;return I.cmpn(1)===0?Ae=$:Ae=N,Ae.cmpn(0)<0&&Ae.iadd(S),Ae},s.prototype.gcd=function(S){if(this.isZero())return S.abs();if(S.isZero())return this.abs();var I=this.clone(),D=S.clone();I.negative=0,D.negative=0;for(var $=0;I.isEven()&&D.isEven();$++)I.iushrn(1),D.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;D.isEven();)D.iushrn(1);var N=I.cmp(D);if(N<0){var G=I;I=D,D=G}else if(N===0||D.cmpn(1)===0)break;I.isub(D)}while(!0);return D.iushln($)},s.prototype.invm=function(S){return this.egcd(S).a.umod(S)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(S){return this.words[0]&S},s.prototype.bincn=function(S){r(typeof S=="number");var I=S%26,D=(S-I)/26,$=1<<I;if(this.length<=D)return this._expand(D+1),this.words[D]|=$,this;for(var N=$,G=D;N!==0&&G<this.length;G++){var j=this.words[G]|0;j+=N,N=j>>>26,j&=67108863,this.words[G]=j}return N!==0&&(this.words[G]=N,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(S){var I=S<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this._strip();var D;if(this.length>1)D=1;else{I&&(S=-S),r(S<=67108863,"Number is too big");var $=this.words[0]|0;D=$===S?0:$<S?-1:1}return this.negative!==0?-D|0:D},s.prototype.cmp=function(S){if(this.negative!==0&&S.negative===0)return-1;if(this.negative===0&&S.negative!==0)return 1;var I=this.ucmp(S);return this.negative!==0?-I|0:I},s.prototype.ucmp=function(S){if(this.length>S.length)return 1;if(this.length<S.length)return-1;for(var I=0,D=this.length-1;D>=0;D--){var $=this.words[D]|0,N=S.words[D]|0;if($!==N){$<N?I=-1:$>N&&(I=1);break}}return I},s.prototype.gtn=function(S){return this.cmpn(S)===1},s.prototype.gt=function(S){return this.cmp(S)===1},s.prototype.gten=function(S){return this.cmpn(S)>=0},s.prototype.gte=function(S){return this.cmp(S)>=0},s.prototype.ltn=function(S){return this.cmpn(S)===-1},s.prototype.lt=function(S){return this.cmp(S)===-1},s.prototype.lten=function(S){return this.cmpn(S)<=0},s.prototype.lte=function(S){return this.cmp(S)<=0},s.prototype.eqn=function(S){return this.cmpn(S)===0},s.prototype.eq=function(S){return this.cmp(S)===0},s.red=function(S){return new K(S)},s.prototype.toRed=function(S){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),S.convertTo(this)._forceRed(S)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(S){return this.red=S,this},s.prototype.forceRed=function(S){return r(!this.red,"Already a number in reduction context"),this._forceRed(S)},s.prototype.redAdd=function(S){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,S)},s.prototype.redIAdd=function(S){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,S)},s.prototype.redSub=function(S){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,S)},s.prototype.redISub=function(S){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,S)},s.prototype.redShl=function(S){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,S)},s.prototype.redMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.mul(this,S)},s.prototype.redIMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.imul(this,S)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(S){return r(this.red&&!S.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,S)};var E={k256:null,p224:null,p192:null,p25519:null};function k(F,S){this.name=F,this.p=new s(S,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var S=new s(null);return S.words=new Array(Math.ceil(this.n/13)),S},k.prototype.ireduce=function(S){var I=S,D;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),D=I.bitLength();while(D>this.n);var $=D<this.n?-1:I.ucmp(this.p);return $===0?(I.words[0]=0,I.length=1):$>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},k.prototype.split=function(S,I){S.iushrn(this.n,0,I)},k.prototype.imulK=function(S){return S.imul(this.k)};function P(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(P,k),P.prototype.split=function(S,I){for(var D=4194303,$=Math.min(S.length,9),N=0;N<$;N++)I.words[N]=S.words[N];if(I.length=$,S.length<=9){S.words[0]=0,S.length=1;return}var G=S.words[9];for(I.words[I.length++]=G&D,N=10;N<S.length;N++){var j=S.words[N]|0;S.words[N-10]=(j&D)<<4|G>>>22,G=j}G>>>=22,S.words[N-10]=G,G===0&&S.length>10?S.length-=10:S.length-=9},P.prototype.imulK=function(S){S.words[S.length]=0,S.words[S.length+1]=0,S.length+=2;for(var I=0,D=0;D<S.length;D++){var $=S.words[D]|0;I+=$*977,S.words[D]=I&67108863,I=$*64+(I/67108864|0)}return S.words[S.length-1]===0&&(S.length--,S.words[S.length-1]===0&&S.length--),S};function C(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(C,k);function O(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(O,k);function U(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(U,k),U.prototype.imulK=function(S){for(var I=0,D=0;D<S.length;D++){var $=(S.words[D]|0)*19+I,N=$&67108863;$>>>=26,S.words[D]=N,I=$}return I!==0&&(S.words[S.length++]=I),S},s._prime=function(S){if(E[S])return E[S];var I;if(S==="k256")I=new P;else if(S==="p224")I=new C;else if(S==="p192")I=new O;else if(S==="p25519")I=new U;else throw new Error("Unknown prime "+S);return E[S]=I,I};function K(F){if(typeof F=="string"){var S=s._prime(F);this.m=S.p,this.prime=S}else r(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}K.prototype._verify1=function(S){r(S.negative===0,"red works only with positives"),r(S.red,"red works only with red numbers")},K.prototype._verify2=function(S,I){r((S.negative|I.negative)===0,"red works only with positives"),r(S.red&&S.red===I.red,"red works only with red numbers")},K.prototype.imod=function(S){return this.prime?this.prime.ireduce(S)._forceRed(this):(d(S,S.umod(this.m)._forceRed(this)),S)},K.prototype.neg=function(S){return S.isZero()?S.clone():this.m.sub(S)._forceRed(this)},K.prototype.add=function(S,I){this._verify2(S,I);var D=S.add(I);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},K.prototype.iadd=function(S,I){this._verify2(S,I);var D=S.iadd(I);return D.cmp(this.m)>=0&&D.isub(this.m),D},K.prototype.sub=function(S,I){this._verify2(S,I);var D=S.sub(I);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},K.prototype.isub=function(S,I){this._verify2(S,I);var D=S.isub(I);return D.cmpn(0)<0&&D.iadd(this.m),D},K.prototype.shl=function(S,I){return this._verify1(S),this.imod(S.ushln(I))},K.prototype.imul=function(S,I){return this._verify2(S,I),this.imod(S.imul(I))},K.prototype.mul=function(S,I){return this._verify2(S,I),this.imod(S.mul(I))},K.prototype.isqr=function(S){return this.imul(S,S.clone())},K.prototype.sqr=function(S){return this.mul(S,S)},K.prototype.sqrt=function(S){if(S.isZero())return S.clone();var I=this.m.andln(3);if(r(I%2===1),I===3){var D=this.m.add(new s(1)).iushrn(2);return this.pow(S,D)}for(var $=this.m.subn(1),N=0;!$.isZero()&&$.andln(1)===0;)N++,$.iushrn(1);r(!$.isZero());var G=new s(1).toRed(this),j=G.redNeg(),W=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new s(2*R*R).toRed(this);this.pow(R,W).cmp(j)!==0;)R.redIAdd(j);for(var Y=this.pow(R,$),Ae=this.pow(S,$.addn(1).iushrn(1)),z=this.pow(S,$),Q=N;z.cmp(G)!==0;){for(var ve=z,ge=0;ve.cmp(G)!==0;ge++)ve=ve.redSqr();r(ge<Q);var Re=this.pow(Y,new s(1).iushln(Q-ge-1));Ae=Ae.redMul(Re),Y=Re.redSqr(),z=z.redMul(Y),Q=ge}return Ae},K.prototype.invm=function(S){var I=S._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},K.prototype.pow=function(S,I){if(I.isZero())return new s(1).toRed(this);if(I.cmpn(1)===0)return S.clone();var D=4,$=new Array(1<<D);$[0]=new s(1).toRed(this),$[1]=S;for(var N=2;N<$.length;N++)$[N]=this.mul($[N-1],S);var G=$[0],j=0,W=0,R=I.bitLength()%26;for(R===0&&(R=26),N=I.length-1;N>=0;N--){for(var Y=I.words[N],Ae=R-1;Ae>=0;Ae--){var z=Y>>Ae&1;if(G!==$[0]&&(G=this.sqr(G)),z===0&&j===0){W=0;continue}j<<=1,j|=z,W++,!(W!==D&&(N!==0||Ae!==0))&&(G=this.mul(G,$[j]),W=0,j=0)}R=26}return G},K.prototype.convertTo=function(S){var I=S.umod(this.m);return I===S?I.clone():I},K.prototype.convertFrom=function(S){var I=S.clone();return I.red=null,I},s.mont=function(S){return new J(S)};function J(F){K.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(J,K),J.prototype.convertTo=function(S){return this.imod(S.ushln(this.shift))},J.prototype.convertFrom=function(S){var I=this.imod(S.mul(this.rinv));return I.red=null,I},J.prototype.imul=function(S,I){if(S.isZero()||I.isZero())return S.words[0]=0,S.length=1,S;var D=S.imul(I),$=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=D.isub($).iushrn(this.shift),G=N;return N.cmp(this.m)>=0?G=N.isub(this.m):N.cmpn(0)<0&&(G=N.iadd(this.m)),G._forceRed(this)},J.prototype.mul=function(S,I){if(S.isZero()||I.isZero())return new s(0)._forceRed(this);var D=S.mul(I),$=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=D.isub($).iushrn(this.shift),G=N;return N.cmp(this.m)>=0?G=N.isub(this.m):N.cmpn(0)<0&&(G=N.iadd(this.m)),G._forceRed(this)},J.prototype.invm=function(S){var I=this.imod(S._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(n,xl)})(wIe);const Zt=mR,MIe="logger/5.7.0";let rV=!1,iV=!1;const Ww={debug:1,default:2,info:2,warning:3,error:4,off:5};let sV=Ww.default,TT=null;function CIe(){try{const n=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{n.push(e)}}),n.length)throw new Error("missing "+n.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(n){return n.message}return null}const oV=CIe();var gR;(function(n){n.DEBUG="DEBUG",n.INFO="INFO",n.WARNING="WARNING",n.ERROR="ERROR",n.OFF="OFF"})(gR||(gR={}));var hl;(function(n){n.UNKNOWN_ERROR="UNKNOWN_ERROR",n.NOT_IMPLEMENTED="NOT_IMPLEMENTED",n.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",n.NETWORK_ERROR="NETWORK_ERROR",n.SERVER_ERROR="SERVER_ERROR",n.TIMEOUT="TIMEOUT",n.BUFFER_OVERRUN="BUFFER_OVERRUN",n.NUMERIC_FAULT="NUMERIC_FAULT",n.MISSING_NEW="MISSING_NEW",n.INVALID_ARGUMENT="INVALID_ARGUMENT",n.MISSING_ARGUMENT="MISSING_ARGUMENT",n.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",n.CALL_EXCEPTION="CALL_EXCEPTION",n.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",n.NONCE_EXPIRED="NONCE_EXPIRED",n.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",n.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",n.TRANSACTION_REPLACED="TRANSACTION_REPLACED",n.ACTION_REJECTED="ACTION_REJECTED"})(hl||(hl={}));const aV="0123456789abcdef";class Se{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();Ww[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(sV>Ww[r])&&console.log.apply(console,t)}debug(...e){this._log(Se.levels.DEBUG,e)}info(...e){this._log(Se.levels.INFO,e)}warn(...e){this._log(Se.levels.WARNING,e)}makeError(e,t,r){if(iV)return this.makeError("censored error",t,{});t||(t=Se.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let d="";for(let u=0;u<c.length;u++)d+=aV[c[u]>>4],d+=aV[c[u]&15];i.push(l+"=Uint8Array(0x"+d+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let o="";switch(t){case hl.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case hl.CALL_EXCEPTION:case hl.INSUFFICIENT_FUNDS:case hl.MISSING_NEW:case hl.NONCE_EXPIRED:case hl.REPLACEMENT_UNDERPRICED:case hl.TRANSACTION_REPLACED:case hl.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=t,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Se.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,i){e||this.throwError(t,r,i)}assertArgument(e,t,r,i){e||this.throwArgumentError(t,r,i)}checkNormalize(e){oV&&this.throwError("platform missing String.prototype.normalize",Se.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:oV})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Se.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Se.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r?r=": "+r:r="",e<t&&this.throwError("missing argument"+r,Se.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Se.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",Se.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Se.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Se.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return TT||(TT=new Se(MIe)),TT}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Se.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),rV){if(!e)return;this.globalLogger().throwError("error censorship permanent",Se.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}iV=!!e,rV=!!t}static setLogLevel(e){const t=Ww[e.toLowerCase()];if(t==null){Se.globalLogger().warn("invalid log level - "+e);return}sV=t}static from(e){return new Se(e)}}Se.errors=hl;Se.levels=gR;const TIe="bytes/5.7.0",jr=new Se(TIe);function HX(n){return!!n.toHexString}function r0(n){return n.slice||(n.slice=function(){const e=Array.prototype.slice.call(arguments);return r0(new Uint8Array(Array.prototype.slice.apply(n,e)))}),n}function eL(n){return Rn(n)&&!(n.length%2)||ap(n)}function lV(n){return typeof n=="number"&&n==n&&n%1===0}function ap(n){if(n==null)return!1;if(n.constructor===Uint8Array)return!0;if(typeof n=="string"||!lV(n.length)||n.length<0)return!1;for(let e=0;e<n.length;e++){const t=n[e];if(!lV(t)||t<0||t>=256)return!1}return!0}function Nt(n,e){if(e||(e={}),typeof n=="number"){jr.checkSafeUint53(n,"invalid arrayify value");const t=[];for(;n;)t.unshift(n&255),n=parseInt(String(n/256));return t.length===0&&t.push(0),r0(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),HX(n)&&(n=n.toHexString()),Rn(n)){let t=n.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":jr.throwArgumentError("hex data is odd-length","value",n));const r=[];for(let i=0;i<t.length;i+=2)r.push(parseInt(t.substring(i,i+2),16));return r0(new Uint8Array(r))}return ap(n)?r0(new Uint8Array(n)):jr.throwArgumentError("invalid arrayify value","value",n)}function Xs(n){const e=n.map(i=>Nt(i)),t=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(t);return e.reduce((i,s)=>(r.set(s,i),i+s.length),0),r0(r)}function D0(n){let e=Nt(n);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function kIe(n,e){n=Nt(n),n.length>e&&jr.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(n,e-n.length),r0(t)}function Rn(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||e&&n.length!==2+2*e)}const kT="0123456789abcdef";function Mt(n,e){if(e||(e={}),typeof n=="number"){jr.checkSafeUint53(n,"invalid hexlify value");let t="";for(;n;)t=kT[n&15]+t,n=Math.floor(n/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof n=="bigint")return n=n.toString(16),n.length%2?"0x0"+n:"0x"+n;if(e.allowMissingPrefix&&typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),HX(n))return n.toHexString();if(Rn(n))return n.length%2&&(e.hexPad==="left"?n="0x0"+n.substring(2):e.hexPad==="right"?n+="0":jr.throwArgumentError("hex data is odd-length","value",n)),n.toLowerCase();if(ap(n)){let t="0x";for(let r=0;r<n.length;r++){let i=n[r];t+=kT[(i&240)>>4]+kT[i&15]}return t}return jr.throwArgumentError("invalid hexlify value","value",n)}function qh(n){if(typeof n!="string")n=Mt(n);else if(!Rn(n)||n.length%2)return null;return(n.length-2)/2}function ws(n,e,t){return typeof n!="string"?n=Mt(n):(!Rn(n)||n.length%2)&&jr.throwArgumentError("invalid hexData","value",n),e=2+2*e,t!=null?"0x"+n.substring(e,2+2*t):"0x"+n.substring(e)}function ho(n){let e="0x";return n.forEach(t=>{e+=Mt(t).substring(2)}),e}function A1(n){const e=RIe(Mt(n,{hexPad:"left"}));return e==="0x"?"0x0":e}function RIe(n){typeof n!="string"&&(n=Mt(n)),Rn(n)||jr.throwArgumentError("invalid hex string","value",n),n=n.substring(2);let e=0;for(;e<n.length&&n[e]==="0";)e++;return"0x"+n.substring(e)}function Er(n,e){for(typeof n!="string"?n=Mt(n):Rn(n)||jr.throwArgumentError("invalid hex string","value",n),n.length>2*e+2&&jr.throwArgumentError("value out of range","value",arguments[1]);n.length<2*e+2;)n="0x0"+n.substring(2);return n}function rE(n){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(eL(n)){let t=Nt(n);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Mt(t.slice(0,32)),e.s=Mt(t.slice(32,64))):t.length===65?(e.r=Mt(t.slice(0,32)),e.s=Mt(t.slice(32,64)),e.v=t[64]):jr.throwArgumentError("invalid signature string","signature",n),e.v<27&&(e.v===0||e.v===1?e.v+=27:jr.throwArgumentError("signature invalid v byte","signature",n)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Mt(t.slice(32,64))}else{if(e.r=n.r,e.s=n.s,e.v=n.v,e.recoveryParam=n.recoveryParam,e._vs=n._vs,e._vs!=null){const i=kIe(Nt(e._vs),32);e._vs=Mt(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&jr.throwArgumentError("signature recoveryParam mismatch _vs","signature",n),i[0]&=127;const o=Mt(i);e.s==null?e.s=o:e.s!==o&&jr.throwArgumentError("signature v mismatch _vs","signature",n)}if(e.recoveryParam==null)e.v==null?jr.throwArgumentError("signature missing v and recoveryParam","signature",n):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&jr.throwArgumentError("signature recoveryParam mismatch v","signature",n)}e.r==null||!Rn(e.r)?jr.throwArgumentError("signature missing or invalid r","signature",n):e.r=Er(e.r,32),e.s==null||!Rn(e.s)?jr.throwArgumentError("signature missing or invalid s","signature",n):e.s=Er(e.s,32);const t=Nt(e.s);t[0]>=128&&jr.throwArgumentError("signature s out of range","signature",n),e.recoveryParam&&(t[0]|=128);const r=Mt(t);e._vs&&(Rn(e._vs)||jr.throwArgumentError("signature invalid _vs","signature",n),e._vs=Er(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&jr.throwArgumentError("signature _vs mismatch v and s","signature",n)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const GX="bignumber/5.7.0";var y2=Zt.BN;const Qc=new Se(GX),RT={},cV=9007199254740991;function PIe(n){return n!=null&&(et.isBigNumber(n)||typeof n=="number"&&n%1===0||typeof n=="string"&&!!n.match(/^-?[0-9]+$/)||Rn(n)||typeof n=="bigint"||ap(n))}let uV=!1;class et{constructor(e,t){e!==RT&&Qc.throwError("cannot call constructor directly; use BigNumber.from",Se.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ao(mn(this).fromTwos(e))}toTwos(e){return ao(mn(this).toTwos(e))}abs(){return this._hex[0]==="-"?et.from(this._hex.substring(1)):this}add(e){return ao(mn(this).add(mn(e)))}sub(e){return ao(mn(this).sub(mn(e)))}div(e){return et.from(e).isZero()&&wa("division-by-zero","div"),ao(mn(this).div(mn(e)))}mul(e){return ao(mn(this).mul(mn(e)))}mod(e){const t=mn(e);return t.isNeg()&&wa("division-by-zero","mod"),ao(mn(this).umod(t))}pow(e){const t=mn(e);return t.isNeg()&&wa("negative-power","pow"),ao(mn(this).pow(t))}and(e){const t=mn(e);return(this.isNegative()||t.isNeg())&&wa("unbound-bitwise-result","and"),ao(mn(this).and(t))}or(e){const t=mn(e);return(this.isNegative()||t.isNeg())&&wa("unbound-bitwise-result","or"),ao(mn(this).or(t))}xor(e){const t=mn(e);return(this.isNegative()||t.isNeg())&&wa("unbound-bitwise-result","xor"),ao(mn(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&wa("negative-width","mask"),ao(mn(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&wa("negative-width","shl"),ao(mn(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&wa("negative-width","shr"),ao(mn(this).shrn(e))}eq(e){return mn(this).eq(mn(e))}lt(e){return mn(this).lt(mn(e))}lte(e){return mn(this).lte(mn(e))}gt(e){return mn(this).gt(mn(e))}gte(e){return mn(this).gte(mn(e))}isNegative(){return this._hex[0]==="-"}isZero(){return mn(this).isZero()}toNumber(){try{return mn(this).toNumber()}catch{wa("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Qc.throwError("this platform does not support BigInt",Se.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?uV||(uV=!0,Qc.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Qc.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Se.errors.UNEXPECTED_ARGUMENT,{}):Qc.throwError("BigNumber.toString does not accept parameters",Se.errors.UNEXPECTED_ARGUMENT,{})),mn(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof et)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new et(RT,E1(e)):e.match(/^-?[0-9]+$/)?new et(RT,E1(new y2(e))):Qc.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&wa("underflow","BigNumber.from",e),(e>=cV||e<=-cV)&&wa("overflow","BigNumber.from",e),et.from(String(e));const t=e;if(typeof t=="bigint")return et.from(t.toString());if(ap(t))return et.from(Mt(t));if(t)if(t.toHexString){const r=t.toHexString();if(typeof r=="string")return et.from(r)}else{let r=t._hex;if(r==null&&t.type==="BigNumber"&&(r=t.hex),typeof r=="string"&&(Rn(r)||r[0]==="-"&&Rn(r.substring(1))))return et.from(r)}return Qc.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function E1(n){if(typeof n!="string")return E1(n.toString(16));if(n[0]==="-")return n=n.substring(1),n[0]==="-"&&Qc.throwArgumentError("invalid hex","value",n),n=E1(n),n==="0x00"?n:"-"+n;if(n.substring(0,2)!=="0x"&&(n="0x"+n),n==="0x")return"0x00";for(n.length%2&&(n="0x0"+n.substring(2));n.length>4&&n.substring(0,4)==="0x00";)n="0x"+n.substring(4);return n}function ao(n){return et.from(E1(n))}function mn(n){const e=et.from(n).toHexString();return e[0]==="-"?new y2("-"+e.substring(3),16):new y2(e.substring(2),16)}function wa(n,e,t){const r={fault:n,operation:e};return t!=null&&(r.value=t),Qc.throwError(n,Se.errors.NUMERIC_FAULT,r)}function IIe(n){return new y2(n,36).toString(16)}const qs=new Se(GX),hy={},$X=et.from(0),WX=et.from(-1);function jX(n,e,t,r){const i={fault:e,operation:t};return r!==void 0&&(i.value=r),qs.throwError(n,Se.errors.NUMERIC_FAULT,i)}let py="0";for(;py.length<256;)py+=py;function tL(n){if(typeof n!="number")try{n=et.from(n).toNumber()}catch{}return typeof n=="number"&&n>=0&&n<=256&&!(n%1)?"1"+py.substring(0,n):qs.throwArgumentError("invalid decimal size","decimals",n)}function jw(n,e){e==null&&(e=0);const t=tL(e);n=et.from(n);const r=n.lt($X);r&&(n=n.mul(WX));let i=n.mod(t).toString();for(;i.length<t.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=n.div(t).toString();return t.length===1?n=s:n=s+"."+i,r&&(n="-"+n),n}function Xl(n,e){e==null&&(e=0);const t=tL(e);(typeof n!="string"||!n.match(/^-?[0-9.]+$/))&&qs.throwArgumentError("invalid decimal value","value",n);const r=n.substring(0,1)==="-";r&&(n=n.substring(1)),n==="."&&qs.throwArgumentError("missing value","value",n);const i=n.split(".");i.length>2&&qs.throwArgumentError("too many decimal points","value",n);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&jX("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";const a=et.from(s),l=et.from(o);let c=a.mul(t).add(l);return r&&(c=c.mul(WX)),c}class i0{constructor(e,t,r,i){e!==hy&&qs.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Se.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=tL(i),Object.freeze(this)}static from(e){if(e instanceof i0)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||qs.throwArgumentError("invalid fixed format","format",e),t=s[1]!=="u",r=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,l)=>e[o]==null?l:(typeof e[o]!==a&&qs.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);t=s("signed","boolean",t),r=s("width","number",r),i=s("decimals","number",i)}return r%8&&qs.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&qs.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new i0(hy,t,r,i)}}class Zi{constructor(e,t,r,i){e!==hy&&qs.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Se.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&qs.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Xl(this._value,this.format.decimals),r=Xl(e._value,e.format.decimals);return Zi.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Xl(this._value,this.format.decimals),r=Xl(e._value,e.format.decimals);return Zi.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Xl(this._value,this.format.decimals),r=Xl(e._value,e.format.decimals);return Zi.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Xl(this._value,this.format.decimals),r=Xl(e._value,e.format.decimals);return Zi.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Zi.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(dV.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Zi.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(dV.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&qs.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const r=Zi.from("1"+py.substring(0,e),this.format),i=LIe.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&qs.throwArgumentError("invalid byte width","width",e);const t=et.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Er(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Zi.fromString(this._value,e)}static fromValue(e,t,r){return r==null&&t!=null&&!PIe(t)&&(r=t,t=null),t==null&&(t=0),r==null&&(r="fixed"),Zi.fromString(jw(e,t),i0.from(r))}static fromString(e,t){t==null&&(t="fixed");const r=i0.from(t),i=Xl(e,r.decimals);!r.signed&&i.lt($X)&&jX("unsigned value cannot be negative","overflow","value",e);let s=null;r.signed?s=i.toTwos(r.width).toHexString():(s=i.toHexString(),s=Er(s,r.width/8));const o=jw(i,r.decimals);return new Zi(hy,s,o,r)}static fromBytes(e,t){t==null&&(t="fixed");const r=i0.from(t);if(Nt(e).length>r.width/8)throw new Error("overflow");let i=et.from(e);r.signed&&(i=i.fromTwos(r.width));const s=i.toTwos((r.signed?0:1)+r.width).toHexString(),o=jw(i,r.decimals);return new Zi(hy,s,o,r)}static from(e,t){if(typeof e=="string")return Zi.fromString(e,t);if(ap(e))return Zi.fromBytes(e,t);try{return Zi.fromValue(e,0,t)}catch(r){if(r.code!==Se.errors.INVALID_ARGUMENT)throw r}return qs.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const dV=Zi.from(1),LIe=Zi.from("0.5"),OIe="properties/5.7.0";var NIe=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const x2=new Se(OIe);function Ye(n,e,t){Object.defineProperty(n,e,{enumerable:!0,value:t,writable:!1})}function Yo(n,e){for(let t=0;t<32;t++){if(n[e])return n[e];if(!n.prototype||typeof n.prototype!="object")break;n=Object.getPrototypeOf(n.prototype).constructor}return null}function hi(n){return NIe(this,void 0,void 0,function*(){const e=Object.keys(n).map(r=>{const i=n[r];return Promise.resolve(i).then(s=>({key:r,value:s}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}function DIe(n,e){(!n||typeof n!="object")&&x2.throwArgumentError("invalid object","object",n),Object.keys(n).forEach(t=>{e[t]||x2.throwArgumentError("invalid object key - "+t,"transaction:"+t,n)})}function _i(n){const e={};for(const t in n)e[t]=n[t];return e}const BIe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function qX(n){if(n==null||BIe[typeof n])return!0;if(Array.isArray(n)||typeof n=="object"){if(!Object.isFrozen(n))return!1;const e=Object.keys(n);for(let t=0;t<e.length;t++){let r=null;try{r=n[e[t]]}catch{continue}if(!qX(r))return!1}return!0}return x2.throwArgumentError(`Cannot deepCopy ${typeof n}`,"object",n)}function FIe(n){if(qX(n))return n;if(Array.isArray(n))return Object.freeze(n.map(e=>Tu(e)));if(typeof n=="object"){const e={};for(const t in n){const r=n[t];r!==void 0&&Ye(e,t,Tu(r))}return e}return x2.throwArgumentError(`Cannot deepCopy ${typeof n}`,"object",n)}function Tu(n){return FIe(n)}class _x{constructor(e){for(const t in e)this[t]=Tu(e[t])}}const bx="abi/5.7.0",_n=new Se(bx),Yh={};let fV={calldata:!0,memory:!0,storage:!0},zIe={calldata:!0,memory:!0};function Xb(n,e){if(n==="bytes"||n==="string"){if(fV[e])return!0}else if(n==="address"){if(e==="payable")return!0}else if((n.indexOf("[")>=0||n==="tuple")&&zIe[e])return!0;return(fV[e]||e==="payable")&&_n.throwArgumentError("invalid modifier","name",e),!1}function VIe(n,e){let t=n;function r(a){_n.throwArgumentError(`unexpected character at position ${a}`,"param",n)}n=n.replace(/\s/g," ");function i(a){let l={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(l.indexed=!1),l}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<n.length;a++){let l=n[a];switch(l){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||r(a),o.state.allowType=!1,o.type=lm(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||r(a),o.indexed=!0,o.name=""),Xb(o.type,o.name)&&(o.name=""),o.type=lm(o.type);let c=o;o=o.parent,o||r(a),delete c.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||r(a),o.indexed=!0,o.name=""),Xb(o.type,o.name)&&(o.name=""),o.type=lm(o.type);let d=i(o.parent);o.parent.components.push(d),delete o.parent,o=d;break;case" ":o.state.allowType&&o.type!==""&&(o.type=lm(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||r(a),o.indexed&&r(a),o.indexed=!0,o.name=""):Xb(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||r(a),o.type+=l,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||r(a),o.type+=l,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=l,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=l,delete o.state.allowArray):o.state.readArray?o.type+=l:r(a)}}return o.parent&&_n.throwArgumentError("unexpected eof","param",n),delete s.state,o.name==="indexed"?(e||r(t.length-7),o.indexed&&r(t.length-7),o.indexed=!0,o.name=""):Xb(o.type,o.name)&&(o.name=""),s.type=lm(s.type),s}function qw(n,e){for(let t in e)Ye(n,t,e[t])}const Fn=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),UIe=new RegExp(/^(.*)\[([0-9]*)\]$/);class Ui{constructor(e,t){e!==Yh&&_n.throwError("use fromString",Se.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),qw(this,t);let r=this.type.match(UIe);r?qw(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:Ui.fromObject({type:r[1],components:this.components}),baseType:"array"}):qw(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Fn.sighash),Fn[e]||_n.throwArgumentError("invalid format type","format",e),e===Fn.json){let r={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.components&&(r.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(r)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Fn.sighash&&(t+=this.type),t+="("+this.components.map(r=>r.format(e)).join(e===Fn.full?", ":",")+")"):t+=this.type,e!==Fn.sighash&&(this.indexed===!0&&(t+=" indexed"),e===Fn.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?Ui.fromString(e,t):Ui.fromObject(e)}static fromObject(e){return Ui.isParamType(e)?e:new Ui(Yh,{name:e.name||null,type:lm(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Ui.fromObject):null})}static fromString(e,t){function r(i){return Ui.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return r(VIe(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function M1(n,e){return GIe(n).map(t=>Ui.fromString(t,e))}class pu{constructor(e,t){e!==Yh&&_n.throwError("use a static from method",Se.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),qw(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return pu.isFragment(e)?e:typeof e=="string"?pu.fromString(e):pu.fromObject(e)}static fromObject(e){if(pu.isFragment(e))return e;switch(e.type){case"function":return ac.fromObject(e);case"event":return au.fromObject(e);case"constructor":return oc.fromObject(e);case"error":return wd.fromObject(e);case"fallback":case"receive":return null}return _n.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?au.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?ac.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?oc.fromString(e.trim()):e.split(" ")[0]==="error"?wd.fromString(e.substring(5).trim()):_n.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class au extends pu{format(e){if(e||(e=Fn.sighash),Fn[e]||_n.throwArgumentError("invalid format type","format",e),e===Fn.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let t="";return e!==Fn.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===Fn.full?", ":",")+") ",e!==Fn.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?au.fromString(e):au.fromObject(e)}static fromObject(e){if(au.isEventFragment(e))return e;e.type!=="event"&&_n.throwArgumentError("invalid event object","value",e);const t={name:C1(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Ui.fromObject):[],type:"event"};return new au(Yh,t)}static fromString(e){let t=e.match(T1);t||_n.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":r=!0;break;case"":break;default:_n.warn("unknown modifier: "+i)}}),au.fromObject({name:t[1].trim(),anonymous:r,inputs:M1(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function YX(n,e){e.gas=null;let t=n.split("@");return t.length!==1?(t.length>2&&_n.throwArgumentError("invalid human-readable ABI signature","value",n),t[1].match(/^[0-9]+$/)||_n.throwArgumentError("invalid human-readable ABI signature gas","value",n),e.gas=et.from(t[1]),t[0]):n}function XX(n,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",n.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function KX(n){let e={constant:!1,payable:!0,stateMutability:"payable"};return n.stateMutability!=null?(e.stateMutability=n.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",n.constant!=null&&!!n.constant!==e.constant&&_n.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",n),e.payable=e.stateMutability==="payable",n.payable!=null&&!!n.payable!==e.payable&&_n.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",n)):n.payable!=null?(e.payable=!!n.payable,n.constant==null&&!e.payable&&n.type!=="constructor"&&_n.throwArgumentError("unable to determine stateMutability","value",n),e.constant=!!n.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&_n.throwArgumentError("cannot have constant payable function","value",n)):n.constant!=null?(e.constant=!!n.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):n.type!=="constructor"&&_n.throwArgumentError("unable to determine stateMutability","value",n),e}class oc extends pu{format(e){if(e||(e=Fn.sighash),Fn[e]||_n.throwArgumentError("invalid format type","format",e),e===Fn.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});e===Fn.sighash&&_n.throwError("cannot format a constructor for sighash",Se.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(r=>r.format(e)).join(e===Fn.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?oc.fromString(e):oc.fromObject(e)}static fromObject(e){if(oc.isConstructorFragment(e))return e;e.type!=="constructor"&&_n.throwArgumentError("invalid constructor object","value",e);let t=KX(e);t.constant&&_n.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Ui.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?et.from(e.gas):null};return new oc(Yh,r)}static fromString(e){let t={type:"constructor"};e=YX(e,t);let r=e.match(T1);return(!r||r[1].trim()!=="constructor")&&_n.throwArgumentError("invalid constructor string","value",e),t.inputs=M1(r[2].trim(),!1),XX(r[3].trim(),t),oc.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class ac extends oc{format(e){if(e||(e=Fn.sighash),Fn[e]||_n.throwArgumentError("invalid format type","format",e),e===Fn.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});let t="";return e!==Fn.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===Fn.full?", ":",")+") ",e!==Fn.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(r=>r.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?ac.fromString(e):ac.fromObject(e)}static fromObject(e){if(ac.isFunctionFragment(e))return e;e.type!=="function"&&_n.throwArgumentError("invalid function object","value",e);let t=KX(e);const r={type:e.type,name:C1(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Ui.fromObject):[],outputs:e.outputs?e.outputs.map(Ui.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?et.from(e.gas):null};return new ac(Yh,r)}static fromString(e){let t={type:"function"};e=YX(e,t);let r=e.split(" returns ");r.length>2&&_n.throwArgumentError("invalid function string","value",e);let i=r[0].match(T1);if(i||_n.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&C1(t.name),t.inputs=M1(i[2],!1),XX(i[3].trim(),t),r.length>1){let s=r[1].match(T1);(s[1].trim()!=""||s[3].trim()!="")&&_n.throwArgumentError("unexpected tokens","value",e),t.outputs=M1(s[2],!1)}else t.outputs=[];return ac.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function hV(n){const e=n.format();return(e==="Error(string)"||e==="Panic(uint256)")&&_n.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",n),n}class wd extends pu{format(e){if(e||(e=Fn.sighash),Fn[e]||_n.throwArgumentError("invalid format type","format",e),e===Fn.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let t="";return e!==Fn.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===Fn.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?wd.fromString(e):wd.fromObject(e)}static fromObject(e){if(wd.isErrorFragment(e))return e;e.type!=="error"&&_n.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:C1(e.name),inputs:e.inputs?e.inputs.map(Ui.fromObject):[]};return hV(new wd(Yh,t))}static fromString(e){let t={type:"error"},r=e.match(T1);return r||_n.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&C1(t.name),t.inputs=M1(r[2],!1),hV(wd.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function lm(n){return n.match(/^uint($|[^1-9])/)?n="uint256"+n.substring(4):n.match(/^int($|[^1-9])/)&&(n="int256"+n.substring(3)),n}const HIe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function C1(n){return(!n||!n.match(HIe))&&_n.throwArgumentError(`invalid identifier "${n}"`,"value",n),n}const T1=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function GIe(n){n=n.trim();let e=[],t="",r=0;for(let i=0;i<n.length;i++){let s=n[i];s===","&&r===0?(e.push(t),t=""):(t+=s,s==="("?r++:s===")"&&(r--,r===-1&&_n.throwArgumentError("unbalanced parenthesis","value",n)))}return t&&e.push(t),e}const nL=new Se(bx);function $Ie(n){const e=[],t=function(r,i){if(Array.isArray(i))for(let s in i){const o=r.slice();o.push(s);try{t(o,i[s])}catch(a){e.push({path:o,error:a})}}};return t([],n),e}class Fu{constructor(e,t,r,i){this.name=e,this.type=t,this.localName=r,this.dynamic=i}_throwError(e,t){nL.throwArgumentError(e,this.localName,t)}}class vR{constructor(e){Ye(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return ho(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Xs(e._data))}writeBytes(e){let t=Nt(e);const r=t.length%this.wordSize;return r&&(t=Xs([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=Nt(et.from(e));return t.length>this.wordSize&&nL.throwError("value out-of-bounds",Se.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Xs([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class _2{constructor(e,t,r,i){Ye(this,"_data",Nt(e)),Ye(this,"wordSize",t||32),Ye(this,"_coerceFunc",r),Ye(this,"allowLoose",i),this._offset=0}get data(){return Mt(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):_2.coerce(e,t)}_peekBytes(e,t,r){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?i=t:nL.throwError("data out-of-bounds",Se.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new _2(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return et.from(this.readBytes(this.wordSize))}}var yR={},WIe={get exports(){return yR},set exports(n){yR=n}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(n){(function(){var e="input is invalid type",t="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=xl:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&n.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),d=[31,7936,2031616,520093696],u=[4,1024,262144,67108864],f=[1,256,65536,16777216],h=[6,1536,393216,100663296],g=[0,8,16,24],v=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],x=[224,256,384,512],y=[128,256],_=["hex","buffer","arrayBuffer","array","digest"],b={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(z){return Object.prototype.toString.call(z)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(z){return typeof z=="object"&&z.buffer&&z.buffer.constructor===ArrayBuffer});for(var A=function(z,Q,ve){return function(ge){return new R(z,Q,z).update(ge)[ve]()}},E=function(z,Q,ve){return function(ge,Re){return new R(z,Q,Re).update(ge)[ve]()}},k=function(z,Q,ve){return function(ge,Re,Oe,Me){return S["cshake"+z].update(ge,Re,Oe,Me)[ve]()}},P=function(z,Q,ve){return function(ge,Re,Oe,Me){return S["kmac"+z].update(ge,Re,Oe,Me)[ve]()}},C=function(z,Q,ve,ge){for(var Re=0;Re<_.length;++Re){var Oe=_[Re];z[Oe]=Q(ve,ge,Oe)}return z},O=function(z,Q){var ve=A(z,Q,"hex");return ve.create=function(){return new R(z,Q,z)},ve.update=function(ge){return ve.create().update(ge)},C(ve,A,z,Q)},U=function(z,Q){var ve=E(z,Q,"hex");return ve.create=function(ge){return new R(z,Q,ge)},ve.update=function(ge,Re){return ve.create(Re).update(ge)},C(ve,E,z,Q)},K=function(z,Q){var ve=b[z],ge=k(z,Q,"hex");return ge.create=function(Re,Oe,Me){return!Oe&&!Me?S["shake"+z].create(Re):new R(z,Q,Re).bytepad([Oe,Me],ve)},ge.update=function(Re,Oe,Me,X){return ge.create(Oe,Me,X).update(Re)},C(ge,k,z,Q)},J=function(z,Q){var ve=b[z],ge=P(z,Q,"hex");return ge.create=function(Re,Oe,Me){return new Y(z,Q,Oe).bytepad(["KMAC",Me],ve).bytepad([Re],ve)},ge.update=function(Re,Oe,Me,X){return ge.create(Re,Me,X).update(Oe)},C(ge,P,z,Q)},F=[{name:"keccak",padding:f,bits:x,createMethod:O},{name:"sha3",padding:h,bits:x,createMethod:O},{name:"shake",padding:d,bits:y,createMethod:U},{name:"cshake",padding:u,bits:y,createMethod:K},{name:"kmac",padding:u,bits:y,createMethod:J}],S={},I=[],D=0;D<F.length;++D)for(var $=F[D],N=$.bits,G=0;G<N.length;++G){var j=$.name+"_"+N[G];if(I.push(j),S[j]=$.createMethod(N[G],$.padding),$.name!=="sha3"){var W=$.name+N[G];I.push(W),S[W]=S[j]}}function R(z,Q,ve){this.blocks=[],this.s=[],this.padding=Q,this.outputBits=ve,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(z<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ve>>5,this.extraBytes=(ve&31)>>3;for(var ge=0;ge<50;++ge)this.s[ge]=0}R.prototype.update=function(z){if(this.finalized)throw new Error(t);var Q,ve=typeof z;if(ve!=="string"){if(ve==="object"){if(z===null)throw new Error(e);if(l&&z.constructor===ArrayBuffer)z=new Uint8Array(z);else if(!Array.isArray(z)&&(!l||!ArrayBuffer.isView(z)))throw new Error(e)}else throw new Error(e);Q=!0}for(var ge=this.blocks,Re=this.byteCount,Oe=z.length,Me=this.blockCount,X=0,ee=this.s,ie,fe;X<Oe;){if(this.reset)for(this.reset=!1,ge[0]=this.block,ie=1;ie<Me+1;++ie)ge[ie]=0;if(Q)for(ie=this.start;X<Oe&&ie<Re;++X)ge[ie>>2]|=z[X]<<g[ie++&3];else for(ie=this.start;X<Oe&&ie<Re;++X)fe=z.charCodeAt(X),fe<128?ge[ie>>2]|=fe<<g[ie++&3]:fe<2048?(ge[ie>>2]|=(192|fe>>6)<<g[ie++&3],ge[ie>>2]|=(128|fe&63)<<g[ie++&3]):fe<55296||fe>=57344?(ge[ie>>2]|=(224|fe>>12)<<g[ie++&3],ge[ie>>2]|=(128|fe>>6&63)<<g[ie++&3],ge[ie>>2]|=(128|fe&63)<<g[ie++&3]):(fe=65536+((fe&1023)<<10|z.charCodeAt(++X)&1023),ge[ie>>2]|=(240|fe>>18)<<g[ie++&3],ge[ie>>2]|=(128|fe>>12&63)<<g[ie++&3],ge[ie>>2]|=(128|fe>>6&63)<<g[ie++&3],ge[ie>>2]|=(128|fe&63)<<g[ie++&3]);if(this.lastByteIndex=ie,ie>=Re){for(this.start=ie-Re,this.block=ge[Me],ie=0;ie<Me;++ie)ee[ie]^=ge[ie];Ae(ee),this.reset=!0}else this.start=ie}return this},R.prototype.encode=function(z,Q){var ve=z&255,ge=1,Re=[ve];for(z=z>>8,ve=z&255;ve>0;)Re.unshift(ve),z=z>>8,ve=z&255,++ge;return Q?Re.push(ge):Re.unshift(ge),this.update(Re),Re.length},R.prototype.encodeString=function(z){var Q,ve=typeof z;if(ve!=="string"){if(ve==="object"){if(z===null)throw new Error(e);if(l&&z.constructor===ArrayBuffer)z=new Uint8Array(z);else if(!Array.isArray(z)&&(!l||!ArrayBuffer.isView(z)))throw new Error(e)}else throw new Error(e);Q=!0}var ge=0,Re=z.length;if(Q)ge=Re;else for(var Oe=0;Oe<z.length;++Oe){var Me=z.charCodeAt(Oe);Me<128?ge+=1:Me<2048?ge+=2:Me<55296||Me>=57344?ge+=3:(Me=65536+((Me&1023)<<10|z.charCodeAt(++Oe)&1023),ge+=4)}return ge+=this.encode(ge*8),this.update(z),ge},R.prototype.bytepad=function(z,Q){for(var ve=this.encode(Q),ge=0;ge<z.length;++ge)ve+=this.encodeString(z[ge]);var Re=Q-ve%Q,Oe=[];return Oe.length=Re,this.update(Oe),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var z=this.blocks,Q=this.lastByteIndex,ve=this.blockCount,ge=this.s;if(z[Q>>2]|=this.padding[Q&3],this.lastByteIndex===this.byteCount)for(z[0]=z[ve],Q=1;Q<ve+1;++Q)z[Q]=0;for(z[ve-1]|=2147483648,Q=0;Q<ve;++Q)ge[Q]^=z[Q];Ae(ge)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var z=this.blockCount,Q=this.s,ve=this.outputBlocks,ge=this.extraBytes,Re=0,Oe=0,Me="",X;Oe<ve;){for(Re=0;Re<z&&Oe<ve;++Re,++Oe)X=Q[Re],Me+=c[X>>4&15]+c[X&15]+c[X>>12&15]+c[X>>8&15]+c[X>>20&15]+c[X>>16&15]+c[X>>28&15]+c[X>>24&15];Oe%z===0&&(Ae(Q),Re=0)}return ge&&(X=Q[Re],Me+=c[X>>4&15]+c[X&15],ge>1&&(Me+=c[X>>12&15]+c[X>>8&15]),ge>2&&(Me+=c[X>>20&15]+c[X>>16&15])),Me},R.prototype.arrayBuffer=function(){this.finalize();var z=this.blockCount,Q=this.s,ve=this.outputBlocks,ge=this.extraBytes,Re=0,Oe=0,Me=this.outputBits>>3,X;ge?X=new ArrayBuffer(ve+1<<2):X=new ArrayBuffer(Me);for(var ee=new Uint32Array(X);Oe<ve;){for(Re=0;Re<z&&Oe<ve;++Re,++Oe)ee[Oe]=Q[Re];Oe%z===0&&Ae(Q)}return ge&&(ee[Re]=Q[Re],X=X.slice(0,Me)),X},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var z=this.blockCount,Q=this.s,ve=this.outputBlocks,ge=this.extraBytes,Re=0,Oe=0,Me=[],X,ee;Oe<ve;){for(Re=0;Re<z&&Oe<ve;++Re,++Oe)X=Oe<<2,ee=Q[Re],Me[X]=ee&255,Me[X+1]=ee>>8&255,Me[X+2]=ee>>16&255,Me[X+3]=ee>>24&255;Oe%z===0&&Ae(Q)}return ge&&(X=Oe<<2,ee=Q[Re],Me[X]=ee&255,ge>1&&(Me[X+1]=ee>>8&255),ge>2&&(Me[X+2]=ee>>16&255)),Me};function Y(z,Q,ve){R.call(this,z,Q,ve)}Y.prototype=new R,Y.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var Ae=function(z){var Q,ve,ge,Re,Oe,Me,X,ee,ie,fe,Ce,we,Ne,Ze,nt,ht,se,q,le,ze,Be,Ue,mt,be,Xe,tt,ae,xe,je,qe,st,ce,$e,Ee,Je,He,gt,Hn,Ct,sn,Sn,tn,jt,no,Qt,Ln,To,On,Cn,ne,he,ke,_e,Ie,it,Pt,ct,ut,qt,Vt,Ut,xn,li;for(ge=0;ge<48;ge+=2)Re=z[0]^z[10]^z[20]^z[30]^z[40],Oe=z[1]^z[11]^z[21]^z[31]^z[41],Me=z[2]^z[12]^z[22]^z[32]^z[42],X=z[3]^z[13]^z[23]^z[33]^z[43],ee=z[4]^z[14]^z[24]^z[34]^z[44],ie=z[5]^z[15]^z[25]^z[35]^z[45],fe=z[6]^z[16]^z[26]^z[36]^z[46],Ce=z[7]^z[17]^z[27]^z[37]^z[47],we=z[8]^z[18]^z[28]^z[38]^z[48],Ne=z[9]^z[19]^z[29]^z[39]^z[49],Q=we^(Me<<1|X>>>31),ve=Ne^(X<<1|Me>>>31),z[0]^=Q,z[1]^=ve,z[10]^=Q,z[11]^=ve,z[20]^=Q,z[21]^=ve,z[30]^=Q,z[31]^=ve,z[40]^=Q,z[41]^=ve,Q=Re^(ee<<1|ie>>>31),ve=Oe^(ie<<1|ee>>>31),z[2]^=Q,z[3]^=ve,z[12]^=Q,z[13]^=ve,z[22]^=Q,z[23]^=ve,z[32]^=Q,z[33]^=ve,z[42]^=Q,z[43]^=ve,Q=Me^(fe<<1|Ce>>>31),ve=X^(Ce<<1|fe>>>31),z[4]^=Q,z[5]^=ve,z[14]^=Q,z[15]^=ve,z[24]^=Q,z[25]^=ve,z[34]^=Q,z[35]^=ve,z[44]^=Q,z[45]^=ve,Q=ee^(we<<1|Ne>>>31),ve=ie^(Ne<<1|we>>>31),z[6]^=Q,z[7]^=ve,z[16]^=Q,z[17]^=ve,z[26]^=Q,z[27]^=ve,z[36]^=Q,z[37]^=ve,z[46]^=Q,z[47]^=ve,Q=fe^(Re<<1|Oe>>>31),ve=Ce^(Oe<<1|Re>>>31),z[8]^=Q,z[9]^=ve,z[18]^=Q,z[19]^=ve,z[28]^=Q,z[29]^=ve,z[38]^=Q,z[39]^=ve,z[48]^=Q,z[49]^=ve,Ze=z[0],nt=z[1],Ln=z[11]<<4|z[10]>>>28,To=z[10]<<4|z[11]>>>28,xe=z[20]<<3|z[21]>>>29,je=z[21]<<3|z[20]>>>29,Vt=z[31]<<9|z[30]>>>23,Ut=z[30]<<9|z[31]>>>23,tn=z[40]<<18|z[41]>>>14,jt=z[41]<<18|z[40]>>>14,Ee=z[2]<<1|z[3]>>>31,Je=z[3]<<1|z[2]>>>31,ht=z[13]<<12|z[12]>>>20,se=z[12]<<12|z[13]>>>20,On=z[22]<<10|z[23]>>>22,Cn=z[23]<<10|z[22]>>>22,qe=z[33]<<13|z[32]>>>19,st=z[32]<<13|z[33]>>>19,xn=z[42]<<2|z[43]>>>30,li=z[43]<<2|z[42]>>>30,Ie=z[5]<<30|z[4]>>>2,it=z[4]<<30|z[5]>>>2,He=z[14]<<6|z[15]>>>26,gt=z[15]<<6|z[14]>>>26,q=z[25]<<11|z[24]>>>21,le=z[24]<<11|z[25]>>>21,ne=z[34]<<15|z[35]>>>17,he=z[35]<<15|z[34]>>>17,ce=z[45]<<29|z[44]>>>3,$e=z[44]<<29|z[45]>>>3,be=z[6]<<28|z[7]>>>4,Xe=z[7]<<28|z[6]>>>4,Pt=z[17]<<23|z[16]>>>9,ct=z[16]<<23|z[17]>>>9,Hn=z[26]<<25|z[27]>>>7,Ct=z[27]<<25|z[26]>>>7,ze=z[36]<<21|z[37]>>>11,Be=z[37]<<21|z[36]>>>11,ke=z[47]<<24|z[46]>>>8,_e=z[46]<<24|z[47]>>>8,no=z[8]<<27|z[9]>>>5,Qt=z[9]<<27|z[8]>>>5,tt=z[18]<<20|z[19]>>>12,ae=z[19]<<20|z[18]>>>12,ut=z[29]<<7|z[28]>>>25,qt=z[28]<<7|z[29]>>>25,sn=z[38]<<8|z[39]>>>24,Sn=z[39]<<8|z[38]>>>24,Ue=z[48]<<14|z[49]>>>18,mt=z[49]<<14|z[48]>>>18,z[0]=Ze^~ht&q,z[1]=nt^~se&le,z[10]=be^~tt&xe,z[11]=Xe^~ae&je,z[20]=Ee^~He&Hn,z[21]=Je^~gt&Ct,z[30]=no^~Ln&On,z[31]=Qt^~To&Cn,z[40]=Ie^~Pt&ut,z[41]=it^~ct&qt,z[2]=ht^~q&ze,z[3]=se^~le&Be,z[12]=tt^~xe&qe,z[13]=ae^~je&st,z[22]=He^~Hn&sn,z[23]=gt^~Ct&Sn,z[32]=Ln^~On&ne,z[33]=To^~Cn&he,z[42]=Pt^~ut&Vt,z[43]=ct^~qt&Ut,z[4]=q^~ze&Ue,z[5]=le^~Be&mt,z[14]=xe^~qe&ce,z[15]=je^~st&$e,z[24]=Hn^~sn&tn,z[25]=Ct^~Sn&jt,z[34]=On^~ne&ke,z[35]=Cn^~he&_e,z[44]=ut^~Vt&xn,z[45]=qt^~Ut&li,z[6]=ze^~Ue&Ze,z[7]=Be^~mt&nt,z[16]=qe^~ce&be,z[17]=st^~$e&Xe,z[26]=sn^~tn&Ee,z[27]=Sn^~jt&Je,z[36]=ne^~ke&no,z[37]=he^~_e&Qt,z[46]=Vt^~xn&Ie,z[47]=Ut^~li&it,z[8]=Ue^~Ze&ht,z[9]=mt^~nt&se,z[18]=ce^~be&tt,z[19]=$e^~Xe&ae,z[28]=tn^~Ee&He,z[29]=jt^~Je&gt,z[38]=ke^~no&Ln,z[39]=_e^~Qt&To,z[48]=xn^~Ie&Pt,z[49]=li^~it&ct,z[0]^=v[ge],z[1]^=v[ge+1]};if(a)n.exports=S;else for(D=0;D<I.length;++D)i[I[D]]=S[I[D]]})()})(WIe);const jIe=yR;function yi(n){return"0x"+jIe.keccak_256(Nt(n))}const qIe="rlp/5.7.0",Ql=new Se(qIe);function pV(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function mV(n,e,t){let r=0;for(let i=0;i<t;i++)r=r*256+n[e+i];return r}function ZX(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(s){r=r.concat(ZX(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=pV(r.length);return i.unshift(247+i.length),i.concat(r)}eL(n)||Ql.throwArgumentError("RLP object must be BytesLike","object",n);const e=Array.prototype.slice.call(Nt(n));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=pV(e.length);return t.unshift(183+t.length),t.concat(e)}function iE(n){return Mt(ZX(n))}function gV(n,e,t,r){const i=[];for(;t<e+1+r;){const s=JX(n,t);i.push(s.result),t+=s.consumed,t>e+1+r&&Ql.throwError("child data too short",Se.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function JX(n,e){if(n.length===0&&Ql.throwError("data too short",Se.errors.BUFFER_OVERRUN,{}),n[e]>=248){const t=n[e]-247;e+1+t>n.length&&Ql.throwError("data short segment too short",Se.errors.BUFFER_OVERRUN,{});const r=mV(n,e+1,t);return e+1+t+r>n.length&&Ql.throwError("data long segment too short",Se.errors.BUFFER_OVERRUN,{}),gV(n,e,e+1+t,t+r)}else if(n[e]>=192){const t=n[e]-192;return e+1+t>n.length&&Ql.throwError("data array too short",Se.errors.BUFFER_OVERRUN,{}),gV(n,e,e+1,t)}else if(n[e]>=184){const t=n[e]-183;e+1+t>n.length&&Ql.throwError("data array too short",Se.errors.BUFFER_OVERRUN,{});const r=mV(n,e+1,t);e+1+t+r>n.length&&Ql.throwError("data array too short",Se.errors.BUFFER_OVERRUN,{});const i=Mt(n.slice(e+1+t,e+1+t+r));return{consumed:1+t+r,result:i}}else if(n[e]>=128){const t=n[e]-128;e+1+t>n.length&&Ql.throwError("data too short",Se.errors.BUFFER_OVERRUN,{});const r=Mt(n.slice(e+1,e+1+t));return{consumed:1+t,result:r}}return{consumed:1,result:Mt(n[e])}}function rL(n){const e=Nt(n),t=JX(e,0);return t.consumed!==e.length&&Ql.throwArgumentError("invalid rlp data","data",n),t.result}const YIe="address/5.7.0",Rm=new Se(YIe);function vV(n){Rn(n,20)||Rm.throwArgumentError("invalid address","address",n),n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const r=Nt(yi(t));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const XIe=9007199254740991;function KIe(n){return Math.log10?Math.log10(n):Math.log(n)/Math.LN10}const iL={};for(let n=0;n<10;n++)iL[String(n)]=String(n);for(let n=0;n<26;n++)iL[String.fromCharCode(65+n)]=String(10+n);const yV=Math.floor(KIe(XIe));function ZIe(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>iL[r]).join("");for(;e.length>=yV;){let r=e.substring(0,yV);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function as(n){let e=null;if(typeof n!="string"&&Rm.throwArgumentError("invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/))n.substring(0,2)!=="0x"&&(n="0x"+n),e=vV(n),n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==n&&Rm.throwArgumentError("bad address checksum","address",n);else if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(n.substring(2,4)!==ZIe(n)&&Rm.throwArgumentError("bad icap checksum","address",n),e=IIe(n.substring(4));e.length<40;)e="0"+e;e=vV("0x"+e)}else Rm.throwArgumentError("invalid address","address",n);return e}function sL(n){let e=null;try{e=as(n.from)}catch{Rm.throwArgumentError("missing from address","transaction",n)}const t=D0(Nt(et.from(n.nonce).toHexString()));return as(ws(yi(iE([e,t])),12))}class JIe extends Fu{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=as(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}decode(e){return as(Er(e.readValue().toHexString(),20))}}class QIe extends Fu{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Pm=new Se(bx);function QX(n,e,t){let r=null;if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let l={};r=e.map(c=>{const d=c.localName;return d||Pm.throwError("cannot encode object for signature with missing names",Se.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:t}),l[d]&&Pm.throwError("cannot encode object for signature with duplicate names",Se.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:t}),l[d]=!0,t[d]})}else Pm.throwArgumentError("invalid tuple value","tuple",t);e.length!==r.length&&Pm.throwArgumentError("types/value length mismatch","tuple",t);let i=new vR(n.wordSize),s=new vR(n.wordSize),o=[];e.forEach((l,c)=>{let d=r[c];if(l.dynamic){let u=s.length;l.encode(s,d);let f=i.writeUpdatableValue();o.push(h=>{f(h+u)})}else l.encode(i,d)}),o.forEach(l=>{l(i.length)});let a=n.appendWriter(i);return a+=n.appendWriter(s),a}function eK(n,e){let t=[],r=n.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=n.readValue(),l=r.subReader(a.toNumber());try{o=s.decode(l)}catch(c){if(c.code===Se.errors.BUFFER_OVERRUN)throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(n)}catch(a){if(a.code===Se.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&t.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),t[a]!=null))return;const l=t[o];l instanceof Error?Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw l}}):t[a]=l});for(let s=0;s<t.length;s++){const o=t[s];o instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(t)}class eLe extends Fu{constructor(e,t,r){const i=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",i,r,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;r===-1&&(r=t.length,e.writeValue(t.length)),Pm.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<t.length;s++)i.push(this.coder);return QX(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&Pm.throwError("insufficient data length",Se.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let r=[];for(let i=0;i<t;i++)r.push(new QIe(this.coder));return e.coerce(this.name,eK(e,r))}}class tLe extends Fu{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class tK extends Fu{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Nt(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class nLe extends tK{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Mt(super.decode(e)))}}class rLe extends Fu{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let r=Nt(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,Mt(e.readBytes(this.size)))}}class iLe extends Fu{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const sLe="0x0000000000000000000000000000000000000000",oLe=et.from(-1),nK=et.from(0),aLe=et.from(1),lLe=et.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),cLe="0x0000000000000000000000000000000000000000000000000000000000000000";class uLe extends Fu{constructor(e,t,r){const i=(t?"int":"uint")+e*8;super(i,i,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=et.from(t),i=lLe.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(r.gt(s)||r.lt(s.add(aLe).mul(oLe)))&&this._throwError("value out-of-bounds",t)}else(r.lt(nK)||r.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(this.size*8).mask(this.size*8),this.signed&&(r=r.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const dLe="strings/5.7.0",rK=new Se(dLe);var k1;(function(n){n.current="",n.NFC="NFC",n.NFD="NFD",n.NFKC="NFKC",n.NFKD="NFKD"})(k1||(k1={}));var Go;(function(n){n.UNEXPECTED_CONTINUE="unexpected continuation byte",n.BAD_PREFIX="bad codepoint prefix",n.OVERRUN="string overrun",n.MISSING_CONTINUE="missing continuation byte",n.OUT_OF_RANGE="out of UTF-8 range",n.UTF16_SURROGATE="UTF-16 surrogate",n.OVERLONG="overlong representation"})(Go||(Go={}));function fLe(n,e,t,r,i){return rK.throwArgumentError(`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function iK(n,e,t,r,i){if(n===Go.BAD_PREFIX||n===Go.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)s++;return s}return n===Go.OVERRUN?t.length-e-1:0}function hLe(n,e,t,r,i){return n===Go.OVERLONG?(r.push(i),0):(r.push(65533),iK(n,e,t))}const pLe=Object.freeze({error:fLe,ignore:iK,replace:hLe});function sK(n,e){e==null&&(e=pLe.error),n=Nt(n);const t=[];let r=0;for(;r<n.length;){const i=n[r++];if(!(i>>7)){t.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?r+=e(Go.UNEXPECTED_CONTINUE,r-1,n,t):r+=e(Go.BAD_PREFIX,r-1,n,t);continue}if(r-1+s>=n.length){r+=e(Go.OVERRUN,r-1,n,t);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let c=n[r];if((c&192)!=128){r+=e(Go.MISSING_CONTINUE,r,n,t),a=null;break}a=a<<6|c&63,r++}if(a!==null){if(a>1114111){r+=e(Go.OUT_OF_RANGE,r-1-s,n,t,a);continue}if(a>=55296&&a<=57343){r+=e(Go.UTF16_SURROGATE,r-1-s,n,t,a);continue}if(a<=o){r+=e(Go.OVERLONG,r-1-s,n,t,a);continue}t.push(a)}}return t}function ea(n,e=k1.current){e!=k1.current&&(rK.checkNormalize(),n=n.normalize(e));let t=[];for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){r++;const s=n.charCodeAt(r);if(r>=n.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return Nt(t)}function mLe(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function wx(n,e){return mLe(sK(n,e))}function gLe(n,e=k1.current){return sK(ea(n,e))}class vLe extends tK{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,ea(t))}decode(e){return wx(super.decode(e))}}class Kb extends Fu{constructor(e,t){let r=!1;const i=[];e.forEach(o=>{o.dynamic&&(r=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,t,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const t=this.coders.reduce((r,i)=>{const s=i.localName;return s&&(r[s]||(r[s]=0),r[s]++),r},{});return this.coders.forEach((r,i)=>{let s=r.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,t){return QX(e,this.coders,t)}decode(e){return e.coerce(this.name,eK(e,this.coders))}}const Zb=new Se(bx),yLe=new RegExp(/^bytes([0-9]*)$/),xLe=new RegExp(/^(u?int)([0-9]*)$/);class _Le{constructor(e){Ye(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new JIe(e.name);case"bool":return new tLe(e.name);case"string":return new vLe(e.name);case"bytes":return new nLe(e.name);case"array":return new eLe(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Kb((e.components||[]).map(r=>this._getCoder(r)),e.name);case"":return new iLe(e.name)}let t=e.type.match(xLe);if(t){let r=parseInt(t[2]||"256");return(r===0||r>256||r%8!==0)&&Zb.throwArgumentError("invalid "+t[1]+" bit length","param",e),new uLe(r/8,t[1]==="int",e.name)}if(t=e.type.match(yLe),t){let r=parseInt(t[1]);return(r===0||r>32)&&Zb.throwArgumentError("invalid bytes length","param",e),new rLe(r,e.name)}return Zb.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new _2(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new vR(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(Ui.from(i)));return new Kb(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Zb.throwError("types/values length mismatch",Se.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map(o=>this._getCoder(Ui.from(o))),i=new Kb(r,"_"),s=this._getWriter();return i.encode(s,t),s.data}decode(e,t,r){const i=e.map(o=>this._getCoder(Ui.from(o)));return new Kb(i,"_").decode(this._getReader(Nt(t),r))}}const bLe=new _Le;function Im(n){return yi(ea(n))}const oK="hash/5.7.0";function aK(n){n=atob(n);const e=[];for(let t=0;t<n.length;t++)e.push(n.charCodeAt(t));return Nt(e)}function lK(n){n=Nt(n);let e="";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return btoa(e)}function cK(n,e){e==null&&(e=1);const t=[],r=t.forEach,i=function(s,o){r.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):t.push(a)})};return i(n,e),t}function wLe(n){const e={};for(let t=0;t<n.length;t++){const r=n[t];e[r[0]]=r[1]}return e}function SLe(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),i=1,s=[0,1];for(let E=1;E<r;E++)s.push(i+=t());let o=t(),a=e;e+=o;let l=0,c=0;function d(){return l==0&&(c=c<<8|n[e++],l=8),c>>--l&1}const u=31,f=Math.pow(2,u),h=f>>>1,g=h>>1,v=f-1;let x=0;for(let E=0;E<u;E++)x=x<<1|d();let y=[],_=0,b=f;for(;;){let E=Math.floor(((x-_+1)*i-1)/b),k=0,P=r;for(;P-k>1;){let U=k+P>>>1;E<s[U]?P=U:k=U}if(k==0)break;y.push(k);let C=_+Math.floor(b*s[k]/i),O=_+Math.floor(b*s[k+1]/i)-1;for(;!((C^O)&h);)x=x<<1&v|d(),C=C<<1&v,O=O<<1&v|1;for(;C&~O&g;)x=x&h|x<<1&v>>>1|d(),C=C<<1^h,O=(O^h)<<1|h|1;_=C,b=1+O-C}let A=r-4;return y.map(E=>{switch(E-A){case 3:return A+65792+(n[a++]<<16|n[a++]<<8|n[a++]);case 2:return A+256+(n[a++]<<8|n[a++]);case 1:return A+n[a++];default:return E-1}})}function ALe(n){let e=0;return()=>n[e++]}function ELe(n){return ALe(SLe(n))}function MLe(n){return n&1?~n>>1:n>>1}function CLe(n,e){let t=Array(n);for(let r=0;r<n;r++)t[r]=1+e();return t}function xV(n,e){let t=Array(n);for(let r=0,i=-1;r<n;r++)t[r]=i+=1+e();return t}function TLe(n,e){let t=Array(n);for(let r=0,i=0;r<n;r++)t[r]=i+=MLe(e());return t}function b2(n,e){let t=xV(n(),n),r=n(),i=xV(r,n),s=CLe(r,n);for(let o=0;o<r;o++)for(let a=0;a<s[o];a++)t.push(i[o]+a);return e?t.map(o=>e[o]):t}function kLe(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(PLe(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(ILe(t,n))}return wLe(cK(e))}function RLe(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(t)}return e}function uK(n,e,t){let r=Array(n).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)TLe(n,t).forEach((s,o)=>r[o].push(s));return r}function PLe(n,e){let t=1+e(),r=e(),i=RLe(e),s=uK(i.length,1+n,e);return cK(s.map((o,a)=>{const l=o[0],c=o.slice(1);return Array(i[a]).fill(void 0).map((d,u)=>{let f=u*r;return[l+u*t,c.map(h=>h+f)]})}))}function ILe(n,e){let t=1+e();return uK(t,1+n,e).map(i=>[i[0],i.slice(1)])}function LLe(n){let e=b2(n).sort((r,i)=>r-i);return t();function t(){let r=[];for(;;){let c=b2(n,e);if(c.length==0)break;r.push({set:new Set(c),node:t()})}r.sort((c,d)=>d.set.size-c.set.size);let i=n(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:r,valid:s,fe0f:o,save:a,check:l}}}function OLe(){return ELe(aK("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const sE=OLe(),NLe=new Set(b2(sE)),DLe=new Set(b2(sE)),BLe=kLe(sE),FLe=LLe(sE),_V=45,bV=95;function dK(n){return gLe(n)}function zLe(n){return n.filter(e=>e!=65039)}function fK(n){for(let e of n.split(".")){let t=dK(e);try{for(let r=t.lastIndexOf(bV)-1;r>=0;r--)if(t[r]!==bV)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(r=>r<128)&&t[2]===_V&&t[3]===_V)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return n}function VLe(n){return fK(ULe(n,zLe))}function ULe(n,e){let t=dK(n).reverse(),r=[];for(;t.length;){let i=GLe(t);if(i){r.push(...e(i));continue}let s=t.pop();if(NLe.has(s)){r.push(s);continue}if(DLe.has(s))continue;let o=BLe[s];if(o){r.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return fK(HLe(String.fromCodePoint(...r)))}function HLe(n){return n.normalize("NFC")}function GLe(n,e){var t;let r=FLe,i,s,o=[],a=n.length;for(e&&(e.length=0);a;){let l=n[--a];if(r=(t=r.branches.find(c=>c.set.has(l)))===null||t===void 0?void 0:t.node,!r)break;if(r.save)s=l;else if(r.check&&l===s)break;o.push(l),r.fe0f&&(o.push(65039),a>0&&n[a-1]==65039&&a--),r.valid&&(i=o.slice(),r.valid==2&&i.splice(1,1),e&&e.push(...n.slice(a).reverse()),n.length=a)}return i}const $Le=new Se(oK),hK=new Uint8Array(32);hK.fill(0);function wV(n){if(n.length===0)throw new Error("invalid ENS name; empty component");return n}function pK(n){const e=ea(VLe(n)),t=[];if(n.length===0)return t;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(wV(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return t.push(wV(e.slice(r))),t}function Yw(n){typeof n!="string"&&$Le.throwArgumentError("invalid ENS name; not a string","name",n);let e=hK;const t=pK(n);for(;t.length;)e=yi(Xs([e,yi(t.pop())]));return Mt(e)}function WLe(n){return Mt(Xs(pK(n).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const jLe=`Ethereum Signed Message:
`;function qLe(n){return typeof n=="string"&&(n=ea(n)),yi(Xs([ea(jLe),ea(String(n.length)),n]))}var YLe=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Pr=new Se(oK),mK=new Uint8Array(32);mK.fill(0);const XLe=et.from(-1),gK=et.from(0),vK=et.from(1),KLe=et.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ZLe(n){const e=Nt(n),t=e.length%32;return t?ho([e,mK.slice(t)]):Mt(e)}const JLe=Er(vK.toHexString(),32),QLe=Er(gK.toHexString(),32),SV={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},PT=["name","version","chainId","verifyingContract","salt"];function AV(n){return function(e){return typeof e!="string"&&Pr.throwArgumentError(`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const eOe={name:AV("name"),version:AV("version"),chainId:function(n){try{return et.from(n).toString()}catch{}return Pr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",n)},verifyingContract:function(n){try{return as(n).toLowerCase()}catch{}return Pr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){try{const e=Nt(n);if(e.length!==32)throw new Error("bad length");return Mt(e)}catch{}return Pr.throwArgumentError('invalid domain value "salt"',"domain.salt",n)}};function IT(n){{const e=n.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&Pr.throwArgumentError("invalid numeric width","type",n);const i=KLe.mask(t?r-1:r),s=t?i.add(vK).mul(XLe):gK;return function(o){const a=et.from(o);return(a.lt(s)||a.gt(i))&&Pr.throwArgumentError(`value out-of-bounds for ${n}`,"value",o),Er(a.toTwos(256).toHexString(),32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&Pr.throwArgumentError("invalid bytes width","type",n),function(r){return Nt(r).length!==t&&Pr.throwArgumentError(`invalid length for ${n}`,"value",r),ZLe(r)}}}switch(n){case"address":return function(e){return Er(as(e),32)};case"bool":return function(e){return e?JLe:QLe};case"bytes":return function(e){return yi(e)};case"string":return function(e){return Im(e)}}return null}function EV(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}class zo{constructor(e){Ye(this,"types",Object.freeze(Tu(e))),Ye(this,"_encoderCache",{}),Ye(this,"_types",{});const t={},r={},i={};Object.keys(e).forEach(a=>{t[a]={},r[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(c=>{l[c.name]&&Pr.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),l[c.name]=!0;const d=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];d===a&&Pr.throwArgumentError(`circular type reference to ${JSON.stringify(d)}`,"types",e),!IT(d)&&(r[d]||Pr.throwArgumentError(`unknown type ${JSON.stringify(d)}`,"types",e),r[d].push(a),t[a][d]=!0)})}const s=Object.keys(r).filter(a=>r[a].length===0);s.length===0?Pr.throwArgumentError("missing primary type","types",e):s.length>1&&Pr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Ye(this,"primaryType",s[0]);function o(a,l){l[a]&&Pr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(t[a]).forEach(c=>{r[c]&&(o(c,l),Object.keys(l).forEach(d=>{i[d][c]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=EV(a,e[a])+l.map(c=>EV(c,e[c])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=IT(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i),o=parseInt(t[3]);return a=>{o>=0&&a.length!==o&&Pr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(yi)),yi(ho(l))}}const r=this.types[e];if(r){const i=Im(this._types[e]);return s=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return this._types[l]?yi(c):c});return o.unshift(i),ho(o)}}return Pr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Pr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return yi(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(IT(e))return r(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&t.length!==a&&Pr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(l=>this._visit(o,l,r))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,t[a],r),o),{}):Pr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new zo(e)}static getPrimaryType(e){return zo.from(e).primaryType}static hashStruct(e,t,r){return zo.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const i=SV[r];i||Pr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((r,i)=>PT.indexOf(r.name)-PT.indexOf(i.name)),zo.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return ho(["0x1901",zo.hashDomain(e),zo.from(t).hash(r)])}static hash(e,t,r){return yi(zo.encode(e,t,r))}static resolveNames(e,t,r,i){return YLe(this,void 0,void 0,function*(){e=_i(e);const s={};e.verifyingContract&&!Rn(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=zo.from(t);o.visit(r,(a,l)=>(a==="address"&&!Rn(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}})}static getPayload(e,t,r){zo.hashDomain(e);const i={},s=[];PT.forEach(l=>{const c=e[l];c!=null&&(i[l]=eOe[l](c),s.push({name:l,type:SV[l]}))});const o=zo.from(t),a=_i(t);return a.EIP712Domain?Pr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return Mt(Nt(c));if(l.match(/^u?int/))return et.from(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Pr.throwArgumentError("invalid string","value",c),c}return Pr.throwArgumentError("unsupported type","type",l)})}}}const Rr=new Se(bx);class tOe extends _x{}class nOe extends _x{}class rOe extends _x{}class xR extends _x{static isIndexed(e){return!!(e&&e._isIndexed)}}const iOe={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function MV(n,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);return t.error=e,t}class CV{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,Ye(this,"fragments",t.map(r=>pu.from(r)).filter(r=>r!=null)),Ye(this,"_abiCoder",Yo(new.target,"getAbiCoder")()),Ye(this,"functions",{}),Ye(this,"errors",{}),Ye(this,"events",{}),Ye(this,"structs",{}),this.fragments.forEach(r=>{let i=null;switch(r.type){case"constructor":if(this.deploy){Rr.warn("duplicate definition - constructor");return}Ye(this,"deploy",r);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=r.format();if(i[s]){Rr.warn("duplicate definition - "+s);return}i[s]=r}),this.deploy||Ye(this,"deploy",oc.from({payable:!1,type:"constructor"})),Ye(this,"_isInterface",!0)}format(e){e||(e=Fn.full),e===Fn.sighash&&Rr.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(r=>r.format(e));return e===Fn.json?JSON.stringify(t.map(r=>JSON.parse(r))):t}static getAbiCoder(){return bLe}static getAddress(e){return as(e)}static getSighash(e){return ws(Im(e.format()),0,4)}static getEventTopic(e){return Im(e.format())}getFunction(e){if(Rn(e)){for(const r in this.functions)if(e===this.getSighash(r))return this.functions[r];Rr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===r);return i.length===0?Rr.throwArgumentError("no matching function","name",r):i.length>1&&Rr.throwArgumentError("multiple matching functions","name",r),this.functions[i[0]]}const t=this.functions[ac.fromString(e).format()];return t||Rr.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Rn(e)){const r=e.toLowerCase();for(const i in this.events)if(r===this.getEventTopic(i))return this.events[i];Rr.throwArgumentError("no matching event","topichash",r)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===r);return i.length===0?Rr.throwArgumentError("no matching event","name",r):i.length>1&&Rr.throwArgumentError("multiple matching events","name",r),this.events[i[0]]}const t=this.events[au.fromString(e).format()];return t||Rr.throwArgumentError("no matching event","signature",e),t}getError(e){if(Rn(e)){const r=Yo(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===r(s))return this.errors[i]}Rr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===r);return i.length===0?Rr.throwArgumentError("no matching error","name",r):i.length>1&&Rr.throwArgumentError("multiple matching errors","name",r),this.errors[i[0]]}const t=this.errors[ac.fromString(e).format()];return t||Rr.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return Yo(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Yo(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const r=Nt(t);return Mt(r.slice(0,4))!==this.getSighash(e)&&Rr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Mt(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),Mt(Xs([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const r=Nt(t);return Mt(r.slice(0,4))!==this.getSighash(e)&&Rr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Mt(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Mt(Xs([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let r=Nt(t),i=null,s="",o=null,a=null,l=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch{}break;case 4:{const c=Mt(r.slice(0,4)),d=iOe[c];if(d)o=this._abiCoder.decode(d.inputs,r.slice(4)),a=d.name,l=d.signature,d.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const u=this.getError(c);o=this._abiCoder.decode(u.inputs,r.slice(4)),a=u.name,l=u.format()}catch{}break}}return Rr.throwError("call revert exception"+s,Se.errors.CALL_EXCEPTION,{method:e.format(),data:Mt(t),errorArgs:o,errorName:a,errorSignature:l,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Mt(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&Rr.throwError("too many arguments for "+e.format(),Se.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Im(o):s.type==="bytes"?yi(Mt(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=et.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Er(Mt(o),32));for(t.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Rr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?Rr.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(l=>i(a,l))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const r=[],i=[],s=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Rr.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{const l=t[a];if(o.indexed)if(o.type==="string")r.push(Im(l));else if(o.type==="bytes")r.push(yi(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(this._abiCoder.encode([o.type],[l]))}else i.push(o),s.push(l)}),{data:this._abiCoder.encode(i,s),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"&&(e=this.getEvent(e)),r!=null&&!e.anonymous){let f=this.getEventTopic(e);(!Rn(r[0],32)||r[0].toLowerCase()!==f)&&Rr.throwError("fragment/topic mismatch",Se.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:f,value:r[0]}),r=r.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((f,h)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(i.push(Ui.fromObject({type:"bytes32",name:f.name})),o.push(!0)):(i.push(f),o.push(!1)):(s.push(f),o.push(!1))});let a=r!=null?this._abiCoder.decode(i,Xs(r)):null,l=this._abiCoder.decode(s,t,!0),c=[],d=0,u=0;e.inputs.forEach((f,h)=>{if(f.indexed)if(a==null)c[h]=new xR({_isIndexed:!0,hash:null});else if(o[h])c[h]=new xR({_isIndexed:!0,hash:a[u++]});else try{c[h]=a[u++]}catch(g){c[h]=g}else try{c[h]=l[d++]}catch(g){c[h]=g}if(f.name&&c[f.name]==null){const g=c[h];g instanceof Error?Object.defineProperty(c,f.name,{enumerable:!0,get:()=>{throw MV(`property ${JSON.stringify(f.name)}`,g)}}):c[f.name]=g}});for(let f=0;f<c.length;f++){const h=c[f];h instanceof Error&&Object.defineProperty(c,f,{enumerable:!0,get:()=>{throw MV(`index ${f}`,h)}})}return Object.freeze(c)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new nOe({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:et.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new tOe({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=Mt(e);let r=this.getError(t.substring(0,10).toLowerCase());return r?new rOe({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const sOe="abstract-provider/5.7.0";var oOe=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const aOe=new Se(sOe);class lOe extends _x{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class oE{constructor(){aOe.checkAbstract(new.target,oE),Ye(this,"_isProvider",!0)}getFeeData(){return oOe(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield hi({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let r=null,i=null,s=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,s=et.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const cOe="abstract-signer/5.7.0";var ll=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Aa=new Se(cOe),uOe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],dOe=[Se.errors.INSUFFICIENT_FUNDS,Se.errors.NONCE_EXPIRED,Se.errors.REPLACEMENT_UNDERPRICED];class ug{constructor(){Aa.checkAbstract(new.target,ug),Ye(this,"_isSigner",!0)}getBalance(e){return ll(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return ll(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return ll(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield hi(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return ll(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield hi(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return ll(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return ll(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return ll(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return ll(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return ll(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)uOe.indexOf(r)===-1&&Aa.throwArgumentError("invalid transaction key: "+r,"transaction",e);const t=_i(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&Aa.throwArgumentError("from address mismatch","transaction",e),r[0])),t}populateTransaction(e){return ll(this,void 0,void 0,function*(){const t=yield hi(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>ll(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Aa.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),t.to.catch(i=>{}));const r=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||r)?Aa.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&r&&Aa.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&Aa.throwError("network does not support EIP-1559",Se.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):Aa.throwError("failed to get consistent fee data",Se.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(dOe.indexOf(i.code)>=0)throw i;return Aa.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Se.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Aa.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield hi(t)})}_checkProvider(e){this.provider||Aa.throwError("missing provider",Se.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class oL extends ug{constructor(e,t){super(),Ye(this,"address",e),Ye(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Aa.throwError(e,Se.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new oL(this.address,e)}}var pl={},yn={},Sx=yK;function yK(n,e){if(!n)throw new Error(e||"Assertion failed")}yK.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var _R={},TV={get exports(){return _R},set exports(n){_R=n}};typeof Object.create=="function"?TV.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:TV.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var fOe=Sx,hOe=_R;yn.inherits=hOe;function pOe(n,e){return(n.charCodeAt(e)&64512)!==55296||e<0||e+1>=n.length?!1:(n.charCodeAt(e+1)&64512)===56320}function mOe(n,e){if(Array.isArray(n))return n.slice();if(!n)return[];var t=[];if(typeof n=="string")if(e){if(e==="hex")for(n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n),i=0;i<n.length;i+=2)t.push(parseInt(n[i]+n[i+1],16))}else for(var r=0,i=0;i<n.length;i++){var s=n.charCodeAt(i);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):pOe(n,i)?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}else for(i=0;i<n.length;i++)t[i]=n[i]|0;return t}yn.toArray=mOe;function gOe(n){for(var e="",t=0;t<n.length;t++)e+=_K(n[t].toString(16));return e}yn.toHex=gOe;function xK(n){var e=n>>>24|n>>>8&65280|n<<8&16711680|(n&255)<<24;return e>>>0}yn.htonl=xK;function vOe(n,e){for(var t="",r=0;r<n.length;r++){var i=n[r];e==="little"&&(i=xK(i)),t+=bK(i.toString(16))}return t}yn.toHex32=vOe;function _K(n){return n.length===1?"0"+n:n}yn.zero2=_K;function bK(n){return n.length===7?"0"+n:n.length===6?"00"+n:n.length===5?"000"+n:n.length===4?"0000"+n:n.length===3?"00000"+n:n.length===2?"000000"+n:n.length===1?"0000000"+n:n}yn.zero8=bK;function yOe(n,e,t,r){var i=t-e;fOe(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;r==="big"?l=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3]:l=n[a+3]<<24|n[a+2]<<16|n[a+1]<<8|n[a],s[o]=l>>>0}return s}yn.join32=yOe;function xOe(n,e){for(var t=new Array(n.length*4),r=0,i=0;r<n.length;r++,i+=4){var s=n[r];e==="big"?(t[i]=s>>>24,t[i+1]=s>>>16&255,t[i+2]=s>>>8&255,t[i+3]=s&255):(t[i+3]=s>>>24,t[i+2]=s>>>16&255,t[i+1]=s>>>8&255,t[i]=s&255)}return t}yn.split32=xOe;function _Oe(n,e){return n>>>e|n<<32-e}yn.rotr32=_Oe;function bOe(n,e){return n<<e|n>>>32-e}yn.rotl32=bOe;function wOe(n,e){return n+e>>>0}yn.sum32=wOe;function SOe(n,e,t){return n+e+t>>>0}yn.sum32_3=SOe;function AOe(n,e,t,r){return n+e+t+r>>>0}yn.sum32_4=AOe;function EOe(n,e,t,r,i){return n+e+t+r+i>>>0}yn.sum32_5=EOe;function MOe(n,e,t,r){var i=n[e],s=n[e+1],o=r+s>>>0,a=(o<r?1:0)+t+i;n[e]=a>>>0,n[e+1]=o}yn.sum64=MOe;function COe(n,e,t,r){var i=e+r>>>0,s=(i<e?1:0)+n+t;return s>>>0}yn.sum64_hi=COe;function TOe(n,e,t,r){var i=e+r;return i>>>0}yn.sum64_lo=TOe;function kOe(n,e,t,r,i,s,o,a){var l=0,c=e;c=c+r>>>0,l+=c<e?1:0,c=c+s>>>0,l+=c<s?1:0,c=c+a>>>0,l+=c<a?1:0;var d=n+t+i+o+l;return d>>>0}yn.sum64_4_hi=kOe;function ROe(n,e,t,r,i,s,o,a){var l=e+r+s+a;return l>>>0}yn.sum64_4_lo=ROe;function POe(n,e,t,r,i,s,o,a,l,c){var d=0,u=e;u=u+r>>>0,d+=u<e?1:0,u=u+s>>>0,d+=u<s?1:0,u=u+a>>>0,d+=u<a?1:0,u=u+c>>>0,d+=u<c?1:0;var f=n+t+i+o+l+d;return f>>>0}yn.sum64_5_hi=POe;function IOe(n,e,t,r,i,s,o,a,l,c){var d=e+r+s+a+c;return d>>>0}yn.sum64_5_lo=IOe;function LOe(n,e,t){var r=e<<32-t|n>>>t;return r>>>0}yn.rotr64_hi=LOe;function OOe(n,e,t){var r=n<<32-t|e>>>t;return r>>>0}yn.rotr64_lo=OOe;function NOe(n,e,t){return n>>>t}yn.shr64_hi=NOe;function DOe(n,e,t){var r=n<<32-t|e>>>t;return r>>>0}yn.shr64_lo=DOe;var dg={},kV=yn,BOe=Sx;function aE(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}dg.BlockHash=aE;aE.prototype.update=function(e,t){if(e=kV.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=kV.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};aE.prototype.digest=function(e){return this.update(this._pad()),BOe(this.pending===null),this._digest(e)};aE.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var fg={},Pc={},FOe=yn,bc=FOe.rotr32;function zOe(n,e,t,r){if(n===0)return wK(e,t,r);if(n===1||n===3)return AK(e,t,r);if(n===2)return SK(e,t,r)}Pc.ft_1=zOe;function wK(n,e,t){return n&e^~n&t}Pc.ch32=wK;function SK(n,e,t){return n&e^n&t^e&t}Pc.maj32=SK;function AK(n,e,t){return n^e^t}Pc.p32=AK;function VOe(n){return bc(n,2)^bc(n,13)^bc(n,22)}Pc.s0_256=VOe;function UOe(n){return bc(n,6)^bc(n,11)^bc(n,25)}Pc.s1_256=UOe;function HOe(n){return bc(n,7)^bc(n,18)^n>>>3}Pc.g0_256=HOe;function GOe(n){return bc(n,17)^bc(n,19)^n>>>10}Pc.g1_256=GOe;var B0=yn,$Oe=dg,WOe=Pc,LT=B0.rotl32,xv=B0.sum32,jOe=B0.sum32_5,qOe=WOe.ft_1,EK=$Oe.BlockHash,YOe=[1518500249,1859775393,2400959708,3395469782];function Cc(){if(!(this instanceof Cc))return new Cc;EK.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}B0.inherits(Cc,EK);var XOe=Cc;Cc.blockSize=512;Cc.outSize=160;Cc.hmacStrength=80;Cc.padLength=64;Cc.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=LT(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4];for(i=0;i<r.length;i++){var d=~~(i/20),u=jOe(LT(s,5),qOe(d,o,a,l),c,r[i],YOe[d]);c=l,l=a,a=LT(o,30),o=s,s=u}this.h[0]=xv(this.h[0],s),this.h[1]=xv(this.h[1],o),this.h[2]=xv(this.h[2],a),this.h[3]=xv(this.h[3],l),this.h[4]=xv(this.h[4],c)};Cc.prototype._digest=function(e){return e==="hex"?B0.toHex32(this.h,"big"):B0.split32(this.h,"big")};var F0=yn,KOe=dg,hg=Pc,ZOe=Sx,cl=F0.sum32,JOe=F0.sum32_4,QOe=F0.sum32_5,eNe=hg.ch32,tNe=hg.maj32,nNe=hg.s0_256,rNe=hg.s1_256,iNe=hg.g0_256,sNe=hg.g1_256,MK=KOe.BlockHash,oNe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tc(){if(!(this instanceof Tc))return new Tc;MK.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=oNe,this.W=new Array(64)}F0.inherits(Tc,MK);var CK=Tc;Tc.blockSize=512;Tc.outSize=256;Tc.hmacStrength=192;Tc.padLength=64;Tc.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=JOe(sNe(r[i-2]),r[i-7],iNe(r[i-15]),r[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4],d=this.h[5],u=this.h[6],f=this.h[7];for(ZOe(this.k.length===r.length),i=0;i<r.length;i++){var h=QOe(f,rNe(c),eNe(c,d,u),this.k[i],r[i]),g=cl(nNe(s),tNe(s,o,a));f=u,u=d,d=c,c=cl(l,h),l=a,a=o,o=s,s=cl(h,g)}this.h[0]=cl(this.h[0],s),this.h[1]=cl(this.h[1],o),this.h[2]=cl(this.h[2],a),this.h[3]=cl(this.h[3],l),this.h[4]=cl(this.h[4],c),this.h[5]=cl(this.h[5],d),this.h[6]=cl(this.h[6],u),this.h[7]=cl(this.h[7],f)};Tc.prototype._digest=function(e){return e==="hex"?F0.toHex32(this.h,"big"):F0.split32(this.h,"big")};var bR=yn,TK=CK;function ku(){if(!(this instanceof ku))return new ku;TK.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}bR.inherits(ku,TK);var aNe=ku;ku.blockSize=512;ku.outSize=224;ku.hmacStrength=192;ku.padLength=64;ku.prototype._digest=function(e){return e==="hex"?bR.toHex32(this.h.slice(0,7),"big"):bR.split32(this.h.slice(0,7),"big")};var Mo=yn,lNe=dg,cNe=Sx,wc=Mo.rotr64_hi,Sc=Mo.rotr64_lo,kK=Mo.shr64_hi,RK=Mo.shr64_lo,dd=Mo.sum64,OT=Mo.sum64_hi,NT=Mo.sum64_lo,uNe=Mo.sum64_4_hi,dNe=Mo.sum64_4_lo,fNe=Mo.sum64_5_hi,hNe=Mo.sum64_5_lo,PK=lNe.BlockHash,pNe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Nl(){if(!(this instanceof Nl))return new Nl;PK.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=pNe,this.W=new Array(160)}Mo.inherits(Nl,PK);var IK=Nl;Nl.blockSize=1024;Nl.outSize=512;Nl.hmacStrength=192;Nl.padLength=128;Nl.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var s=ENe(r[i-4],r[i-3]),o=MNe(r[i-4],r[i-3]),a=r[i-14],l=r[i-13],c=SNe(r[i-30],r[i-29]),d=ANe(r[i-30],r[i-29]),u=r[i-32],f=r[i-31];r[i]=uNe(s,o,a,l,c,d,u,f),r[i+1]=dNe(s,o,a,l,c,d,u,f)}};Nl.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],d=this.h[6],u=this.h[7],f=this.h[8],h=this.h[9],g=this.h[10],v=this.h[11],x=this.h[12],y=this.h[13],_=this.h[14],b=this.h[15];cNe(this.k.length===r.length);for(var A=0;A<r.length;A+=2){var E=_,k=b,P=bNe(f,h),C=wNe(f,h),O=mNe(f,h,g,v,x),U=gNe(f,h,g,v,x,y),K=this.k[A],J=this.k[A+1],F=r[A],S=r[A+1],I=fNe(E,k,P,C,O,U,K,J,F,S),D=hNe(E,k,P,C,O,U,K,J,F,S);E=xNe(i,s),k=_Ne(i,s),P=vNe(i,s,o,a,l),C=yNe(i,s,o,a,l,c);var $=OT(E,k,P,C),N=NT(E,k,P,C);_=x,b=y,x=g,y=v,g=f,v=h,f=OT(d,u,I,D),h=NT(u,u,I,D),d=l,u=c,l=o,c=a,o=i,a=s,i=OT(I,D,$,N),s=NT(I,D,$,N)}dd(this.h,0,i,s),dd(this.h,2,o,a),dd(this.h,4,l,c),dd(this.h,6,d,u),dd(this.h,8,f,h),dd(this.h,10,g,v),dd(this.h,12,x,y),dd(this.h,14,_,b)};Nl.prototype._digest=function(e){return e==="hex"?Mo.toHex32(this.h,"big"):Mo.split32(this.h,"big")};function mNe(n,e,t,r,i){var s=n&t^~n&i;return s<0&&(s+=4294967296),s}function gNe(n,e,t,r,i,s){var o=e&r^~e&s;return o<0&&(o+=4294967296),o}function vNe(n,e,t,r,i){var s=n&t^n&i^t&i;return s<0&&(s+=4294967296),s}function yNe(n,e,t,r,i,s){var o=e&r^e&s^r&s;return o<0&&(o+=4294967296),o}function xNe(n,e){var t=wc(n,e,28),r=wc(e,n,2),i=wc(e,n,7),s=t^r^i;return s<0&&(s+=4294967296),s}function _Ne(n,e){var t=Sc(n,e,28),r=Sc(e,n,2),i=Sc(e,n,7),s=t^r^i;return s<0&&(s+=4294967296),s}function bNe(n,e){var t=wc(n,e,14),r=wc(n,e,18),i=wc(e,n,9),s=t^r^i;return s<0&&(s+=4294967296),s}function wNe(n,e){var t=Sc(n,e,14),r=Sc(n,e,18),i=Sc(e,n,9),s=t^r^i;return s<0&&(s+=4294967296),s}function SNe(n,e){var t=wc(n,e,1),r=wc(n,e,8),i=kK(n,e,7),s=t^r^i;return s<0&&(s+=4294967296),s}function ANe(n,e){var t=Sc(n,e,1),r=Sc(n,e,8),i=RK(n,e,7),s=t^r^i;return s<0&&(s+=4294967296),s}function ENe(n,e){var t=wc(n,e,19),r=wc(e,n,29),i=kK(n,e,6),s=t^r^i;return s<0&&(s+=4294967296),s}function MNe(n,e){var t=Sc(n,e,19),r=Sc(e,n,29),i=RK(n,e,6),s=t^r^i;return s<0&&(s+=4294967296),s}var wR=yn,LK=IK;function Ru(){if(!(this instanceof Ru))return new Ru;LK.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}wR.inherits(Ru,LK);var CNe=Ru;Ru.blockSize=1024;Ru.outSize=384;Ru.hmacStrength=192;Ru.padLength=128;Ru.prototype._digest=function(e){return e==="hex"?wR.toHex32(this.h.slice(0,12),"big"):wR.split32(this.h.slice(0,12),"big")};fg.sha1=XOe;fg.sha224=aNe;fg.sha256=CK;fg.sha384=CNe;fg.sha512=IK;var OK={},Xh=yn,TNe=dg,Jb=Xh.rotl32,RV=Xh.sum32,_v=Xh.sum32_3,PV=Xh.sum32_4,NK=TNe.BlockHash;function kc(){if(!(this instanceof kc))return new kc;NK.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Xh.inherits(kc,NK);OK.ripemd160=kc;kc.blockSize=512;kc.outSize=160;kc.hmacStrength=192;kc.padLength=64;kc.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=r,c=i,d=s,u=o,f=a,h=0;h<80;h++){var g=RV(Jb(PV(r,IV(h,i,s,o),e[PNe[h]+t],kNe(h)),LNe[h]),a);r=a,a=o,o=Jb(s,10),s=i,i=g,g=RV(Jb(PV(l,IV(79-h,c,d,u),e[INe[h]+t],RNe(h)),ONe[h]),f),l=f,f=u,u=Jb(d,10),d=c,c=g}g=_v(this.h[1],s,u),this.h[1]=_v(this.h[2],o,f),this.h[2]=_v(this.h[3],a,l),this.h[3]=_v(this.h[4],r,c),this.h[4]=_v(this.h[0],i,d),this.h[0]=g};kc.prototype._digest=function(e){return e==="hex"?Xh.toHex32(this.h,"little"):Xh.split32(this.h,"little")};function IV(n,e,t,r){return n<=15?e^t^r:n<=31?e&t|~e&r:n<=47?(e|~t)^r:n<=63?e&r|t&~r:e^(t|~r)}function kNe(n){return n<=15?0:n<=31?1518500249:n<=47?1859775393:n<=63?2400959708:2840853838}function RNe(n){return n<=15?1352829926:n<=31?1548603684:n<=47?1836072691:n<=63?2053994217:0}var PNe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],INe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],LNe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ONe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],NNe=yn,DNe=Sx;function z0(n,e,t){if(!(this instanceof z0))return new z0(n,e,t);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(NNe.toArray(e,t))}var BNe=z0;z0.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),DNe(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};z0.prototype.update=function(e,t){return this.inner.update(e,t),this};z0.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(n){var e=n;e.utils=yn,e.common=dg,e.sha=fg,e.ripemd=OK,e.hmac=BNe,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(pl);function pg(n,e,t){return t={path:e,exports:{},require:function(r,i){return FNe(r,i??t.path)}},n(t,t.exports),t.exports}function FNe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var aL=DK;function DK(n,e){if(!n)throw new Error(e||"Assertion failed")}DK.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var wl=pg(function(n,e){var t=e;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)l[c]=o[c]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)l.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var d=o.charCodeAt(c),u=d>>8,f=d&255;u?l.push(u,f):l.push(f)}return l}t.toArray=r;function i(o){return o.length===1?"0"+o:o}t.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}t.toHex=s,t.encode=function(a,l){return l==="hex"?s(a):a}}),da=pg(function(n,e){var t=e;t.assert=aL,t.toArray=wl.toArray,t.zero2=wl.zero2,t.toHex=wl.toHex,t.encode=wl.encode;function r(l,c,d){var u=new Array(Math.max(l.bitLength(),d)+1);u.fill(0);for(var f=1<<c+1,h=l.clone(),g=0;g<u.length;g++){var v,x=h.andln(f-1);h.isOdd()?(x>(f>>1)-1?v=(f>>1)-x:v=x,h.isubn(v)):v=0,u[g]=v,h.iushrn(1)}return u}t.getNAF=r;function i(l,c){var d=[[],[]];l=l.clone(),c=c.clone();for(var u=0,f=0,h;l.cmpn(-u)>0||c.cmpn(-f)>0;){var g=l.andln(3)+u&3,v=c.andln(3)+f&3;g===3&&(g=-1),v===3&&(v=-1);var x;g&1?(h=l.andln(7)+u&7,(h===3||h===5)&&v===2?x=-g:x=g):x=0,d[0].push(x);var y;v&1?(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?y=-v:y=v):y=0,d[1].push(y),2*u===x+1&&(u=1-u),2*f===y+1&&(f=1-f),l.iushrn(1),c.iushrn(1)}return d}t.getJSF=i;function s(l,c,d){var u="_"+c;l.prototype[c]=function(){return this[u]!==void 0?this[u]:this[u]=d.call(this)}}t.cachedProperty=s;function o(l){return typeof l=="string"?t.toArray(l,"hex"):l}t.parseBytes=o;function a(l){return new Zt(l,"hex","le")}t.intFromLE=a}),w2=da.getNAF,zNe=da.getJSF,S2=da.assert;function bf(n,e){this.type=n,this.p=new Zt(e.p,16),this.red=e.prime?Zt.red(e.prime):Zt.mont(this.p),this.zero=new Zt(0).toRed(this.red),this.one=new Zt(1).toRed(this.red),this.two=new Zt(2).toRed(this.red),this.n=e.n&&new Zt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var lp=bf;bf.prototype.point=function(){throw new Error("Not implemented")};bf.prototype.validate=function(){throw new Error("Not implemented")};bf.prototype._fixedNafMul=function(e,t){S2(e.precomputed);var r=e._getDoubles(),i=w2(t,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=r.step){l=0;for(var c=a+r.step-1;c>=a;c--)l=(l<<1)+i[c];o.push(l)}for(var d=this.jpoint(null,null,null),u=this.jpoint(null,null,null),f=s;f>0;f--){for(a=0;a<o.length;a++)l=o[a],l===f?u=u.mixedAdd(r.points[a]):l===-f&&(u=u.mixedAdd(r.points[a].neg()));d=d.add(u)}return d.toP()};bf.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,o=w2(t,r,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,a=a.dblp(c),l<0)break;var d=o[l];S2(d!==0),e.type==="affine"?d>0?a=a.mixedAdd(s[d-1>>1]):a=a.mixedAdd(s[-d-1>>1].neg()):d>0?a=a.add(s[d-1>>1]):a=a.add(s[-d-1>>1].neg())}return e.type==="affine"?a.toP():a};bf.prototype._wnafMulAdd=function(e,t,r,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,d,u,f;for(d=0;d<i;d++){f=t[d];var h=f._getNAFPoints(e);o[d]=h.wnd,a[d]=h.points}for(d=i-1;d>=1;d-=2){var g=d-1,v=d;if(o[g]!==1||o[v]!==1){l[g]=w2(r[g],o[g],this._bitLength),l[v]=w2(r[v],o[v],this._bitLength),c=Math.max(l[g].length,c),c=Math.max(l[v].length,c);continue}var x=[t[g],null,null,t[v]];t[g].y.cmp(t[v].y)===0?(x[1]=t[g].add(t[v]),x[2]=t[g].toJ().mixedAdd(t[v].neg())):t[g].y.cmp(t[v].y.redNeg())===0?(x[1]=t[g].toJ().mixedAdd(t[v]),x[2]=t[g].add(t[v].neg())):(x[1]=t[g].toJ().mixedAdd(t[v]),x[2]=t[g].toJ().mixedAdd(t[v].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],_=zNe(r[g],r[v]);for(c=Math.max(_[0].length,c),l[g]=new Array(c),l[v]=new Array(c),u=0;u<c;u++){var b=_[0][u]|0,A=_[1][u]|0;l[g][u]=y[(b+1)*3+(A+1)],l[v][u]=0,a[g]=x}}var E=this.jpoint(null,null,null),k=this._wnafT4;for(d=c;d>=0;d--){for(var P=0;d>=0;){var C=!0;for(u=0;u<i;u++)k[u]=l[u][d]|0,k[u]!==0&&(C=!1);if(!C)break;P++,d--}if(d>=0&&P++,E=E.dblp(P),d<0)break;for(u=0;u<i;u++){var O=k[u];O!==0&&(O>0?f=a[u][O-1>>1]:O<0&&(f=a[u][-O-1>>1].neg()),f.type==="affine"?E=E.mixedAdd(f):E=E.add(f))}}for(d=0;d<i;d++)a[d]=null;return s?E:E.toP()};function qa(n,e){this.curve=n,this.type=e,this.precomputed=null}bf.BasePoint=qa;qa.prototype.eq=function(){throw new Error("Not implemented")};qa.prototype.validate=function(){return this.curve.validate(this)};bf.prototype.decodePoint=function(e,t){e=da.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?S2(e[e.length-1]%2===0):e[0]===7&&S2(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};qa.prototype.encodeCompressed=function(e){return this.encode(e,!0)};qa.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))};qa.prototype.encode=function(e,t){return da.encode(this._encode(t),e)};qa.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};qa.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};qa.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}};qa.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}};qa.prototype._getBeta=function(){return null};qa.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var lL=pg(function(n){typeof Object.create=="function"?n.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),VNe=da.assert;function Ya(n){lp.call(this,"short",n),this.a=new Zt(n.a,16).toRed(this.red),this.b=new Zt(n.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(n),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}lL(Ya,lp);var UNe=Ya;Ya.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Zt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new Zt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?r=s[0]:(r=s[1],VNe(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Zt(a.a,16),b:new Zt(a.b,16)}}):o=this._getEndoBasis(r),{beta:t,lambda:r,basis:o}}};Ya.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Zt.mont(e),r=new Zt(2).toRed(t).redInvm(),i=r.redNeg(),s=new Zt(3).toRed(t).redNeg().redSqrt().redMul(r),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Ya.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new Zt(1),o=new Zt(0),a=new Zt(0),l=new Zt(1),c,d,u,f,h,g,v,x=0,y,_;r.cmpn(0)!==0;){var b=i.div(r);y=i.sub(b.mul(r)),_=a.sub(b.mul(s));var A=l.sub(b.mul(o));if(!u&&y.cmp(t)<0)c=v.neg(),d=s,u=y.neg(),f=_;else if(u&&++x===2)break;v=y,i=r,r=y,a=s,s=_,l=o,o=A}h=y.neg(),g=_;var E=u.sqr().add(f.sqr()),k=h.sqr().add(g.sqr());return k.cmp(E)>=0&&(h=c,g=d),u.negative&&(u=u.neg(),f=f.neg()),h.negative&&(h=h.neg(),g=g.neg()),[{a:u,b:f},{a:h,b:g}]};Ya.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=s.mul(r.a),l=o.mul(i.a),c=s.mul(r.b),d=o.mul(i.b),u=e.sub(a).sub(l),f=c.add(d).neg();return{k1:u,k2:f}};Ya.prototype.pointFromX=function(e,t){e=new Zt(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)};Ya.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0};Ya.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),l=e[o],c=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=l,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var d=this._wnafMulAdd(1,i,s,o*2,r),u=0;u<o*2;u++)i[u]=null,s[u]=null;return d};function qi(n,e,t,r){lp.BasePoint.call(this,n,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Zt(e,16),this.y=new Zt(t,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}lL(qi,lp.BasePoint);Ya.prototype.point=function(e,t,r){return new qi(this,e,t,r)};Ya.prototype.pointFromJSON=function(e,t){return qi.fromJSON(this,e,t)};qi.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};qi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};qi.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function s(a){return e.point(a[0],a[1],r)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};qi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};qi.prototype.isInfinity=function(){return this.inf};qi.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};qi.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};qi.prototype.getX=function(){return this.x.fromRed()};qi.prototype.getY=function(){return this.y.fromRed()};qi.prototype.mul=function(e){return e=new Zt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};qi.prototype.mulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};qi.prototype.jmulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};qi.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};qi.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t};qi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function cs(n,e,t,r){lp.BasePoint.call(this,n,"jacobian"),e===null&&t===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Zt(0)):(this.x=new Zt(e,16),this.y=new Zt(t,16),this.z=new Zt(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}lL(cs,lp.BasePoint);Ya.prototype.jpoint=function(e,t,r){return new cs(this,e,t,r)};cs.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)};cs.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};cs.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),l=i.redSub(s),c=o.redSub(a);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=l.redSqr(),u=d.redMul(l),f=i.redMul(d),h=c.redSqr().redIAdd(u).redISub(f).redISub(f),g=c.redMul(f.redISub(h)).redISub(o.redMul(u)),v=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(h,g,v)};cs.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),d=c.redMul(a),u=r.redMul(c),f=l.redSqr().redIAdd(d).redISub(u).redISub(u),h=l.redMul(u.redISub(f)).redISub(s.redMul(d)),g=this.z.redMul(a);return this.curve.jpoint(f,h,g)};cs.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,c=l.redSqr().redSqr(),d=a.redAdd(a);for(t=0;t<e;t++){var u=o.redSqr(),f=d.redSqr(),h=f.redSqr(),g=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(c)),v=o.redMul(f),x=g.redSqr().redISub(v.redAdd(v)),y=v.redISub(x),_=g.redMul(y);_=_.redIAdd(_).redISub(h);var b=d.redMul(l);t+1<e&&(c=c.redMul(h)),o=x,l=b,d=_}return this.curve.jpoint(o,d.redMul(s),l)};cs.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};cs.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),c=l.redSqr().redISub(a).redISub(a),d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),e=c,t=l.redMul(a.redISub(c)).redISub(d),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),g=this.x.redAdd(f).redSqr().redISub(u).redISub(h);g=g.redIAdd(g);var v=u.redAdd(u).redIAdd(u),x=v.redSqr(),y=h.redIAdd(h);y=y.redIAdd(y),y=y.redIAdd(y),e=x.redISub(g).redISub(g),t=v.redMul(g.redISub(e)).redISub(y),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)};cs.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=l.redSqr().redISub(a).redISub(a);e=c;var d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),t=l.redMul(a.redISub(c)).redISub(d),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),g=this.x.redSub(u).redMul(this.x.redAdd(u));g=g.redAdd(g).redIAdd(g);var v=h.redIAdd(h);v=v.redIAdd(v);var x=v.redAdd(v);e=g.redSqr().redISub(x),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(u);var y=f.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y),t=g.redMul(v.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)};cs.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=t.redAdd(t);c=c.redIAdd(c);var d=c.redMul(a),u=l.redSqr().redISub(d.redAdd(d)),f=d.redISub(u),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var g=l.redMul(f).redISub(h),v=r.redAdd(r).redMul(i);return this.curve.jpoint(u,g,v)};cs.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var d=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(c),u=t.redMul(d);u=u.redIAdd(u),u=u.redIAdd(u);var f=this.x.redMul(l).redISub(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.y.redMul(d.redMul(c.redISub(d)).redISub(a.redMul(l)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var g=this.z.redAdd(a).redSqr().redISub(r).redISub(l);return this.curve.jpoint(f,h,g)};cs.prototype.mul=function(e,t){return e=new Zt(e,t),this.curve._wnafMul(this,e)};cs.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};cs.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};cs.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};cs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Xw=pg(function(n,e){var t=e;t.base=lp,t.short=UNe,t.mont=null,t.edwards=null}),Kw=pg(function(n,e){var t=e,r=da.assert;function i(a){a.type==="short"?this.curve=new Xw.short(a):a.type==="edwards"?this.curve=new Xw.edwards(a):this.curve=new Xw.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function s(a,l){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(l);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:pl.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:pl.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:pl.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:pl.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:pl.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:pl.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:pl.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:pl.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function af(n){if(!(this instanceof af))return new af(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=wl.toArray(n.entropy,n.entropyEnc||"hex"),t=wl.toArray(n.nonce,n.nonceEnc||"hex"),r=wl.toArray(n.pers,n.persEnc||"hex");aL(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,r)}var BK=af;af.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};af.prototype._hmac=function(){return new pl.hmac(this.hash,this.K)};af.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};af.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=wl.toArray(e,t),r=wl.toArray(r,i),aL(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};af.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=wl.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,wl.encode(o,t)};var SR=da.assert;function Rs(n,e){this.ec=n,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var cL=Rs;Rs.fromPublic=function(e,t,r){return t instanceof Rs?t:new Rs(e,{pub:t,pubEnc:r})};Rs.fromPrivate=function(e,t,r){return t instanceof Rs?t:new Rs(e,{priv:t,privEnc:r})};Rs.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Rs.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Rs.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Rs.prototype._importPrivate=function(e,t){this.priv=new Zt(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Rs.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?SR(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&SR(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Rs.prototype.derive=function(e){return e.validate()||SR(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Rs.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)};Rs.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Rs.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var HNe=da.assert;function lE(n,e){if(n instanceof lE)return n;this._importDER(n,e)||(HNe(n.r&&n.s,"Signature without r or s"),this.r=new Zt(n.r,16),this.s=new Zt(n.s,16),n.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=n.recoveryParam)}var cE=lE;function GNe(){this.place=0}function DT(n,e){var t=n[e.place++];if(!(t&128))return t;var r=t&15;if(r===0||r>4)return!1;for(var i=0,s=0,o=e.place;s<r;s++,o++)i<<=8,i|=n[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function LV(n){for(var e=0,t=n.length-1;!n[e]&&!(n[e+1]&128)&&e<t;)e++;return e===0?n:n.slice(e)}lE.prototype._importDER=function(e,t){e=da.toArray(e,t);var r=new GNe;if(e[r.place++]!==48)return!1;var i=DT(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=DT(e,r);if(s===!1)return!1;var o=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var a=DT(e,r);if(a===!1||e.length!==a+r.place)return!1;var l=e.slice(r.place,a+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Zt(o),this.s=new Zt(l),this.recoveryParam=null,!0};function BT(n,e){if(e<128){n.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(n.push(t|128);--t;)n.push(e>>>(t<<3)&255);n.push(e)}lE.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=LV(t),r=LV(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];BT(i,t.length),i=i.concat(t),i.push(2),BT(i,r.length);var s=i.concat(r),o=[48];return BT(o,s.length),o=o.concat(s),da.encode(o,e)};var $Ne=function(){throw new Error("unsupported")},FK=da.assert;function Wa(n){if(!(this instanceof Wa))return new Wa(n);typeof n=="string"&&(FK(Object.prototype.hasOwnProperty.call(Kw,n),"Unknown curve "+n),n=Kw[n]),n instanceof Kw.PresetCurve&&(n={curve:n}),this.curve=n.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=n.curve.g,this.g.precompute(n.curve.n.bitLength()+1),this.hash=n.hash||n.curve.hash}var WNe=Wa;Wa.prototype.keyPair=function(e){return new cL(this,e)};Wa.prototype.keyFromPrivate=function(e,t){return cL.fromPrivate(this,e,t)};Wa.prototype.keyFromPublic=function(e,t){return cL.fromPublic(this,e,t)};Wa.prototype.genKeyPair=function(e){e||(e={});for(var t=new BK({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||$Ne(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Zt(2));;){var s=new Zt(t.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Wa.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Wa.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Zt(e,16));for(var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),a=e.toArray("be",s),l=new BK({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new Zt(1)),d=0;;d++){var u=i.k?i.k(d):new Zt(l.generate(this.n.byteLength()));if(u=this._truncateToN(u,!0),!(u.cmpn(1)<=0||u.cmp(c)>=0)){var f=this.g.mul(u);if(!f.isInfinity()){var h=f.getX(),g=h.umod(this.n);if(g.cmpn(0)!==0){var v=u.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(v=v.umod(this.n),v.cmpn(0)!==0){var x=(f.getY().isOdd()?1:0)|(h.cmp(g)!==0?2:0);return i.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),x^=1),new cE({r:g,s:v,recoveryParam:x})}}}}}};Wa.prototype.verify=function(e,t,r,i){e=this._truncateToN(new Zt(e,16)),r=this.keyFromPublic(r,i),t=new cE(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),l=a.mul(e).umod(this.n),c=a.mul(s).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(l,r.getPublic(),c),d.isInfinity()?!1:d.eqXToP(s)):(d=this.g.mulAdd(l,r.getPublic(),c),d.isInfinity()?!1:d.getX().umod(this.n).cmp(s)===0)};Wa.prototype.recoverPubKey=function(n,e,t,r){FK((3&t)===t,"The recovery param is more than two bits"),e=new cE(e,r);var i=this.n,s=new Zt(n),o=e.r,a=e.s,l=t&1,c=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var d=e.r.invm(i),u=i.sub(s).mul(d).umod(i),f=a.mul(d).umod(i);return this.g.mulAdd(u,o,f)};Wa.prototype.getKeyRecoveryParam=function(n,e,t,r){if(e=new cE(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(n,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var jNe=pg(function(n,e){var t=e;t.version="6.5.4",t.utils=da,t.rand=function(){throw new Error("unsupported")},t.curve=Xw,t.curves=Kw,t.ec=WNe,t.eddsa=null}),qNe=jNe.ec;const YNe="signing-key/5.7.0",AR=new Se(YNe);let FT=null;function nc(){return FT||(FT=new qNe("secp256k1")),FT}class XNe{constructor(e){Ye(this,"curve","secp256k1"),Ye(this,"privateKey",Mt(e)),qh(this.privateKey)!==32&&AR.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=nc().keyFromPrivate(Nt(this.privateKey));Ye(this,"publicKey","0x"+t.getPublic(!1,"hex")),Ye(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Ye(this,"_isSigningKey",!0)}_addPoint(e){const t=nc().keyFromPublic(Nt(this.publicKey)),r=nc().keyFromPublic(Nt(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=nc().keyFromPrivate(Nt(this.privateKey)),r=Nt(e);r.length!==32&&AR.throwArgumentError("bad digest length","digest",e);const i=t.sign(r,{canonical:!0});return rE({recoveryParam:i.recoveryParam,r:Er("0x"+i.r.toString(16),32),s:Er("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=nc().keyFromPrivate(Nt(this.privateKey)),r=nc().keyFromPublic(Nt(zK(e)));return Er("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function KNe(n,e){const t=rE(e),r={r:Nt(t.r),s:Nt(t.s)};return"0x"+nc().recoverPubKey(Nt(n),r,t.recoveryParam).encode("hex",!1)}function zK(n,e){const t=Nt(n);if(t.length===32){const r=new XNe(t);return e?"0x"+nc().keyFromPrivate(t).getPublic(!0,"hex"):r.publicKey}else{if(t.length===33)return e?Mt(t):"0x"+nc().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+nc().keyFromPublic(t).getPublic(!0,"hex"):Mt(t)}return AR.throwArgumentError("invalid public or private key","key","[REDACTED]")}const ZNe="transactions/5.7.0",zu=new Se(ZNe);var OV;(function(n){n[n.legacy=0]="legacy",n[n.eip2930=1]="eip2930",n[n.eip1559=2]="eip1559"})(OV||(OV={}));function uL(n){return n==="0x"?null:as(n)}function Es(n){return n==="0x"?nK:et.from(n)}function JNe(n){const e=zK(n);return as(ws(yi(ws(e,1)),12))}function VK(n,e){return JNe(KNe(Nt(n),e))}function $o(n,e){const t=D0(et.from(n).toHexString());return t.length>32&&zu.throwArgumentError("invalid length for "+e,"transaction:"+e,n),t}function zT(n,e){return{address:as(n),storageKeys:(e||[]).map((t,r)=>(qh(t)!==32&&zu.throwArgumentError("invalid access list storageKey",`accessList[${n}:${r}]`,t),t.toLowerCase()))}}function mg(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(t.length>2&&zu.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,t),zT(t[0],t[1])):zT(t.address,t.storageKeys));const e=Object.keys(n).map(t=>{const r=n[t].reduce((i,s)=>(i[s]=!0,i),{});return zT(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function UK(n){return mg(n).map(e=>[e.address,e.storageKeys])}function QNe(n,e){if(n.gasPrice!=null){const r=et.from(n.gasPrice),i=et.from(n.maxFeePerGas||0);r.eq(i)||zu.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}const t=[$o(n.chainId||0,"chainId"),$o(n.nonce||0,"nonce"),$o(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),$o(n.maxFeePerGas||0,"maxFeePerGas"),$o(n.gasLimit||0,"gasLimit"),n.to!=null?as(n.to):"0x",$o(n.value||0,"value"),n.data||"0x",UK(n.accessList||[])];if(e){const r=rE(e);t.push($o(r.recoveryParam,"recoveryParam")),t.push(D0(r.r)),t.push(D0(r.s))}return ho(["0x02",iE(t)])}function eDe(n,e){const t=[$o(n.chainId||0,"chainId"),$o(n.nonce||0,"nonce"),$o(n.gasPrice||0,"gasPrice"),$o(n.gasLimit||0,"gasLimit"),n.to!=null?as(n.to):"0x",$o(n.value||0,"value"),n.data||"0x",UK(n.accessList||[])];if(e){const r=rE(e);t.push($o(r.recoveryParam,"recoveryParam")),t.push(D0(r.r)),t.push(D0(r.s))}return ho(["0x01",iE(t)])}function HK(n,e,t){try{const r=Es(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");n.v=r}catch{zu.throwArgumentError("invalid v for transaction type: 1","v",e[0])}n.r=Er(e[1],32),n.s=Er(e[2],32);try{const r=yi(t(n));n.from=VK(r,{r:n.r,s:n.s,recoveryParam:n.v})}catch{}}function tDe(n){const e=rL(n.slice(1));e.length!==9&&e.length!==12&&zu.throwArgumentError("invalid component count for transaction type: 2","payload",Mt(n));const t=Es(e[2]),r=Es(e[3]),i={type:2,chainId:Es(e[0]).toNumber(),nonce:Es(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:r,gasPrice:null,gasLimit:Es(e[4]),to:uL(e[5]),value:Es(e[6]),data:e[7],accessList:mg(e[8])};return e.length===9||(i.hash=yi(n),HK(i,e.slice(9),QNe)),i}function nDe(n){const e=rL(n.slice(1));e.length!==8&&e.length!==11&&zu.throwArgumentError("invalid component count for transaction type: 1","payload",Mt(n));const t={type:1,chainId:Es(e[0]).toNumber(),nonce:Es(e[1]).toNumber(),gasPrice:Es(e[2]),gasLimit:Es(e[3]),to:uL(e[4]),value:Es(e[5]),data:e[6],accessList:mg(e[7])};return e.length===8||(t.hash=yi(n),HK(t,e.slice(8),eDe)),t}function rDe(n){const e=rL(n);e.length!==9&&e.length!==6&&zu.throwArgumentError("invalid raw transaction","rawTransaction",n);const t={nonce:Es(e[0]).toNumber(),gasPrice:Es(e[1]),gasLimit:Es(e[2]),to:uL(e[3]),value:Es(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=et.from(e[6]).toNumber()}catch{return t}if(t.r=Er(e[7],32),t.s=Er(e[8],32),et.from(t.r).isZero()&&et.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let r=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(Mt(t.chainId)),i.push("0x"),i.push("0x"),r-=t.chainId*2+8);const s=yi(iE(i));try{t.from=VK(s,{r:Mt(t.r),s:Mt(t.s),recoveryParam:r})}catch{}t.hash=yi(n)}return t.type=null,t}function iDe(n){const e=Nt(n);if(e[0]>127)return rDe(e);switch(e[0]){case 1:return nDe(e);case 2:return tDe(e)}return zu.throwError(`unsupported transaction type: ${e[0]}`,Se.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const sDe="contracts/5.7.0";var lf=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const er=new Se(sDe),oDe={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function A2(n,e){return lf(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&er.throwArgumentError("invalid address or ENS name","name",t);try{return as(t)}catch{}n||er.throwError("a provider or signer is needed to resolve ENS names",Se.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield n.resolveName(t);return r==null&&er.throwArgumentError("resolver or addr is not configured for ENS name","name",t),r})}function my(n,e,t){return lf(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((r,i)=>my(n,Array.isArray(e)?e[i]:e[r.name],r))):t.type==="address"?yield A2(n,e):t.type==="tuple"?yield my(n,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(r=>my(n,r,t.arrayChildren))):Promise.reject(er.makeError("invalid value for array",Se.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function uE(n,e,t){return lf(this,void 0,void 0,function*(){let r={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(r=_i(t.pop())),er.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),n.signer?r.from?r.from=hi({override:A2(n.signer,r.from),signer:n.signer.getAddress()}).then(c=>lf(this,void 0,void 0,function*(){return as(c.signer)!==c.override&&er.throwError("Contract with a Signer cannot override from",Se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),c.override})):r.from=n.signer.getAddress():r.from&&(r.from=A2(n.provider,r.from));const i=yield hi({args:my(n.signer||n.provider,t,e.inputs),address:n.resolvedAddress,overrides:hi(r)||{}}),s=n.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=et.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=et.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=et.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=et.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=et.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=mg(a.accessList)),o.gasLimit==null&&e.gas!=null){let c=21e3;const d=Nt(s);for(let u=0;u<d.length;u++)c+=4,d[u]&&(c+=64);o.gasLimit=et.from(e.gas).add(c)}if(a.value){const c=et.from(a.value);!c.isZero()&&!e.payable&&er.throwError("non-payable method cannot override value",Se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),o.value=c}a.customData&&(o.customData=_i(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const l=Object.keys(r).filter(c=>r[c]!=null);return l.length&&er.throwError(`cannot override ${l.map(c=>JSON.stringify(c)).join(",")}`,Se.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),o})}function aDe(n,e){return function(...t){return uE(n,e,t)}}function lDe(n,e){const t=n.signer||n.provider;return function(...r){return lf(this,void 0,void 0,function*(){t||er.throwError("estimate require a provider or signer",Se.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield uE(n,e,r);return yield t.estimateGas(i)})}}function GK(n,e){const t=e.wait.bind(e);e.wait=r=>t(r).then(i=>(i.events=i.logs.map(s=>{let o=Tu(s),a=null;try{a=n.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(l,c)=>n.interface.decodeEventLog(a.eventFragment,l,c),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>n.provider,o.getBlock=()=>n.provider.getBlock(i.blockHash),o.getTransaction=()=>n.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function $K(n,e,t){const r=n.signer||n.provider;return function(...i){return lf(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const l=_i(i.pop());l.blockTag!=null&&(s=yield l.blockTag),delete l.blockTag,i.push(l)}n.deployTransaction!=null&&(yield n._deployed(s));const o=yield uE(n,e,i),a=yield r.call(o,s);try{let l=n.interface.decodeFunctionResult(e,a);return t&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===Se.errors.CALL_EXCEPTION&&(l.address=n.address,l.args=i,l.transaction=o),l}})}}function cDe(n,e){return function(...t){return lf(this,void 0,void 0,function*(){n.signer||er.throwError("sending a transaction requires a signer",Se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),n.deployTransaction!=null&&(yield n._deployed());const r=yield uE(n,e,t),i=yield n.signer.sendTransaction(r);return GK(n,i),i})}}function NV(n,e,t){return e.constant?$K(n,e,t):cDe(n,e)}function WK(n){return n.address&&(n.topics==null||n.topics.length===0)?"*":(n.address||"*")+"@"+(n.topics?n.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class R1{constructor(e,t){Ye(this,"tag",e),Ye(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>t||r.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(r=>{const i=e.slice();return setTimeout(()=>{r.listener.apply(this,i)},0),!r.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class uDe extends R1{constructor(){super("error",null)}}class DV extends R1{constructor(e,t,r,i){const s={address:e};let o=t.getEventTopic(r);i?(o!==i[0]&&er.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(WK(s),s),Ye(this,"address",e),Ye(this,"interface",t),Ye(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,r)=>this.interface.decodeEventLog(this.fragment,t,r);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=$Ie(e.args);if(t.length)throw t[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class BV extends R1{constructor(e,t){super("*",{address:e}),Ye(this,"address",e),Ye(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(r,i)=>this.interface.decodeEventLog(t.eventFragment,r,i),e.args=t.args}catch{}}}class dDe{constructor(e,t,r){Ye(this,"interface",Yo(new.target,"getInterface")(t)),r==null?(Ye(this,"provider",null),Ye(this,"signer",null)):ug.isSigner(r)?(Ye(this,"provider",r.provider||null),Ye(this,"signer",r)):oE.isProvider(r)?(Ye(this,"provider",r),Ye(this,"signer",null)):er.throwArgumentError("invalid signer or provider","signerOrProvider",r),Ye(this,"callStatic",{}),Ye(this,"estimateGas",{}),Ye(this,"functions",{}),Ye(this,"populateTransaction",{}),Ye(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const l=this.interface.events[a];Ye(this.filters,a,(...c)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,c)})),o[l.name]||(o[l.name]=[]),o[l.name].push(a)}),Object.keys(o).forEach(a=>{const l=o[a];l.length===1?Ye(this.filters,a,this.filters[l[0]]):er.warn(`Duplicate definition of ${a} (${l.join(", ")})`)})}if(Ye(this,"_runningEvents",{}),Ye(this,"_wrappedEmits",{}),e==null&&er.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Ye(this,"address",e),this.provider)Ye(this,"resolvedAddress",A2(this.provider,e));else try{Ye(this,"resolvedAddress",Promise.resolve(as(e)))}catch{er.throwError("provider is required to use ENS name as contract address",Se.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){er.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const l=a.name;i[`%${l}`]||(i[`%${l}`]=[]),i[`%${l}`].push(o)}this[o]==null&&Ye(this,o,NV(this,a,!0)),this.functions[o]==null&&Ye(this.functions,o,NV(this,a,!1)),this.callStatic[o]==null&&Ye(this.callStatic,o,$K(this,a,!0)),this.populateTransaction[o]==null&&Ye(this.populateTransaction,o,aDe(this,a)),this.estimateGas[o]==null&&Ye(this.estimateGas,o,lDe(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const l=a[0];try{this[o]==null&&Ye(this,o,this[l])}catch{}this.functions[o]==null&&Ye(this.functions,o,this.functions[l]),this.callStatic[o]==null&&Ye(this.callStatic,o,this.callStatic[l]),this.populateTransaction[o]==null&&Ye(this.populateTransaction,o,this.populateTransaction[l]),this.estimateGas[o]==null&&Ye(this.estimateGas,o,this.estimateGas[l])})}static getContractAddress(e){return sL(e)}static getInterface(e){return CV.isInterface(e)?e:new CV(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&er.throwError("contract not deployed",Se.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||er.throwError("sending a transactions require a signer",Se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=_i(e||{});return["from","to"].forEach(function(r){t[r]!=null&&er.throwError("cannot override "+r,Se.errors.UNSUPPORTED_OPERATION,{operation:r})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new oL(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Ye(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return xR.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new uDe);if(e==="event")return this._normalizeRunningEvent(new R1("event",null));if(e==="*")return this._normalizeRunningEvent(new BV(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new DV(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const r=e.topics[0];if(typeof r!="string")throw new Error("invalid topic");const i=this.interface.getEvent(r);return this._normalizeRunningEvent(new DV(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new R1(WK(t),t))}return this._normalizeRunningEvent(new BV(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){const i=Tu(t);return i.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,r){if(this.provider||er.throwError("events require a provider or a signer with a provider",Se.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,t);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,r){const i=this._getRunningEvent(e),s=_i(i.filter);return typeof t=="string"&&Rn(t,32)?(r!=null&&er.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=r??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const r=this._getRunningEvent(e),i=r.run(t)>0;return this._checkRunningEvents(r),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,r)=>t+this._runningEvents[r].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let r in this._runningEvents)this._runningEvents[r].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const r in this._runningEvents){const i=this._runningEvents[r];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}let cf=class extends dDe{};class fDe{constructor(e,t,r){let i=null;typeof t=="string"?i=t:ap(t)?i=Mt(t):t&&typeof t.object=="string"?i=t.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!Rn(i)||i.length%2)&&er.throwArgumentError("invalid bytecode","bytecode",t),r&&!ug.isSigner(r)&&er.throwArgumentError("invalid signer","signer",r),Ye(this,"bytecode",i),Ye(this,"interface",Yo(new.target,"getInterface")(e)),Ye(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=_i(e.pop());for(const r in t)if(!oDe[r])throw new Error("unknown transaction override "+r)}return["data","from","to"].forEach(r=>{t[r]!=null&&er.throwError("cannot override "+r,Se.errors.UNSUPPORTED_OPERATION,{operation:r})}),t.value&&!et.from(t.value).isZero()&&!this.interface.deploy.payable&&er.throwError("non-payable constructor cannot override value",Se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),er.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=Mt(Xs([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return lf(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),er.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield my(this.signer,e,this.interface.deploy.inputs);r.push(t);const i=this.getDeployTransaction(...r),s=yield this.signer.sendTransaction(i),o=Yo(this.constructor,"getContractAddress")(s),a=Yo(this.constructor,"getContract")(o,this.interface,this.signer);return GK(a,s),Ye(a,"deployTransaction",s),a})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&er.throwError("missing compiler output",Se.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const r=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(r,i,t)}static getInterface(e){return cf.getInterface(e)}static getContractAddress(e){return sL(e)}static getContract(e,t,r){return new cf(e,t,r)}}class jK{constructor(e){Ye(this,"alphabet",e),Ye(this,"base",e.length),Ye(this,"_alphabetMap",{}),Ye(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=Nt(e);if(t.length===0)return"";let r=[0];for(let s=0;s<t.length;++s){let o=t[s];for(let a=0;a<r.length;++a)o+=r[a]<<8,r[a]=o%this.base,o=o/this.base|0;for(;o>0;)r.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;t[s]===0&&s<t.length-1;++s)i+=this._leader;for(let s=r.length-1;s>=0;--s)i+=this.alphabet[r[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<t.length;++o)s+=t[o]*this.base,t[o]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return Nt(new Uint8Array(t.reverse()))}}new jK("abcdefghijklmnopqrstuvwxyz234567");const ER=new jK("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function FV(n){return"0x"+pl.sha256().update(Nt(n)).digest("hex")}const hDe="networks/5.7.1",zV=new Se(hDe);function pDe(n){return n&&typeof n.renetwork=="function"}function ru(n){const e=function(t,r){r==null&&(r={});const i=[];if(t.InfuraProvider&&r.infura!=="-")try{i.push(new t.InfuraProvider(n,r.infura))}catch{}if(t.EtherscanProvider&&r.etherscan!=="-")try{i.push(new t.EtherscanProvider(n,r.etherscan))}catch{}if(t.AlchemyProvider&&r.alchemy!=="-")try{i.push(new t.AlchemyProvider(n,r.alchemy))}catch{}if(t.PocketProvider&&r.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new t.PocketProvider(n,r.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(t.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new t.CloudflareProvider(n))}catch{}if(t.AnkrProvider&&r.ankr!=="-")try{const s=["ropsten"],o=new t.AnkrProvider(n,r.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(i.length===0)return null;if(t.FallbackProvider){let s=1;return r.quorum!=null?s=r.quorum:n==="homestead"&&(s=2),new t.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(t){return ru(t)},e}function E2(n,e){const t=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(n,e):null};return t.renetwork=function(r){return E2(n,r)},t}const VV={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ru("homestead")},UV={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ru("ropsten")},HV={chainId:63,name:"classicMordor",_defaultProvider:E2("https://www.ethercluster.com/mordor","classicMordor")},Qb={unspecified:{chainId:0,name:"unspecified"},homestead:VV,mainnet:VV,morden:{chainId:2,name:"morden"},ropsten:UV,testnet:UV,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ru("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ru("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ru("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ru("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:E2("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:HV,classicTestnet:HV,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:E2("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ru("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ru("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function mDe(n){if(n==null)return null;if(typeof n=="number"){for(const r in Qb){const i=Qb[r];if(i.chainId===n)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:n,name:"unknown"}}if(typeof n=="string"){const r=Qb[n];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=Qb[n.name];if(!e)return typeof n.chainId!="number"&&zV.throwArgumentError("invalid network chainId","network",n),n;n.chainId!==0&&n.chainId!==e.chainId&&zV.throwArgumentError("network chainId mismatch","network",n);let t=n._defaultProvider||null;return t==null&&e._defaultProvider&&(pDe(e._defaultProvider)?t=e._defaultProvider.renetwork(n):t=e._defaultProvider),{name:n.name,chainId:e.chainId,ensAddress:n.ensAddress||e.ensAddress||null,_defaultProvider:t}}const gDe="web/5.7.1";var vDe=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};function yDe(n,e){return vDe(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(t.mode=o.mode),o.cache&&(t.cache=o.cache),o.credentials&&(t.credentials=o.credentials),o.redirect&&(t.redirect=o.redirect),o.referrer&&(t.referrer=o.referrer)}const r=yield fetch(n,t),i=yield r.arrayBuffer(),s={};return r.headers.forEach?r.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):r.headers.keys().forEach(o=>{s[o.toLowerCase()]=r.headers.get(o)}),{headers:s,statusCode:r.status,statusMessage:r.statusText,body:Nt(new Uint8Array(i))}})}var xDe=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const dl=new Se(gDe);function GV(n){return new Promise(e=>{setTimeout(e,n)})}function fd(n,e){if(n==null)return null;if(typeof n=="string")return n;if(eL(n)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return wx(n)}catch{}return Mt(n)}return n}function _De(n){return ea(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function bDe(n,e,t){const r=typeof n=="object"&&n.throttleLimit!=null?n.throttleLimit:12;dl.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const i=typeof n=="object"?n.throttleCallback:null,s=typeof n=="object"&&typeof n.throttleSlotInterval=="number"?n.throttleSlotInterval:100;dl.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof n=="object"?!!n.errorPassThrough:!1,a={};let l=null;const c={method:"GET"};let d=!1,u=2*60*1e3;if(typeof n=="string")l=n;else if(typeof n=="object"){if((n==null||n.url==null)&&dl.throwArgumentError("missing URL","connection.url",n),l=n.url,typeof n.timeout=="number"&&n.timeout>0&&(u=n.timeout),n.headers)for(const y in n.headers)a[y.toLowerCase()]={key:y,value:String(n.headers[y])},["if-none-match","if-modified-since"].indexOf(y.toLowerCase())>=0&&(d=!0);if(c.allowGzip=!!n.allowGzip,n.user!=null&&n.password!=null){l.substring(0,6)!=="https:"&&n.allowInsecureAuthentication!==!0&&dl.throwError("basic authentication requires a secure https url",Se.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:n.user,password:"[REDACTED]"});const y=n.user+":"+n.password;a.authorization={key:"Authorization",value:"Basic "+lK(ea(y))}}n.skipFetchSetup!=null&&(c.skipFetchSetup=!!n.skipFetchSetup),n.fetchOptions!=null&&(c.fetchOptions=_i(n.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=l?l.match(f):null;if(h)try{const y={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?aK(h[3]):_De(h[3])};let _=y.body;return t&&(_=t(y.body,y)),Promise.resolve(_)}catch(y){dl.throwError("processing response error",Se.errors.SERVER_ERROR,{body:fd(h[1],h[2]),error:y,requestBody:null,requestMethod:"GET",url:l})}e&&(c.method="POST",c.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const g={};Object.keys(a).forEach(y=>{const _=a[y];g[_.key]=_.value}),c.headers=g;const v=function(){let y=null;return{promise:new Promise(function(A,E){u&&(y=setTimeout(()=>{y!=null&&(y=null,E(dl.makeError("timeout",Se.errors.TIMEOUT,{requestBody:fd(c.body,g["content-type"]),requestMethod:c.method,timeout:u,url:l})))},u))}),cancel:function(){y!=null&&(clearTimeout(y),y=null)}}}(),x=function(){return xDe(this,void 0,void 0,function*(){for(let y=0;y<r;y++){let _=null;try{if(_=yield yDe(l,c),y<r){if(_.statusCode===301||_.statusCode===302){const A=_.headers.location||"";if(c.method==="GET"&&A.match(/^https:/)){l=_.headers.location;continue}}else if(_.statusCode===429){let A=!0;if(i&&(A=yield i(y,l)),A){let E=0;const k=_.headers["retry-after"];typeof k=="string"&&k.match(/^[1-9][0-9]*$/)?E=parseInt(k)*1e3:E=s*parseInt(String(Math.random()*Math.pow(2,y))),yield GV(E);continue}}}}catch(A){_=A.response,_==null&&(v.cancel(),dl.throwError("missing response",Se.errors.SERVER_ERROR,{requestBody:fd(c.body,g["content-type"]),requestMethod:c.method,serverError:A,url:l}))}let b=_.body;if(d&&_.statusCode===304?b=null:!o&&(_.statusCode<200||_.statusCode>=300)&&(v.cancel(),dl.throwError("bad response",Se.errors.SERVER_ERROR,{status:_.statusCode,headers:_.headers,body:fd(b,_.headers?_.headers["content-type"]:null),requestBody:fd(c.body,g["content-type"]),requestMethod:c.method,url:l})),t)try{const A=yield t(b,_);return v.cancel(),A}catch(A){if(A.throttleRetry&&y<r){let E=!0;if(i&&(E=yield i(y,l)),E){const k=s*parseInt(String(Math.random()*Math.pow(2,y)));yield GV(k);continue}}v.cancel(),dl.throwError("processing response error",Se.errors.SERVER_ERROR,{body:fd(b,_.headers?_.headers["content-type"]:null),error:A,requestBody:fd(c.body,g["content-type"]),requestMethod:c.method,url:l})}return v.cancel(),b}return dl.throwError("failed response",Se.errors.SERVER_ERROR,{requestBody:fd(c.body,g["content-type"]),requestMethod:c.method,url:l})})}();return Promise.race([v.promise,x])}function dL(n,e,t){let r=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(wx(s))}catch(l){dl.throwError("invalid JSON",Se.errors.SERVER_ERROR,{body:s,error:l})}return t&&(a=t(a,o)),a},i=null;if(e!=null){i=ea(e);const s=typeof n=="string"?{url:n}:_i(n);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=_i(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},n=s}return bDe(n,i,r)}function Dv(n,e){return e||(e={}),e=_i(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,r){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&r(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function c(){return n().then(function(d){if(d!==void 0)o()&&t(d);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!s){if(l++,l>a){o()&&r(new Error("retry limit reached"));return}let u=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));u<e.floor&&(u=e.floor),u>e.ceiling&&(u=e.ceiling),setTimeout(c,u)}return null},function(d){o()&&r(d)})}c()})}var M2="qpzry9x8gf2tvdw0s3jn54khce6mua7l",MR={};for(var ew=0;ew<M2.length;ew++){var VT=M2.charAt(ew);if(MR[VT]!==void 0)throw new TypeError(VT+" is ambiguous");MR[VT]=ew}function s0(n){var e=n>>25;return(n&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function qK(n){for(var e=1,t=0;t<n.length;++t){var r=n.charCodeAt(t);if(r<33||r>126)return"Invalid prefix ("+n+")";e=s0(e)^r>>5}for(e=s0(e),t=0;t<n.length;++t){var i=n.charCodeAt(t);e=s0(e)^i&31}return e}function wDe(n,e,t){if(t=t||90,n.length+7+e.length>t)throw new TypeError("Exceeds length limit");n=n.toLowerCase();var r=qK(n);if(typeof r=="string")throw new Error(r);for(var i=n+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");r=s0(r)^o,i+=M2.charAt(o)}for(s=0;s<6;++s)r=s0(r);for(r^=1,s=0;s<6;++s){var a=r>>(5-s)*5&31;i+=M2.charAt(a)}return i}function YK(n,e){if(e=e||90,n.length<8)return n+" too short";if(n.length>e)return"Exceeds length limit";var t=n.toLowerCase(),r=n.toUpperCase();if(n!==t&&n!==r)return"Mixed-case string "+n;n=t;var i=n.lastIndexOf("1");if(i===-1)return"No separator character for "+n;if(i===0)return"Missing prefix for "+n;var s=n.slice(0,i),o=n.slice(i+1);if(o.length<6)return"Data too short";var a=qK(s);if(typeof a=="string")return a;for(var l=[],c=0;c<o.length;++c){var d=o.charAt(c),u=MR[d];if(u===void 0)return"Unknown character "+d;a=s0(a)^u,!(c+6>=o.length)&&l.push(u)}return a!==1?"Invalid checksum for "+n:{prefix:s,words:l}}function SDe(){var n=YK.apply(null,arguments);if(typeof n=="object")return n}function ADe(n){var e=YK.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function dE(n,e,t,r){for(var i=0,s=0,o=(1<<t)-1,a=[],l=0;l<n.length;++l)for(i=i<<e|n[l],s+=e;s>=t;)s-=t,a.push(i>>s&o);if(r)s>0&&a.push(i<<t-s&o);else{if(s>=e)return"Excess padding";if(i<<t-s&o)return"Non-zero padding"}return a}function EDe(n){var e=dE(n,8,5,!0);if(Array.isArray(e))return e}function MDe(n){var e=dE(n,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function CDe(n){var e=dE(n,5,8,!1);if(Array.isArray(e))return e}function TDe(n){var e=dE(n,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var $V={decodeUnsafe:SDe,decode:ADe,encode:wDe,toWordsUnsafe:EDe,toWords:MDe,fromWordsUnsafe:CDe,fromWords:TDe};const fE="providers/5.7.2",bv=new Se(fE);class _t{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),c=this.type.bind(this),d=u=>this.data(u,!0);return e.transaction={hash:o,type:c,accessList:_t.allowNull(this.accessList.bind(this),null),blockHash:_t.allowNull(o,null),blockNumber:_t.allowNull(l,null),transactionIndex:_t.allowNull(l,null),confirmations:_t.allowNull(l,null),from:t,gasPrice:_t.allowNull(r),maxPriorityFeePerGas:_t.allowNull(r),maxFeePerGas:_t.allowNull(r),gasLimit:r,to:_t.allowNull(t,null),value:r,nonce:l,data:s,r:_t.allowNull(this.uint256),s:_t.allowNull(this.uint256),v:_t.allowNull(l),creates:_t.allowNull(t,null),raw:_t.allowNull(s)},e.transactionRequest={from:_t.allowNull(t),nonce:_t.allowNull(l),gasLimit:_t.allowNull(r),gasPrice:_t.allowNull(r),maxPriorityFeePerGas:_t.allowNull(r),maxFeePerGas:_t.allowNull(r),to:_t.allowNull(t),value:_t.allowNull(r),data:_t.allowNull(d),type:_t.allowNull(l),accessList:_t.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:t,topics:_t.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:_t.allowNull(this.address,null),from:_t.allowNull(this.address,null),contractAddress:_t.allowNull(t,null),transactionIndex:l,root:_t.allowNull(a),gasUsed:r,logsBloom:_t.allowNull(s),blockHash:o,transactionHash:o,logs:_t.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:_t.allowNull(l,null),cumulativeGasUsed:r,effectiveGasPrice:_t.allowNull(r),status:_t.allowNull(l),type:c},e.block={hash:_t.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:_t.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:_t.allowNull(t),extraData:s,transactions:_t.allowNull(_t.arrayOf(o)),baseFeePerGas:_t.allowNull(r)},e.blockWithTransactions=_i(e.block),e.blockWithTransactions.transactions=_t.allowNull(_t.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:_t.allowNull(i,void 0),toBlock:_t.allowNull(i,void 0),blockHash:_t.allowNull(o,void 0),address:_t.allowNull(t,void 0),topics:_t.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:_t.allowNull(l),blockHash:_t.allowNull(o),transactionIndex:l,removed:_t.allowNull(this.boolean.bind(this)),address:t,data:_t.allowFalsish(s,"0x"),topics:_t.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return mg(e||[])}number(e){return e==="0x"?0:et.from(e).toNumber()}type(e){return e==="0x"||e==null?0:et.from(e).toNumber()}bigNumber(e){return et.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),Rn(e))?e.toLowerCase():bv.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return as(e)}callAddress(e){if(!Rn(e,32))return null;const t=as(ws(e,12));return t===sLe?null:t}contractAddress(e){return sL(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Rn(e))return A1(e);throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);return qh(r)!==32?bv.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const t=et.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!Rn(e))throw new Error("invalid uint256");return Er(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,i=_t.check(t,e);return i._difficulty=r==null?null:et.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return _t.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&et.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=_t.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;Rn(r)&&(r=et.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;r==null&&t.v==null&&(r=e.chainId),Rn(r)&&(r=et.from(r).toNumber()),typeof r!="number"&&t.v!=null&&(r=(t.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),t.chainId=r}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return iDe(e)}receiptLog(e){return _t.check(this.formats.receiptLog,e)}receipt(e){const t=_t.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const r=et.from(t.root).toNumber();r===0||r===1?(t.status!=null&&t.status!==r&&bv.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=r,delete t.root):bv.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&bv.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return _t.check(this.formats.filter,e)}filterLog(e){return _t.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const i in e)try{const s=e[i](t[i]);s!==void 0&&(r[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=t[i],s}return r}static allowNull(e,t){return function(r){return r==null?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const r=[];return t.forEach(function(i){r.push(e(i))}),r}}}var $t=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const cn=new Se(fE),kDe=10;function WV(n){return n==null?"null":(qh(n)!==32&&cn.throwArgumentError("invalid topic","topic",n),n.toLowerCase())}function jV(n){for(n=n.slice();n.length>0&&n[n.length-1]==null;)n.pop();return n.map(e=>{if(Array.isArray(e)){const t={};e.forEach(i=>{t[WV(i)]=!0});const r=Object.keys(t);return r.sort(),r.join("|")}else return WV(e)}).join("&")}function RDe(n){return n===""?[]:n.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(r=>r==="null"?null:r);return t.length===1?t[0]:t})}function tm(n){if(typeof n=="string"){if(n=n.toLowerCase(),qh(n)===32)return"tx:"+n;if(n.indexOf(":")===-1)return n}else{if(Array.isArray(n))return"filter:*:"+jV(n);if(lOe.isForkEvent(n))throw cn.warn("not implemented"),new Error("not implemented");if(n&&typeof n=="object")return"filter:"+(n.address||"*")+":"+jV(n.topics||[])}throw new Error("invalid event - "+n)}function wv(){return new Date().getTime()}function qV(n){return new Promise(e=>{setTimeout(e,n)})}const PDe=["block","network","pending","poll"];class IDe{constructor(e,t,r){Ye(this,"tag",e),Ye(this,"listener",t),Ye(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],r=RDe(e[2]),i={};return r.length>0&&(i.topics=r),t&&t!=="*"&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||PDe.indexOf(this.tag)>=0}}const LDe={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function UT(n){return Er(et.from(n).toHexString(),32)}function YV(n){return ER.encode(Xs([n,ws(FV(FV(n)),0,4)]))}const XK=new RegExp("^(ipfs)://(.*)$","i"),XV=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),XK,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Zw(n,e){try{return wx(P1(n,e))}catch{}return null}function P1(n,e){if(n==="0x")return null;const t=et.from(ws(n,e,e+32)).toNumber(),r=et.from(ws(n,t,t+32)).toNumber();return ws(n,t+32,t+32+r)}function HT(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):cn.throwArgumentError("unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}function KV(n){const e=Nt(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function ODe(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}function KK(n){const e=[];let t=0;for(let r=0;r<n.length;r++)e.push(null),t+=32;for(let r=0;r<n.length;r++){const i=Nt(n[r]);e[r]=KV(t),e.push(KV(i.length)),e.push(ODe(i)),t+=32+Math.ceil(i.length/32)*32}return ho(e)}class ZV{constructor(e,t,r,i){Ye(this,"provider",e),Ye(this,"name",r),Ye(this,"address",e.formatter.address(t)),Ye(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>et.from(e).eq(1)).catch(e=>{if(e.code===Se.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return $t(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:ho([e,Yw(this.name),t||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=ho(["0x9061b923",KK([WLe(this.name),r.data])]));try{let s=yield this.provider.call(r);return Nt(s).length%32===4&&cn.throwError("resolver threw error",Se.errors.CALL_EXCEPTION,{transaction:r,data:s}),i&&(s=P1(s,0)),s}catch(s){if(s.code===Se.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,t){return $t(this,void 0,void 0,function*(){const r=yield this._fetch(e,t);return r!=null?P1(r,0):null})}_getAddress(e,t){const r=LDe[String(e)];if(r==null&&cn.throwError(`unsupported coin type: ${e}`,Se.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(t);const i=Nt(t);if(r.p2pkh!=null){const s=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return YV(Xs([[r.p2pkh],"0x"+s[2]]))}}if(r.p2sh!=null){const s=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return YV(Xs([[r.p2sh],"0x"+s[2]]))}}if(r.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=$V.toWords(i.slice(2));return a.unshift(o),$V.encode(r.prefix,a)}}return null}getAddress(e){return $t(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===cLe?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===Se.errors.CALL_EXCEPTION)return null;throw i}const t=yield this._fetchBytes("0xf1cb7e06",UT(e));if(t==null||t==="0x")return null;const r=this._getAddress(e,t);return r==null&&cn.throwError("invalid or unsupported coin data",Se.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return $t(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let r=0;r<XV.length;r++){const i=t.match(XV[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:HT(t)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:t});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const c=yield this.provider.formatter.address(l[0]),d=Er(et.from(l[1]).toHexString(),32);if(s==="erc721"){const v=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:ho(["0x6352211e",d])}));if(a!==v)return null;e.push({type:"owner",content:v})}else if(s==="erc1155"){const v=et.from(yield this.provider.call({to:c,data:ho(["0x00fdd58e",Er(a,32),d])}));if(v.isZero())return null;e.push({type:"balance",content:v.toString()})}const u={to:this.provider.formatter.address(l[0]),data:ho([o,d])};let f=Zw(yield this.provider.call(u),0);if(f==null)return null;e.push({type:"metadata-url-base",content:f}),s==="erc1155"&&(f=f.replace("{id}",d.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=HT(f)),e.push({type:"metadata-url",content:f});const h=yield dL(f);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let g=h.image;if(typeof g!="string")return null;if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(XK)==null)return null;e.push({type:"url-ipfs",content:g}),g=HT(g)}return e.push({type:"url",content:g}),{linkage:e,url:g}}}}}catch{}return null})}getContentHash(){return $t(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const o=parseInt(t[3],16);if(t[4].length===o*2)return"ipfs://"+ER.encode("0x"+t[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipns://"+ER.encode("0x"+r[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+lK("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return cn.throwError("invalid or unsupported content hash data",Se.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return $t(this,void 0,void 0,function*(){let t=ea(e);t=Xs([UT(64),UT(t.length),t]),t.length%32!==0&&(t=Xs([t,Er("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",Mt(t));return r==null||r==="0x"?null:wx(r)})}}let GT=null,NDe=1;class DDe extends oE{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Ye(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=Yo(new.target,"getNetwork")(e);t?(Ye(this,"_network",t),this.emit("network",t,null)):cn.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return $t(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||cn.throwError("no network detected",Se.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Ye(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Dv(()=>this._ready().then(e=>e,e=>{if(!(e.code===Se.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return GT==null&&(GT=new _t),GT}static getNetwork(e){return mDe(e??"homestead")}ccipReadFetch(e,t,r){return $t(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const i=e.to.toLowerCase(),s=t.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",s),d=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),u=yield dL({url:c,errorPassThrough:!0},d,(h,g)=>(h.status=g.statusCode,h));if(u.data)return u.data;const f=u.message||"unknown error";if(u.status>=400&&u.status<500)return cn.throwError(`response not found during CCIP fetch: ${f}`,Se.errors.SERVER_ERROR,{url:l,errorMessage:f});o.push(f)}return cn.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,Se.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return $t(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(wv()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const t=wv(),r=hi({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),s;const o=wv();return i=et.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:t,respTime:o}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return $t(this,void 0,void 0,function*(){const e=NDe++,t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)cn.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",cn.makeError("network block skew detected",Se.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&r-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});t.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=r;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(s,c)})}).catch(l=>{this.emit("error",l),i._inflight=!1});t.push(a)}break}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return $t(this,void 0,void 0,function*(){return cn.throwError("provider does not support network detection",Se.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return $t(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield qV(0),this._network;const r=cn.makeError("underlying network changed",Se.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=wv();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=wv(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return $t(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,r||0,null)})}_waitForTransaction(e,t,r,i){return $t(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=t?s:new Promise((o,a)=>{const l=[];let c=!1;const d=function(){return c?!0:(c=!0,l.forEach(f=>{f()}),!1)},u=f=>{f.confirmations<t||d()||o(f)};if(this.on(e,u),l.push(()=>{this.removeListener(e,u)}),i){let f=i.startBlock,h=null;const g=v=>$t(this,void 0,void 0,function*(){c||(yield qV(1e3),this.getTransactionCount(i.from).then(x=>$t(this,void 0,void 0,function*(){if(!c){if(x<=i.nonce)f=v;else{{const y=yield this.getTransaction(e);if(y&&y.blockNumber!=null)return}for(h==null&&(h=f-3,h<i.startBlock&&(h=i.startBlock));h<=v;){if(c)return;const y=yield this.getBlockWithTransactions(h);for(let _=0;_<y.transactions.length;_++){const b=y.transactions[_];if(b.hash===e)return;if(b.from===i.from&&b.nonce===i.nonce){if(c)return;const A=yield this.waitForTransaction(b.hash,t);if(d())return;let E="replaced";b.data===i.data&&b.to===i.to&&b.value.eq(i.value)?E="repriced":b.data==="0x"&&b.from===b.to&&b.value.isZero()&&(E="cancelled"),a(cn.makeError("transaction was replaced",Se.errors.TRANSACTION_REPLACED,{cancelled:E==="replaced"||E==="cancelled",reason:E,replacement:this._wrapTransaction(b),hash:e,receipt:A}));return}}h++}}c||this.once("block",g)}}),x=>{c||this.once("block",g)}))});if(c)return;this.once("block",g),l.push(()=>{this.removeListener("block",g)})}if(typeof r=="number"&&r>0){const f=setTimeout(()=>{d()||a(cn.makeError("timeout exceeded",Se.errors.TIMEOUT,{timeout:r}))},r);f.unref&&f.unref(),l.push(()=>{clearTimeout(f)})}})})}getBlockNumber(){return $t(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return et.from(e)}catch(t){return cn.throwError("bad result from backend",Se.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield hi({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",r);try{return et.from(i)}catch(s){return cn.throwError("bad result from backend",Se.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:s})}})}getTransactionCount(e,t){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield hi({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",r);try{return et.from(i).toNumber()}catch(s){return cn.throwError("bad result from backend",Se.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:s})}})}getCode(e,t){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield hi({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",r);try{return Mt(i)}catch(s){return cn.throwError("bad result from backend",Se.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:s})}})}getStorageAt(e,t,r){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield hi({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(o=>A1(o))}),s=yield this.perform("getStorageAt",i);try{return Mt(s)}catch(o){return cn.throwError("bad result from backend",Se.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,t,r){if(t!=null&&qh(t)!==32)throw new Error("invalid response - sendTransaction");const i=e;return t!=null&&e.hash!==t&&cn.throwError("Transaction hash mismatch from Provider.sendTransaction.",Se.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=(s,o)=>$t(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&r!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&cn.throwError("transaction failed",Se.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(s=>Mt(s)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,s,i)}catch(s){throw s.transaction=r,s.transactionHash=r.hash,s}})}_getTransactionRequest(e){return $t(this,void 0,void 0,function*(){const t=yield e,r={};return["from","to"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(s=>s?et.from(s):null))}),["type"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(s=>s??null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(s=>s?Mt(s):null))}),this.formatter.transactionRequest(yield hi(r))})}_getFilter(e){return $t(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield hi(t))})}_call(e,t,r){return $t(this,void 0,void 0,function*(){r>=kDe&&cn.throwError("CCIP read exceeded maximum redirections",Se.errors.SERVER_ERROR,{redirects:r,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&t==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&qh(s)%32===4)try{const o=ws(s,4),a=ws(o,0,32);et.from(a).eq(i)||cn.throwError("CCIP Read sender did not match",Se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],c=et.from(ws(o,32,64)).toNumber(),d=et.from(ws(o,c,c+32)).toNumber(),u=ws(o,c+32);for(let y=0;y<d;y++){const _=Zw(u,y*32);_==null&&cn.throwError("CCIP Read contained corrupt URL string",Se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(_)}const f=P1(o,64);et.from(ws(o,100,128)).isZero()||cn.throwError("CCIP Read callback selector included junk",Se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const h=ws(o,96,100),g=P1(o,128),v=yield this.ccipReadFetch(e,f,l);v==null&&cn.throwError("CCIP Read disabled or provided no URLs",Se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const x={to:i,data:ho([h,KK([v,g])])};return this._call(x,t,r+1)}catch(o){if(o.code===Se.errors.SERVER_ERROR)throw o}try{return Mt(s)}catch(o){return cn.throwError("bad result from backend",Se.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:s,error:o})}})}call(e,t){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield hi({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield hi({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return et.from(r)}catch(i){return cn.throwError("bad result from backend",Se.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:i})}})}_getAddress(e){return $t(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&cn.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&cn.throwError("ENS name not configured",Se.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return $t(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const i={includeTransactions:!!t};if(Rn(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Rn(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{cn.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Dv(()=>$t(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(t){let o=null;for(let l=0;l<s.transactions.length;l++){const c=s.transactions[l];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let d=o-c.blockNumber+1;d<=0&&(d=1),c.confirmations=d}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return $t(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Dv(()=>$t(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",t);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return $t(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Dv(()=>$t(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",t);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return $t(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield hi({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),_t.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return $t(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return $t(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&cn.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return $t(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const r=yield this._getResolver(t,"getResolver");if(r!=null){const i=new ZV(this,r,e);return t!==e&&!(yield i.supportsWildcard())?null:i}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return $t(this,void 0,void 0,function*(){t==null&&(t="ENS");const r=yield this.getNetwork();r.ensAddress||cn.throwError("network does not support ENS",Se.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{const i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+Yw(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return $t(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(Rn(e))throw r}typeof e!="string"&&cn.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return $t(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(r==null)return null;const i=Zw(yield this.call({to:r,data:"0x691f3431"+Yw(t).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return $t(this,void 0,void 0,function*(){let t=null;if(Rn(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;t=new ZV(this,o,s);try{const a=yield t.getAvatar();if(a)return a.url}catch(a){if(a.code!==Se.errors.CALL_EXCEPTION)throw a}try{const a=Zw(yield this.call({to:o,data:"0x691f3431"+Yw(s).substring(2)}),0);t=yield this.getResolver(a)}catch(a){if(a.code!==Se.errors.CALL_EXCEPTION)throw a;return null}}else if(t=yield this.getResolver(e),!t)return null;const r=yield t.getAvatar();return r==null?null:r.url})}perform(e,t){return cn.throwError(e+" not implemented",Se.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,r){const i=new IDe(tm(e),t,r);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,i=[],s=tm(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,t)},0),r=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),r}listenerCount(e){if(!e)return this._events.length;let t=tm(e);return this._events.filter(r=>r.tag===t).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let t=tm(e);return this._events.filter(r=>r.tag===t).map(r=>r.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const r=[];let i=!1,s=tm(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=t||i?!0:(i=!0,r.push(o),!1)),r.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const r=tm(e);this._events=this._events.filter(i=>i.tag!==r?!0:(t.push(i),!1))}return t.forEach(r=>{this._stopEvent(r)}),this}}var eu=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const pi=new Se(fE),BDe=["call","estimateGas"];function gy(n,e){if(n==null)return null;if(typeof n.message=="string"&&n.message.match("reverted")){const t=Rn(n.data)?n.data:null;if(!e||t)return{message:n.message,data:t}}if(typeof n=="object"){for(const t in n){const r=gy(n[t],e);if(r)return r}return null}if(typeof n=="string")try{return gy(JSON.parse(n),e)}catch{}return null}function ZK(n,e,t){const r=t.transaction||t.signedTransaction;if(n==="call"){const s=gy(e,!0);if(s)return s.data;pi.throwError("missing revert data in call exception; Transaction reverted without a reason string",Se.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(n==="estimateGas"){let s=gy(e.body,!1);s==null&&(s=gy(e,!1)),s&&pi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Se.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:n,transaction:r,error:e})}let i=e.message;throw e.code===Se.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&pi.throwError("insufficient funds for intrinsic transaction cost",Se.errors.INSUFFICIENT_FUNDS,{error:e,method:n,transaction:r}),i.match(/nonce (is )?too low/i)&&pi.throwError("nonce has already been used",Se.errors.NONCE_EXPIRED,{error:e,method:n,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&pi.throwError("replacement fee too low",Se.errors.REPLACEMENT_UNDERPRICED,{error:e,method:n,transaction:r}),i.match(/only replay-protected/i)&&pi.throwError("legacy pre-eip-155 transactions not supported",Se.errors.UNSUPPORTED_OPERATION,{error:e,method:n,transaction:r}),BDe.indexOf(n)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&pi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Se.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:n,transaction:r}),e}function JV(n){return new Promise(function(e){setTimeout(e,n)})}function FDe(n){if(n.error){const e=new Error(n.error.message);throw e.code=n.error.code,e.data=n.error.data,e}return n.result}function Sv(n){return n&&n.toLowerCase()}const CR={};class JK extends ug{constructor(e,t,r){if(super(),e!==CR)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Ye(this,"provider",t),r==null&&(r=0),typeof r=="string"?(Ye(this,"_address",this.provider.formatter.address(r)),Ye(this,"_index",null)):typeof r=="number"?(Ye(this,"_index",r),Ye(this,"_address",null)):pi.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return pi.throwError("cannot alter JSON-RPC Signer connection",Se.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new zDe(CR,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&pi.throwError("unknown account #"+this._index,Se.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=_i(e);const t=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=_i(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>eu(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.provider.resolveName(r);return i==null&&pi.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),hi({tx:hi(e),sender:t}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&pi.throwArgumentError("from address mismatch","transaction",e):r.from=i;const s=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&pi.throwError("user rejected transaction",Se.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),ZK("sendTransaction",o,s)))})}signTransaction(e){return pi.throwError("signing transactions is unsupported",Se.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return eu(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield Dv(()=>eu(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,t)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return eu(this,void 0,void 0,function*(){const t=typeof e=="string"?ea(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Mt(t),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&pi.throwError("user rejected signing",Se.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return eu(this,void 0,void 0,function*(){const t=typeof e=="string"?ea(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),Mt(t)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&pi.throwError("user rejected signing",Se.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,t,r){return eu(this,void 0,void 0,function*(){const i=yield zo.resolveNames(e,t,r,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(zo.getPayload(i.domain,t,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&pi.throwError("user rejected signing",Se.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:t,value:i.value}}),o}})}unlock(e){return eu(this,void 0,void 0,function*(){const t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class zDe extends JK{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(t,r)}))}}const VDe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class UDe extends DDe{constructor(e,t){let r=t;r==null&&(r=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(r),e||(e=Yo(this.constructor,"defaultUrl")()),typeof e=="string"?Ye(this,"connection",Object.freeze({url:e})):Ye(this,"connection",Object.freeze(_i(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return eu(this,void 0,void 0,function*(){yield JV(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=Yo(this.constructor,"getNetwork");try{return t(et.from(e).toNumber())}catch(r){return pi.throwError("could not detect network",Se.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return pi.throwError("could not detect network",Se.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new JK(CR,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Tu(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=dL(this.connection,JSON.stringify(r),FDe).then(o=>(this.emit("debug",{action:"response",request:r,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:r,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Sv(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Sv(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Sv(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Sv(t.address),Er(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[Yo(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[Yo(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=Sv(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return eu(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=t.transaction;if(i&&i.type!=null&&et.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(t=_i(t),t.transaction=_i(i),delete t.transaction.type)}}const r=this.prepareRequest(e,t);r==null&&pi.throwError(e+" not implemented",Se.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return ZK(e,i,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(s){if(e._pendingFilter!=t)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return JV(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const r=_i(VDe);if(t)for(const s in t)t[s]&&(r[s]=!0);DIe(e,r);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=A1(et.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=Mt(e[s]))}),e.accessList&&(i.accessList=mg(e.accessList)),i}}const QV=new Se(fE);let HDe=1;function eU(n,e){const t="Web3LegacyFetcher";return function(r,i){const s={method:r,params:i,id:HDe++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:t,request:Tu(s),provider:this}),e(s,(l,c)=>{if(l)return this.emit("debug",{action:"response",fetcher:t,error:l,request:s,provider:this}),a(l);if(this.emit("debug",{action:"response",fetcher:t,request:s,response:c,provider:this}),c.error){const d=new Error(c.error.message);return d.code=c.error.code,d.data=c.error.data,a(d)}o(c.result)})})}}function GDe(n){return function(e,t){t==null&&(t=[]);const r={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Tu(r),provider:this}),n.request(r).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:i,provider:this}),i})}}class tU extends UDe{constructor(e,t){e==null&&QV.throwArgumentError("missing provider","provider",e);let r=null,i=null,s=null;typeof e=="function"?(r="unknown:",i=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),s=e,e.request?(r===""&&(r="eip-1193:"),i=GDe(e)):e.sendAsync?i=eU(e,e.sendAsync.bind(e)):e.send?i=eU(e,e.send.bind(e)):QV.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),Ye(this,"jsonRpcFetchFunc",i),Ye(this,"provider",s)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const $De="units/5.7.0",WDe=new Se($De),QK=["wei","kwei","mwei","gwei","szabo","finney","ether"];function jDe(n,e){if(typeof e=="string"){const t=QK.indexOf(e);t!==-1&&(e=3*t)}return jw(n,e??18)}function hE(n,e){if(typeof n!="string"&&WDe.throwArgumentError("value must be a string","value",n),typeof e=="string"){const t=QK.indexOf(e);t!==-1&&(e=3*t)}return Xl(n,e??18)}function bi(n){return jDe(n,18)}function uf(n){return hE(n,18)}const qDe={1:"erc20",2:"erc721",3:"erc1155"};class YDe{constructor(e,t){te(this,"experience");te(this,"factory");te(this,"raycaster");te(this,"chest");te(this,"time");te(this,"item");te(this,"scene");te(this,"indexId");te(this,"out",!1);te(this,"locked",!1);te(this,"resources");te(this,"materials");te(this,"contract");te(this,"mesh",new Vr);te(this,"outlineChest");var i;this.experience=vr.Instance(),this.factory=this.experience.factory,this.raycaster=this.experience.raycaster,this.chest=e,this.time=this.experience.root.clock,this.item=t,this.resources=this.experience.resources,this.materials=this.experience.materials,this.scene=this.experience.scene;let r=this.resources.items[`${qDe[t.type]}Abi`].abi;this.contract=new cf(t.address,r,(i=this.experience.world.user)==null?void 0:i.wallet.signer),this.indexId=qLe(JSON.stringify(t)),this.outlineChest=this.experience.root.outlineChestHover,this.setMesh(t),this.setEvents()}setMesh(e){switch(e.type){case 1:this.mesh=this.factory.createErc20Mesh(e.address),this.mesh.position.copy(this.chest.originPos),this.mesh.name=`chestItem${this.indexId}_erc20`,this.mesh.children.forEach(t=>t.name=t.name.replace("chestItem",`chestItem${this.indexId}`));break;case 2:this.mesh=this.factory.createErc721Mesh(e.address,e.id.toString()),this.mesh.position.copy(this.chest.originPos),this.mesh.name=`chestItem${this.indexId}_erc721`,this.mesh.children.forEach(t=>t.name=t.name.replace("chestItem",`chestItem${this.indexId}`));break;case 3:this.mesh=this.factory.createErc1155Mesh(e.address,e.id.toString()),this.mesh.position.copy(this.chest.originPos),this.mesh.name=`chestItem${this.indexId}_erc1155`,this.mesh.children.forEach(t=>t.name=t.name.replace("chestItem",`chestItem${this.indexId}`));break;default:console.error("Error with the type of item");return}this.raycaster.objectsToTest.push(this.mesh),this.mesh.children.forEach(t=>this.raycaster.objectsToTest.push(t)),this.scene.add(this.mesh)}setEvents(){this.raycaster.on(`mouse_enter_chestItem${this.indexId}`,e=>{this.locked===!1&&(this.mesh.layers.enable(2),this.mesh.material.emissiveIntensity=5,this.mesh.material.emissive=new We("#FF773D"))}),this.raycaster.on(`mouse_leave_chestItem${this.indexId}`,e=>{this.locked===!1&&(this.mesh.layers.disable(2),this.mesh.material.emissiveIntensity=0,this.mesh.material.emissive=new We("#61FCFF"))}),this.raycaster.on(`select_chestItem${this.indexId}`,e=>{this.chest.selected[this.mesh.uuid]?(this.mesh.material.emissiveIntensity=0,delete this.chest.selected[this.mesh.uuid],Object.values(this.chest.selected).length===0&&(this.chest.lootSelectedButton.material.color=new We("#5E5E5E")),this.locked=!1):(this.chest.selected[this.mesh.uuid]=this,this.chest.lootSelectedButton.material.color=new We("#197DE7"),this.mesh.material.emissiveIntensity=2,this.mesh.material.emissive=new We("#61FCFF"),this.locked=!0)})}update(){this.out&&(this.mesh.position.y=Math.cos(Math.sin(-this.chest.time.getElapsedTime()))+this.chest.openYaxisOffset,this.mesh.rotation.y=this.chest.time.getElapsedTime())}}const XDe=async(n,e,t,r,i)=>{let s;const o=e.connect(n.signer);try{return console.log(""),console.info("DEPLOY "+r.toUpperCase()),console.log("///////////////////////////////////////////////"),console.log("name: "+t.name),console.log("type: "+t.type),console.log("///////////////////////////////////////////////"),s=await o.deploy(...Object.values(t)),s}catch(a){let l;a.error.message?l=a.error.message:l=a.message,window.setTimeout(()=>{i.txFailed({wallet:n,contractName:r,funcName:"deploy",tx:s,error:l})},100)}},KDe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("ADD WHITELIST"),console.log("///////////////////////////////////////////////"),console.log("tokens: ",t),console.log("///////////////////////////////////////////////");const o=await s.estimateGas.addWhitelist(t);return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s.addWhitelist(t),i}catch(o){let a;o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"chestSC",funcName:"addWhitelist",tx:i,error:a})},100)}},ZDe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer),o=new cf("0x0000000000000000000000000000000000000000",["function decimals() public view returns(uint8)"],n.signer);try{console.log(""),console.log("BATCH DEPOSIT"),console.log("///////////////////////////////////////////////"),console.log("addresses: ",t[0]),console.log("ids: ",t[1]),console.log("amounts: ",t[2]),console.log("///////////////////////////////////////////////");for(let l=0;l<t[0].length;l++)try{const d=await o.attach(t[0][l]).decimals();t[2][l]=hE(t[2][l],d)}catch{}const a=await s.estimateGas.batchDeposit(...t);return console.log("Gas cost: "+(bi((a==null?void 0:a.toString())??"")+" MATIC")),i=await s.batchDeposit(...t),i}catch(a){let l="";a.error.message?l=a.error.message:l=a.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"chestSC",funcName:"batchDeposit",tx:i,error:l})},100)}},JDe=async(n,e,t,r,i)=>{let s;const o=e.connect(n.signer),a=new cf("0x0000000000000000000000000000000000000000",["function decimals() public view returns(uint8)"],n.signer);try{if(console.log(""),console.log("			LOOT"),console.log("///////////////////////////////////////////////"),console.log("address: ",t.address),console.log("id: ",t.id),console.log("amount: ",t.amount),console.log("type: ",r),console.log("///////////////////////////////////////////////"),r===1){const c=a.attach(t.address);t.amount=hE(t.amount,await c.decimals())}const l=await o.estimateGas.loot(...Object.values(t));return console.log("Gas cost: "+(bi((l==null?void 0:l.toString())??"")+" MATIC")),s=await o.loot(...Object.values(t)),s}catch(l){let c="";l.error.message?c=l.error.message:c=l.message,window.setTimeout(()=>{i.txFailed({wallet:n,contractName:"chestSC",funcName:"loot",tx:s,error:c})},100)}},TR=async(n,e,t,r,i)=>{let s;const o=e.connect(n.signer),a=new cf("0x0000000000000000000000000000000000000000",["function decimals() public view returns(uint8)"],n.signer);try{console.log(""),console.log("		BATCH LOOT"),console.log("///////////////////////////////////////////////"),console.log("address: ",t.items),console.log("id: ",t.tokenIds),console.log("amount: ",t.amounts),console.log("type: ",r),console.log("///////////////////////////////////////////////");for(let c=0;c<r.length;c++)if(r[c]===1&&!(t.amounts[c]instanceof et)){const d=a.attach(t.items[c]);t.amounts[c]=hE(t.amounts[c],await d.decimals())}const l=await o.estimateGas.batchLoot(...Object.values(t));return console.log("Gas cost: "+(bi((l==null?void 0:l.toString())??"")+" MATIC")),s=await o.batchLoot(...Object.values(t)),s}catch(l){let c="";l.error.message?c=l.error.message:c=l.message,window.setTimeout(()=>{i.txFailed({wallet:n,contractName:"chestSC",funcName:"batchLoot",tx:s,error:c})},100)}},QDe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{return console.log(""),console.info("DEPLOY ERC20"),console.log("///////////////////////////////////////////////"),console.log("name: "+t.name),console.log("ticker: "+t.ticker),console.log("///////////////////////////////////////////////"),i=await s.deploy(...Object.values(t)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc20SC",funcName:"deploy",tx:i,error:a})},100)}},eBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("APPROVE"),console.log("///////////////////////////////////////////////"),console.log("address: ",t.address),console.log("address: ",t.amount),console.log("///////////////////////////////////////////////");const o=await s.estimateGas.approve(t.address,uf(t.amount));return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s.approve(t.address,uf(t.amount)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc20SC",funcName:"approve",tx:i,error:a})},100)}},tBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("			MINT"),console.log("///////////////////////////////////////////////"),console.log("to: ",t.address),console.log("amount: ",t.amount),console.log("///////////////////////////////////////////////");const o=await s.estimateGas.mint(t.address,uf(t.amount));return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s.mint(t.address,uf(t.amount)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc20SC",funcName:"mint",tx:i,error:a})},100)}},nBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("			TRANSFER"),console.log("///////////////////////////////////////////////"),console.log("address: ",t.address),console.log("address: ",t.amount),console.log("///////////////////////////////////////////////");const o=await s.estimateGas.transfer(t.address,uf(t.amount));return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s.transfer(t.address,uf(t.amount)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc20SC",funcName:"transfer",tx:i,error:a})},100)}},rBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("			BURN"),console.log("///////////////////////////////////////////////"),console.log("address: ",t.amount),console.log("///////////////////////////////////////////////");const o=await s.estimateGas.burn(uf(t.amount));return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s.burn(uf(t.amount)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc20SC",funcName:"burn",tx:i,error:a})},100)}},iBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{return console.log(""),console.info("DEPLOY ERC721"),console.log("///////////////////////////////////////////////"),console.log("name: "+t.name),console.log("ticker: "+t.ticker),console.log("///////////////////////////////////////////////"),i=await s.deploy(...Object.values(t)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc721SC",funcName:"deploy",tx:i,error:a})},100)}},sBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("APPROVE"),console.log("///////////////////////////////////////////////"),console.log("address: ",t.address),console.log("address: ",t.id),console.log("///////////////////////////////////////////////");const o=await s.estimateGas.approve(t.address,t.id);return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s.approve(t.address,t.id),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc721SC",funcName:"approve",tx:i,error:a})},100)}},oBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("			MINT"),console.log("///////////////////////////////////////////////"),console.log("to: ",t.to),console.log("id: ",t.uri),console.log("///////////////////////////////////////////////");const o=await s.estimateGas.safeMint(t.to,t.uri);return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s.safeMint(t.to,t.uri),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc721SC",funcName:"mint",tx:i,error:a})},100)}},aBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("	SAFE TRANSFER FROM"),console.log("///////////////////////////////////////////////"),console.log("from: ",t.from),console.log("to: ",t.to),console.log("id: ",t.id),console.log("datas: ",t.datas),console.log("///////////////////////////////////////////////"),t.datas||(t.datas="0x");const o=await s.estimateGas["safeTransferFrom(address,address,uint256,bytes)"](...Object.values(t));return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s["safeTransferFrom(address,address,uint256,bytes)"](...Object.values(t)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc721SC",funcName:"safeTransferFrom",tx:i,error:a})},100)}},lBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("			BURN"),console.log("///////////////////////////////////////////////"),console.log("address: ",t.id),console.log("///////////////////////////////////////////////");const o=await s.estimateGas.burn(t.id);return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s.burn(t.id),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc721SC",funcName:"burn",tx:i,error:a})},100)}},cBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{return console.log(""),console.info("DEPLOY ERC1155"),console.log("///////////////////////////////////////////////"),console.log("uri: "+t.uri),console.log("///////////////////////////////////////////////"),i=await s.deploy(...Object.values(t)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc1155SC",funcName:"deploy",tx:i,error:a})},100)}},uBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("			MINT BATCH"),console.log("///////////////////////////////////////////////"),console.log("to: ",t.to),console.log("ids: ",t.ids),console.log("amounts: ",t.amounts),console.log("datas: ",t.datas),console.log("///////////////////////////////////////////////"),t.datas||(t.datas="0x");const o=await s.estimateGas.mintBatch(...Object.values(t));return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s.mintBatch(...Object.values(t)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc1155SC",funcName:"mintBatch",tx:i,error:a})},100)}},dBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("			MINT"),console.log("///////////////////////////////////////////////"),console.log("to: ",t.to),console.log("id: ",t.id),console.log("amount: ",t.amount),console.log("datas: ",t.datas),console.log("///////////////////////////////////////////////"),t.datas||(t.datas="0x");const o=await s.estimateGas.mint(...Object.values(t));return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s.mint(...Object.values(t)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc1155SC",funcName:"mint",tx:i,error:a})},100)}},fBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("	SAFE TRANSFER FROM"),console.log("///////////////////////////////////////////////"),console.log("from: ",t.from),console.log("to: ",t.to),console.log("id: ",t.id),console.log("amount: ",t.amount),console.log("datas: ",t.datas),console.log("///////////////////////////////////////////////"),t.datas||(t.datas="0x");const o=await s.estimateGas["safeTransferFrom(address,address,uint256,uint256,bytes)"](...Object.values(t));return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s["safeTransferFrom(address,address,uint256,uint256,bytes)"](...Object.values(t)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc1155SC",funcName:"safeTransferFrom",tx:i,error:a})},100)}},hBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("	SAFE BATCH TRANSFER FROM"),console.log("///////////////////////////////////////////////"),console.log("from: ",t.from),console.log("to: ",t.to),console.log("id: ",t.ids),console.log("amount: ",t.amounts),console.log("datas: ",t.datas),console.log("///////////////////////////////////////////////"),t.datas||(t.datas="0x");const o=await s.estimateGas["safeBatchTransferFrom(address,address,uint256[],uint256[],bytes)"](...Object.values(t));return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s["safeBatchTransferFrom(address,address,uint256[],uint256[],bytes)"](...Object.values(t)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc1155SC",funcName:"safeBatchTransferFrom",tx:i,error:a})},100)}},pBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("			BURN"),console.log("///////////////////////////////////////////////"),console.log("account: ",t.account),console.log("id: ",t.id),console.log("amount: ",t.amount),console.log("///////////////////////////////////////////////");const o=await s.estimateGas.burn(...Object.values(t));return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s.burn(...Object.values(t)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc1155SC",funcName:"burn",tx:i,error:a})},100)}},mBe=async(n,e,t,r)=>{let i;const s=e.connect(n.signer);try{console.log(""),console.log("			BURN BATCH"),console.log("///////////////////////////////////////////////"),console.log("account: ",t.account),console.log("ids: ",t.ids),console.log("amounts: ",t.amounts),console.log("///////////////////////////////////////////////");const o=await s.estimateGas.burnBatch(...Object.values(t));return console.log("Gas cost: "+(bi((o==null?void 0:o.toString())??"")+" MATIC")),i=await s.burnBatch(...Object.values(t)),i}catch(o){let a="";o.error.message?a=o.error.message:a=o.message,window.setTimeout(()=>{r.txFailed({wallet:n,contractName:"erc1155SC",funcName:"burnBatch",tx:i,error:a})},100)}},gBe=async(n,e,t,r,i)=>{let s;const o=e.connect(n.signer);try{console.log(""),console.log("TRANSFER OWNERSHIP"),console.log("///////////////////////////////////////////////"),console.log("address: ",t),console.log("///////////////////////////////////////////////");const a=await o.estimateGas.transferOwnership(t);return console.log("Gas cost: "+(bi((a==null?void 0:a.toString())??"")+" MATIC")),s=await o.transferOwnership(t),s}catch(a){let l="";a.error.message?l=a.error.message:l=a.message,window.setTimeout(()=>{i.txFailed({wallet:n,contractName:r,funcName:"transferOwnership",tx:s,error:l})},100)}},vBe=async(n,e,t,r,i)=>{let s;const o=e.connect(n.signer);try{console.log(""),console.log("SET APPROVAL FOR ALL"),console.log("///////////////////////////////////////////////"),console.log("to: ",t.to),console.log("switch: ",t.switch),console.log("///////////////////////////////////////////////");const a=await o.estimateGas.setApprovalForAll(t.to,t.switch);return console.log("Gas cost: "+(bi((a==null?void 0:a.toString())??"")+" MATIC")),s=await o.setApprovalForAll(t.to,t.switch),s}catch(a){let l="";a.error.message?l=a.error.message:l=a.message,window.setTimeout(()=>{i.txFailed({wallet:n,contractName:r,funcName:"setApprovalForAll",tx:s,error:l})},100)}};class yBe{constructor(){te(this,"experience");te(this,"root");te(this,"raycaster");te(this,"factory");te(this,"scene");te(this,"resources");te(this,"preLoader");te(this,"materials");te(this,"time");te(this,"sounds");te(this,"chestSC");te(this,"chestModel");te(this,"chestScene");te(this,"chestStructure");te(this,"lootAllButton");te(this,"lootSelectedButton");te(this,"resource");te(this,"originPos",new Z);te(this,"animation",{});te(this,"openYaxisOffset",1.3);te(this,"selected",{});te(this,"locked",!1);te(this,"openned",!1);te(this,"contract");te(this,"loots",[]);te(this,"events",["Deposit","Looted"]);te(this,"outlineChest");this.experience=vr.Instance(),this.root=this.experience.root,this.raycaster=this.experience.raycaster,this.factory=this.experience.factory,this.scene=this.experience.scene,this.resources=this.experience.resources,this.preLoader=this.experience.preLoader,this.materials=this.experience.materials,this.time=this.experience.root.clock,this.sounds=this.experience.sounds,this.chestModel=this.resources.items.chestModel,this.chestScene=this.chestModel.scene,this.chestStructure=this.chestScene.getObjectByName("Object_7"),this.resource=this.resources.items.scene,this.outlineChest=this.experience.root.outlineChestHover,this.setGLTF(),this.setLootButton(),this.setAnimation(),this.setEvent()}setGLTF(){this.chestModel.scene.position.copy(new Z(1.64,0,8.76)),this.chestModel.scene.rotation.y=-(Math.PI*.25),this.originPos.copy(this.chestModel.scene.position),this.chestStructure.layers.enable(1),this.chestStructure.layers.disableAll(),this.chestStructure.name="chest",this.scene.add(this.chestModel.scene)}setLootButton(){this.lootAllButton=this.resources.items.buttonLootAll.scene.children[0],this.lootSelectedButton=this.resources.items.buttonLootSelected.scene.children[0],this.lootAllButton.position.copy(this.chestScene.position),this.lootAllButton.children[0].material.toneMapped=!1,this.chestScene.getWorldQuaternion(this.lootAllButton.quaternion),this.lootSelectedButton.position.copy(this.chestScene.position),this.lootSelectedButton.children[0].material.toneMapped=!1,this.chestScene.getWorldQuaternion(this.lootSelectedButton.quaternion),this.raycaster.objectsToTest.push(this.lootAllButton,this.lootSelectedButton),this.scene.add(this.lootAllButton,this.lootSelectedButton)}setAnimation(){this.animation={},this.animation.mixer=new ZA(this.chestModel.scene),this.animation.action={},this.animation.action.open=this.animation.mixer.clipAction(this.chestModel.animations[0]),this.animation.action.current=this.animation.action.open}setEvent(){this.preLoader.on("start",()=>{var e;this.chestSC=this.experience.world.lootBoxScene.smartContracts.chestSC,(e=this.experience.world.lootBoxScene)==null||e.smartContracts.chestSC.on("import chestSC",async t=>{var r;(r=this.contract)!=null&&r.address&&this.contract.removeAllListeners(),this.contract=this.chestSC.interface;for(const i of this.events)this.contract.on(i,s=>{this.refreshLoots(),console.log("event: ",s)});this.refreshLoots()})}),this.raycaster.on("click_chest",()=>{let e=this.animation.action.current,t=this.sounds.openChest,r=this.sounds.closeChest;e.paused?(e.paused=!1,r.play(),setTimeout(()=>e.stop(),500),this.closeAnimation()):(e.play(),t.play(),setTimeout(()=>e.paused=!0,500))}),this.raycaster.on("click_button",async e=>{let t=e.split("_")[1],r=this.experience.world.user.wallet,i=this.chestSC,s={items:[],tokenIds:[],amounts:[]},o=[];if(this.clickButtonAnimation(this[`${t}Button`]),t==="lootAll"){const a=await this.contract.callStatic.look();s.items=a.items,s.tokenIds=a.tokenIds,s.amounts=a.amounts,o=a.type_;const l=await TR(r,i.interface,s,o,this.experience.toast);i.handleTxs(l,"chestSC","batchLoot")}else if(t==="lootSelected"&&Object.values(this.selected).length>0){for(const l of Object.values(this.selected))s.items.push(l.item.address),s.tokenIds.push(l.item.id),s.amounts.push(l.item.amount),o.push(l.item.type);const a=await TR(r,i.interface,s,o,this.experience.toast);i.handleTxs(a,"chestSC","batchLoot")}}),this.raycaster.on("mouse_enter_chest",e=>{this.chestStructure.layers.enable(1)}),this.raycaster.on("mouse_leave_chest",e=>{this.chestStructure.layers.disable(1)}),this.raycaster.on("mouse_enter_button",e=>{let t=e.split("_")[1];this[`${t}Button`].layers.enable(2),this[`${t}Button`].children[0].material.emissiveIntensity=10,this[`${t}Button`].children[0].material.emissive=new We("#CE48E7")}),this.raycaster.on("mouse_leave_button",e=>{let t=e.split("_")[1];this[`${t}Button`].layers.disable(2),this[`${t}Button`].children[0].material.emissiveIntensity=.5,this[`${t}Button`].children[0].material.emissive=new We("#FFFFFF")})}async refreshLoots(){const e=this.loots.map(s=>s.item),t=await this.contract.callStatic.look().then(s=>this.parseLoot(s));let r=[],i=[];r=this.loots.filter(s=>!t.map(o=>JSON.stringify(o)).includes(JSON.stringify(s.item))).map(s=>s.mesh),i=t.filter(s=>!e.map(o=>JSON.stringify(o)).includes(JSON.stringify(s))),this.removeLoots(r),this.addLoots(i),this.loots=this.loots.filter(s=>!r.map(o=>o.uuid).includes(s.mesh.uuid))}removeLoots(e){for(const t of e)t.geometry.dispose(),t.material.dispose(),this.raycaster.objectsToTest.filter(r=>r.name.startsWith(t.name.split("_")[0])),Object.keys(this.selected).includes(t.uuid)&&delete this.selected[t.uuid],this.scene.remove(t);Object.values(this.selected).length===0&&(this.lootSelectedButton.material.color=new We("#5E5E5E"))}addLoots(e){for(let t=0;t<e.length;t++)this.loots.push(new YDe(this,{address:e[t].address,id:e[t].id,amount:e[t].amount,type:e[t].type}));this.outlineChest.selection.set(this.raycaster.objectsToTest),this.raycaster.objectsToTest.forEach(t=>t.layers.disable(2))}parseLoot(e){let t=[];return e.items.forEach((r,i)=>{t.push({address:e.items[i],id:e.tokenIds[i],amount:e.amounts[i],type:e.type_[i]})}),t}async openAnimation(){if(this.animation.action.current.paused){if(this.locked===!1&&this.openned===!1){this.locked=!0;let e=this.chestScene.getWorldDirection(new Z);e.x=-e.x;for(let t=0;t<this.loots.length;t++){let r=new Z().copy(this.originPos);r.add(new Z().addScalar(t-this.loots.length/2+.5).multiply(e)),r.add(new Z(0,Math.cos(Math.sin(-this.time.getElapsedTime()))+this.openYaxisOffset,0));let i=this.loots[t].mesh.position,s=this.loots[t].mesh.rotation;Lr.to(i,{duration:.5,ease:"power1.out",x:r.x,y:r.y,z:r.z}),Lr.to(s,{duration:.5,ease:"power1.out",x:s.x,y:s.y,z:s.z*Math.PI}),await this.sleep(200),setTimeout(()=>this.loots[t].out=!0,300)}if(await this.sleep(600),Object.values(this.loots).length>0){let t=new Z().copy(this.originPos),r=new Z().copy(this.lootAllButton.scale);Lr.to(this.lootAllButton.position,{duration:1,ease:"power1.out",x:t.x,y:t.y+1,z:t.z}),Lr.to(this.lootAllButton.scale,{duration:1,ease:"power1.out",x:r.x+.1,y:r.y+.1,z:r.z+.1}),Lr.to(this.lootSelectedButton.position,{duration:1,ease:"power1.out",x:t.x,y:t.y+1,z:t.z}),Lr.to(this.lootSelectedButton.scale,{duration:1,ease:"power1.out",x:r.x+.1,y:r.y+.1,z:r.z+.1}),await this.sleep(1100),t.copy(this.lootAllButton.position),Lr.to(this.lootAllButton.position,{duration:.4,ease:"power1.out",x:t.x+e.x,y:t.y,z:t.z+e.z}),Lr.to(this.lootSelectedButton.position,{duration:.4,ease:"power1.out",x:t.x-e.x,y:t.y,z:t.z-e.z})}this.openned=!0,this.locked=!1}this.loots.forEach(e=>e.update())}}closeAnimation(){var e,t,r,i;for(const s of this.loots)s.mesh.position.copy(this.chestScene.position),s.out=!1;(e=this.lootAllButton)==null||e.position.copy(this.originPos),(t=this.lootAllButton)==null||t.scale.subScalar(.1),(r=this.lootSelectedButton)==null||r.position.copy(this.originPos),(i=this.lootSelectedButton)==null||i.scale.subScalar(.1),this.openned=!1}async clickButtonAnimation(e){let t=new Z().copy(e.scale);Lr.to(e.scale,{duration:.1,ease:"power1.out",x:e.scale.x,y:e.scale.y,z:.03}),await this.sleep(100),Lr.to(e.scale,{duration:.1,ease:"power1.out",x:e.scale.x,y:e.scale.y,z:t.z})}sleep(e){return new Promise(t=>setTimeout(t,e))}update(){this.animation.mixer.update(.02),this.openAnimation()}}class xBe{constructor(e){te(this,"experience");te(this,"scene");te(this,"camera");te(this,"debug");te(this,"environment");te(this,"lightGroup");te(this,"debugFolder");te(this,"debugFolders",{});te(this,"debugFunc",{});this.experience=vr.Instance(),this.scene=this.experience.scene,this.camera=this.experience.camera,this.debug=this.experience.debug,this.environment=e,this.lightGroup=new dc,this.scene.add(this.lightGroup),this.debug.active&&(this.debugFolder=this.debug.ui.addFolder("Environment"),this.debugFolder.add(this,"createPointLight"),this.debugFolders.ambientDebugFolder=this.debugFolder.addFolder("ambient light"),this.debugFolders.ambientDebugFolder.addColor(this.environment.ambientLights.ambientLight,"color"),this.debugFolders.ambientDebugFolder.add(this.environment.ambientLights.ambientLight,"intensity").min(0).max(1).step(.001),this.debugFolders.pointDebugFolder=this.debugFolder.addFolder("point light"),this.debugFolders.pointDebugFolder.addColor(this.environment.pointLights.pointLight,"color"),this.debugFolders.pointDebugFolder.add(this.environment.pointLights.pointLight,"intensity").min(0).max(1e3).step(.001),this.debugFolders.pointDebugFolder.add(this.environment.pointLights.pointLight.position,"x").min(-500).max(500).step(.1).name("position x"),this.debugFolders.pointDebugFolder.add(this.environment.pointLights.pointLight.position,"y").min(-500).max(500).step(.1).name("position y"),this.debugFolders.pointDebugFolder.add(this.environment.pointLights.pointLight.position,"z").min(-500).max(500).step(.1).name("position z"),this.debugFolders.pointDebugFolder.add(this.environment.pointLights.pointLight.rotation,"x").min(-3.14).max(3.14).step(.1).name("rotation x"),this.debugFolders.pointDebugFolder.add(this.environment.pointLights.pointLight.rotation,"y").min(-3.14).max(3.14).step(.1).name("rotation y"),this.debugFolders.pointDebugFolder.add(this.environment.pointLights.pointLight.rotation,"z").min(-3.14).max(3.14).step(.1).name("rotation z"))}createPointLight(){const e=Object.entries(this.environment.pointLights).length;this.environment.pointLights[`pointLight ${e}`]=new gx("#ffffff",.3),this.lightGroup.add(this.environment.pointLights[`pointLight ${e}`]);const t={removePointLight:()=>this.removePointLight(e),helper:!1};this.debugFolders.pointDebugFolder=this.debugFolder.addFolder(`point light ${e}`),this.debugFolders.pointDebugFolder.add(t,"removePointLight"),this.debugFolders.pointDebugFolder.add(t,"helper").onChange(r=>this.togglePointLightHelper(e,r)),this.debugFolders.pointDebugFolder.addColor(this.environment.pointLights[`pointLight ${e}`],"color"),this.debugFolders.pointDebugFolder.add(this.environment.pointLights[`pointLight ${e}`],"intensity").min(0).max(1e3).step(.1),this.debugFolders.pointDebugFolder.add(this.environment.pointLights[`pointLight ${e}`].position,"x").min(-500).max(500).step(.1).name("position x"),this.debugFolders.pointDebugFolder.add(this.environment.pointLights[`pointLight ${e}`].position,"y").min(-500).max(500).step(.1).name("position y"),this.debugFolders.pointDebugFolder.add(this.environment.pointLights[`pointLight ${e}`].position,"z").min(-500).max(500).step(.1).name("position z"),this.debugFolders.pointDebugFolder.add(this.environment.pointLights[`pointLight ${e}`].rotation,"x").min(-3.14).max(3.14).step(.1).name("rotation x"),this.debugFolders.pointDebugFolder.add(this.environment.pointLights[`pointLight ${e}`].rotation,"y").min(-3.14).max(3.14).step(.1).name("rotation y"),this.debugFolders.pointDebugFolder.add(this.environment.pointLights[`pointLight ${e}`].rotation,"z").min(-3.14).max(3.14).step(.1).name("rotation z")}removePointLight(e){this.environment.pointLights[`pointLight ${e}`].dispose(),this.scene.remove(this.environment.pointLights[`pointLight ${e}`]),this.debugFolders.pointDebugFolder.destroy()}togglePointLightHelper(e,t){if(t){const i=new Xq(this.environment.pointLights[`pointLight ${e}`],1);this.scene.add(i),this.environment.pointLightsHelper[`pointLightHelper ${e}`]=i}else{let r=this.environment.pointLightsHelper[`pointLightHelper ${e}`];r.dispose(),this.scene.remove(r)}}}class _Be{constructor(){te(this,"experience");te(this,"scene");te(this,"resources");te(this,"debug");te(this,"ambientLights",{});te(this,"pointLights",{});te(this,"pointLightsHelper",{});te(this,"directionalLights",{});te(this,"directionalLightsHelper",{});te(this,"spotLights",{});te(this,"spotLightsHelper",{});te(this,"environmentMap",{});this.experience=vr.Instance(),this.scene=this.experience.scene,this.resources=this.experience.resources,this.setDebug()}setLights(){this.ambientLights.ambientLight=new wI("#ffffff",.1),this.pointLights.pointLight=new gx("#ffffff",.5),this.pointLights.pointLight.castShadow=!0,this.pointLights.pointLight.position.y=10,this.scene.add(this.ambientLights.ambientLight,this.pointLights.pointLight)}setEnvironmentMap(){this.environmentMap.intensity=.4,this.environmentMap.texture=this.resources.items.environmentMapTexture,this.environmentMap.texture.encoding=It,this.scene.environment=this.environmentMap.texture,this.environmentMap.updateMaterial=()=>{this.scene.traverse(e=>{e instanceof Vr&&e.material instanceof As&&(e.material.envMap=this.environmentMap.texture,e.material.envMapIntensity=this.environmentMap.intensity,e.material.needsUpdate=!0)})},this.environmentMap.updateMaterial()}setDebug(){this.experience.debug.active&&(this.debug=new xBe(this))}}class tw extends lg{constructor(t,r,i,s){var o;super();te(this,"experience");te(this,"toast");te(this,"scene");te(this,"raycaster");te(this,"factory");te(this,"root");te(this,"materials");te(this,"resources");te(this,"sounds");te(this,"lootBoxScene");te(this,"user");te(this,"_address");te(this,"interface");te(this,"abi");te(this,"deployer");te(this,"pending",{});te(this,"deployed",[]);te(this,"receipt",[]);te(this,"model");te(this,"functions",{});te(this,"inputsScreen");te(this,"metaScreen");te(this,"network");te(this,"meshAddress");te(this,"events",{});this.experience=vr.Instance(),this.toast=this.experience.toast,this.scene=this.experience.scene,this.factory=this.experience.factory,this.raycaster=this.experience.raycaster,this.root=this.experience.root,this.materials=this.experience.materials,this.resources=this.experience.resources,this.sounds=this.experience.sounds,this.abi=t,this.model=r,this.inputsScreen=r.children.find(a=>a.name.split("_").pop()==="inputsScreen"),this.metaScreen=r.children.find(a=>a.name.split("_").pop()==="metaScreen"),this.network=r.children.find(a=>a.name.split("_").pop()==="network"),this.deployer=new fDe(t,i,(o=this.user)==null?void 0:o.wallet.signer),s&&(this.interface=new cf(s,t),this._address=s),this.parseFunctions(),this.setEvents()}parseFunctions(){var t;for(const r of this.model.children)if(r.name.split("_")[1]==="function"&&r.name.split("_").length===3){const i=r.name.split("_").pop();this.functions[i]={front:{},contractFunctions:{},lib:{},icon:""},this.functions[i].lib.materials={default:r.material},this.functions[i].lib.scales={default:new Z().copy(r.scale)},this.functions[i].front.body=r;const s=this.model.getObjectByName(`${r.name}_text`);s.geometry.copy(this.factory.createTextGeometry(i,{size:.02}));const o=i.length>6?6/i.length*1.6:1;s.scale.multiply(new Z(o,o,.05));const a=r.name.split("_")[0];this.functions[i].contractFunctions=(t=this.experience.root[a])==null?void 0:t.children.find(l=>l.name===a+" "+i)}}setEvents(){for(const t of this.model.children)t.name.split("_")[1]==="function"&&(this.experience.raycaster.on("enter"+t.name,()=>{this.sounds.playFuncHover("hover2"),t.scale.multiplyScalar(1.2)}),this.experience.raycaster.on("leave"+t.name,()=>{const r=t.name.split("_").pop();t.material=this.functions[r].lib.materials.default,t.scale.copy(this.functions[r].lib.scales.default)}),this.experience.raycaster.on("click_"+t.name,r=>{const i=t.name.split("_").pop();i==="deploy"||i==="import"?(this.metaScreen.add(this.functions[i].contractFunctions),this.metaScreen.visible=!0):(this.inputsScreen.add(this.functions[i].contractFunctions),this.functions[i].contractFunctions.rotation.copy(this.inputsScreen.rotation),this.inputsScreen.visible=!0)}),this.experience.raycaster.on("main",r=>{this.inputsScreen.visible=!1,this.metaScreen.visible=!1}));this.raycaster.on("mouse_enter_"+this.model.name,()=>{this.model.layers.enable(1)}),this.raycaster.on("mouse_leave_"+this.model.name,()=>{this.model.layers.disable(1)})}async handleTxs(t,r,i){let s=this.experience.world.user.wallet;window.setTimeout(()=>this.toast.txSent({wallet:s,contractName:r,funcName:i,tx:t}),100),this._txPending(),this.pending[t.hash]=t;try{const o=await t.wait();this._txSuccess(),this.toast.txValided({wallet:s,contractName:r,funcName:i,tx:t}),this.receipt.push(t),delete this.pending[t.hash],console.log(o)}catch(o){this._txFailed(),this.toast.txFailed({wallet:s,contractName:r,funcName:i,tx:t,error:o}),delete this.pending[t.hash];return}}async handleDeployment(t,r,i){let s=this.experience.world.user.wallet;window.setTimeout(()=>this.toast.txSent({wallet:s,contractName:r,funcName:i,tx:t}),100),this._txPending(),this.pending[t.deployTransaction.hash]=t;try{await t.deployed(),this.toast.deploy({wallet:s,contractName:r,funcName:i,tx:t})}catch(o){this._txFailed(),this.toast.txFailed({wallet:s,contractName:r,funcName:i,tx:t,error:o}),delete this.pending[t.deployTransaction.hash];return}this.deployed.push(t.address),this.receipt.push(t),delete this.pending[t.deployTransaction.hash],this.attachAddress(t.address),this._txSuccess()}attachAddress(t){var r;this.interface=new cf(t,this.abi,(r=this.experience.world.user)==null?void 0:r.wallet.signer),this._address=t,this.network.material=this.materials.items.ethConnected,this.network.children[0].intensity=2,this.network.children[0].distance=5,this.network.children[0].color.copy(this.materials.items.ethConnected.color)}getAddress(){return this._address}update(){this._address&&(this.network.rotation.z+=.025)}_txSuccess(){this.network.material=this.materials.items.txValided,this.network.children[0].color.copy(this.materials.items.txValided.color),setTimeout(()=>{this.network.material=this.materials.items.ethConnected,this.network.children[0].color.copy(this.materials.items.ethConnected.color)},1e4)}_txPending(){this.network.material=this.materials.items.txPending,this.network.children[0].color.copy(this.materials.items.txPending.color)}_txFailed(){this.network.material=this.materials.items.txFailed,this.network.children[0].color.copy(this.materials.items.txFailed.color)}}class bBe{constructor(){te(this,"experience");te(this,"scene");te(this,"resources");te(this,"materials");te(this,"resource");te(this,"contracts");te(this,"floor");te(this,"house");te(this,"lamp");te(this,"nature");te(this,"steps");te(this,"portal");te(this,"gotchi");te(this,"walls",{});te(this,"models",{});te(this,"smartContracts",{});this.experience=vr.Instance(),this.scene=this.experience.scene,this.materials=this.experience.materials,this.resources=this.experience.resources,this.parseModel(),this.setMaterials(),this.setSmartContract()}parseModel(){this.contracts=this.resources.items.contractsModel.scene,this.floor=this.resources.items.floorModel.scene,this.house=this.resources.items.houseModel.scene,this.lamp=this.resources.items.lampModel.scene,this.nature=this.resources.items.natureModel.scene,this.steps=this.resources.items.stepsModel.scene,this.portal=this.resources.items.portalModel.scene,this.gotchi=this.resources.items.gotchiModel.scene,this.walls.wall1=this.resources.items.wall1Model.scene,this.walls.wall2=this.resources.items.wall2Model.scene,this.walls.wall3=this.resources.items.wall3Model.scene,this.walls.wall4=this.resources.items.wall4Model.scene,this.walls.wall5=this.resources.items.wall5Model.scene,this.walls.wall6=this.resources.items.wall6Model.scene,this.walls.wall7=this.resources.items.wall7Model.scene,this.walls.wall8=this.resources.items.wall8Model.scene,this.walls.wall9=this.resources.items.wall9Model.scene,this.walls.wall10=this.resources.items.wall10Model.scene,this.walls.wallDoor1=this.resources.items.wallDoor1Model.scene,this.walls.wallDoor2=this.resources.items.wallDoor2Model.scene,this.walls.wallOrigin=this.resources.items.wallOriginModel.scene,this.models.chestSC=this.contracts.getObjectByName("chestSC"),this.models.erc20SC=this.contracts.getObjectByName("erc20SC"),this.models.erc721SC=this.contracts.getObjectByName("erc721SC"),this.models.erc1155SC=this.contracts.getObjectByName("erc1155SC"),this.models.clickMe=this.nature.getObjectByName("clickMe"),this.models.grass=this.floor.getObjectByName("forest_ground"),this.models.road=this.floor.getObjectByName("road"),this.models.armature=this.portal.getObjectByName("armature"),this.models.portal=this.portal.getObjectByName("portal"),this.models.stairs=this.portal.getObjectByName("stairs"),this.scene.add(this.floor,this.contracts,this.house,this.lamp,this.nature,this.steps,...Object.values(this.walls),this.portal)}setMaterials(){this.resources.on("texturesMapped",()=>{this.lamp.getObjectByName("poleLights").children[0].intensity=.4,this.lamp.getObjectByName("poleLights").children[1].intensity=.4,this.lamp.traverse(e=>e.isMesh?e.material.toneMapped=!1:""),this.contracts.traverse(e=>e.isMesh?e.material.toneMapped=!1:""),this.steps.traverse(e=>e.isMesh?e.material.toneMapped=!1:""),this.models.chestSC.getObjectByName("chestSC_function_deploy").material=this.materials.items.deployContract,this.models.chestSC.getObjectByName("chestSC_function_import").material=this.materials.items.import,this.models.chestSC.getObjectByName("chestSC_function_addWhitelist").material=this.materials.items.addWhitelist,this.models.chestSC.getObjectByName("chestSC_function_batchDeposit").material=this.materials.items.deposit,this.models.chestSC.getObjectByName("chestSC_function_loot").material=this.materials.items.loot,this.models.chestSC.getObjectByName("chestSC_function_batchLoot").material=this.materials.items.batchLoot,this.models.chestSC.getObjectByName("chestSC_function_transferOwnership").material=this.materials.items.transferOwnership,this.models.chestSC.getObjectByName("chestSC_network").material=this.materials.items.contractInterfaceMaterial,this.models.chestSC.getObjectByName("chestSC_interface").material=this.materials.items.contractInterfaceMaterial,this.models.chestSC.getObjectByName("chestSC_inputsScreen").material=this.materials.items.contractInterfaceMaterial,this.models.chestSC.getObjectByName("chestSC_metaScreen").material=this.materials.items.contractInterfaceMaterial,this.models.chestSC.getObjectByName("chestSC_metaScreen").visible=!1,this.models.chestSC.getObjectByName("chestSC_inputsScreen").visible=!1,this.models.erc20SC.getObjectByName("erc20SC_function_deploy").material=this.materials.items.deployContract,this.models.erc20SC.getObjectByName("erc20SC_function_import").material=this.materials.items.import,this.models.erc20SC.getObjectByName("erc20SC_function_approve").material=this.materials.items.approveErc20,this.models.erc20SC.getObjectByName("erc20SC_function_transfer").material=this.materials.items.transferErc20,this.models.erc20SC.getObjectByName("erc20SC_function_mint").material=this.materials.items.mintErc20,this.models.erc20SC.getObjectByName("erc20SC_function_burn").material=this.materials.items.burnErc20,this.models.erc20SC.getObjectByName("erc20SC_function_transferOwnership").material=this.materials.items.transferOwnership,this.models.erc20SC.getObjectByName("erc20SC_network").material=this.materials.items.contractInterfaceMaterial,this.models.erc20SC.getObjectByName("erc20SC_interface").material=this.materials.items.contractInterfaceMaterial,this.models.erc20SC.getObjectByName("erc20SC_inputsScreen").material=this.materials.items.contractInterfaceMaterial,this.models.erc20SC.getObjectByName("erc20SC_metaScreen").material=this.materials.items.contractInterfaceMaterial,this.models.erc20SC.getObjectByName("erc20SC_metaScreen").visible=!1,this.models.erc20SC.getObjectByName("erc20SC_inputsScreen").visible=!1,this.models.erc721SC.getObjectByName("erc721SC_function_deploy").material=this.materials.items.deployContract,this.models.erc721SC.getObjectByName("erc721SC_function_import").material=this.materials.items.import,this.models.erc721SC.getObjectByName("erc721SC_function_approve").material=this.materials.items.approveErc721,this.models.erc721SC.getObjectByName("erc721SC_function_setApprovalForAll").material=this.materials.items.approveAllErc721,this.models.erc721SC.getObjectByName("erc721SC_function_safeTransferFrom").material=this.materials.items.transferErc721,this.models.erc721SC.getObjectByName("erc721SC_function_safeMint").material=this.materials.items.mintErc721,this.models.erc721SC.getObjectByName("erc721SC_function_burn").material=this.materials.items.burnErc721,this.models.erc721SC.getObjectByName("erc721SC_function_transferOwnership").material=this.materials.items.transferOwnership,this.models.erc721SC.getObjectByName("erc721SC_network").material=this.materials.items.contractInterfaceMaterial,this.models.erc721SC.getObjectByName("erc721SC_interface").material=this.materials.items.contractInterfaceMaterial,this.models.erc721SC.getObjectByName("erc721SC_inputsScreen").material=this.materials.items.contractInterfaceMaterial,this.models.erc721SC.getObjectByName("erc721SC_metaScreen").material=this.materials.items.contractInterfaceMaterial,this.models.erc721SC.getObjectByName("erc721SC_metaScreen").visible=!1,this.models.erc721SC.getObjectByName("erc721SC_inputsScreen").visible=!1,this.models.erc1155SC.getObjectByName("erc1155SC_function_deploy").material=this.materials.items.deployContract,this.models.erc1155SC.getObjectByName("erc1155SC_function_import").material=this.materials.items.import,this.models.erc1155SC.getObjectByName("erc1155SC_function_setApprovalForAll").material=this.materials.items.approveAllErc1155,this.models.erc1155SC.getObjectByName("erc1155SC_function_safeTransferFrom").material=this.materials.items.transferErc1155,this.models.erc1155SC.getObjectByName("erc1155SC_function_safeBatchTransferFrom").material=this.materials.items.batchTransferErc1155,this.models.erc1155SC.getObjectByName("erc1155SC_function_mint").material=this.materials.items.mintErc1155,this.models.erc1155SC.getObjectByName("erc1155SC_function_mintBatch").material=this.materials.items.batchMintErc1155,this.models.erc1155SC.getObjectByName("erc1155SC_function_burn").material=this.materials.items.burnErc1155,this.models.erc1155SC.getObjectByName("erc1155SC_function_burnBatch").material=this.materials.items.batchBurnErc1155,this.models.erc1155SC.getObjectByName("erc1155SC_function_transferOwnership").material=this.materials.items.transferOwnership,this.models.erc1155SC.getObjectByName("erc1155SC_network").material=this.materials.items.contractInterfaceMaterial,this.models.erc1155SC.getObjectByName("erc1155SC_interface").material=this.materials.items.contractInterfaceMaterial,this.models.erc1155SC.getObjectByName("erc1155SC_inputsScreen").material=this.materials.items.contractInterfaceMaterial,this.models.erc1155SC.getObjectByName("erc1155SC_metaScreen").material=this.materials.items.contractInterfaceMaterial,this.models.erc1155SC.getObjectByName("erc1155SC_metaScreen").visible=!1,this.models.erc1155SC.getObjectByName("erc1155SC_inputsScreen").visible=!1,this.models.grass.material.map.repeat=new Le(2,3),this.models.grass.material.wrapS=Ol,this.models.grass.material.wrapT=Ol,this.models.portal.material=this.materials.items.portalLightMaterial,this.models.portal.material.side=an,this.gotchi.getObjectByName("body").children[0].material=this.materials.items.gotchiBody,this.gotchi.getObjectByName("eth").material=this.materials.items.portalLightMaterial})}setSmartContract(){this.resources.on("texturesMapped",()=>{this.smartContracts.chestSC=new tw(this.resources.items.chestAbi.abi,this.models.chestSC,this.resources.items.chestAbi.bytecode),this.smartContracts.erc20SC=new tw(this.resources.items.erc20Abi.abi,this.models.erc20SC,this.resources.items.erc20Abi.bytecode),this.smartContracts.erc721SC=new tw(this.resources.items.erc721Abi.abi,this.models.erc721SC,this.resources.items.erc721Abi.bytecode),this.smartContracts.erc1155SC=new tw(this.resources.items.erc1155Abi.abi,this.models.erc1155SC,this.resources.items.erc1155Abi.bytecode)})}update(){for(const e of Object.values(this.smartContracts))e.update();this.materials.items.portalLightMaterial.uniforms.uTime.value=this.experience.time.elapsedTime.toFixed(2)}}var C2={},wBe={get exports(){return C2},set exports(n){C2=n}},o0=typeof Reflect=="object"?Reflect:null,nU=o0&&typeof o0.apply=="function"?o0.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},Jw;o0&&typeof o0.ownKeys=="function"?Jw=o0.ownKeys:Object.getOwnPropertySymbols?Jw=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Jw=function(e){return Object.getOwnPropertyNames(e)};function SBe(n){console&&console.warn&&console.warn(n)}var eZ=Number.isNaN||function(e){return e!==e};function ir(){ir.init.call(this)}wBe.exports=ir;C2.once=CBe;ir.EventEmitter=ir;ir.prototype._events=void 0;ir.prototype._eventsCount=0;ir.prototype._maxListeners=void 0;var rU=10;function pE(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(ir,"defaultMaxListeners",{enumerable:!0,get:function(){return rU},set:function(n){if(typeof n!="number"||n<0||eZ(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");rU=n}});ir.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ir.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||eZ(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function tZ(n){return n._maxListeners===void 0?ir.defaultMaxListeners:n._maxListeners}ir.prototype.getMaxListeners=function(){return tZ(this)};ir.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")nU(l,this,t);else for(var c=l.length,d=oZ(l,c),r=0;r<c;++r)nU(d[r],this,t);return!0};function nZ(n,e,t,r){var i,s,o;if(pE(t),s=n._events,s===void 0?(s=n._events=Object.create(null),n._eventsCount=0):(s.newListener!==void 0&&(n.emit("newListener",e,t.listener?t.listener:t),s=n._events),o=s[e]),o===void 0)o=s[e]=t,++n._eventsCount;else if(typeof o=="function"?o=s[e]=r?[t,o]:[o,t]:r?o.unshift(t):o.push(t),i=tZ(n),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=n,a.type=e,a.count=o.length,SBe(a)}return n}ir.prototype.addListener=function(e,t){return nZ(this,e,t,!1)};ir.prototype.on=ir.prototype.addListener;ir.prototype.prependListener=function(e,t){return nZ(this,e,t,!0)};function ABe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function rZ(n,e,t){var r={fired:!1,wrapFn:void 0,target:n,type:e,listener:t},i=ABe.bind(r);return i.listener=t,r.wrapFn=i,i}ir.prototype.once=function(e,t){return pE(t),this.on(e,rZ(this,e,t)),this};ir.prototype.prependOnceListener=function(e,t){return pE(t),this.prependListener(e,rZ(this,e,t)),this};ir.prototype.removeListener=function(e,t){var r,i,s,o,a;if(pE(t),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():EBe(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};ir.prototype.off=ir.prototype.removeListener;ir.prototype.removeAllListeners=function(e){var t,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function iZ(n,e,t){var r=n._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?MBe(i):oZ(i,i.length)}ir.prototype.listeners=function(e){return iZ(this,e,!0)};ir.prototype.rawListeners=function(e){return iZ(this,e,!1)};ir.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):sZ.call(n,e)};ir.prototype.listenerCount=sZ;function sZ(n){var e=this._events;if(e!==void 0){var t=e[n];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}ir.prototype.eventNames=function(){return this._eventsCount>0?Jw(this._events):[]};function oZ(n,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=n[r];return t}function EBe(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}function MBe(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}function CBe(n,e){return new Promise(function(t,r){function i(o){n.removeListener(e,s),r(o)}function s(){typeof n.removeListener=="function"&&n.removeListener("error",i),t([].slice.call(arguments))}aZ(n,e,s,{once:!0}),e!=="error"&&TBe(n,i,{once:!0})})}function TBe(n,e,t){typeof n.on=="function"&&aZ(n,"error",e,t)}function aZ(n,e,t,r){if(typeof n.on=="function")r.once?n.once(e,t):n.on(e,t);else if(typeof n.addEventListener=="function")n.addEventListener(e,function i(s){r.once&&n.removeEventListener(e,i),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}var vy;(function(n){n.Update="Web3ReactUpdate",n.Error="Web3ReactError",n.Deactivate="Web3ReactDeactivate"})(vy||(vy={}));function kBe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var RBe=function(n){kBe(e,n);function e(r){var i,s=r===void 0?{}:r,o=s.supportedChainIds;return i=n.call(this)||this,i.supportedChainIds=o,i}var t=e.prototype;return t.emitUpdate=function(i){this.emit(vy.Update,i)},t.emitError=function(i){this.emit(vy.Error,i)},t.emitDeactivate=function(){this.emit(vy.Deactivate)},e}(C2.EventEmitter);function kR(){return kR=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kR.apply(this,arguments)}function fL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function RR(n){return RR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},RR(n)}function T2(n,e){return T2=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},T2(n,e)}function PBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Qw(n,e,t){return PBe()?Qw=Reflect.construct:Qw=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),c=new l;return o&&T2(c,o.prototype),c},Qw.apply(null,arguments)}function IBe(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function k2(n){var e=typeof Map=="function"?new Map:void 0;return k2=function(r){if(r===null||!IBe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Qw(r,arguments,RR(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),T2(i,r)},k2(n)}function nw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function nm(n,e){try{var t=n()}catch(r){return e(r)}return t&&t.then?t.then(void 0,e):t}function Yl(n){return n.hasOwnProperty("result")?n.result:n}var $T=function(n){fL(e,n);function e(){var t;return t=n.call(this)||this,t.name=t.constructor.name,t.message="No Ethereum provider was found on window.ethereum.",t}return e}(k2(Error)),LBe=function(n){fL(e,n);function e(){var t;return t=n.call(this)||this,t.name=t.constructor.name,t.message="The user rejected the request.",t}return e}(k2(Error)),OBe=function(n){fL(e,n);function e(r){var i;return i=n.call(this,r)||this,i.handleNetworkChanged=i.handleNetworkChanged.bind(nw(i)),i.handleChainChanged=i.handleChainChanged.bind(nw(i)),i.handleAccountsChanged=i.handleAccountsChanged.bind(nw(i)),i.handleClose=i.handleClose.bind(nw(i)),i}var t=e.prototype;return t.handleChainChanged=function(i){this.emitUpdate({chainId:i,provider:window.ethereum})},t.handleAccountsChanged=function(i){i.length===0?this.emitDeactivate():this.emitUpdate({account:i[0]})},t.handleClose=function(i,s){this.emitDeactivate()},t.handleNetworkChanged=function(i){this.emitUpdate({chainId:i,provider:window.ethereum})},t.activate=function(){try{var i=function(d){if(s)return d;function u(){return kR({provider:window.ethereum},a?{account:a}:{})}var f=function(){if(!a)return Promise.resolve(window.ethereum.enable().then(function(h){return h&&Yl(h)[0]})).then(function(h){a=h})}();return f&&f.then?f.then(u):u(f)},s=!1,o=this;if(!window.ethereum)throw new $T;window.ethereum.on&&(window.ethereum.on("chainChanged",o.handleChainChanged),window.ethereum.on("accountsChanged",o.handleAccountsChanged),window.ethereum.on("close",o.handleClose),window.ethereum.on("networkChanged",o.handleNetworkChanged)),window.ethereum.isMetaMask&&(window.ethereum.autoRefreshOnNetworkChange=!1);var a,l=nm(function(){return Promise.resolve(window.ethereum.send("eth_requestAccounts").then(function(c){return Yl(c)[0]})).then(function(c){a=c})},function(c){if(c.code===4001)throw new LBe});return Promise.resolve(l&&l.then?l.then(i):i(l))}catch(c){return Promise.reject(c)}},t.getProvider=function(){try{return Promise.resolve(window.ethereum)}catch(i){return Promise.reject(i)}},t.getChainId=function(){try{var i=function(){function l(){if(!s)try{s=Yl(window.ethereum.send({method:"net_version"}))}catch{}return s||(window.ethereum.isDapper?s=Yl(window.ethereum.cachedResults.net_version):s=window.ethereum.chainId||window.ethereum.netVersion||window.ethereum.networkVersion||window.ethereum._chainId),s}var c=function(){if(!s){var d=nm(function(){return Promise.resolve(window.ethereum.send("net_version").then(Yl)).then(function(u){s=u})},function(){});if(d&&d.then)return d.then(function(){})}}();return c&&c.then?c.then(l):l(c)};if(!window.ethereum)throw new $T;var s,o=nm(function(){return Promise.resolve(window.ethereum.send("eth_chainId").then(Yl)).then(function(a){s=a})},function(){});return Promise.resolve(o&&o.then?o.then(i):i(o))}catch(a){return Promise.reject(a)}},t.getAccount=function(){try{var i=function(){function l(){return s||(s=Yl(window.ethereum.send({method:"eth_accounts"}))[0]),s}var c=function(){if(!s){var d=nm(function(){return Promise.resolve(window.ethereum.enable().then(function(u){return Yl(u)[0]})).then(function(u){s=u})},function(){});if(d&&d.then)return d.then(function(){})}}();return c&&c.then?c.then(l):l(c)};if(!window.ethereum)throw new $T;var s,o=nm(function(){return Promise.resolve(window.ethereum.send("eth_accounts").then(function(a){return Yl(a)[0]})).then(function(a){s=a})},function(){});return Promise.resolve(o&&o.then?o.then(i):i(o))}catch(a){return Promise.reject(a)}},t.deactivate=function(){window.ethereum&&window.ethereum.removeListener&&(window.ethereum.removeListener("chainChanged",this.handleChainChanged),window.ethereum.removeListener("accountsChanged",this.handleAccountsChanged),window.ethereum.removeListener("close",this.handleClose),window.ethereum.removeListener("networkChanged",this.handleNetworkChanged))},t.isAuthorized=function(){try{return window.ethereum?Promise.resolve(nm(function(){return Promise.resolve(window.ethereum.send("eth_accounts").then(function(i){return Yl(i).length>0}))},function(){return!1})):Promise.resolve(!1)}catch(i){return Promise.reject(i)}},e}(RBe);const NBe=I4e;new OBe({supportedChainIds:[1,4,10,58,137,1284,1285,42161,43114,80001]});A1(137),A1(80001);class DBe{constructor(e){te(this,"experience");te(this,"user");te(this,"scene");te(this,"resources");te(this,"factory");te(this,"ethereum");te(this,"provider");te(this,"signer");te(this,"isConnected",!1);te(this,"network","");te(this,"mesh",{});this.experience=vr.Instance(),this.user=e,this.scene=this.experience.scene,this.resources=this.experience.resources,this.factory=this.experience.factory,this.ethereum=window.ethereum,this.provider=window.ethereum&&new tU(window.ethereum),this.setConnect()}setConnect(){this.mesh.connect=this.factory.createTextMesh("connect","#5f2300"),this.mesh.connected=this.factory.createTextMesh("connected","green"),this.mesh.connect.position.set(3,2,0),this.mesh.connected.position.set(3,2,0),this.mesh.connect.rotation.y=-Math.PI*.15,this.mesh.connected.rotation.y=-Math.PI*.15,this.scene.add(this.mesh.connect)}async connect(){try{return this.ethereum=window.ethereum,window.ethereum.on("chainChanged",e=>window.location.reload()),await this.ethereum.request({method:"eth_requestAccounts"}),console.log("selected address: ",this.ethereum.selectedAddress),this.provider=new tU(this.ethereum),this.signer=await this.provider.getSigner(),this.isConnected=!0,this.network=NBe.NETWORKS[this.ethereum.networkVersion],this.mesh[this.network]===void 0&&(this.mesh[this.network]=this.factory.createTextMesh(this.network,"purple")),this.mesh[this.network].scale.set(.5,.5,.5),this.mesh[this.network].position.copy(this.mesh.connect.position),this.mesh[this.network].rotation.copy(this.mesh.connect.rotation),this.mesh[this.network].position.y-=.5,console.log("network: ",this.network),this.scene.remove(this.mesh.connect),this.scene.add(this.mesh[this.network]),this.scene.add(this.mesh.connected),!0}catch(e){return console.error(e.message),!1}}disconnect(){this.isConnected=!1,this.scene.remove(this.mesh.connected),this.scene.remove(this.mesh[this.network]),this.scene.add(this.mesh.connect)}update(){}}const WT=["ArrowUp","w","W"],iU=["ArrowDown","s","S"],jT=["ArrowLeft","a","A"],sU=["ArrowRight","d","D"];class BBe{constructor(){te(this,"experience");te(this,"room");te(this,"scene");te(this,"resources");te(this,"camera");te(this,"controller");te(this,"time");te(this,"debug");te(this,"wallet");te(this,"lootBoxScene");te(this,"fox",{});te(this,"gotchi",{});te(this,"isMoving",!1);te(this,"movements",{ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1});te(this,"movementType","idle");te(this,"movementMultiplier",{idle:1,walk:1,run:3});te(this,"debugFolder");te(this,"positionDebugFolder");te(this,"rotationDebugFolder");this.experience=vr.Instance(),this.room=n0.Instance(),this.wallet=new DBe(this),this.scene=this.experience.scene,this.resources=this.experience.resources,this.time=this.experience.time,this.camera=this.experience.camera,this.controller=this.experience.controller,this.lootBoxScene=this.experience.world.lootBoxScene,this.fox.model=this.resources.items.foxModel,this.gotchi.model=this.resources.items.gotchiModel,this.debug=this.experience.debug,this.camera.user=this,this.setGLTF(),this.setAnimations(),this.setActions(),this.room.listen()}setGLTF(){this.gotchi.scene=VX(this.lootBoxScene.gotchi),this.scene.add(this.gotchi.scene),this.gotchi.scene.traverse(e=>{e instanceof Vr&&(e.castShadow=!0,e.receiveShadow=!0)}),this.camera.controls.target=this.gotchi.scene.position}setAnimations(){this.gotchi.animation={},this.gotchi.animation.mixer=new ZA(this.gotchi.scene),this.gotchi.animation.action={},this.gotchi.animation.action.idle=this.gotchi.animation.mixer.clipAction(this.gotchi.model.animations[0]),this.gotchi.animation.action.walk=this.gotchi.animation.mixer.clipAction(this.gotchi.model.animations[1]),this.gotchi.animation.action.run=this.gotchi.animation.mixer.clipAction(this.gotchi.model.animations[1]),this.gotchi.animation.action.current=this.gotchi.animation.action.idle,this.gotchi.animation.action.current.play()}setActions(){window.addEventListener("keydown",e=>{this.room.socket.emit("keydown",e.key),WT.includes(e.key)&&(this.isMoving=!0,this.movements.ArrowUp=!0,this.movements.ArrowDown=!1,this.movementType="run",this.gotchi.animation.action.current=this.gotchi.animation.action.run,this.gotchi.animation.action.current.play(),this.gotchi.animation.action.idle.stop()),iU.includes(e.key)&&(this.isMoving=!0,this.movements.ArrowDown=!0,this.movements.ArrowUp=!1,this.movementType="walk",this.gotchi.animation.action.current=this.gotchi.animation.action.walk,this.gotchi.animation.action.current.play(),this.gotchi.animation.action.idle.stop()),jT.includes(e.key)&&(this.movements.ArrowLeft=!0,this.isMoving||(this.movementType="walk",this.gotchi.animation.action.current=this.gotchi.animation.action.walk,this.gotchi.animation.action.current.play())),sU.includes(e.key)&&(this.movements.ArrowRight=!0,this.isMoving||(this.movementType="walk",this.gotchi.animation.action.current=this.gotchi.animation.action.walk,this.gotchi.animation.action.current.play()))}),window.addEventListener("keyup",e=>{this.room.socket.emit("keyup",e.key),(WT.includes(e.key)||iU.includes(e.key))&&(WT.includes(e.key)?this.movements.ArrowUp=!1:this.movements.ArrowDown=!1,this.isMoving=!1,this.movementType="idle",this.gotchi.animation.action.current=this.gotchi.animation.action.idle,this.gotchi.animation.action.walk.stop(),this.gotchi.animation.action.current.play()),(jT.includes(e.key)||sU.includes(e.key))&&(jT.includes(e.key)?this.movements.ArrowLeft=!1:this.movements.ArrowRight=!1,this.isMoving||(this.movementType="idle",this.gotchi.animation.action.current=this.gotchi.animation.action.idle,this.gotchi.animation.action.walk.stop(),this.gotchi.animation.action.current.play()))})}move(){const e=new Z,t=this.gotchi.scene.getWorldDirection(e);this.movements.ArrowUp&&(this.gotchi.scene.position.z+=this.time.deltaTime*t.z*9,this.gotchi.scene.position.x+=this.time.deltaTime*t.x*9,this.room.socket.emit("move",this.gotchi.scene.position,this.gotchi.scene.rotation)),this.movements.ArrowDown&&(this.gotchi.scene.position.z-=this.time.deltaTime*t.z*3,this.gotchi.scene.position.x-=this.time.deltaTime*t.x*3,this.room.socket.emit("move",this.gotchi.scene.position,this.gotchi.scene.rotation)),this.movements.ArrowLeft&&(this.gotchi.scene.rotation.y+=this.time.deltaTime*3,this.room.socket.emit("move",this.gotchi.scene.position,this.gotchi.scene.rotation)),this.movements.ArrowRight&&(this.gotchi.scene.rotation.y-=this.time.deltaTime*3,this.room.socket.emit("move",this.gotchi.scene.position,this.gotchi.scene.rotation))}update(){this.move(),this.gotchi.animation.mixer.update(this.time.deltaTime*this.movementMultiplier[this.movementType])}}class FBe{constructor(){te(this,"experience");te(this,"scene");te(this,"resources");te(this,"lootBoxScene");te(this,"user");te(this,"environment");te(this,"chest");this.experience=vr.Instance(),this.scene=this.experience.scene,this.resources=this.experience.resources,this.resources.on("ready",async()=>{this.lootBoxScene=await new bBe,this.user=new BBe,this.environment=new _Be,this.chest=new yBe})}update(){var e,t,r;(e=this.user)==null||e.update(),(t=this.lootBoxScene)==null||t.update(),(r=this.chest)==null||r.update()}}const vL=class{constructor(e,t){te(this,"root");te(this,"room");te(this,"toast");te(this,"debug");te(this,"time");te(this,"scene");te(this,"resources");te(this,"preLoader");te(this,"factory");te(this,"mouse");te(this,"sounds");te(this,"camera");te(this,"controller");te(this,"world");te(this,"materials");te(this,"raycaster");te(this,"config",{touch:!1});this.root=e,vL._instance=this,this.room=new n0,this.resources=new p4e(iRe),this.preLoader=new _Pe,this.mouse=e.mouse,this.toast=new L4e,this.debug=new C4e,this.time=new O4e(e.clock),this.sounds=new RPe,this.scene=e.scene,this.factory=new k4e,this.camera=new xPe(t,e.camera),this.controller=new PPe,this.world=new FBe,this.materials=new R4e,this.raycaster=new T4e,window.addEventListener("touchstart",()=>{this.config.touch=!0},{once:!0})}update(){this.time.tick(),this.camera.update(),this.room.update(),this.world.update(),this.raycaster.update()}static Instance(e,t){return this._instance||(this._instance=new this(e,t))}};let vr=vL;te(vr,"_instance");const zBe=()=>{const n=vr.Instance(),{uDisplacement:e,uMulDisplacement:t,uStrength:r,uMulStrength:i,uOuterGlow:s,uMulOuterGlow:o,uFlat:a,uColorStart:l,uColorEnd:c}=n.materials.items.portalLightMaterial.uniforms;return n5("portal",{uDisplacement:{value:.1,min:0,max:2,step:.1,onChange:d=>e.value=d},uMulDisplacement:{value:5,min:0,max:50,step:.1,onChange:d=>t.value=d},uStrength:{value:.7,min:0,max:10,step:.1,onChange:d=>r.value=d},uMulStrength:{value:5,min:0,max:50,step:.1,onChange:d=>i.value=d},uOuterGlow:{value:1.4,min:0,max:2,step:.1,onChange:d=>s.value=d},uMulOuterGlow:{value:5,min:0,max:10,step:.1,onChange:d=>o.value=d},uFlat:{value:.8,min:0,max:5,step:.1,onChange:d=>a.value=d},uColorStart:{value:"#ffffff",onChange:d=>l.value=new We(d)},uColorEnd:{value:"#910cac",onChange:d=>c.value=new We(d)}}),B(sh,{})},VBe=()=>B(sh,{children:B(zBe,{})});var Ax=n=>n.type==="checkbox",Lm=n=>n instanceof Date,js=n=>n==null;const lZ=n=>typeof n=="object";var ls=n=>!js(n)&&!Array.isArray(n)&&lZ(n)&&!Lm(n),UBe=n=>ls(n)&&n.target?Ax(n.target)?n.target.checked:n.target.value:n,HBe=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,GBe=(n,e)=>n.has(HBe(e)),Ex=n=>Array.isArray(n)?n.filter(Boolean):[],Vi=n=>n===void 0,bt=(n,e,t)=>{if(!e||!ls(n))return t;const r=Ex(e.split(/[,[\].]+?/)).reduce((i,s)=>js(i)?i:i[s],n);return Vi(r)||r===n?Vi(n[e])?t:n[e]:r};const oU={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_l={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Kc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};H.createContext(null);var $Be=(n,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==_l.all&&(e._proxyFormState[o]=!r||_l.all),t&&(t[o]=!0),n[o]}});return i},ka=n=>ls(n)&&!Object.keys(n).length,WBe=(n,e,t)=>{const{name:r,...i}=n;return ka(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(s=>e[s]===(!t||_l.all))},qT=n=>Array.isArray(n)?n:[n];function jBe(n){const e=H.useRef(n);e.current=n,H.useEffect(()=>{const t=!n.disabled&&e.current.subject.subscribe({next:e.current.callback});return()=>{t&&t.unsubscribe()}},[n.disabled])}var bl=n=>typeof n=="string",qBe=(n,e,t,r)=>{const i=Array.isArray(n);return bl(n)?(r&&e.watch.add(n),bt(t,n)):i?n.map(s=>(r&&e.watch.add(s),bt(t,s))):(r&&(e.watchAll=!0),t)},R2=n=>typeof n=="function",cZ=n=>{for(const e in n)if(R2(n[e]))return!0;return!1},YBe=(n,e,t,r,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:i||!0}}:{},hL=n=>/^\w*$/.test(n),uZ=n=>Ex(n.replace(/["|']|\]/g,"").split(/\.|\[/));function Sr(n,e,t){let r=-1;const i=hL(e)?[e]:uZ(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=t;if(r!==o){const c=n[a];l=ls(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}n[a]=l,n=n[a]}return n}const PR=(n,e,t)=>{for(const r of t||Object.keys(n)){const i=bt(n,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else ls(o)&&PR(o,e)}}};var aU=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length)))),XBe=(n,e,t)=>{const r=Ex(bt(n,t));return Sr(r,"root",e[t]),Sr(n,t,r),n},yy=n=>typeof n=="boolean",pL=n=>n.type==="file",eS=n=>bl(n)||H.isValidElement(n),mL=n=>n.type==="radio",P2=n=>n instanceof RegExp;const lU={value:!1,isValid:!1},cU={value:!0,isValid:!0};var dZ=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Vi(n[0].attributes.value)?Vi(n[0].value)||n[0].value===""?cU:{value:n[0].value,isValid:!0}:cU:lU}return lU};const uU={isValid:!1,value:null};var fZ=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,uU):uU;function dU(n,e,t="validate"){if(eS(n)||Array.isArray(n)&&n.every(eS)||yy(n)&&!n)return{type:t,message:eS(n)?n:"",ref:e}}var rm=n=>ls(n)&&!P2(n)?n:{value:n,message:""},fU=async(n,e,t,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:d,max:u,pattern:f,validate:h,name:g,valueAsNumber:v,mount:x,disabled:y}=n._f;if(!x||y)return{};const _=o?o[0]:s,b=K=>{r&&bl(K)&&(_.setCustomValidity(K),_.reportValidity())},A={},E=mL(s),k=Ax(s),P=E||k,C=(v||pL(s))&&!s.value||e===""||Array.isArray(e)&&!e.length,O=YBe.bind(null,g,t,A),U=(K,J,F,S=Kc.maxLength,I=Kc.minLength)=>{const D=K?J:F;A[g]={type:K?S:I,message:D,ref:s,...O(K?S:I,D)}};if(i?!Array.isArray(e)||!e.length:a&&(!P&&(C||js(e))||yy(e)&&!e||k&&!dZ(o).isValid||E&&!fZ(o).isValid)){const{value:K,message:J}=eS(a)?{value:!!a,message:a}:rm(a);if(K&&(A[g]={type:Kc.required,message:J,ref:_,...O(Kc.required,J)},!t))return b(J),A}if(!C&&(!js(d)||!js(u))){let K,J;const F=rm(u),S=rm(d);if(!js(e)&&!isNaN(e)){const I=s.valueAsNumber||e&&+e;js(F.value)||(K=I>F.value),js(S.value)||(J=I<S.value)}else{const I=s.valueAsDate||new Date(e),D=G=>new Date(new Date().toDateString()+" "+G),$=s.type=="time",N=s.type=="week";bl(F.value)&&e&&(K=$?D(e)>D(F.value):N?e>F.value:I>new Date(F.value)),bl(S.value)&&e&&(J=$?D(e)<D(S.value):N?e<S.value:I<new Date(S.value))}if((K||J)&&(U(!!K,F.message,S.message,Kc.max,Kc.min),!t))return b(A[g].message),A}if((l||c)&&!C&&(bl(e)||i&&Array.isArray(e))){const K=rm(l),J=rm(c),F=!js(K.value)&&e.length>K.value,S=!js(J.value)&&e.length<J.value;if((F||S)&&(U(F,K.message,J.message),!t))return b(A[g].message),A}if(f&&!C&&bl(e)){const{value:K,message:J}=rm(f);if(P2(K)&&!e.match(K)&&(A[g]={type:Kc.pattern,message:J,ref:s,...O(Kc.pattern,J)},!t))return b(J),A}if(h){if(R2(h)){const K=await h(e),J=dU(K,_);if(J&&(A[g]={...J,...O(Kc.validate,J.message)},!t))return b(J.message),A}else if(ls(h)){let K={};for(const J in h){if(!ka(K)&&!t)break;const F=dU(await h[J](e),_,J);F&&(K={...F,...O(J,F.message)},b(F.message),t&&(A[g]=K))}if(!ka(K)&&(A[g]={ref:_,...K},!t))return A}}return b(!0),A},KBe=n=>{const e=n.constructor&&n.constructor.prototype;return ls(e)&&e.hasOwnProperty("isPrototypeOf")},IR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ih(n){let e;const t=Array.isArray(n);if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(IR&&(n instanceof Blob||n instanceof FileList))&&(t||ls(n)))if(e=t?[]:{},!Array.isArray(n)&&!KBe(n))e=n;else for(const r in n)e[r]=ih(n[r]);else return n;return e}var hU=n=>({isOnSubmit:!n||n===_l.onSubmit,isOnBlur:n===_l.onBlur,isOnChange:n===_l.onChange,isOnAll:n===_l.all,isOnTouch:n===_l.onTouched});function ZBe(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Vi(n)?r++:n[e[r++]];return n}function JBe(n){for(const e in n)if(!Vi(n[e]))return!1;return!0}function Hs(n,e){const t=hL(e)?[e]:uZ(e),r=t.length==1?n:ZBe(n,t),i=t[t.length-1];let s;r&&delete r[i];for(let o=0;o<t.slice(0,-1).length;o++){let a=-1,l;const c=t.slice(0,-(o+1)),d=c.length-1;for(o>0&&(s=n);++a<c.length;){const u=c[a];l=l?l[u]:n[u],d===a&&(ls(l)&&ka(l)||Array.isArray(l)&&JBe(l))&&(s?delete s[u]:delete n[u]),s=l}}return n}function YT(){let n=[];return{get observers(){return n},next:i=>{for(const s of n)s.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(s=>s!==i)}}),unsubscribe:()=>{n=[]}}}var I2=n=>js(n)||!lZ(n);function Om(n,e){if(I2(n)||I2(e))return n===e;if(Lm(n)&&Lm(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const s=n[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Lm(s)&&Lm(o)||ls(s)&&ls(o)||Array.isArray(s)&&Array.isArray(o)?!Om(s,o):s!==o)return!1}}return!0}var LR=n=>{const e=n?n.ownerDocument:0,t=e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement;return n instanceof t},hZ=n=>n.type==="select-multiple",QBe=n=>mL(n)||Ax(n),XT=n=>LR(n)&&n.isConnected;function L2(n,e={}){const t=Array.isArray(n);if(ls(n)||t)for(const r in n)Array.isArray(n[r])||ls(n[r])&&!cZ(n[r])?(e[r]=Array.isArray(n[r])?[]:{},L2(n[r],e[r])):js(n[r])||(e[r]=!0);return e}function pZ(n,e,t){const r=Array.isArray(n);if(ls(n)||r)for(const i in n)Array.isArray(n[i])||ls(n[i])&&!cZ(n[i])?Vi(e)||I2(t[i])?t[i]=Array.isArray(n[i])?L2(n[i],[]):{...L2(n[i])}:pZ(n[i],js(e)?{}:e[i],t[i]):Om(n[i],e[i])?delete t[i]:t[i]=!0;return t}var KT=(n,e)=>pZ(n,e,L2(e)),mZ=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Vi(n)?n:e?n===""?NaN:n&&+n:t&&bl(n)?new Date(n):r?r(n):n;function ZT(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return pL(e)?e.files:mL(e)?fZ(n.refs).value:hZ(e)?[...e.selectedOptions].map(({value:t})=>t):Ax(e)?dZ(n.refs).value:mZ(Vi(e.value)?n.ref.value:e.value,n)}var e6e=(n,e,t,r)=>{const i={};for(const s of n){const o=bt(e,s);o&&Sr(i,s,o._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:r}},Av=n=>Vi(n)?void 0:P2(n)?n.source:ls(n)?P2(n.value)?n.value.source:n.value:n,t6e=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function pU(n,e,t){const r=bt(n,t);if(r||hL(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const s=i.join("."),o=bt(e,s),a=bt(n,s);if(o&&!Array.isArray(o)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:t}}var n6e=(n,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?r.isOnBlur:i.isOnBlur)?!n:(t?r.isOnChange:i.isOnChange)?n:!0,r6e=(n,e)=>!Ex(bt(n,e)).length&&Hs(n,e);const i6e={mode:_l.onSubmit,reValidateMode:_l.onChange,shouldFocusError:!0};function s6e(n={}){let e={...i6e,...n},t={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},r={},i=ih(e.defaultValues)||{},s=e.shouldUnregister?{}:ih(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0,d={};const u={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={watch:YT(),array:YT(),state:YT()},h=hU(e.mode),g=hU(e.reValidateMode),v=e.criteriaMode===_l.all,x=X=>ee=>{clearTimeout(c),c=window.setTimeout(X,ee)},y=async()=>{let X=!1;return u.isValid&&(X=e.resolver?ka((await P()).errors):await O(r,!0),X!==t.isValid&&(t.isValid=X,f.state.next({isValid:X}))),X},_=(X,ee=[],ie,fe,Ce=!0,we=!0)=>{if(fe&&ie){if(o.action=!0,we&&Array.isArray(bt(r,X))){const Ne=ie(bt(r,X),fe.argA,fe.argB);Ce&&Sr(r,X,Ne)}if(u.errors&&we&&Array.isArray(bt(t.errors,X))){const Ne=ie(bt(t.errors,X),fe.argA,fe.argB);Ce&&Sr(t.errors,X,Ne),r6e(t.errors,X)}if(u.touchedFields&&we&&Array.isArray(bt(t.touchedFields,X))){const Ne=ie(bt(t.touchedFields,X),fe.argA,fe.argB);Ce&&Sr(t.touchedFields,X,Ne)}u.dirtyFields&&(t.dirtyFields=KT(i,s)),f.state.next({isDirty:K(X,ee),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Sr(s,X,ee)},b=(X,ee)=>{Sr(t.errors,X,ee),f.state.next({errors:t.errors})},A=(X,ee,ie,fe)=>{const Ce=bt(r,X);if(Ce){const we=bt(s,X,Vi(ie)?bt(i,X):ie);Vi(we)||fe&&fe.defaultChecked||ee?Sr(s,X,ee?we:ZT(Ce._f)):S(X,we),o.mount&&y()}},E=(X,ee,ie,fe,Ce)=>{let we=!1;const Ne={name:X},Ze=bt(t.touchedFields,X);if(u.isDirty){const nt=t.isDirty;t.isDirty=Ne.isDirty=K(),we=nt!==Ne.isDirty}if(u.dirtyFields&&(!ie||fe)){const nt=bt(t.dirtyFields,X);Om(bt(i,X),ee)?Hs(t.dirtyFields,X):Sr(t.dirtyFields,X,!0),Ne.dirtyFields=t.dirtyFields,we=we||nt!==bt(t.dirtyFields,X)}return ie&&!Ze&&(Sr(t.touchedFields,X,ie),Ne.touchedFields=t.touchedFields,we=we||u.touchedFields&&Ze!==ie),we&&Ce&&f.state.next(Ne),we?Ne:{}},k=(X,ee,ie,fe)=>{const Ce=bt(t.errors,X),we=u.isValid&&yy(ee)&&t.isValid!==ee;if(n.delayError&&ie?(l=x(()=>b(X,ie)),l(n.delayError)):(clearTimeout(c),l=null,ie?Sr(t.errors,X,ie):Hs(t.errors,X)),(ie?!Om(Ce,ie):Ce)||!ka(fe)||we){const Ne={...fe,...we&&yy(ee)?{isValid:ee}:{},errors:t.errors,name:X};t={...t,...Ne},f.state.next(Ne)}d[X]--,u.isValidating&&!Object.values(d).some(Ne=>Ne)&&(f.state.next({isValidating:!1}),d={})},P=async X=>e.resolver?await e.resolver({...s},e.context,e6e(X||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation)):{},C=async X=>{const{errors:ee}=await P();if(X)for(const ie of X){const fe=bt(ee,ie);fe?Sr(t.errors,ie,fe):Hs(t.errors,ie)}else t.errors=ee;return ee},O=async(X,ee,ie={valid:!0})=>{for(const fe in X){const Ce=X[fe];if(Ce){const{_f:we,...Ne}=Ce;if(we){const Ze=a.array.has(we.name),nt=await fU(Ce,bt(s,we.name),v,e.shouldUseNativeValidation,Ze);if(nt[we.name]&&(ie.valid=!1,ee))break;!ee&&(bt(nt,we.name)?Ze?XBe(t.errors,nt,we.name):Sr(t.errors,we.name,nt[we.name]):Hs(t.errors,we.name))}Ne&&await O(Ne,ee,ie)}}return ie.valid},U=()=>{for(const X of a.unMount){const ee=bt(r,X);ee&&(ee._f.refs?ee._f.refs.every(ie=>!XT(ie)):!XT(ee._f.ref))&&Ae(X)}a.unMount=new Set},K=(X,ee)=>(X&&ee&&Sr(s,X,ee),!Om(G(),i)),J=(X,ee,ie)=>{const fe={...o.mount?s:Vi(ee)?i:bl(X)?{[X]:ee}:ee};return qBe(X,a,fe,ie)},F=X=>Ex(bt(o.mount?s:i,X,n.shouldUnregister?bt(i,X,[]):[])),S=(X,ee,ie={})=>{const fe=bt(r,X);let Ce=ee;if(fe){const we=fe._f;we&&(!we.disabled&&Sr(s,X,mZ(ee,we)),Ce=IR&&LR(we.ref)&&js(ee)?"":ee,hZ(we.ref)?[...we.ref.options].forEach(Ne=>Ne.selected=Ce.includes(Ne.value)):we.refs?Ax(we.ref)?we.refs.length>1?we.refs.forEach(Ne=>(!Ne.defaultChecked||!Ne.disabled)&&(Ne.checked=Array.isArray(Ce)?!!Ce.find(Ze=>Ze===Ne.value):Ce===Ne.value)):we.refs[0]&&(we.refs[0].checked=!!Ce):we.refs.forEach(Ne=>Ne.checked=Ne.value===Ce):pL(we.ref)?we.ref.value="":(we.ref.value=Ce,we.ref.type||f.watch.next({name:X})))}(ie.shouldDirty||ie.shouldTouch)&&E(X,Ce,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&N(X)},I=(X,ee,ie)=>{for(const fe in ee){const Ce=ee[fe],we=`${X}.${fe}`,Ne=bt(r,we);(a.array.has(X)||!I2(Ce)||Ne&&!Ne._f)&&!Lm(Ce)?I(we,Ce,ie):S(we,Ce,ie)}},D=(X,ee,ie={})=>{const fe=bt(r,X),Ce=a.array.has(X),we=ih(ee);Sr(s,X,we),Ce?(f.array.next({name:X,values:s}),(u.isDirty||u.dirtyFields)&&ie.shouldDirty&&(t.dirtyFields=KT(i,s),f.state.next({name:X,dirtyFields:t.dirtyFields,isDirty:K(X,we)}))):fe&&!fe._f&&!js(we)?I(X,we,ie):S(X,we,ie),aU(X,a)&&f.state.next({}),f.watch.next({name:X})},$=async X=>{const ee=X.target;let ie=ee.name;const fe=bt(r,ie);if(fe){let Ce,we;const Ne=ee.type?ZT(fe._f):UBe(X),Ze=X.type===oU.BLUR||X.type===oU.FOCUS_OUT,nt=!t6e(fe._f)&&!e.resolver&&!bt(t.errors,ie)&&!fe._f.deps||n6e(Ze,bt(t.touchedFields,ie),t.isSubmitted,g,h),ht=aU(ie,a,Ze);Sr(s,ie,Ne),Ze?(fe._f.onBlur&&fe._f.onBlur(X),l&&l(0)):fe._f.onChange&&fe._f.onChange(X);const se=E(ie,Ne,Ze,!1),q=!ka(se)||ht;if(!Ze&&f.watch.next({name:ie,type:X.type}),nt)return u.isValid&&y(),q&&f.state.next({name:ie,...ht?{}:se});if(!Ze&&ht&&f.state.next({}),d[ie]=d[ie]?d[ie]+1:1,f.state.next({isValidating:!0}),e.resolver){const{errors:le}=await P([ie]),ze=pU(t.errors,r,ie),Be=pU(le,r,ze.name||ie);Ce=Be.error,ie=Be.name,we=ka(le)}else Ce=(await fU(fe,bt(s,ie),v,e.shouldUseNativeValidation))[ie],y();fe._f.deps&&N(fe._f.deps),k(ie,we,Ce,se)}},N=async(X,ee={})=>{let ie,fe;const Ce=qT(X);if(f.state.next({isValidating:!0}),e.resolver){const we=await C(Vi(X)?X:Ce);ie=ka(we),fe=X?!Ce.some(Ne=>bt(we,Ne)):ie}else X?(fe=(await Promise.all(Ce.map(async we=>{const Ne=bt(r,we);return await O(Ne&&Ne._f?{[we]:Ne}:Ne)}))).every(Boolean),!(!fe&&!t.isValid)&&y()):fe=ie=await O(r);return f.state.next({...!bl(X)||u.isValid&&ie!==t.isValid?{}:{name:X},...e.resolver||!X?{isValid:ie}:{},errors:t.errors,isValidating:!1}),ee.shouldFocus&&!fe&&PR(r,we=>we&&bt(t.errors,we),X?Ce:a.mount),fe},G=X=>{const ee={...i,...o.mount?s:{}};return Vi(X)?ee:bl(X)?bt(ee,X):X.map(ie=>bt(ee,ie))},j=(X,ee)=>({invalid:!!bt((ee||t).errors,X),isDirty:!!bt((ee||t).dirtyFields,X),isTouched:!!bt((ee||t).touchedFields,X),error:bt((ee||t).errors,X)}),W=X=>{X?qT(X).forEach(ee=>Hs(t.errors,ee)):t.errors={},f.state.next({errors:t.errors})},R=(X,ee,ie)=>{const fe=(bt(r,X,{_f:{}})._f||{}).ref;Sr(t.errors,X,{...ee,ref:fe}),f.state.next({name:X,errors:t.errors,isValid:!1}),ie&&ie.shouldFocus&&fe&&fe.focus&&fe.focus()},Y=(X,ee)=>R2(X)?f.watch.subscribe({next:ie=>X(J(void 0,ee),ie)}):J(X,ee,!0),Ae=(X,ee={})=>{for(const ie of X?qT(X):a.mount)a.mount.delete(ie),a.array.delete(ie),bt(r,ie)&&(ee.keepValue||(Hs(r,ie),Hs(s,ie)),!ee.keepError&&Hs(t.errors,ie),!ee.keepDirty&&Hs(t.dirtyFields,ie),!ee.keepTouched&&Hs(t.touchedFields,ie),!e.shouldUnregister&&!ee.keepDefaultValue&&Hs(i,ie));f.watch.next({}),f.state.next({...t,...ee.keepDirty?{isDirty:K()}:{}}),!ee.keepIsValid&&y()},z=(X,ee={})=>{let ie=bt(r,X);const fe=yy(ee.disabled);return Sr(r,X,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:X}},name:X,mount:!0,...ee}}),a.mount.add(X),ie?fe&&Sr(s,X,ee.disabled?void 0:bt(s,X,ZT(ie._f))):A(X,!0,ee.value),{...fe?{disabled:ee.disabled}:{},...e.shouldUseNativeValidation?{required:!!ee.required,min:Av(ee.min),max:Av(ee.max),minLength:Av(ee.minLength),maxLength:Av(ee.maxLength),pattern:Av(ee.pattern)}:{},name:X,onChange:$,onBlur:$,ref:Ce=>{if(Ce){z(X,ee),ie=bt(r,X);const we=Vi(Ce.value)&&Ce.querySelectorAll&&Ce.querySelectorAll("input,select,textarea")[0]||Ce,Ne=QBe(we),Ze=ie._f.refs||[];if(Ne?Ze.find(nt=>nt===we):we===ie._f.ref)return;Sr(r,X,{_f:{...ie._f,...Ne?{refs:[...Ze.filter(XT),we,...Array.isArray(bt(i,X))?[{}]:[]],ref:{type:we.type,name:X}}:{ref:we}}}),A(X,!1,void 0,we)}else ie=bt(r,X,{}),ie._f&&(ie._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(GBe(a.array,X)&&o.action)&&a.unMount.add(X)}}},Q=()=>e.shouldFocusError&&PR(r,X=>X&&bt(t.errors,X),a.mount),ve=(X,ee)=>async ie=>{ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let fe=!0,Ce=ih(s);f.state.next({isSubmitting:!0});try{if(e.resolver){const{errors:we,values:Ne}=await P();t.errors=we,Ce=Ne}else await O(r);ka(t.errors)?(f.state.next({errors:{},isSubmitting:!0}),await X(Ce,ie)):(ee&&await ee({...t.errors},ie),Q())}catch(we){throw fe=!1,we}finally{t.isSubmitted=!0,f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ka(t.errors)&&fe,submitCount:t.submitCount+1,errors:t.errors})}},ge=(X,ee={})=>{bt(r,X)&&(Vi(ee.defaultValue)?D(X,bt(i,X)):(D(X,ee.defaultValue),Sr(i,X,ee.defaultValue)),ee.keepTouched||Hs(t.touchedFields,X),ee.keepDirty||(Hs(t.dirtyFields,X),t.isDirty=ee.defaultValue?K(X,bt(i,X)):K()),ee.keepError||(Hs(t.errors,X),u.isValid&&y()),f.state.next({...t}))},Re=(X,ee={})=>{const ie=X||i,fe=ih(ie),Ce=X&&!ka(X)?fe:i;if(ee.keepDefaultValues||(i=ie),!ee.keepValues){if(ee.keepDirtyValues)for(const we of a.mount)bt(t.dirtyFields,we)?Sr(Ce,we,bt(s,we)):D(we,bt(Ce,we));else{if(IR&&Vi(X))for(const we of a.mount){const Ne=bt(r,we);if(Ne&&Ne._f){const Ze=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(LR(Ze)){const nt=Ze.closest("form");if(nt){nt.reset();break}}}}r={}}s=n.shouldUnregister?ee.keepDefaultValues?ih(i):{}:fe,f.array.next({values:Ce}),f.watch.next({values:Ce})}a={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!ee.keepIsValid,o.watch=!!n.shouldUnregister,f.state.next({submitCount:ee.keepSubmitCount?t.submitCount:0,isDirty:ee.keepDirty||ee.keepDirtyValues?t.isDirty:!!(ee.keepDefaultValues&&!Om(X,i)),isSubmitted:ee.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ee.keepDirty||ee.keepDirtyValues?t.dirtyFields:ee.keepDefaultValues&&X?KT(i,X):{},touchedFields:ee.keepTouched?t.touchedFields:{},errors:ee.keepErrors?t.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})};return{control:{register:z,unregister:Ae,getFieldState:j,_executeSchema:P,_focusError:Q,_getWatch:J,_getDirty:K,_updateValid:y,_removeUnmounted:U,_updateFieldArray:_,_getFieldArray:F,_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return s},get _stateFlags(){return o},set _stateFlags(X){o=X},get _defaultValues(){return i},get _names(){return a},set _names(X){a=X},get _formState(){return t},set _formState(X){t=X},get _options(){return e},set _options(X){e={...e,...X}}},trigger:N,register:z,handleSubmit:ve,watch:Y,setValue:D,getValues:G,reset:(X,ee)=>Re(R2(X)?X(s):X,ee),resetField:ge,clearErrors:W,unregister:Ae,setError:R,setFocus:(X,ee={})=>{const ie=bt(r,X),fe=ie&&ie._f;if(fe){const Ce=fe.refs?fe.refs[0]:fe.ref;Ce.focus&&(Ce.focus(),ee.shouldSelect&&Ce.select())}},getFieldState:j}}function _r(n={}){const e=H.useRef(),[t,r]=H.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:n.defaultValues});e.current||(e.current={...s6e(n),formState:t});const i=e.current.control;return i._options=n,jBe({subject:i._subjects.state,callback:H.useCallback(s=>{WBe(s,i._proxyFormState,!0)&&(i._formState={...i._formState,...s},r({...i._formState}))},[i])}),H.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),H.useEffect(()=>{t.submitCount&&i._focusError()},[i,t.submitCount]),e.current.formState=$Be(t,i),e.current}kt({d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",displayName:"CopyIcon"});kt({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"});kt({d:"M23.414,20.591l-4.645-4.645a10.256,10.256,0,1,0-2.828,2.829l4.645,4.644a2.025,2.025,0,0,0,2.828,0A2,2,0,0,0,23.414,20.591ZM10.25,3.005A7.25,7.25,0,1,1,3,10.255,7.258,7.258,0,0,1,10.25,3.005Z",displayName:"Search2Icon"});kt({d:"M21.4,13.7C20.6,13.9,19.8,14,19,14c-5,0-9-4-9-9c0-0.8,0.1-1.6,0.3-2.4c0.1-0.3,0-0.7-0.3-1 c-0.3-0.3-0.6-0.4-1-0.3C4.3,2.7,1,7.1,1,12c0,6.1,4.9,11,11,11c4.9,0,9.3-3.3,10.6-8.1c0.1-0.3,0-0.7-0.3-1 C22.1,13.7,21.7,13.6,21.4,13.7z",displayName:"MoonIcon"});kt({displayName:"SunIcon",path:H.createElement("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2",fill:"none",stroke:"currentColor"},H.createElement("circle",{cx:"12",cy:"12",r:"5"}),H.createElement("path",{d:"M12 1v2"}),H.createElement("path",{d:"M12 21v2"}),H.createElement("path",{d:"M4.22 4.22l1.42 1.42"}),H.createElement("path",{d:"M18.36 18.36l1.42 1.42"}),H.createElement("path",{d:"M1 12h2"}),H.createElement("path",{d:"M21 12h2"}),H.createElement("path",{d:"M4.22 19.78l1.42-1.42"}),H.createElement("path",{d:"M18.36 5.64l1.42-1.42"}))});var gg=kt({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"});kt({displayName:"SmallAddIcon",viewBox:"0 0 20 20",path:H.createElement("path",{fill:"currentColor",d:"M14 9h-3V6c0-.55-.45-1-1-1s-1 .45-1 1v3H6c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1z",fillRule:"evenodd"})});kt({viewBox:"0 0 14 14",d:"M14,7.77 L14,6.17 L12.06,5.53 L11.61,4.44 L12.49,2.6 L11.36,1.47 L9.55,2.38 L8.46,1.93 L7.77,0.01 L6.17,0.01 L5.54,1.95 L4.43,2.4 L2.59,1.52 L1.46,2.65 L2.37,4.46 L1.92,5.55 L0,6.23 L0,7.82 L1.94,8.46 L2.39,9.55 L1.51,11.39 L2.64,12.52 L4.45,11.61 L5.54,12.06 L6.23,13.98 L7.82,13.98 L8.45,12.04 L9.56,11.59 L11.4,12.47 L12.53,11.34 L11.61,9.53 L12.08,8.44 L14,7.75 L14,7.77 Z M7,10 C5.34,10 4,8.66 4,7 C4,5.34 5.34,4 7,4 C8.66,4 10,5.34 10,7 C10,8.66 8.66,10 7,10 Z",displayName:"SettingsIcon"});kt({displayName:"CheckCircleIcon",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"});kt({d:"M19.5,9.5h-.75V6.75a6.75,6.75,0,0,0-13.5,0V9.5H4.5a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2h15a2,2,0,0,0,2-2V11.5A2,2,0,0,0,19.5,9.5Zm-9.5,6a2,2,0,1,1,3,1.723V19.5a1,1,0,0,1-2,0V17.223A1.994,1.994,0,0,1,10,15.5ZM7.75,6.75a4.25,4.25,0,0,1,8.5,0V9a.5.5,0,0,1-.5.5H8.25a.5.5,0,0,1-.5-.5Z",displayName:"LockIcon"});kt({d:"M19.5,9.5h-.75V6.75A6.751,6.751,0,0,0,5.533,4.811a1.25,1.25,0,1,0,2.395.717A4.251,4.251,0,0,1,16.25,6.75V9a.5.5,0,0,1-.5.5H4.5a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2h15a2,2,0,0,0,2-2V11.5A2,2,0,0,0,19.5,9.5Zm-9.5,6a2,2,0,1,1,3,1.723V19.5a1,1,0,0,1-2,0V17.223A1.994,1.994,0,0,1,10,15.5Z",displayName:"UnlockIcon"});kt({displayName:"ViewIcon",path:H.createElement("g",{fill:"currentColor"},H.createElement("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),H.createElement("circle",{cx:"12",cy:"12",r:"2"}))});kt({displayName:"ViewOffIcon",path:H.createElement("g",{fill:"currentColor"},H.createElement("path",{d:"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z"}),H.createElement("path",{d:"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z"}))});kt({d:"M11.2857,6.05714 L10.08571,4.85714 L7.85714,7.14786 L7.85714,1 L6.14286,1 L6.14286,7.14786 L3.91429,4.85714 L2.71429,6.05714 L7,10.42857 L11.2857,6.05714 Z M1,11.2857 L1,13 L13,13 L13,11.2857 L1,11.2857 Z",displayName:"DownloadIcon",viewBox:"0 0 14 14"});kt({displayName:"DeleteIcon",path:H.createElement("g",{fill:"currentColor"},H.createElement("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"}))});kt({displayName:"RepeatIcon",path:H.createElement("g",{fill:"currentColor"},H.createElement("path",{d:"M10.319,4.936a7.239,7.239,0,0,1,7.1,2.252,1.25,1.25,0,1,0,1.872-1.657A9.737,9.737,0,0,0,9.743,2.5,10.269,10.269,0,0,0,2.378,9.61a.249.249,0,0,1-.271.178l-1.033-.13A.491.491,0,0,0,.6,9.877a.5.5,0,0,0-.019.526l2.476,4.342a.5.5,0,0,0,.373.248.43.43,0,0,0,.062,0,.5.5,0,0,0,.359-.152l3.477-3.593a.5.5,0,0,0-.3-.844L5.15,10.172a.25.25,0,0,1-.2-.333A7.7,7.7,0,0,1,10.319,4.936Z"}),H.createElement("path",{d:"M23.406,14.1a.5.5,0,0,0,.015-.526l-2.5-4.329A.5.5,0,0,0,20.546,9a.489.489,0,0,0-.421.151l-3.456,3.614a.5.5,0,0,0,.3.842l1.848.221a.249.249,0,0,1,.183.117.253.253,0,0,1,.023.216,7.688,7.688,0,0,1-5.369,4.9,7.243,7.243,0,0,1-7.1-2.253,1.25,1.25,0,1,0-1.872,1.656,9.74,9.74,0,0,0,9.549,3.03,10.261,10.261,0,0,0,7.369-7.12.251.251,0,0,1,.27-.179l1.058.127a.422.422,0,0,0,.06,0A.5.5,0,0,0,23.406,14.1Z"}))});kt({displayName:"RepeatClockIcon",path:H.createElement("g",{fill:"currentColor"},H.createElement("path",{d:"M12.965,6a1,1,0,0,0-1,1v5.5a1,1,0,0,0,1,1h5a1,1,0,0,0,0-2h-3.75a.25.25,0,0,1-.25-.25V7A1,1,0,0,0,12.965,6Z"}),H.createElement("path",{d:"M12.567,1.258A10.822,10.822,0,0,0,2.818,8.4a.25.25,0,0,1-.271.163L.858,8.309a.514.514,0,0,0-.485.213.5.5,0,0,0-.021.53l2.679,4.7a.5.5,0,0,0,.786.107l3.77-3.746a.5.5,0,0,0-.279-.85L5.593,9.007a.25.25,0,0,1-.192-.35,8.259,8.259,0,1,1,7.866,11.59,1.25,1.25,0,0,0,.045,2.5h.047a10.751,10.751,0,1,0-.792-21.487Z"}))});kt({displayName:"EditIcon",path:H.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},H.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),H.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});kt({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"});var br=kt({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"});kt({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"});kt({d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",displayName:"ChevronUpIcon"});kt({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"});kt({d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z",displayName:"ArrowForwardIcon"});kt({d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z",displayName:"ArrowUpIcon"});kt({viewBox:"0 0 16 16",d:"M11.891 9.992a1 1 0 1 1 1.416 1.415l-4.3 4.3a1 1 0 0 1-1.414 0l-4.3-4.3A1 1 0 0 1 4.71 9.992l3.59 3.591 3.591-3.591zm0-3.984L8.3 2.417 4.709 6.008a1 1 0 0 1-1.416-1.415l4.3-4.3a1 1 0 0 1 1.414 0l4.3 4.3a1 1 0 1 1-1.416 1.415z",displayName:"ArrowUpDownIcon"});kt({d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z",displayName:"ArrowDownIcon"});kt({displayName:"ExternalLinkIcon",path:H.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},H.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),H.createElement("path",{d:"M15 3h6v6"}),H.createElement("path",{d:"M10 14L21 3"}))});kt({displayName:"LinkIcon",path:H.createElement("g",{fill:"currentColor"},H.createElement("path",{d:"M10.458,18.374,7.721,21.11a2.853,2.853,0,0,1-3.942,0l-.892-.891a2.787,2.787,0,0,1,0-3.941l5.8-5.8a2.789,2.789,0,0,1,3.942,0l.893.892A1,1,0,0,0,14.94,9.952l-.893-.892a4.791,4.791,0,0,0-6.771,0l-5.8,5.8a4.787,4.787,0,0,0,0,6.77l.892.891a4.785,4.785,0,0,0,6.771,0l2.736-2.735a1,1,0,1,0-1.414-1.415Z"}),H.createElement("path",{d:"M22.526,2.363l-.892-.892a4.8,4.8,0,0,0-6.77,0l-2.905,2.9a1,1,0,0,0,1.414,1.414l2.9-2.9a2.79,2.79,0,0,1,3.941,0l.893.893a2.786,2.786,0,0,1,0,3.942l-5.8,5.8a2.769,2.769,0,0,1-1.971.817h0a2.766,2.766,0,0,1-1.969-.816,1,1,0,1,0-1.415,1.412,4.751,4.751,0,0,0,3.384,1.4h0a4.752,4.752,0,0,0,3.385-1.4l5.8-5.8a4.786,4.786,0,0,0,0-6.771Z"}))});kt({displayName:"PlusSquareIcon",path:H.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},H.createElement("rect",{height:"18",width:"18",rx:"2",ry:"2",x:"3",y:"3"}),H.createElement("path",{d:"M12 8v8"}),H.createElement("path",{d:"M8 12h8"}))});kt({displayName:"CalendarIcon",viewBox:"0 0 14 14",d:"M10.8889,5.5 L3.11111,5.5 L3.11111,7.05556 L10.8889,7.05556 L10.8889,5.5 Z M12.4444,1.05556 L11.6667,1.05556 L11.6667,0 L10.1111,0 L10.1111,1.05556 L3.88889,1.05556 L3.88889,0 L2.33333,0 L2.33333,1.05556 L1.55556,1.05556 C0.692222,1.05556 0.00777777,1.75556 0.00777777,2.61111 L0,12.5 C0,13.3556 0.692222,14 1.55556,14 L12.4444,14 C13.3,14 14,13.3556 14,12.5 L14,2.61111 C14,1.75556 13.3,1.05556 12.4444,1.05556 Z M12.4444,12.5 L1.55556,12.5 L1.55556,3.94444 L12.4444,3.94444 L12.4444,12.5 Z M8.55556,8.61111 L3.11111,8.61111 L3.11111,10.1667 L8.55556,10.1667 L8.55556,8.61111 Z"});kt({d:"M0.913134,0.920639 C1.49851,0.331726 2.29348,0 3.12342,0 L10.8766,0 C11.7065,0 12.5015,0.331725 13.0869,0.920639 C13.6721,1.50939 14,2.30689 14,3.13746 L14,8.12943 C13.9962,8.51443 13.9059,8.97125 13.7629,9.32852 C13.6128,9.683 13.3552,10.0709 13.0869,10.3462 C12.813,10.6163 12.4265,10.8761 12.0734,11.0274 C11.7172,11.1716 11.2607,11.263 10.8766,11.2669 L10.1234,11.2669 L10.1234,12.5676 L10.1209,12.5676 C10.1204,12.793 10.0633,13.0791 9.97807,13.262 C9.8627,13.466 9.61158,13.7198 9.40818,13.8382 L9.40824,13.8383 C9.4077,13.8386 9.40716,13.8388 9.40661,13.8391 C9.40621,13.8393 9.4058,13.8396 9.40539,13.8398 L9.40535,13.8397 C9.22958,13.9254 8.94505,13.9951 8.75059,14 L8.74789,14 C8.35724,13.9963 7.98473,13.8383 7.71035,13.5617 L5.39553,11.2669 L3.12342,11.2669 C2.29348,11.2669 1.49851,10.9352 0.913134,10.3462 C0.644826,10.0709 0.387187,9.683 0.23711,9.32852 C0.0941235,8.97125 0.00379528,8.51443 0,8.12943 L0,3.13746 C0,2.30689 0.327915,1.50939 0.913134,0.920639 Z M3.12342,1.59494 C2.71959,1.59494 2.33133,1.75628 2.04431,2.04503 C1.75713,2.33395 1.59494,2.72681 1.59494,3.13746 L1.59494,8.12943 C1.59114,8.35901 1.62114,8.51076 1.71193,8.72129 C1.79563,8.9346 1.88065,9.06264 2.04431,9.22185 C2.33133,9.5106 2.71959,9.67195 3.12342,9.67195 L5.72383,9.67195 C5.93413,9.67195 6.13592,9.75502 6.28527,9.90308 L8.52848,12.1269 L8.52848,10.4694 C8.52848,10.029 8.88552,9.67195 9.32595,9.67195 L10.8766,9.67195 C11.1034,9.67583 11.2517,9.64614 11.4599,9.55518 C11.6712,9.47132 11.7976,9.38635 11.9557,9.22185 C12.1193,9.06264 12.2044,8.9346 12.2881,8.72129 C12.3789,8.51076 12.4089,8.35901 12.4051,8.12943 L12.4051,3.13746 C12.4051,2.72681 12.2429,2.33394 11.9557,2.04503 C11.6687,1.75628 11.2804,1.59494 10.8766,1.59494 L3.12342,1.59494 Z",displayName:"ChatIcon",viewBox:"0 0 14 14"});kt({displayName:"TimeIcon",path:H.createElement("g",{fill:"currentColor"},H.createElement("path",{d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm0,22A10,10,0,1,1,22,12,10.011,10.011,0,0,1,12,22Z"}),H.createElement("path",{d:"M17.134,15.81,12.5,11.561V6.5a1,1,0,0,0-2,0V12a1,1,0,0,0,.324.738l4.959,4.545a1.01,1.01,0,0,0,1.413-.061A1,1,0,0,0,17.134,15.81Z"}))});kt({displayName:"ArrowRightIcon",path:H.createElement("g",{fill:"currentColor"},H.createElement("path",{d:"M13.584,12a2.643,2.643,0,0,1-.775,1.875L3.268,23.416a1.768,1.768,0,0,1-2.5-2.5l8.739-8.739a.25.25,0,0,0,0-.354L.768,3.084a1.768,1.768,0,0,1,2.5-2.5l9.541,9.541A2.643,2.643,0,0,1,13.584,12Z"}),H.createElement("path",{d:"M23.75,12a2.643,2.643,0,0,1-.775,1.875l-9.541,9.541a1.768,1.768,0,0,1-2.5-2.5l8.739-8.739a.25.25,0,0,0,0-.354L10.934,3.084a1.768,1.768,0,0,1,2.5-2.5l9.541,9.541A2.643,2.643,0,0,1,23.75,12Z"}))});kt({displayName:"ArrowLeftIcon",path:H.createElement("g",{fill:"currentColor"},H.createElement("path",{d:"M10.416,12a2.643,2.643,0,0,1,.775-1.875L20.732.584a1.768,1.768,0,0,1,2.5,2.5l-8.739,8.739a.25.25,0,0,0,0,.354l8.739,8.739a1.768,1.768,0,0,1-2.5,2.5l-9.541-9.541A2.643,2.643,0,0,1,10.416,12Z"}),H.createElement("path",{d:"M.25,12a2.643,2.643,0,0,1,.775-1.875L10.566.584a1.768,1.768,0,0,1,2.5,2.5L4.327,11.823a.25.25,0,0,0,0,.354l8.739,8.739a1.768,1.768,0,0,1-2.5,2.5L1.025,13.875A2.643,2.643,0,0,1,.25,12Z"}))});kt({displayName:"AtSignIcon",d:"M12,.5A11.634,11.634,0,0,0,.262,12,11.634,11.634,0,0,0,12,23.5a11.836,11.836,0,0,0,6.624-2,1.25,1.25,0,1,0-1.393-2.076A9.34,9.34,0,0,1,12,21a9.132,9.132,0,0,1-9.238-9A9.132,9.132,0,0,1,12,3a9.132,9.132,0,0,1,9.238,9v.891a1.943,1.943,0,0,1-3.884,0V12A5.355,5.355,0,1,0,12,17.261a5.376,5.376,0,0,0,3.861-1.634,4.438,4.438,0,0,0,7.877-2.736V12A11.634,11.634,0,0,0,12,.5Zm0,14.261A2.763,2.763,0,1,1,14.854,12,2.812,2.812,0,0,1,12,14.761Z"});kt({displayName:"AttachmentIcon",d:"M21.843,3.455a6.961,6.961,0,0,0-9.846,0L1.619,13.832a5.128,5.128,0,0,0,7.252,7.252L17.3,12.653A3.293,3.293,0,1,0,12.646,8L7.457,13.184A1,1,0,1,0,8.871,14.6L14.06,9.409a1.294,1.294,0,0,1,1.829,1.83L7.457,19.67a3.128,3.128,0,0,1-4.424-4.424L13.411,4.869a4.962,4.962,0,1,1,7.018,7.018L12.646,19.67a1,1,0,1,0,1.414,1.414L21.843,13.3a6.96,6.96,0,0,0,0-9.846Z"});kt({displayName:"UpDownIcon",viewBox:"-1 -1 9 11",d:"M 3.5 0L 3.98809 -0.569442L 3.5 -0.987808L 3.01191 -0.569442L 3.5 0ZM 3.5 9L 3.01191 9.56944L 3.5 9.98781L 3.98809 9.56944L 3.5 9ZM 0.488094 3.56944L 3.98809 0.569442L 3.01191 -0.569442L -0.488094 2.43056L 0.488094 3.56944ZM 3.01191 0.569442L 6.51191 3.56944L 7.48809 2.43056L 3.98809 -0.569442L 3.01191 0.569442ZM -0.488094 6.56944L 3.01191 9.56944L 3.98809 8.43056L 0.488094 5.43056L -0.488094 6.56944ZM 3.98809 9.56944L 7.48809 6.56944L 6.51191 5.43056L 3.01191 8.43056L 3.98809 9.56944Z"});kt({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"});kt({displayName:"EmailIcon",path:H.createElement("g",{fill:"currentColor"},H.createElement("path",{d:"M11.114,14.556a1.252,1.252,0,0,0,1.768,0L22.568,4.87a.5.5,0,0,0-.281-.849A1.966,1.966,0,0,0,22,4H2a1.966,1.966,0,0,0-.289.021.5.5,0,0,0-.281.849Z"}),H.createElement("path",{d:"M23.888,5.832a.182.182,0,0,0-.2.039l-6.2,6.2a.251.251,0,0,0,0,.354l5.043,5.043a.75.75,0,1,1-1.06,1.061l-5.043-5.043a.25.25,0,0,0-.354,0l-2.129,2.129a2.75,2.75,0,0,1-3.888,0L7.926,13.488a.251.251,0,0,0-.354,0L2.529,18.531a.75.75,0,0,1-1.06-1.061l5.043-5.043a.251.251,0,0,0,0-.354l-6.2-6.2a.18.18,0,0,0-.2-.039A.182.182,0,0,0,0,6V18a2,2,0,0,0,2,2H22a2,2,0,0,0,2-2V6A.181.181,0,0,0,23.888,5.832Z"}))});kt({d:"M2.20731,0.0127209 C2.1105,-0.0066419 1.99432,-0.00664663 1.91687,0.032079 C0.871279,0.438698 0.212942,1.92964 0.0580392,2.95587 C-0.426031,6.28627 2.20731,9.17133 4.62766,11.0689 C6.77694,12.7534 10.9012,15.5223 13.3409,12.8503 C13.6507,12.5211 14.0186,12.037 13.9993,11.553 C13.9412,10.7397 13.186,10.1588 12.6051,9.71349 C12.1598,9.38432 11.2304,8.47427 10.6495,8.49363 C10.1267,8.51299 9.79754,9.05515 9.46837,9.38432 L8.88748,9.96521 C8.79067,10.062 7.55145,9.24878 7.41591,9.15197 C6.91248,8.8228 6.4284,8.45491 6.00242,8.04829 C5.57644,7.64167 5.18919,7.19632 4.86002,6.73161 C4.7632,6.59607 3.96933,5.41495 4.04678,5.31813 C4.04678,5.31813 4.72448,4.58234 4.91811,4.2919 C5.32473,3.67229 5.63453,3.18822 5.16982,2.45243 C4.99556,2.18135 4.78257,1.96836 4.55021,1.73601 C4.14359,1.34875 3.73698,0.942131 3.27227,0.612963 C3.02055,0.419335 2.59457,0.0708094 2.20731,0.0127209 Z",displayName:"PhoneIcon",viewBox:"0 0 14 14"});kt({viewBox:"0 0 10 10",d:"M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z",displayName:"DragHandleIcon"});kt({displayName:"SpinnerIcon",path:H.createElement(H.Fragment,null,H.createElement("defs",null,H.createElement("linearGradient",{x1:"28.154%",y1:"63.74%",x2:"74.629%",y2:"17.783%",id:"a"},H.createElement("stop",{stopColor:"currentColor",offset:"0%"}),H.createElement("stop",{stopColor:"#fff",stopOpacity:"0",offset:"100%"}))),H.createElement("g",{transform:"translate(2)",fill:"none"},H.createElement("circle",{stroke:"url(#a)",strokeWidth:"4",cx:"10",cy:"12",r:"10"}),H.createElement("path",{d:"M10 2C4.477 2 0 6.477 0 12",stroke:"currentColor",strokeWidth:"4"}),H.createElement("rect",{fill:"currentColor",x:"8",width:"4",height:"4",rx:"8"})))});var vg=kt({displayName:"CloseIcon",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"});kt({displayName:"SmallCloseIcon",viewBox:"0 0 16 16",path:H.createElement("path",{d:"M9.41 8l2.29-2.29c.19-.18.3-.43.3-.71a1.003 1.003 0 0 0-1.71-.71L8 6.59l-2.29-2.3a1.003 1.003 0 0 0-1.42 1.42L6.59 8 4.3 10.29c-.19.18-.3.43-.3.71a1.003 1.003 0 0 0 1.71.71L8 9.41l2.29 2.29c.18.19.43.3.71.3a1.003 1.003 0 0 0 .71-1.71L9.41 8z",fillRule:"evenodd",fill:"currentColor"})});kt({d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z",displayName:"NotAllowedIcon"});kt({d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z",displayName:"TriangleDownIcon"});kt({d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z",displayName:"TriangleUpIcon"});kt({displayName:"InfoOutlineIcon",path:H.createElement("g",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"2"},H.createElement("circle",{cx:"12",cy:"12",fill:"none",r:"11",stroke:"currentColor"}),H.createElement("line",{fill:"none",x1:"11.959",x2:"11.959",y1:"11",y2:"17"}),H.createElement("circle",{cx:"11.959",cy:"7",r:"1",stroke:"none"}))});kt({displayName:"BellIcon",d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"});kt({d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"});kt({d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm0,19a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,12,19Zm1.6-6.08a1,1,0,0,0-.6.917,1,1,0,1,1-2,0,3,3,0,0,1,1.8-2.75A2,2,0,1,0,10,9.255a1,1,0,1,1-2,0,4,4,0,1,1,5.6,3.666Z",displayName:"QuestionIcon"});kt({displayName:"QuestionOutlineIcon",path:H.createElement("g",{stroke:"currentColor",strokeWidth:"1.5"},H.createElement("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),H.createElement("path",{fill:"none",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),H.createElement("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"}))});kt({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z",displayName:"WarningIcon"});kt({displayName:"WarningTwoIcon",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"});kt({viewBox:"0 0 14 14",path:H.createElement("g",{fill:"currentColor"},H.createElement("polygon",{points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"}))});kt({displayName:"MinusIcon",path:H.createElement("g",{fill:"currentColor"},H.createElement("rect",{height:"4",width:"20",x:"2",y:"10"}))});kt({displayName:"HamburgerIcon",viewBox:"0 0 24 24",d:"M 3 5 A 1.0001 1.0001 0 1 0 3 7 L 21 7 A 1.0001 1.0001 0 1 0 21 5 L 3 5 z M 3 11 A 1.0001 1.0001 0 1 0 3 13 L 21 13 A 1.0001 1.0001 0 1 0 21 11 L 3 11 z M 3 17 A 1.0001 1.0001 0 1 0 3 19 L 21 19 A 1.0001 1.0001 0 1 0 21 17 L 3 17 z"});const rw=({group:n,experience:e})=>{var f,h,g,v;const{user:t}=e.world,[r,i]=T.useState(),[s,o]=T.useState(void 0),a=T.useRef(),{register:l,handleSubmit:c,formState:{errors:d}}=_r(),u=x=>{e.world.lootBoxScene.smartContracts[n].attachAddress(x.address),e.controller[n+"ContractControls"].main(),o(e.controller.getCurrentMode()),e.world.lootBoxScene.smartContracts[n].trigger("import "+n),window.setTimeout(()=>e.toast.import(x.address),100)};return e.raycaster.on(`click_${n}_function_import`,()=>{o(e.controller.getCurrentMode())}),B("mesh",{ref:a,name:n+" import",scale:.6,position:[0,-1,0],children:s==="metaScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:[0,-.015,0],transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[ue(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:["Import ",n]}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),o(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{children:"address"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...l("address",{maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((f=d.address)==null?void 0:f.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((h=d.address)==null?void 0:h.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((g=d.address)==null?void 0:g.type)==="minLength"||((v=d.address1)==null?void 0:v.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"})]}),B(fr,{}),r?B(wt,{onClick:c(u),alignSelf:"center",mt:"2rem !important",maxH:"2rem",maxW:"5rem",px:"0.5rem",borderRadius:"0.2rem",bg:"blue.500",children:"Import"}):B(wt,{onClick:()=>{t==null||t.wallet.connect().then(x=>i(x))},maxH:"2rem",px:"0.5rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},mU=({group:n,experience:e,props:t={}})=>{var y,_,b,A;const{user:r}=e.world,[i,s]=T.useState(),[o,a]=T.useState(void 0),[l,c]=T.useState(),d=T.useRef(),[u,f]=T.useState("1"),{register:h,handleSubmit:g,formState:{errors:v}}=_r(),x=async E=>{const k=await vBe(r.wallet,i==null?void 0:i.interface,{to:E.to,switch:!!parseInt(u)},n,e.toast);i.handleTxs(k,n,"setApprovalForAll"),e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_setApprovalForAll`,()=>{a(e.controller.getCurrentMode()),s(e.world.lootBoxScene.smartContracts[n]),c(e.world.user.wallet.isConnected)}),B("mesh",{ref:d,name:`${n} setApprovalForAll`,scale:.6,position:[0,-1,0],children:o==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:t==null?void 0:t.rotation,transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{fontWeight:"bold",sx:{fontSize:"0.8rem"},children:"Set approval for all"}),B(Ge,{pb:"0.5rem",sx:{fontSize:"0.4rem"},children:i.getAddress()}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{fontSize:"sm",children:"address to approve"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...h("to",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((y=v.address)==null?void 0:y.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((_=v.address)==null?void 0:_.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((b=v.address)==null?void 0:b.type)==="minLength"||((A=v.address1)==null?void 0:A.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),B(Kd,{mt:"1rem",children:B(M$,{value:u,onChange:f,children:ue(rr,{direction:"row",children:[B(Ik,{value:"1",children:"Yes"}),B(Ik,{value:"0",children:"No"})]})})})]}),B(fr,{}),l?B(wt,{onClick:g(x),alignSelf:"center",mt:"2rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{r==null||r.wallet.connect().then(E=>c(E))},mt:"2rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},iw=({group:n,experience:e,props:t={}})=>{var v,x,y,_;const{user:r}=e.world,[i,s]=T.useState(),[o,a]=T.useState(),[l,c]=T.useState(),d=T.useRef(),{register:u,handleSubmit:f,formState:{errors:h}}=_r(),g=async b=>{const A=await gBe(r.wallet,i==null?void 0:i.interface,b.address,n,e.toast);i.handleTxs(A,n,"transferOwnership")};return e.raycaster.on(`click_${n}_function_transferOwnership`,()=>{a(e.controller.getCurrentMode()),s(e.world.lootBoxScene.smartContracts[n]),c(e.world.user.wallet.isConnected),d.current.applyQuaternion(e.world.lootBoxScene.smartContracts[n].inputsScreen.quaternion)}),B("mesh",{ref:d,name:n+" transferOwnership",scale:.6,position:[0,-1,0],children:o==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.66,0],rotation:t==null?void 0:t.rotation,transform:!0,children:B(hr,{children:ue(Ve,{border:"1px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:"Transfer ownership"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[`${n}ContractControls`].main(),a(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(Ve,{mt:"2rem",children:[B(en,{children:"New owner"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...u("address",{maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((v=h.address)==null?void 0:v.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((x=h.address)==null?void 0:x.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((y=h.address)==null?void 0:y.type)==="minLength"||((_=h.address1)==null?void 0:_.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"})]}),l?B(wt,{onClick:f(g),alignSelf:"center",mt:"4rem !important",maxH:"2rem",maxW:"5rem",px:"0.5rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{r==null||r.wallet.connect().then(b=>c(b))},style:{marginTop:"4rem",marginLeft:"auto",marginRight:"auto",fontSize:"1rem"},px:"0.5rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})})})})},o6e=({group:n,experience:e})=>{const{user:t}=e.world,[r,i]=T.useState(),[s,o]=T.useState(void 0),[a,l]=T.useState(),c=T.useRef(),{register:d,handleSubmit:u}=_r(),f=async h=>{let g;try{g=await XDe(t.wallet,r.deployer,h,n,e.toast),r.handleDeployment(g,n,"deploy"),e.controller[n+"ContractControls"].main(),o(e.controller.getCurrentMode())}catch(v){e.toast.txFailed({wallet:t.wallet,contractName:n,funcName:"deploy",tx:g,error:v.message})}};return e.raycaster.on(`click_${n}_function_deploy`,()=>{o(e.controller.getCurrentMode()),i(e.world.lootBoxScene.smartContracts[n]),l(e.world.user.wallet.isConnected)}),B("mesh",{ref:c,name:n+" deploy",scale:.6,position:[0,-1,0],children:s==="metaScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:[0,-.015,0],transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:"Deploy chest"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller.chestSCContractControls.main(),o(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"0.5rem",alignItems:"left",children:[ue(Ve,{children:[B(en,{children:"Name (optional)"}),B(ft,{fontSize:"8px",size:"sm",padding:"0.3rem",placeholder:"gotchi lootbox",borderRadius:"5px",...d("name")}),B(en,{children:"type (optional)"}),B(ft,{fontSize:"8px",size:"sm",padding:"0.3rem",placeholder:"ebik !",borderRadius:"5px",...d("type")})]}),a?B(wt,{onClick:u(f),alignSelf:"center",mt:"2rem !important",maxH:"2rem",maxW:"5rem",px:"0.5rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{t==null||t.wallet.connect().then(h=>l(h))},maxH:"2rem",px:"0.5rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},a6e=({group:n,experience:e})=>{var x,y,_,b;const{user:t}=e.world,[r,i]=T.useState(),[s,o]=T.useState(),[a,l]=T.useState([]),[c,d]=T.useState(),u=T.useRef(),{register:f,handleSubmit:h,formState:{errors:g}}=_r(),v=async A=>{let E=Object.entries(A).slice(0,a.length+1).map(P=>P[1]);E=new Set(E);const k=await KDe(t.wallet,r==null?void 0:r.interface,[...E],e.toast);r.handleTxs(k,n,"addWhitelist"),e.controller[n+"ContractControls"].main(),o(e.controller.getCurrentMode())};return e.raycaster.on("click_chestSC_function_addWhitelist",()=>{o(e.controller.getCurrentMode()),i(e.world.lootBoxScene.smartContracts[n]),d(e.world.user.wallet.isConnected)}),B("mesh",{ref:u,name:n+" addWhitelist",scale:.6,position:[0,-1,0],children:s==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.66,0],rotation:[0,Math.PI*.206,0],transform:!0,children:B(hr,{children:ue(Ve,{border:"1px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:"Add whitelist"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller.chestSCContractControls.main(),o(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"0.5rem",alignItems:"left",children:[B(en,{children:"Address"}),B(ft,{fontSize:"8px",padding:"0.3rem",placeholder:"0x...",size:"sm",borderRadius:"5px",...f("address1",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((x=g.address1)==null?void 0:x.type)==="pattern"&&ue(Ge,{color:"red",fontSize:"6px",children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((y=g.address1)==null?void 0:y.type)==="required"&&B(Ge,{color:"red",fontSize:"10px",children:"Address is required"}),(((_=g.address1)==null?void 0:_.type)==="minLength"||((b=g.address1)==null?void 0:b.type)==="maxLength")&&B(Ge,{color:"red",fontSize:"10px",children:"Address must be 42 long"}),a.map((A,E)=>{var k,P,C,O;return ue(Ve,{children:[ue(Iu,{alignItems:"left",children:[B(ft,{fontSize:"7px",p:"0.1rem",size:"sm",placeholder:"0x...",borderRadius:"5px",...f(`address${E+2}`,{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),B(Kd,{children:B(wt,{onClick:()=>{a.splice(E,1),l(new Array(a.length).fill("yolo"))},ml:"1rem",size:"xs",backgroundColor:"red",borderRadius:"5rem",children:B(vg,{boxSize:"0.5rem"})})})]}),((k=g[`address${E+2}`])==null?void 0:k.type)==="pattern"&&B("p",{style:{color:"red",fontSize:"6px"},children:'Address must start with "0x" and follow by 40 "a-f" and/or "0-9"'}),((P=g[`address${E+2}`])==null?void 0:P.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((C=g[`address${E+2}`])==null?void 0:C.type)==="minLength"||((O=g.address1)==null?void 0:O.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"})]},E)}),B(wt,{alignSelf:"center",backgroundColor:"green",width:"1.5rem",height:"1.5rem",p:"0.8rem",borderRadius:"10rem",onClick:()=>l(new Array(a.length+1).fill("yolo")),children:B(gg,{boxSize:"0.5rem"})}),c?B(wt,{onClick:h(v),alignSelf:"center",mt:"3rem !important",maxH:"2rem",maxW:"5rem",px:"0.5rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{t==null||t.wallet.connect().then(A=>d(A))},style:{marginTop:"4rem",marginLeft:"auto",marginRight:"auto",fontSize:"1rem"},px:"0.5rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},l6e=({group:n,experience:e})=>{var x,y,_,b,A,E;const{user:t}=e.world,[r,i]=T.useState(),[s,o]=T.useState(),[a,l]=T.useState([]),[c,d]=T.useState(),u=T.useRef(),{register:f,handleSubmit:h,formState:{errors:g}}=_r(),v=async k=>{const P=Object.entries(k).filter(J=>J[0].startsWith("address")).map(J=>J[1]).slice(0,a.length+1),C=Object.entries(k).filter(J=>J[0].startsWith("id")).map(J=>J[1]).slice(0,a.length+1),O=Object.entries(k).filter(J=>J[0].startsWith("amount")).map(J=>J[1]).slice(0,a.length+1),U=[P,C,O],K=await ZDe(t.wallet,r==null?void 0:r.interface,U,e.toast);r.handleTxs(K,n,"batchDeposit"),e.controller[n+"ContractControls"].main(),o(e.controller.getCurrentMode())};return e.raycaster.on("click_chestSC_function_batchDeposit",()=>{o(e.controller.getCurrentMode()),i(e.world.lootBoxScene.smartContracts[n]),d(e.world.user.wallet.isConnected)}),B("mesh",{ref:u,name:n+" batchDeposit",scale:.6,position:[0,-1,0],children:s==="inputsScreen"&&B(xr,{distanceFactor:5,position:[0,1.66,0],rotation:[0,Math.PI*.206,0],transform:!0,children:B(hr,{children:ue(Ve,{border:"1px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:"Batch deposit"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller.chestSCContractControls.main(),o(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{alignItems:"left",mt:"1rem",spacing:"1rem",children:[ue(Ve,{mb:"1rem",children:[B(en,{m:"0",width:"3.7rem",position:"relative",top:"-1",left:"5",overflow:"hidden",children:"Batch 1"}),ue(Ve,{border:"0.01rem solid white",borderRadius:"xl",textAlign:"left",p:"0.5rem",children:[ue(Ve,{children:[B(Ge,{fontSize:"xs",children:"Address"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},fontSize:"8px",border:"none",padding:"0.3rem",placeholder:"0x...",size:"sm",borderRadius:"5px",...f("address1",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((x=g.address1)==null?void 0:x.type)==="pattern"&&ue(Ge,{color:"red",fontSize:"6px",children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((y=g.address1)==null?void 0:y.type)==="required"&&B(Ge,{color:"red",fontSize:"10px",children:"Address is required"}),(((_=g.address1)==null?void 0:_.type)==="minLength"||((b=g.address1)==null?void 0:b.type)==="maxLength")&&B(Ge,{color:"red",fontSize:"10px",children:"Address must be 42 long"})]}),ue(Eo,{mt:"1rem",alignItems:"center",children:[B(Ge,{fontSize:"xs",children:"Id"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"0",size:"sm",borderRadius:"5px",...f("id1",{required:!0})}),((A=g.id1)==null?void 0:A.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Id is required"}),B(fr,{}),B(Ge,{fontSize:"xs",children:"Amount"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"3",size:"sm",borderRadius:"5px",...f("amount1",{required:!0})}),((E=g.amount1)==null?void 0:E.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"})]})]})]}),a.map((k,P)=>{var C,O,U,K,J,F;return ue(Ve,{children:[ue(Iu,{position:"relative",top:"3",left:"5",children:[ue(en,{m:"0",width:"3.7rem",overflow:"hidden",children:["Batch ",P+2]}),B(wt,{onClick:()=>{a.splice(P,1),l(new Array(a.length).fill("yolo"))},ml:"1rem",size:"xs",backgroundColor:"red",borderRadius:"5rem",children:B(vg,{boxSize:"0.5rem"})})]}),ue(Ve,{border:"0.01rem solid white",borderRadius:"xl",textAlign:"left",p:"0.5rem",my:"1rem",children:[ue(Ve,{children:[B(Ge,{fontSize:"xs",children:"Address"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},fontSize:"8px",border:"none",padding:"0.3rem",placeholder:"0x...",size:"sm",borderRadius:"5px",...f("address"+(P+2),{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((C=g[`address${P+2}`])==null?void 0:C.type)==="pattern"&&ue(Ge,{color:"red",fontSize:"6px",children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((O=g[`address${P+2}`])==null?void 0:O.type)==="required"&&B(Ge,{color:"red",fontSize:"10px",children:"Address is required"}),(((U=g[`address${P+2}`])==null?void 0:U.type)==="minLength"||((K=g.address1)==null?void 0:K.type)==="maxLength")&&B(Ge,{color:"red",fontSize:"10px",children:"Address must be 42 long"})]}),ue(Eo,{mt:"1rem",alignItems:"center",children:[B(Ge,{fontSize:"xs",children:"Id"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"0",size:"sm",borderRadius:"5px",...f("id"+(P+2),{required:!0})}),((J=g[`id${P+2}`])==null?void 0:J.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Id is required"}),B(fr,{}),B(Ge,{fontSize:"xs",children:"Amount"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"3",size:"sm",borderRadius:"5px",...f("amount"+(P+2),{required:!0})}),((F=g[`amount${P+2}`])==null?void 0:F.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"})]})]})]},P)}),B(wt,{alignSelf:"center",backgroundColor:"green",width:"1.5rem",height:"1.5rem",p:"0.8rem",borderRadius:"10rem",onClick:()=>l(new Array(a.length+1).fill("yolo")),children:B(gg,{boxSize:"0.5rem"})}),c?B(wt,{onClick:h(v),alignSelf:"center",mt:"3rem !important",maxH:"2rem",maxW:"5rem",px:"0.5rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{t==null||t.wallet.connect().then(k=>d(k))},alignSelf:"center",mt:"3rem !important",maxH:"2rem",maxW:"5rem",px:"0.5rem",borderRadius:"0.2rem",bg:"orange",children:"Connect"})]})]})})})})},c6e={item:[],tokenIds:[],amounts:[],type_:[]},u6e=["","ERC20","ERC721","ERC1155"],d6e=({group:n,experience:e})=>{var _,b;const{register:t,handleSubmit:r,watch:i,formState:{errors:s}}=_r(),[o,a]=T.useState(c6e),{user:l}=e.world,[c,d]=T.useState(),[u,f]=T.useState(),[h,g]=T.useState(),v=T.useRef(),x=async A=>{const E=A;E.address=o.item[parseInt(i().address)];const k=o.type_[parseInt(i().address)],P=await JDe(l.wallet,c==null?void 0:c.interface,E,k,e.toast);c.handleTxs(P,n,"loot"),e.controller[n+"ContractControls"].main(),f(e.controller.getCurrentMode())},y=async()=>{var P;const k=await(await e.world.lootBoxScene.smartContracts[n].interface.connect((P=e.world.user)==null?void 0:P.wallet)).look();return{item:k[0],tokenIds:k[1],amounts:k[2],type_:k[3]}};return e.raycaster.on("click_chestSC_function_loot",async()=>{f(e.controller.getCurrentMode()),d(e.world.lootBoxScene.smartContracts[n]),g(e.world.user.wallet.isConnected),a(await y())}),B("mesh",{ref:v,name:n+" loot",scale:.6,position:[0,-1,0],children:u==="inputsScreen"&&B(xr,{distanceFactor:5,position:[0,1.66,0],rotation:[0,Math.PI*.206,0],transform:!0,children:B(hr,{children:ue(Ve,{border:"1px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:"Loot"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller.chestSCContractControls.main(),f(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{alignItems:"left",children:[B(en,{m:"0",width:"3.7rem",position:"relative",left:"5",overflow:"hidden",children:"Batch 1"}),ue(Ve,{border:"0.01rem solid white",borderRadius:"xl",textAlign:"left",p:"0.5rem",children:[ue(Ve,{children:[B(Ge,{fontSize:"xs",children:"Address"}),B(WS,{fontSize:"0.8rem",placeholder:"Select option",_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",...t("address",{required:!0}),children:o.item.length&&o.item.map((A,E)=>ue("option",{value:E,children:[u6e[o.type_[E].toString()]," - ",A," - ID ",o.tokenIds[E].toString()]},E))})]}),ue(Eo,{mt:"1rem",alignItems:"center",children:[B(Ge,{fontSize:"xs",children:"Id"}),B(ft,{type:"number",id:"id",value:o.tokenIds[parseInt(i().address)]??"0",disabled:!o.item.length,_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",min:"0",maxW:"10%",fontSize:"8px",padding:"0.3rem",placeholder:"0",size:"sm",borderRadius:"5px",...t("id",{required:!0})}),((_=s.amount1)==null?void 0:_.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"}),B(Ge,{fontSize:"xs",children:"Amount"}),B(ft,{type:"number",id:"amount",disabled:!o.item.length,_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",min:o.type_[parseInt(i().address)]===1?"0":"1",max:o.amounts[parseInt(i().address)],step:".000000000000000001",maxW:"100%",fontSize:"8px",padding:"0.3rem",placeholder:"1",size:"sm",borderRadius:"5px",...t("amount",{required:!0})}),((b=s.amount1)==null?void 0:b.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"})]})]}),h?B(wt,{disabled:!o.item.length,onClick:r(x),alignSelf:"center",maxH:"2rem",maxW:"5rem",px:"0.5rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{l==null||l.wallet.connect().then(A=>g(A))},alignSelf:"center",maxH:"2rem",maxW:"5rem",px:"0.5rem",borderRadius:"0.2rem",bg:"orange",children:"Connect"})]})]})})})})},f6e={item:[],tokenIds:[],amounts:[],type_:[]},gU=["","ERC20","ERC721","ERC1155"],h6e=({group:n,experience:e})=>{var A,E;const{register:t,handleSubmit:r,watch:i,formState:{errors:s}}=_r(),{user:o}=e.world,[a,l]=T.useState(),[c,d]=T.useState(),[u,f]=T.useState([]),[h,g]=T.useState(f6e),[v,x]=T.useState(),y=T.useRef(),_=async k=>{const P=Object.entries(k).filter(S=>S[0].startsWith("address")).map(S=>S[1]).slice(0,u.length+1),C=P.map(S=>h.item[parseInt(S)]),O=Object.entries(k).filter(S=>S[0].startsWith("id")).map(S=>S[1]).slice(0,u.length+1),U=Object.entries(k).filter(S=>S[0].startsWith("amount")).map(S=>S[1]).slice(0,u.length+1),K=P.map(S=>h.type_[parseInt(S)]),J={items:C,tokenIds:O,amounts:U},F=await TR(o.wallet,a==null?void 0:a.interface,J,K,e.toast);a.handleTxs(F,n,"batchLoot"),e.controller[n+"ContractControls"].main(),d(e.controller.getCurrentMode())},b=async()=>{var O;const C=await(await e.world.lootBoxScene.smartContracts[n].interface.connect((O=e.world.user)==null?void 0:O.wallet.signer)).look();return{item:C[0],tokenIds:C[1],amounts:C[2],type_:C[3]}};return e.raycaster.on(`click_${n}_function_batchLoot`,async()=>{d(e.controller.getCurrentMode()),l(e.world.lootBoxScene.smartContracts[n]),x(e.world.user.wallet.isConnected),g(await b())}),B("mesh",{ref:y,name:n+" batchLoot",scale:.6,position:[0,-1,0],children:c==="inputsScreen"&&B(xr,{distanceFactor:5,position:[0,1.66,0],rotation:[0,Math.PI*.206,0],transform:!0,children:B(hr,{children:ue(Ve,{border:"1px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:"BatchLoot"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller.chestSCContractControls.main(),d(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{alignItems:"left",spacing:"2rem",children:[ue(Ve,{children:[B(en,{m:"0",width:"3.7rem",position:"relative",left:"5",overflow:"hidden",children:"Batch 1"}),ue(Ve,{border:"0.01rem solid white",borderRadius:"xl",textAlign:"left",p:"0.5rem",children:[ue(Ve,{children:[B(Ge,{fontSize:"xs",children:"Address"}),B(WS,{fontSize:"0.8rem",placeholder:"Select option",_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",...t("address",{required:!0}),children:h.item.length&&h.item.map((k,P)=>ue("option",{value:P,children:[gU[h.type_[P].toString()]," - ",k," - ID ",h.tokenIds[P].toString()]},P))})]}),ue(Eo,{mt:"1rem",alignItems:"center",children:[B(Ge,{fontSize:"xs",children:"Id"}),B(ft,{type:"number",id:"id",value:h.tokenIds[parseInt(i().address)]??"0",disabled:!h.item.length,_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",min:"0",maxW:"10%",fontSize:"8px",padding:"0.3rem",placeholder:"0",size:"sm",borderRadius:"5px",...t("id",{required:!0})}),((A=s.amount1)==null?void 0:A.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"}),B(Ge,{fontSize:"xs",children:"Amount"}),B(ft,{type:"number",id:"amount",disabled:!h.item.length,_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",min:h.type_[parseInt(i().address)]===1?"0":"1",max:h.amounts[parseInt(i().address)],step:".000000000000000001",maxW:"100%",fontSize:"8px",padding:"0.3rem",placeholder:"1",size:"sm",borderRadius:"5px",...t("amount",{required:!0})}),((E=s.amount1)==null?void 0:E.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"})]})]})]}),u.map((k,P)=>{var C,O;return ue(Ve,{children:[ue(Iu,{position:"relative",left:"5",children:[ue(en,{m:"0",width:"3.7rem",overflow:"hidden",children:["Batch ",P+2]}),B(wt,{onClick:()=>{u.splice(P,1),f(new Array(u.length).fill("yolo"))},ml:"1rem",size:"xs",backgroundColor:"red",borderRadius:"5rem",children:B(vg,{boxSize:"0.5rem"})})]}),ue(Ve,{border:"0.01rem solid white",borderRadius:"xl",textAlign:"left",p:"0.5rem",children:[ue(Ve,{children:[B(Ge,{fontSize:"xs",children:"Address"}),B(WS,{fontSize:"0.8rem",placeholder:"Select option",_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",...t("address"+(P+1),{required:!0}),children:h.item.length&&h.item.map((U,K)=>ue("option",{value:K,disabled:Object.entries(i()).map(J=>J[0].startsWith("address")?parseInt(J[1]):"").includes(K),children:[gU[h.type_[K].toString()]," - ",U," - ID ",h.tokenIds[K].toString()]},K))})]}),ue(Eo,{mt:"1rem",alignItems:"center",children:[B(Ge,{fontSize:"xs",children:"Id"}),B(ft,{type:"number",id:"id",value:h.tokenIds[parseInt(i()[`address${P+1}`])]??"0",disabled:!h.item.length,_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",min:"0",maxW:"10%",fontSize:"8px",padding:"0.3rem",placeholder:"0",size:"sm",borderRadius:"5px",...t("id"+(P+1),{required:!0})}),((C=s[`id${P+1}`])==null?void 0:C.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"}),B(Ge,{fontSize:"xs",children:"Amount"}),B(ft,{type:"number",id:"amount",disabled:!h.item.length,_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",min:h.type_[parseInt(i()[`address${P+1}`])]===1?"0":"1",max:h.amounts[parseInt(i()[`address${P+1}`])],step:".000000000000000001",maxW:"100%",fontSize:"8px",padding:"0.3rem",placeholder:"1",size:"sm",borderRadius:"5px",...t("amount"+P+1,{required:!0})}),((O=s[`amount${P+1}`])==null?void 0:O.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"})]})]})]},P)}),B(wt,{alignSelf:"center",backgroundColor:"green",width:"1.5rem",height:"1.5rem",p:"0.8rem",borderRadius:"10rem",onClick:()=>f(new Array(u.length+1).fill("yolo")),children:B(gg,{boxSize:"0.5rem"})}),v?B(wt,{disabled:!h.item.length,onClick:r(_),alignSelf:"center",maxH:"2rem",maxW:"5rem",px:"0.5rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{o==null||o.wallet.connect().then(k=>x(k))},alignSelf:"center",maxH:"2rem",maxW:"5rem",px:"0.5rem",borderRadius:"0.2rem",bg:"orange",children:"Connect"})]})]})})})})},p6e=({group:n,experience:e})=>{const{user:t}=e.world,[r,i]=T.useState(),[s,o]=T.useState(void 0),[a,l]=T.useState(),c=T.useRef(),{register:d,handleSubmit:u}=_r(),f=async h=>{const g=await QDe(t.wallet,r.deployer,h,e.toast);console.log("transaction sent !"),r.handleDeployment(g,n,"deploy")};return e.raycaster.on(`click_${n}_function_deploy`,()=>{o(e.controller.getCurrentMode()),i(e.world.lootBoxScene.smartContracts[n]),l(e.world.user.wallet.isConnected)}),B("mesh",{ref:c,name:n+" deploy",scale:.6,position:[0,-1,0],children:s==="metaScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:[0,-.015,0],transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[ue(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:["Deploy ",n]}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller.erc20SCContractControls.main(),o(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"0.5rem",alignItems:"left",children:[ue(Ve,{children:[B(en,{children:"Name (optional)"}),B(ft,{fontSize:"8px",size:"sm",padding:"0.3rem",placeholder:"gotchi lootbox",borderRadius:"5px",...d("name")}),B(en,{children:"ticker (optional)"}),B(ft,{fontSize:"8px",size:"sm",padding:"0.3rem",placeholder:"ebik !",borderRadius:"5px",...d("ticker")})]}),a?B(wt,{onClick:u(f),alignSelf:"center",mt:"2rem !important",maxH:"2rem",maxW:"5rem",px:"0.5rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{t==null||t.wallet.connect().then(h=>l(h))},maxH:"2rem",px:"0.5rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},m6e=({group:n,experience:e})=>{var g,v,x,y;const{user:t}=e.world,[r,i]=T.useState(),[s,o]=T.useState(void 0),[a,l]=T.useState(),c=T.useRef(),{register:d,handleSubmit:u,formState:{errors:f}}=_r(),h=async _=>{const b=await eBe(t.wallet,r==null?void 0:r.interface,_,e.toast);r.handleTxs(b,n,"approve"),e.controller[n+"ContractControls"].main(),o(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_approve`,()=>{o(e.controller.getCurrentMode()),i(e.world.lootBoxScene.smartContracts[n]),l(e.world.user.wallet.isConnected)}),B("mesh",{ref:c,name:`${n} approve`,scale:.6,position:[0,-1,0],children:s==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{fontWeight:"bold",sx:{fontSize:"1rem"},children:"Approve"}),B(Ge,{pb:"0.5rem",sx:{fontSize:"0.4rem"},children:r.getAddress()}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),o(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{children:"address to approve"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...d("address",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((g=f.address)==null?void 0:g.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((v=f.address)==null?void 0:v.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((x=f.address)==null?void 0:x.type)==="minLength"||((y=f.address1)==null?void 0:y.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),B(en,{children:"amounts"}),B(ft,{type:"number",min:"0",placeholder:"100",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...d("amount",{required:!0})})]}),B(fr,{}),a?B(wt,{onClick:u(h),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{t==null||t.wallet.connect().then(_=>l(_))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},g6e=({group:n,experience:e})=>{var g,v,x,y;const{user:t}=e.world,[r,i]=T.useState(),[s,o]=T.useState(void 0),[a,l]=T.useState(),c=T.useRef(),{register:d,handleSubmit:u,formState:{errors:f}}=_r(),h=async _=>{const b=await nBe(t.wallet,r==null?void 0:r.interface,_,e.toast);r.handleTxs(b,n,"transfer"),e.controller[n+"ContractControls"].main(),o(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_transfer`,()=>{o(e.controller.getCurrentMode()),i(e.world.lootBoxScene.smartContracts[n]),l(e.world.user.wallet.isConnected)}),B("mesh",{ref:c,name:`${n} transfer`,scale:.6,position:[0,-1,0],children:s==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:"Transfer"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),o(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{children:"address to transfer"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...d("address",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((g=f.address)==null?void 0:g.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((v=f.address)==null?void 0:v.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((x=f.address)==null?void 0:x.type)==="minLength"||((y=f.address1)==null?void 0:y.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),B(en,{children:"amounts"}),B(ft,{type:"number",min:"0",placeholder:"100",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...d("amount",{required:!0})})]}),B(fr,{}),a?B(wt,{onClick:u(h),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{t==null||t.wallet.connect().then(_=>l(_))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},v6e=({group:n,experience:e})=>{var g,v,x,y;const{user:t}=e.world,[r,i]=T.useState(),[s,o]=T.useState(void 0),[a,l]=T.useState(),c=T.useRef(),{register:d,handleSubmit:u,formState:{errors:f}}=_r(),h=async _=>{const b=await tBe(t.wallet,r==null?void 0:r.interface,_,e.toast);r.handleTxs(b,n,"mint"),e.controller[n+"ContractControls"].main(),o(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_mint`,()=>{o(e.controller.getCurrentMode()),i(e.world.lootBoxScene.smartContracts[n]),l(e.world.user.wallet.isConnected)}),B("mesh",{ref:c,name:`${n} mint`,scale:.6,position:[0,-1,0],children:s==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:"Mint"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),o(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{children:"Receiver"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...d("address",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((g=f.address)==null?void 0:g.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((v=f.address)==null?void 0:v.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((x=f.address)==null?void 0:x.type)==="minLength"||((y=f.address1)==null?void 0:y.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),B(en,{children:"amounts"}),B(ft,{type:"number",min:"0",placeholder:"100",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...d("amount",{required:!0})})]}),B(fr,{}),a?B(wt,{onClick:u(h),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{t==null||t.wallet.connect().then(_=>l(_))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},y6e=({group:n,experience:e})=>{const{user:t}=e.world,[r,i]=T.useState(),[s,o]=T.useState(void 0),[a,l]=T.useState(),c=T.useRef(),{register:d,handleSubmit:u}=_r(),f=async h=>{const g=await rBe(t.wallet,r==null?void 0:r.interface,h,e.toast);r.handleTxs(g,n,"burn"),e.controller[n+"ContractControls"].main(),o(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_burn`,()=>{o(e.controller.getCurrentMode()),i(e.world.lootBoxScene.smartContracts[n]),l(e.world.user.wallet.isConnected)}),B("mesh",{ref:c,name:`${n} burn`,scale:.6,position:[0,-1,0],children:s==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:"Mint"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),o(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{children:"amounts"}),B(ft,{type:"number",min:"0",placeholder:"100",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...d("amount",{required:!0})})]}),B(fr,{}),a?B(wt,{onClick:u(f),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{t==null||t.wallet.connect().then(h=>l(h))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},x6e=({group:n,experience:e})=>{const{user:t}=e.world,[r,i]=T.useState(),[s,o]=T.useState(void 0),[a,l]=T.useState(),c=T.useRef(),{register:d,handleSubmit:u}=_r(),f=async h=>{const g=await iBe(t.wallet,r.deployer,h,e.toast);console.log("transaction sent !"),r.handleDeployment(g,n,"deploy")};return e.raycaster.on(`click_${n}_function_deploy`,()=>{o(e.controller.getCurrentMode()),i(e.world.lootBoxScene.smartContracts[n]),l(e.world.user.wallet.isConnected)}),B("mesh",{ref:c,name:n+" deploy",scale:.6,position:[0,-1,0],children:s==="metaScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:[0,-.015,0],transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[ue(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:["Deploy ",n]}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20wpx",right:"20px",onClick:()=>{e.controller.erc721SCContractControls.main(),o(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"0.5rem",alignItems:"left",children:[ue(Ve,{children:[B(en,{children:"Name (optional)"}),B(ft,{fontSize:"8px",size:"sm",padding:"0.3rem",placeholder:"gotchi lootbox",borderRadius:"5px",...d("name")}),B(en,{children:"ticker (optional)"}),B(ft,{fontSize:"8px",size:"sm",padding:"0.3rem",placeholder:"ebik !",borderRadius:"5px",...d("ticker")})]}),a?B(wt,{onClick:u(f),alignSelf:"center",mt:"2rem !important",maxH:"2rem",maxW:"5rem",px:"0.5rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{t==null||t.wallet.connect().then(h=>l(h))},maxH:"2rem",px:"0.5rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},_6e=({group:n,experience:e,props:t})=>{var v,x,y,_;const{user:r}=e.world,[i,s]=T.useState(),[o,a]=T.useState(void 0),[l,c]=T.useState(),d=T.useRef(),{register:u,handleSubmit:f,formState:{errors:h}}=_r(),g=async b=>{const A=await sBe(r.wallet,i==null?void 0:i.interface,b,e.toast);i.handleTxs(A,n,"approve"),e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_approve`,()=>{a(e.controller.getCurrentMode()),s(e.world.lootBoxScene.smartContracts[n]),c(e.world.user.wallet.isConnected)}),B("mesh",{ref:d,name:`${n} approve`,scale:.6,position:[0,-1,0],children:o==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:t.rotation,transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{fontWeight:"bold",sx:{fontSize:"1rem"},children:"Approve"}),B(Ge,{pb:"0.5rem",sx:{fontSize:"0.4rem"},children:i.getAddress()}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{fontSize:"sm",children:"address to approve"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...u("address",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((v=h.address)==null?void 0:v.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((x=h.address)==null?void 0:x.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((y=h.address)==null?void 0:y.type)==="minLength"||((_=h.address1)==null?void 0:_.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),B(Iu,{mt:"1rem",children:ue(Kd,{children:[B(Ge,{alignItems:"center",fontSize:"sm",children:"Token id"}),B(ft,{type:"number",min:"0",ml:"2rem",mr:"5rem",maxW:"20%",placeholder:"0",px:"1",size:"sm",fontSize:"1rem",borderRadius:"md",...u("id",{required:!0})})]})})]}),B(fr,{}),l?B(wt,{onClick:f(g),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{r==null||r.wallet.connect().then(b=>c(b))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},b6e=({group:n,experience:e,props:t})=>{var v,x,y,_,b,A,E,k;const{user:r}=e.world,[i,s]=T.useState(),[o,a]=T.useState(void 0),[l,c]=T.useState(),d=T.useRef(),{register:u,handleSubmit:f,formState:{errors:h}}=_r(),g=async P=>{const C=await aBe(r.wallet,i==null?void 0:i.interface,P,e.toast);i.handleTxs(C,n,"safeTransferFrom"),e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_safeTransferFrom`,()=>{a(e.controller.getCurrentMode()),s(e.world.lootBoxScene.smartContracts[n]),c(e.world.user.wallet.isConnected)}),B("mesh",{ref:d,name:`${n} safeTransferFrom`,scale:.6,position:[0,-1,0],children:o==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:t.rotation,transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"0.9rem"},children:"Safe transfer from"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{m:"0",fontSize:"sm",children:"address from"}),B(ft,{placeholder:"0x...",defaultValue:window.ethereum.accounts[0]??"",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...u("from",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((v=h.address)==null?void 0:v.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((x=h.address)==null?void 0:x.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((y=h.address)==null?void 0:y.type)==="minLength"||((_=h.address1)==null?void 0:_.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),B(en,{m:"0",mt:"1rem",fontSize:"sm",children:"address to"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...u("to",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((b=h.address)==null?void 0:b.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((A=h.address)==null?void 0:A.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((E=h.address)==null?void 0:E.type)==="minLength"||((k=h.address1)==null?void 0:k.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),B(Iu,{mt:"1rem",children:ue(Kd,{children:[B(Ge,{alignItems:"center",fontSize:"sm",children:"Token id"}),B(ft,{type:"number",min:"0",ml:"2rem",mr:"5rem",maxW:"20%",placeholder:"0",px:"1",size:"sm",fontSize:"1rem",borderRadius:"md",...u("id",{required:!0})})]})}),B(en,{m:"0",mt:"1rem",fontSize:"xs",children:"Datas (optional)"}),B(ft,{placeholder:"",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...u("datas")})]}),l?B(wt,{onClick:f(g),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{r==null||r.wallet.connect().then(P=>c(P))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},w6e=({group:n,experience:e,props:t})=>{var v,x,y,_;const{user:r}=e.world,[i,s]=T.useState(),[o,a]=T.useState(void 0),[l,c]=T.useState(),d=T.useRef(),{register:u,handleSubmit:f,formState:{errors:h}}=_r(),g=async b=>{const A=await oBe(r.wallet,i==null?void 0:i.interface,b,e.toast);i.handleTxs(A,n,"safeMint"),e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_safeMint`,()=>{a(e.controller.getCurrentMode()),s(e.world.lootBoxScene.smartContracts[n]),c(e.world.user.wallet.isConnected)}),B("mesh",{ref:d,name:`${n} safeMint`,scale:.6,position:[0,-1,0],children:o==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:t.rotation,transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{fontWeight:"bold",sx:{fontSize:"1rem"},children:"Safe mint"}),B(Ge,{pb:"0.5rem",sx:{fontSize:"0.4rem"},children:i.getAddress()}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{fontSize:"xs",mb:"0",children:"Receiver address"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...u("to",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((v=h.address)==null?void 0:v.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((x=h.address)==null?void 0:x.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((y=h.address)==null?void 0:y.type)==="minLength"||((_=h.address1)==null?void 0:_.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),B(en,{fontSize:"xs",mb:"0",mt:"1rem",children:"Uri link"}),B(ft,{placeholder:"https://link-to-your-nft-metadatas/metadatas.json",size:"sm",fontSize:"0.5rem",borderRadius:"md",...u("uri",{required:!0})})]}),B(fr,{}),l?B(wt,{onClick:f(g),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{r==null||r.wallet.connect().then(b=>c(b))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},S6e=({group:n,experience:e,props:t})=>{const{user:r}=e.world,[i,s]=T.useState(),[o,a]=T.useState(void 0),[l,c]=T.useState(),d=T.useRef(),{register:u,handleSubmit:f}=_r(),h=async g=>{const v=await lBe(r.wallet,i==null?void 0:i.interface,g,e.toast);i.handleTxs(v,n,"burn"),e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_burn`,()=>{a(e.controller.getCurrentMode()),s(e.world.lootBoxScene.smartContracts[n]),c(e.world.user.wallet.isConnected)}),B("mesh",{ref:d,name:`${n} burn`,scale:.6,position:[0,-1,0],children:o==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:t.rotation,transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:"Burn"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[B(Iu,{mt:"1rem",children:ue(Kd,{children:[B(Ge,{alignItems:"center",fontSize:"sm",children:"Token id"}),B(ft,{type:"number",min:"0",ml:"2rem",mr:"5rem",maxW:"20%",placeholder:"0",px:"1",size:"sm",fontSize:"1rem",borderRadius:"md",...u("id",{required:!0})})]})}),B(fr,{}),l?B(wt,{onClick:f(h),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{r==null||r.wallet.connect().then(g=>c(g))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},A6e=({group:n,experience:e})=>{const{user:t}=e.world,[r,i]=T.useState(),[s,o]=T.useState(void 0),[a,l]=T.useState(),c=T.useRef(),{register:d,handleSubmit:u}=_r(),f=async h=>{const g=await cBe(t.wallet,r.deployer,h,e.toast);console.log("transaction sent !"),r.handleDeployment(g,n,"dpeloy")};return e.raycaster.on(`click_${n}_function_deploy`,()=>{o(e.controller.getCurrentMode()),i(e.world.lootBoxScene.smartContracts[n]),l(e.world.user.wallet.isConnected)}),B("mesh",{ref:c,name:n+" deploy",scale:.6,position:[0,-1,0],children:s==="metaScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:[0,-.015,0],transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"1rem"},children:"Deploy erc1155"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20wpx",right:"20px",onClick:()=>{e.controller.erc1155SCContractControls.main(),o(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"0.5rem",alignItems:"left",children:[ue(Ve,{children:[B(en,{children:"Uri"}),B(ft,{fontSize:"8px",size:"sm",padding:"0.3rem",placeholder:"gotchi lootbox",borderRadius:"5px",...d("uri")})]}),a?B(wt,{onClick:u(f),alignSelf:"center",mt:"2rem !important",maxH:"2rem",maxW:"5rem",px:"0.5rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{t==null||t.wallet.connect().then(h=>l(h))},maxH:"2rem",px:"0.5rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},E6e=({group:n,experience:e,props:t={}})=>{var v,x,y,_,b,A,E,k;const{user:r}=e.world,[i,s]=T.useState(),[o,a]=T.useState(void 0),[l,c]=T.useState(),d=T.useRef(),{register:u,handleSubmit:f,formState:{errors:h}}=_r(),g=async P=>{const C=await fBe(r.wallet,i==null?void 0:i.interface,P,e.toast);i.handleTxs(C,n,"safeTransferFrom"),e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_safeTransferFrom`,()=>{a(e.controller.getCurrentMode()),s(e.world.lootBoxScene.smartContracts[n]),c(e.world.user.wallet.isConnected)}),B("mesh",{ref:d,name:`${n} safeTransferFrom`,scale:.6,position:[0,-1,0],children:o==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:t==null?void 0:t.rotation,transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"0.9rem"},children:"Safe transfer from"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{m:"0",fontSize:"sm",children:"address from"}),B(ft,{placeholder:"0x...",defaultValue:window.ethereum.accounts[0]??"",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...u("from",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((v=h.address)==null?void 0:v.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((x=h.address)==null?void 0:x.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((y=h.address)==null?void 0:y.type)==="minLength"||((_=h.address1)==null?void 0:_.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),B(en,{m:"0",mt:"1rem",fontSize:"sm",children:"address to"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...u("to",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((b=h.address)==null?void 0:b.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((A=h.address)==null?void 0:A.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((E=h.address)==null?void 0:E.type)==="minLength"||((k=h.address1)==null?void 0:k.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),ue(Iu,{mt:"1rem",children:[ue(Kd,{children:[B(Ge,{alignItems:"center",fontSize:"sm",children:"Token id"}),B(ft,{type:"number",min:"0",mx:"2",p:"1",fontSize:"1rem",borderRadius:"md",...u("id",{required:!0})})]}),B(fr,{}),ue(Kd,{children:[B(Ge,{alignItems:"center",fontSize:"sm",children:"Amount"}),B(ft,{type:"number",min:"0",mx:"2",p:"1",fontSize:"1rem",borderRadius:"md",...u("amount",{required:!0})})]})]}),B(en,{m:"0",mt:"1rem",fontSize:"xs",children:"Datas (optional)"}),B(ft,{placeholder:"",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...u("datas")})]}),l?B(wt,{onClick:f(g),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{r==null||r.wallet.connect().then(P=>c(P))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},M6e=({group:n,experience:e,props:t={}})=>{var y,_,b,A,E,k,P,C,O,U;const{user:r}=e.world,[i,s]=T.useState(),[o,a]=T.useState(void 0),[l,c]=T.useState(),[d,u]=T.useState([]),f=T.useRef(),{register:h,handleSubmit:g,formState:{errors:v}}=_r(),x=async K=>{let J={};J.from=K.from,J.to=K.to,J.ids=Object.entries(K).filter(S=>S[0].startsWith("id")).map(S=>S[1]).slice(0,d.length+1),J.amounts=Object.entries(K).filter(S=>S[0].startsWith("amount")).map(S=>S[1]).slice(0,d.length+1),J.datas=K.datas;const F=await hBe(r.wallet,i==null?void 0:i.interface,J,e.toast);i.handleTxs(F,n,"safeBatchTransferFrom"),e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_safeBatchTransferFrom`,()=>{a(e.controller.getCurrentMode()),s(e.world.lootBoxScene.smartContracts[n]),c(e.world.user.wallet.isConnected)}),B("mesh",{ref:f,name:`${n} safeBatchTransferFrom`,scale:.6,position:[0,-1,0],children:o==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:t==null?void 0:t.rotation,transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{pb:"0.5rem",fontWeight:"bold",sx:{fontSize:"0.9rem"},children:"Safe batch transfer from"}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{m:"0",fontSize:"sm",children:"address from"}),B(ft,{placeholder:"0x...",defaultValue:window.ethereum.accounts[0]??"",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...h("from",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((y=v.address)==null?void 0:y.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((_=v.address)==null?void 0:_.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((b=v.address)==null?void 0:b.type)==="minLength"||((A=v.address1)==null?void 0:A.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),B(en,{m:"0",mt:"1rem",fontSize:"sm",children:"address to"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...h("to",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((E=v.address)==null?void 0:E.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((k=v.address)==null?void 0:k.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((P=v.address)==null?void 0:P.type)==="minLength"||((C=v.address1)==null?void 0:C.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),ue(Eo,{mt:"1rem",alignItems:"center",children:[B(Ge,{fontSize:"xs",children:"Id"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"0",size:"sm",borderRadius:"5px",...h("id1",{required:!0})}),((O=v.id1)==null?void 0:O.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Id is required"}),B(fr,{}),B(Ge,{fontSize:"xs",children:"Amount"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"3",size:"sm",borderRadius:"5px",...h("amount1",{required:!0})}),((U=v.amount1)==null?void 0:U.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"})]}),d.map((K,J)=>{var F,S;return B(Ve,{children:ue(Eo,{alignItems:"center",children:[B(Ge,{fontSize:"xs",children:"Id"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"0",size:"sm",borderRadius:"5px",...h("id"+(J+2),{required:!0})}),((F=v[`id${J+2}`])==null?void 0:F.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Id is required"}),B(fr,{}),B(Ge,{fontSize:"xs",children:"Amount"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"3",size:"sm",borderRadius:"5px",...h("amount"+(J+2),{required:!0})}),((S=v[`amount${J+2}`])==null?void 0:S.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"}),B(Ve,{as:"button",onClick:()=>{d.splice(J,1),u(new Array(d.length).fill("yolo"))},ml:"1rem",h:"5",w:"5",backgroundColor:"red",borderRadius:"full",children:B(vg,{boxSize:"0.3rem",mb:"2"})})]})},J)}),B(wt,{alignSelf:"center",backgroundColor:"green",width:"1.5rem",height:"1.5rem",p:"0.8rem",borderRadius:"10rem",onClick:()=>u(new Array(d.length+1).fill("yolo")),children:B(gg,{boxSize:"0.5rem"})}),B(en,{m:"0",mt:"1rem",fontSize:"xs",children:"Datas (optional)"}),B(ft,{placeholder:"",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...h("datas")})]}),l?B(wt,{onClick:g(x),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{r==null||r.wallet.connect().then(K=>c(K))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},C6e=({group:n,experience:e,props:t})=>{var v,x,y,_,b,A;const{user:r}=e.world,[i,s]=T.useState(),[o,a]=T.useState(void 0),[l,c]=T.useState(),d=T.useRef(),{register:u,handleSubmit:f,formState:{errors:h}}=_r(),g=async E=>{const k=await dBe(r.wallet,i==null?void 0:i.interface,E,e.toast);i.handleTxs(k,n,"mint"),e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_mint`,()=>{a(e.controller.getCurrentMode()),s(e.world.lootBoxScene.smartContracts[n]),c(e.world.user.wallet.isConnected)}),B("mesh",{ref:d,name:`${n} mint`,scale:.6,position:[0,-1,0],children:o==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:t==null?void 0:t.rotation,transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{fontWeight:"bold",sx:{fontSize:"1rem"},children:"mint"}),B(Ge,{pb:"0.5rem",sx:{fontSize:"0.4rem"},children:i.getAddress()}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{fontSize:"xs",mb:"0",children:"Receiver address"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...u("to",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((v=h.address)==null?void 0:v.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((x=h.address)==null?void 0:x.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((y=h.address)==null?void 0:y.type)==="minLength"||((_=h.address1)==null?void 0:_.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),ue(Eo,{alignItems:"center",mt:"1rem",children:[B(Ge,{fontSize:"xs",children:"Id"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"0",size:"sm",borderRadius:"5px",...u("id",{required:!0})}),((b=h.id)==null?void 0:b.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Id is required"}),B(fr,{}),B(Ge,{fontSize:"xs",children:"Amount"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"3",size:"sm",borderRadius:"5px",...u("amount",{required:!0})}),((A=h.amount)==null?void 0:A.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"})]}),B(en,{m:"0",mt:"1rem",fontSize:"xs",children:"Datas (optional)"}),B(ft,{placeholder:"",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...u("datas")})]}),B(fr,{}),l?B(wt,{onClick:f(g),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{r==null||r.wallet.connect().then(E=>c(E))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},T6e=({group:n,experience:e,props:t={}})=>{var y,_,b,A,E,k;const{user:r}=e.world,[i,s]=T.useState(),[o,a]=T.useState(void 0),[l,c]=T.useState(),[d,u]=T.useState([]),f=T.useRef(),{register:h,handleSubmit:g,formState:{errors:v}}=_r(),x=async P=>{let C={};C.to=P.to,C.ids=Object.entries(P).filter(U=>U[0].startsWith("id")).map(U=>U[1]).slice(0,d.length+1),C.amounts=Object.entries(P).filter(U=>U[0].startsWith("amount")).map(U=>U[1]).slice(0,d.length+1),C.datas=P.datas;const O=await uBe(r.wallet,i==null?void 0:i.interface,C,e.toast);i.handleTxs(O,n,"mintBatch"),e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_mintBatch`,()=>{a(e.controller.getCurrentMode()),s(e.world.lootBoxScene.smartContracts[n]),c(e.world.user.wallet.isConnected)}),B("mesh",{ref:f,name:`${n} mintBatch`,scale:.6,position:[0,-1,0],children:o==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:t==null?void 0:t.rotation,transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{fontWeight:"bold",sx:{fontSize:"1rem"},children:"mint batch"}),B(Ge,{pb:"0.5rem",sx:{fontSize:"0.4rem"},children:i.getAddress()}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{fontSize:"xs",mb:"0",children:"Receiver address"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...h("to",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((y=v.address)==null?void 0:y.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((_=v.address)==null?void 0:_.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((b=v.address)==null?void 0:b.type)==="minLength"||((A=v.address1)==null?void 0:A.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),ue(Eo,{alignItems:"center",mt:"1rem",children:[B(Ge,{fontSize:"xs",children:"Id"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"0",size:"sm",borderRadius:"5px",...h("id1",{required:!0})}),((E=v.id1)==null?void 0:E.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Id is required"}),B(fr,{}),B(Ge,{fontSize:"xs",children:"Amount"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"3",size:"sm",borderRadius:"5px",...h("amount1",{required:!0})}),((k=v.amount1)==null?void 0:k.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"})]}),d.map((P,C)=>{var O,U;return B(Ve,{children:ue(Eo,{alignItems:"center",children:[B(Ge,{fontSize:"xs",children:"Id"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"0",size:"sm",borderRadius:"5px",...h("id"+(C+2),{required:!0})}),((O=v[`id${C+2}`])==null?void 0:O.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Id is required"}),B(fr,{}),B(Ge,{fontSize:"xs",children:"Amount"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"3",size:"sm",borderRadius:"5px",...h("amount"+(C+2),{required:!0})}),((U=v[`amount${C+2}`])==null?void 0:U.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"}),B(Ve,{as:"button",onClick:()=>{d.splice(C,1),u(new Array(d.length).fill("yolo"))},ml:"1rem",h:"5",w:"5",backgroundColor:"red",borderRadius:"full",children:B(vg,{boxSize:"0.3rem",mb:"2"})})]})},C)}),B(wt,{alignSelf:"center",backgroundColor:"green",width:"1.5rem",height:"1.5rem",p:"0.8rem",borderRadius:"10rem",onClick:()=>u(new Array(d.length+1).fill("yolo")),children:B(gg,{boxSize:"0.5rem"})}),B(en,{m:"0",mt:"1rem",fontSize:"xs",children:"Datas (optional)"}),B(ft,{placeholder:"",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...h("datas")})]}),B(fr,{}),l?B(wt,{onClick:g(x),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{r==null||r.wallet.connect().then(P=>c(P))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},k6e=({group:n,experience:e,props:t})=>{var v,x,y,_,b,A;const{user:r}=e.world,[i,s]=T.useState(),[o,a]=T.useState(void 0),[l,c]=T.useState(),d=T.useRef(),{register:u,handleSubmit:f,formState:{errors:h}}=_r(),g=async E=>{const k=await pBe(r.wallet,i==null?void 0:i.interface,E,e.toast);i.handleTxs(k,n,"burn"),e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_burn`,()=>{a(e.controller.getCurrentMode()),s(e.world.lootBoxScene.smartContracts[n]),c(e.world.user.wallet.isConnected)}),B("mesh",{ref:d,name:`${n} burn`,scale:.6,position:[0,-1,0],children:o==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:t==null?void 0:t.rotation,transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{fontWeight:"bold",sx:{fontSize:"1rem"},children:"burn"}),B(Ge,{pb:"0.5rem",sx:{fontSize:"0.4rem"},children:i.getAddress()}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{fontSize:"xs",mb:"0",children:"Account address"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...u("account",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((v=h.address)==null?void 0:v.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((x=h.address)==null?void 0:x.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((y=h.address)==null?void 0:y.type)==="minLength"||((_=h.address1)==null?void 0:_.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),ue(Eo,{alignItems:"center",mt:"1rem",children:[B(Ge,{fontSize:"xs",children:"Id"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"0",size:"sm",borderRadius:"5px",...u("id",{required:!0})}),((b=h.id)==null?void 0:b.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Id is required"}),B(fr,{}),B(Ge,{fontSize:"xs",children:"Amount"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"3",size:"sm",borderRadius:"5px",...u("amount",{required:!0})}),((A=h.amount)==null?void 0:A.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"})]})]}),B(fr,{}),l?B(wt,{onClick:f(g),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{r==null||r.wallet.connect().then(E=>c(E))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})},R6e=({group:n,experience:e,props:t={}})=>{var y,_,b,A,E,k;const{user:r}=e.world,[i,s]=T.useState(),[o,a]=T.useState(void 0),[l,c]=T.useState(),[d,u]=T.useState([]),f=T.useRef(),{register:h,handleSubmit:g,formState:{errors:v}}=_r(),x=async P=>{let C={};C.account=P.account,C.ids=Object.entries(P).filter(U=>U[0].startsWith("id")).map(U=>U[1]).slice(0,d.length+1),C.amounts=Object.entries(P).filter(U=>U[0].startsWith("amount")).map(U=>U[1]).slice(0,d.length+1);const O=await mBe(r.wallet,i==null?void 0:i.interface,C,e.toast);i.handleTxs(O,n,"burnBatch"),e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())};return e.raycaster.on(`click_${n}_function_burnBatch`,()=>{a(e.controller.getCurrentMode()),s(e.world.lootBoxScene.smartContracts[n]),c(e.world.user.wallet.isConnected)}),B("mesh",{ref:f,name:`${n} burnBatch`,scale:.6,position:[0,-1,0],children:o==="inputsScreen"&&B(xr,{center:!0,distanceFactor:5,position:[0,1.67,0],rotation:t==null?void 0:t.rotation,transform:!0,children:B(hr,{children:ue(Ve,{border:"2px solid #9ecaed",overflowY:"auto",width:"268px",height:"268px",padding:"1rem",borderRadius:"32px",textAlign:"center",textColor:"white",boxShadow:"inset 0 0 20px #9ecaed, 0 0 20px #9ecaed",children:[ue(Ve,{children:[B(Ge,{fontWeight:"bold",sx:{fontSize:"1rem"},children:"mint batch"}),B(Ge,{pb:"0.5rem",sx:{fontSize:"0.4rem"},children:i.getAddress()}),ue(Ve,{as:"button",fontSize:"10px",position:"fixed",top:"20px",right:"20px",onClick:()=>{e.controller[n+"ContractControls"].main(),a(e.controller.getCurrentMode())},children:["Back ",B(br,{})]})]}),ue(rr,{py:"1rem",alignItems:"center",h:"85%",children:[ue(Ve,{width:"100%",children:[B(en,{fontSize:"xs",mb:"0",children:"Account address"}),B(ft,{placeholder:"0x...",px:"1",size:"sm",fontSize:"0.5rem",borderRadius:"md",...h("account",{required:!0,maxLength:42,minLength:42,pattern:/^0x[A-Fa-f0-9]{40}$/i})}),((y=v.address)==null?void 0:y.type)==="pattern"&&ue("p",{style:{color:"red",fontSize:"6px"},children:['Address must start with "0x" and follow by 40 "Aa-Ff" and/or "0-9"',B("br",{}),"example: 0x0A2b6922FcFF343D51efB4bE45CFBA5Cd7aa08B6"]}),((_=v.address)==null?void 0:_.type)==="required"&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address is required"}),(((b=v.address)==null?void 0:b.type)==="minLength"||((A=v.address1)==null?void 0:A.type)==="maxLength")&&B("p",{style:{color:"red",fontSize:"10px"},children:"Address must be 42 long"}),ue(Eo,{alignItems:"center",mt:"1rem",children:[B(Ge,{fontSize:"xs",children:"Id"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"0",size:"sm",borderRadius:"5px",...h("id1",{required:!0})}),((E=v.id1)==null?void 0:E.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Id is required"}),B(fr,{}),B(Ge,{fontSize:"xs",children:"Amount"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"3",size:"sm",borderRadius:"5px",...h("amount1",{required:!0})}),((k=v.amount1)==null?void 0:k.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"})]}),d.map((P,C)=>{var O,U;return B(Ve,{children:ue(Eo,{alignItems:"center",children:[B(Ge,{fontSize:"xs",children:"Id"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"0",size:"sm",borderRadius:"5px",...h("id"+(C+2),{required:!0})}),((O=v[`id${C+2}`])==null?void 0:O.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Id is required"}),B(fr,{}),B(Ge,{fontSize:"xs",children:"Amount"}),B(ft,{_hover:{boxShadow:"inset 0 0 2px white, 0 0 2px white"},border:"none",type:"number",min:"0",maxW:"20%",fontSize:"8px",padding:"0.3rem",placeholder:"3",size:"sm",borderRadius:"5px",...h("amount"+(C+2),{required:!0})}),((U=v[`amount${C+2}`])==null?void 0:U.type)==="required"&&B(Ge,{textAlign:"center",color:"red",fontSize:"10px",children:"Amount is required"}),B(Ve,{as:"button",onClick:()=>{d.splice(C,1),u(new Array(d.length).fill("yolo"))},ml:"1rem",h:"5",w:"5",backgroundColor:"red",borderRadius:"full",children:B(vg,{boxSize:"0.3rem",mb:"2"})})]})},C)}),B(wt,{alignSelf:"center",backgroundColor:"green",width:"1.5rem",height:"1.5rem",p:"0.8rem",borderRadius:"10rem",onClick:()=>u(new Array(d.length+1).fill("yolo")),children:B(gg,{boxSize:"0.5rem"})})]}),B(fr,{}),l?B(wt,{onClick:g(x),alignSelf:"center",mt:"1rem !important",maxW:"5rem",p:"0.4rem",borderRadius:"0.2rem",bg:"blue.500",children:"Send Tx"}):B(wt,{onClick:()=>{r==null||r.wallet.connect().then(P=>c(P))},mt:"1rem !important",p:"0.4rem",borderRadius:"0.2rem",background:"orange",children:"Connect"})]})]})})})})};TI({OrbitControls:pY});function P6e(){const[n,e]=T.useState(),[t,r]=T.useState(!1),i=Uo(),s=b0e(),o=T.useRef(),a=T.useRef(),l=T.useRef(),c=T.useRef(),d=T.useRef(),u=T.useRef(),f=T.useRef(),h=T.useRef(),g=T.useRef(),v=T.useRef();T.useEffect(()=>{i.toast=s,i.controls=o.current,i.outlineHover=c.current,i.outlineChestHover=d.current,i.chestSC=f.current,i.erc20SC=h.current,i.erc721SC=g.current,i.erc1155SC=v.current,e(vr.Instance(i,o.current)),n==null||n.resources.on("ready",()=>{r(!0)})},[i,s,n]),ag(()=>{n==null||n.update()});const{radius:x,depth:y,count:_,factor:b,saturation:A,speed:E}=n5("sky",{radius:{value:64,min:0,max:100},depth:{value:130,min:0,max:500},count:{value:9e3,min:0,max:1e5},factor:{value:4,min:0,max:20},saturation:{value:10,min:0,max:1},speed:{value:3,min:0,max:10}}),{intensity:k,luminanceThreshold:P,luminanceSmoothing:C}=n5("bloom",{intensity:{value:2,min:0,max:10,step:.1},luminanceThreshold:{value:.9,min:0,max:1},luminanceSmoothing:{value:.025,min:0,max:1}});return ue(sh,{children:[t&&B(VBe,{}),B("color",{args:["black"],attach:"background"}),B(pY,{args:[i.camera,i.gl.domElement],ref:o}),B(G3e,{ref:a,radius:x,depth:y,count:_,factor:b,saturation:A,speed:E}),ue(nRe,{ref:u,autoClear:!1,children:[B(_8,{ref:c,selection:[],selectionLayer:1,xRay:!0,edgeStrength:2.5,visibleEdgeColor:16777215,hiddenEdgeColor:2230538}),B(_8,{ref:d,selection:[],selectionLayer:2,edgeStrength:5,blur:!0,visibleEdgeColor:8040191,hiddenEdgeColor:2230538}),B(tRe,{mipmapBlur:!0,intensity:k,luminanceThreshold:P,luminanceSmoothing:C})]}),B(Y3e,{size:4,scale:[25,4,20],position:[-5,1.5,-15],count:50}),ue("group",{ref:l,children:[B("group",{ref:f,children:n&&ue(sh,{children:[B(o6e,{group:"chestSC",experience:n}),B(rw,{group:"chestSC",experience:n}),B(a6e,{group:"chestSC",experience:n}),B(l6e,{group:"chestSC",experience:n}),B(d6e,{group:"chestSC",experience:n}),B(h6e,{group:"chestSC",experience:n}),B(iw,{group:"chestSC",experience:n,props:{rotation:[0,.64,0]}})]})}),B("group",{ref:h,children:n&&ue(sh,{children:[B(p6e,{group:"erc20SC",experience:n}),B(rw,{group:"erc20SC",experience:n}),B(m6e,{group:"erc20SC",experience:n}),B(v6e,{group:"erc20SC",experience:n}),B(y6e,{group:"erc20SC",experience:n}),B(g6e,{group:"erc20SC",experience:n}),B(iw,{group:"erc20SC",experience:n,props:{}})]})}),B("group",{ref:g,children:n&&ue(sh,{children:[B(x6e,{group:"erc721SC",experience:n}),B(rw,{group:"erc721SC",experience:n}),B(_6e,{group:"erc721SC",experience:n,props:{rotation:[0,Math.PI*1.5,0]}}),B(mU,{group:"erc721SC",experience:n,props:{rotation:[0,Math.PI*1.5,0]}}),B(w6e,{group:"erc721SC",experience:n,props:{rotation:[0,Math.PI*1.5,0]}}),B(b6e,{group:"erc721SC",experience:n,props:{rotation:[0,Math.PI*1.5,0]}}),B(S6e,{group:"erc721SC",experience:n,props:{rotation:[0,Math.PI*1.5,0]}}),B(iw,{group:"erc721SC",experience:n,props:{rotation:[0,Math.PI*1.5,0]}})]})}),B("group",{ref:v,children:n&&ue(sh,{children:[B(A6e,{group:"erc1155SC",experience:n}),B(rw,{group:"erc1155SC",experience:n}),B(mU,{group:"erc1155SC",experience:n}),B(E6e,{group:"erc1155SC",experience:n}),B(M6e,{group:"erc1155SC",experience:n}),B(C6e,{group:"erc1155SC",experience:n}),B(T6e,{group:"erc1155SC",experience:n}),B(k6e,{group:"erc1155SC",experience:n}),B(R6e,{group:"erc1155SC",experience:n}),B(iw,{group:"erc1155SC",experience:n})]})})]})]})}const I6e=QT.createRoot(document.getElementById("root"));I6e.render(ue(H.StrictMode,{children:[B(hr,{children:B(k3e,{camera:{fov:45,far:1e3,position:[0,3,10]},children:B(P6e,{})})}),B("div",{className:"overlay"}),ue("h1",{id:"progress",children:["Loading... ",B("span",{id:"progressPercentage"}),"%"]}),B("button",{className:"start",children:"START"})]}));
